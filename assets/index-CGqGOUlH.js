(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function bb(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Ad={exports:{}},wl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _v;function s1(){if(_v)return wl;_v=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var c in o)c!=="key"&&(u[c]=o[c])}else u=o;return o=u.ref,{$$typeof:a,type:i,key:f,ref:o!==void 0?o:null,props:u}}return wl.Fragment=e,wl.jsx=n,wl.jsxs=n,wl}var bv;function o1(){return bv||(bv=1,Ad.exports=s1()),Ad.exports}var B=o1(),Td={exports:{}},Fe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ev;function l1(){if(Ev)return Fe;Ev=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),d=Symbol.iterator;function g(F){return F===null||typeof F!="object"?null:(F=d&&F[d]||F["@@iterator"],typeof F=="function"?F:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,_={};function R(F,re,me){this.props=F,this.context=re,this.refs=_,this.updater=me||b}R.prototype.isReactComponent={},R.prototype.setState=function(F,re){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,re,"setState")},R.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function w(){}w.prototype=R.prototype;function T(F,re,me){this.props=F,this.context=re,this.refs=_,this.updater=me||b}var C=T.prototype=new w;C.constructor=T,v(C,R.prototype),C.isPureReactComponent=!0;var I=Array.isArray,V={H:null,A:null,T:null,S:null,V:null},j=Object.prototype.hasOwnProperty;function M(F,re,me,ce,_e,Pe){return me=Pe.ref,{$$typeof:a,type:F,key:re,ref:me!==void 0?me:null,props:Pe}}function S(F,re){return M(F.type,re,void 0,void 0,void 0,F.props)}function x(F){return typeof F=="object"&&F!==null&&F.$$typeof===a}function O(F){var re={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(me){return re[me]})}var P=/\/+/g;function q(F,re){return typeof F=="object"&&F!==null&&F.key!=null?O(""+F.key):re.toString(36)}function U(){}function he(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(U,U):(F.status="pending",F.then(function(re){F.status==="pending"&&(F.status="fulfilled",F.value=re)},function(re){F.status==="pending"&&(F.status="rejected",F.reason=re)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function pe(F,re,me,ce,_e){var Pe=typeof F;(Pe==="undefined"||Pe==="boolean")&&(F=null);var xe=!1;if(F===null)xe=!0;else switch(Pe){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(F.$$typeof){case a:case e:xe=!0;break;case E:return xe=F._init,pe(xe(F._payload),re,me,ce,_e)}}if(xe)return _e=_e(F),xe=ce===""?"."+q(F,0):ce,I(_e)?(me="",xe!=null&&(me=xe.replace(P,"$&/")+"/"),pe(_e,re,me,"",function(Yn){return Yn})):_e!=null&&(x(_e)&&(_e=S(_e,me+(_e.key==null||F&&F.key===_e.key?"":(""+_e.key).replace(P,"$&/")+"/")+xe)),re.push(_e)),1;xe=0;var At=ce===""?".":ce+":";if(I(F))for(var gt=0;gt<F.length;gt++)ce=F[gt],Pe=At+q(ce,gt),xe+=pe(ce,re,me,Pe,_e);else if(gt=g(F),typeof gt=="function")for(F=gt.call(F),gt=0;!(ce=F.next()).done;)ce=ce.value,Pe=At+q(ce,gt++),xe+=pe(ce,re,me,Pe,_e);else if(Pe==="object"){if(typeof F.then=="function")return pe(he(F),re,me,ce,_e);throw re=String(F),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return xe}function Q(F,re,me){if(F==null)return F;var ce=[],_e=0;return pe(F,ce,"","",function(Pe){return re.call(me,Pe,_e++)}),ce}function se(F){if(F._status===-1){var re=F._result;re=re(),re.then(function(me){(F._status===0||F._status===-1)&&(F._status=1,F._result=me)},function(me){(F._status===0||F._status===-1)&&(F._status=2,F._result=me)}),F._status===-1&&(F._status=0,F._result=re)}if(F._status===1)return F._result.default;throw F._result}var ye=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)};function Re(){}return Fe.Children={map:Q,forEach:function(F,re,me){Q(F,function(){re.apply(this,arguments)},me)},count:function(F){var re=0;return Q(F,function(){re++}),re},toArray:function(F){return Q(F,function(re){return re})||[]},only:function(F){if(!x(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Fe.Component=R,Fe.Fragment=n,Fe.Profiler=o,Fe.PureComponent=T,Fe.StrictMode=i,Fe.Suspense=p,Fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,Fe.__COMPILER_RUNTIME={__proto__:null,c:function(F){return V.H.useMemoCache(F)}},Fe.cache=function(F){return function(){return F.apply(null,arguments)}},Fe.cloneElement=function(F,re,me){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var ce=v({},F.props),_e=F.key,Pe=void 0;if(re!=null)for(xe in re.ref!==void 0&&(Pe=void 0),re.key!==void 0&&(_e=""+re.key),re)!j.call(re,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&re.ref===void 0||(ce[xe]=re[xe]);var xe=arguments.length-2;if(xe===1)ce.children=me;else if(1<xe){for(var At=Array(xe),gt=0;gt<xe;gt++)At[gt]=arguments[gt+2];ce.children=At}return M(F.type,_e,void 0,void 0,Pe,ce)},Fe.createContext=function(F){return F={$$typeof:f,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:u,_context:F},F},Fe.createElement=function(F,re,me){var ce,_e={},Pe=null;if(re!=null)for(ce in re.key!==void 0&&(Pe=""+re.key),re)j.call(re,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(_e[ce]=re[ce]);var xe=arguments.length-2;if(xe===1)_e.children=me;else if(1<xe){for(var At=Array(xe),gt=0;gt<xe;gt++)At[gt]=arguments[gt+2];_e.children=At}if(F&&F.defaultProps)for(ce in xe=F.defaultProps,xe)_e[ce]===void 0&&(_e[ce]=xe[ce]);return M(F,Pe,void 0,void 0,null,_e)},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(F){return{$$typeof:c,render:F}},Fe.isValidElement=x,Fe.lazy=function(F){return{$$typeof:E,_payload:{_status:-1,_result:F},_init:se}},Fe.memo=function(F,re){return{$$typeof:y,type:F,compare:re===void 0?null:re}},Fe.startTransition=function(F){var re=V.T,me={};V.T=me;try{var ce=F(),_e=V.S;_e!==null&&_e(me,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(Re,ye)}catch(Pe){ye(Pe)}finally{V.T=re}},Fe.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},Fe.use=function(F){return V.H.use(F)},Fe.useActionState=function(F,re,me){return V.H.useActionState(F,re,me)},Fe.useCallback=function(F,re){return V.H.useCallback(F,re)},Fe.useContext=function(F){return V.H.useContext(F)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(F,re){return V.H.useDeferredValue(F,re)},Fe.useEffect=function(F,re,me){var ce=V.H;if(typeof me=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ce.useEffect(F,re)},Fe.useId=function(){return V.H.useId()},Fe.useImperativeHandle=function(F,re,me){return V.H.useImperativeHandle(F,re,me)},Fe.useInsertionEffect=function(F,re){return V.H.useInsertionEffect(F,re)},Fe.useLayoutEffect=function(F,re){return V.H.useLayoutEffect(F,re)},Fe.useMemo=function(F,re){return V.H.useMemo(F,re)},Fe.useOptimistic=function(F,re){return V.H.useOptimistic(F,re)},Fe.useReducer=function(F,re,me){return V.H.useReducer(F,re,me)},Fe.useRef=function(F){return V.H.useRef(F)},Fe.useState=function(F){return V.H.useState(F)},Fe.useSyncExternalStore=function(F,re,me){return V.H.useSyncExternalStore(F,re,me)},Fe.useTransition=function(){return V.H.useTransition()},Fe.version="19.1.0",Fe}var wv;function vm(){return wv||(wv=1,Td.exports=l1()),Td.exports}var W=vm();const Av=bb(W);var Sd={exports:{}},Al={},Rd={exports:{}},xd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tv;function u1(){return Tv||(Tv=1,function(a){function e(Q,se){var ye=Q.length;Q.push(se);e:for(;0<ye;){var Re=ye-1>>>1,F=Q[Re];if(0<o(F,se))Q[Re]=se,Q[ye]=F,ye=Re;else break e}}function n(Q){return Q.length===0?null:Q[0]}function i(Q){if(Q.length===0)return null;var se=Q[0],ye=Q.pop();if(ye!==se){Q[0]=ye;e:for(var Re=0,F=Q.length,re=F>>>1;Re<re;){var me=2*(Re+1)-1,ce=Q[me],_e=me+1,Pe=Q[_e];if(0>o(ce,ye))_e<F&&0>o(Pe,ce)?(Q[Re]=Pe,Q[_e]=ye,Re=_e):(Q[Re]=ce,Q[me]=ye,Re=me);else if(_e<F&&0>o(Pe,ye))Q[Re]=Pe,Q[_e]=ye,Re=_e;else break e}}return se}function o(Q,se){var ye=Q.sortIndex-se.sortIndex;return ye!==0?ye:Q.id-se.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var f=Date,c=f.now();a.unstable_now=function(){return f.now()-c}}var p=[],y=[],E=1,d=null,g=3,b=!1,v=!1,_=!1,R=!1,w=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function I(Q){for(var se=n(y);se!==null;){if(se.callback===null)i(y);else if(se.startTime<=Q)i(y),se.sortIndex=se.expirationTime,e(p,se);else break;se=n(y)}}function V(Q){if(_=!1,I(Q),!v)if(n(p)!==null)v=!0,j||(j=!0,q());else{var se=n(y);se!==null&&pe(V,se.startTime-Q)}}var j=!1,M=-1,S=5,x=-1;function O(){return R?!0:!(a.unstable_now()-x<S)}function P(){if(R=!1,j){var Q=a.unstable_now();x=Q;var se=!0;try{e:{v=!1,_&&(_=!1,T(M),M=-1),b=!0;var ye=g;try{t:{for(I(Q),d=n(p);d!==null&&!(d.expirationTime>Q&&O());){var Re=d.callback;if(typeof Re=="function"){d.callback=null,g=d.priorityLevel;var F=Re(d.expirationTime<=Q);if(Q=a.unstable_now(),typeof F=="function"){d.callback=F,I(Q),se=!0;break t}d===n(p)&&i(p),I(Q)}else i(p);d=n(p)}if(d!==null)se=!0;else{var re=n(y);re!==null&&pe(V,re.startTime-Q),se=!1}}break e}finally{d=null,g=ye,b=!1}se=void 0}}finally{se?q():j=!1}}}var q;if(typeof C=="function")q=function(){C(P)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,he=U.port2;U.port1.onmessage=P,q=function(){he.postMessage(null)}}else q=function(){w(P,0)};function pe(Q,se){M=w(function(){Q(a.unstable_now())},se)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(Q){Q.callback=null},a.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<Q?Math.floor(1e3/Q):5},a.unstable_getCurrentPriorityLevel=function(){return g},a.unstable_next=function(Q){switch(g){case 1:case 2:case 3:var se=3;break;default:se=g}var ye=g;g=se;try{return Q()}finally{g=ye}},a.unstable_requestPaint=function(){R=!0},a.unstable_runWithPriority=function(Q,se){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ye=g;g=Q;try{return se()}finally{g=ye}},a.unstable_scheduleCallback=function(Q,se,ye){var Re=a.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?Re+ye:Re):ye=Re,Q){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=ye+F,Q={id:E++,callback:se,priorityLevel:Q,startTime:ye,expirationTime:F,sortIndex:-1},ye>Re?(Q.sortIndex=ye,e(y,Q),n(p)===null&&Q===n(y)&&(_?(T(M),M=-1):_=!0,pe(V,ye-Re))):(Q.sortIndex=F,e(p,Q),v||b||(v=!0,j||(j=!0,q()))),Q},a.unstable_shouldYield=O,a.unstable_wrapCallback=function(Q){var se=g;return function(){var ye=g;g=se;try{return Q.apply(this,arguments)}finally{g=ye}}}}(xd)),xd}var Sv;function c1(){return Sv||(Sv=1,Rd.exports=u1()),Rd.exports}var Cd={exports:{}},gn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rv;function f1(){if(Rv)return gn;Rv=1;var a=vm();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,E){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:d==null?null:""+d,children:p,containerInfo:y,implementation:E}}var f=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return gn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,gn.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,E)},gn.flushSync=function(p){var y=f.T,E=i.p;try{if(f.T=null,i.p=2,p)return p()}finally{f.T=y,i.p=E,i.d.f()}},gn.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,i.d.C(p,y))},gn.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},gn.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,d=c(E,y.crossOrigin),g=typeof y.integrity=="string"?y.integrity:void 0,b=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?i.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:d,integrity:g,fetchPriority:b}):E==="script"&&i.d.X(p,{crossOrigin:d,integrity:g,fetchPriority:b,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},gn.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=c(y.as,y.crossOrigin);i.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&i.d.M(p)},gn.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,d=c(E,y.crossOrigin);i.d.L(p,E,{crossOrigin:d,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},gn.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=c(y.as,y.crossOrigin);i.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else i.d.m(p)},gn.requestFormReset=function(p){i.d.r(p)},gn.unstable_batchedUpdates=function(p,y){return p(y)},gn.useFormState=function(p,y,E){return f.H.useFormState(p,y,E)},gn.useFormStatus=function(){return f.H.useHostTransitionStatus()},gn.version="19.1.0",gn}var xv;function Eb(){if(xv)return Cd.exports;xv=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Cd.exports=f1(),Cd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cv;function h1(){if(Cv)return Al;Cv=1;var a=c1(),e=vm(),n=Eb();function i(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,s=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(s=r.return),t=r.return;while(t)}return r.tag===3?s:null}function f(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function c(t){if(u(t)!==t)throw Error(i(188))}function p(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(i(188));return r!==t?null:t}for(var s=t,l=r;;){var m=s.return;if(m===null)break;var A=m.alternate;if(A===null){if(l=m.return,l!==null){s=l;continue}break}if(m.child===A.child){for(A=m.child;A;){if(A===s)return c(m),t;if(A===l)return c(m),r;A=A.sibling}throw Error(i(188))}if(s.return!==l.return)s=m,l=A;else{for(var k=!1,L=m.child;L;){if(L===s){k=!0,s=m,l=A;break}if(L===l){k=!0,l=m,s=A;break}L=L.sibling}if(!k){for(L=A.child;L;){if(L===s){k=!0,s=A,l=m;break}if(L===l){k=!0,l=A,s=m;break}L=L.sibling}if(!k)throw Error(i(189))}}if(s.alternate!==l)throw Error(i(190))}if(s.tag!==3)throw Error(i(188));return s.stateNode.current===s?t:r}function y(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=y(t),r!==null)return r;t=t.sibling}return null}var E=Object.assign,d=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),T=Symbol.for("react.consumer"),C=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function q(t){return t===null||typeof t!="object"?null:(t=P&&t[P]||t["@@iterator"],typeof t=="function"?t:null)}var U=Symbol.for("react.client.reference");function he(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===U?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case v:return"Fragment";case R:return"Profiler";case _:return"StrictMode";case V:return"Suspense";case j:return"SuspenseList";case x:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case b:return"Portal";case C:return(t.displayName||"Context")+".Provider";case T:return(t._context.displayName||"Context")+".Consumer";case I:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case M:return r=t.displayName||null,r!==null?r:he(t.type)||"Memo";case S:r=t._payload,t=t._init;try{return he(t(r))}catch{}}return null}var pe=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},Re=[],F=-1;function re(t){return{current:t}}function me(t){0>F||(t.current=Re[F],Re[F]=null,F--)}function ce(t,r){F++,Re[F]=t.current,t.current=r}var _e=re(null),Pe=re(null),xe=re(null),At=re(null);function gt(t,r){switch(ce(xe,r),ce(Pe,t),ce(_e,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?Qy(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=Qy(r),t=Yy(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}me(_e),ce(_e,t)}function Yn(){me(_e),me(Pe),me(xe)}function St(t){t.memoizedState!==null&&ce(At,t);var r=_e.current,s=Yy(r,t.type);r!==s&&(ce(Pe,t),ce(_e,s))}function hn(t){Pe.current===t&&(me(_e),me(Pe)),At.current===t&&(me(At),yl._currentValue=ye)}var Rr=Object.prototype.hasOwnProperty,ea=a.unstable_scheduleCallback,En=a.unstable_cancelCallback,Ri=a.unstable_shouldYield,ds=a.unstable_requestPaint,wn=a.unstable_now,To=a.unstable_getCurrentPriorityLevel,xi=a.unstable_ImmediatePriority,Da=a.unstable_UserBlockingPriority,ta=a.unstable_NormalPriority,gr=a.unstable_LowPriority,Kn=a.unstable_IdlePriority,Oa=a.log,Ma=a.unstable_setDisableYieldValue,lt=null,He=null;function dn(t){if(typeof Oa=="function"&&Ma(t),He&&typeof He.setStrictMode=="function")try{He.setStrictMode(lt,t)}catch{}}var Vt=Math.clz32?Math.clz32:xr,ms=Math.log,Xn=Math.LN2;function xr(t){return t>>>=0,t===0?32:31-(ms(t)/Xn|0)|0}var Cr=256,Dr=4194304;function kn(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function na(t,r,s){var l=t.pendingLanes;if(l===0)return 0;var m=0,A=t.suspendedLanes,k=t.pingedLanes;t=t.warmLanes;var L=l&134217727;return L!==0?(l=L&~A,l!==0?m=kn(l):(k&=L,k!==0?m=kn(k):s||(s=L&~t,s!==0&&(m=kn(s))))):(L=l&~A,L!==0?m=kn(L):k!==0?m=kn(k):s||(s=l&~t,s!==0&&(m=kn(s)))),m===0?0:r!==0&&r!==m&&(r&A)===0&&(A=m&-m,s=r&-r,A>=s||A===32&&(s&4194048)!==0)?r:m}function Wn(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Na(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ra(){var t=Cr;return Cr<<=1,(Cr&4194048)===0&&(Cr=256),t}function Ci(){var t=Dr;return Dr<<=1,(Dr&62914560)===0&&(Dr=4194304),t}function Zn(t){for(var r=[],s=0;31>s;s++)r.push(t);return r}function yr(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ia(t,r,s,l,m,A){var k=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var L=t.entanglements,H=t.expirationTimes,ee=t.hiddenUpdates;for(s=k&~s;0<s;){var ie=31-Vt(s),ue=1<<ie;L[ie]=0,H[ie]=-1;var te=ee[ie];if(te!==null)for(ee[ie]=null,ie=0;ie<te.length;ie++){var ne=te[ie];ne!==null&&(ne.lane&=-536870913)}s&=~ue}l!==0&&An(t,l,0),A!==0&&m===0&&t.tag!==0&&(t.suspendedLanes|=A&~(k&~r))}function An(t,r,s){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-Vt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|s&4194090}function Or(t,r){var s=t.entangledLanes|=r;for(t=t.entanglements;s;){var l=31-Vt(s),m=1<<l;m&r|t[l]&r&&(t[l]|=r),s&=~m}}function Mr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ka(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function $(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:dv(t.type))}function K(t,r){var s=se.p;try{return se.p=t,r()}finally{se.p=s}}var J=Math.random().toString(36).slice(2),le="__reactFiber$"+J,ge="__reactProps$"+J,Ee="__reactContainer$"+J,Me="__reactEvents$"+J,we="__reactListeners$"+J,Te="__reactHandles$"+J,Ce="__reactResources$"+J,Ie="__reactMarker$"+J;function Se(t){delete t[le],delete t[ge],delete t[Me],delete t[we],delete t[Te]}function je(t){var r=t[le];if(r)return r;for(var s=t.parentNode;s;){if(r=s[Ee]||s[le]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(t=Zy(t);t!==null;){if(s=t[le])return s;t=Zy(t)}return r}t=s,s=t.parentNode}return null}function Xe(t){if(t=t[le]||t[Ee]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function ct(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(i(33))}function st(t){var r=t[Ce];return r||(r=t[Ce]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function et(t){t[Ie]=!0}var Qe=new Set,Jn={};function qt(t,r){Tn(t,r),Tn(t+"Capture",r)}function Tn(t,r){for(Jn[t]=r,t=0;t<r.length;t++)Qe.add(r[t])}var nn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Nr={},jn={};function ja(t){return Rr.call(jn,t)?!0:Rr.call(Nr,t)?!1:nn.test(t)?jn[t]=!0:(Nr[t]=!0,!1)}function mn(t,r,s){if(ja(r))if(s===null)t.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+s)}}function Sn(t,r,s){if(s===null)t.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+s)}}function ze(t,r,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(r,s,""+l)}}var Pt,Vn;function Cn(t){if(Pt===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);Pt=r&&r[1]||"",Vn=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pt+t+Vn}var Ir=!1;function Et(t,r){if(!t||Ir)return"";Ir=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(ne){var te=ne}Reflect.construct(t,[],ue)}else{try{ue.call()}catch(ne){te=ne}t.call(ue.prototype)}}else{try{throw Error()}catch(ne){te=ne}(ue=t())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(ne){if(ne&&te&&typeof ne.stack=="string")return[ne.stack,te.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var A=l.DetermineComponentFrameRoot(),k=A[0],L=A[1];if(k&&L){var H=k.split(`
`),ee=L.split(`
`);for(m=l=0;l<H.length&&!H[l].includes("DetermineComponentFrameRoot");)l++;for(;m<ee.length&&!ee[m].includes("DetermineComponentFrameRoot");)m++;if(l===H.length||m===ee.length)for(l=H.length-1,m=ee.length-1;1<=l&&0<=m&&H[l]!==ee[m];)m--;for(;1<=l&&0<=m;l--,m--)if(H[l]!==ee[m]){if(l!==1||m!==1)do if(l--,m--,0>m||H[l]!==ee[m]){var ie=`
`+H[l].replace(" at new "," at ");return t.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",t.displayName)),ie}while(1<=l&&0<=m);break}}}finally{Ir=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Cn(s):""}function er(t){switch(t.tag){case 26:case 27:case 5:return Cn(t.type);case 16:return Cn("Lazy");case 13:return Cn("Suspense");case 19:return Cn("SuspenseList");case 0:case 15:return Et(t.type,!1);case 11:return Et(t.type.render,!1);case 1:return Et(t.type,!0);case 31:return Cn("Activity");default:return""}}function aa(t){try{var r="";do r+=er(t),t=t.return;while(t);return r}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function rn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function So(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function xf(t){var r=So(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var m=s.get,A=s.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return m.call(this)},set:function(k){l=""+k,A.call(this,k)}}),Object.defineProperty(t,r,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(k){l=""+k},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function ps(t){t._valueTracker||(t._valueTracker=xf(t))}function Ro(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var s=r.getValue(),l="";return t&&(l=So(t)?t.checked?"true":"false":t.value),t=l,t!==s?(r.setValue(t),!0):!1}function Di(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Cf=/[\n"\\]/g;function Lt(t){return t.replace(Cf,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Pn(t,r,s,l,m,A,k,L){t.name="",k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?t.type=k:t.removeAttribute("type"),r!=null?k==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+rn(r)):t.value!==""+rn(r)&&(t.value=""+rn(r)):k!=="submit"&&k!=="reset"||t.removeAttribute("value"),r!=null?Va(t,k,rn(r)):s!=null?Va(t,k,rn(s)):l!=null&&t.removeAttribute("value"),m==null&&A!=null&&(t.defaultChecked=!!A),m!=null&&(t.checked=m&&typeof m!="function"&&typeof m!="symbol"),L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?t.name=""+rn(L):t.removeAttribute("name")}function Oi(t,r,s,l,m,A,k,L){if(A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(t.type=A),r!=null||s!=null){if(!(A!=="submit"&&A!=="reset"||r!=null))return;s=s!=null?""+rn(s):"",r=r!=null?""+rn(r):s,L||r===t.value||(t.value=r),t.defaultValue=r}l=l??m,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=L?t.checked:!!l,t.defaultChecked=!!l,k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(t.name=k)}function Va(t,r,s){r==="number"&&Di(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function ia(t,r,s,l){if(t=t.options,r){r={};for(var m=0;m<s.length;m++)r["$"+s[m]]=!0;for(s=0;s<t.length;s++)m=r.hasOwnProperty("$"+t[s].value),t[s].selected!==m&&(t[s].selected=m),m&&l&&(t[s].defaultSelected=!0)}else{for(s=""+rn(s),r=null,m=0;m<t.length;m++){if(t[m].value===s){t[m].selected=!0,l&&(t[m].defaultSelected=!0);return}r!==null||t[m].disabled||(r=t[m])}r!==null&&(r.selected=!0)}}function yt(t,r,s){if(r!=null&&(r=""+rn(r),r!==t.value&&(t.value=r),s==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=s!=null?""+rn(s):""}function Mi(t,r,s,l){if(r==null){if(l!=null){if(s!=null)throw Error(i(92));if(pe(l)){if(1<l.length)throw Error(i(93));l=l[0]}s=l}s==null&&(s=""),r=s}s=rn(r),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l)}function tr(t,r){if(r){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=r;return}}t.textContent=r}var Ni=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nu(t,r,s){var l=r.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,s):typeof s!="number"||s===0||Ni.has(r)?r==="float"?t.cssFloat=s:t[r]=(""+s).trim():t[r]=s+"px"}function xo(t,r,s){if(r!=null&&typeof r!="object")throw Error(i(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var m in r)l=r[m],r.hasOwnProperty(m)&&s[m]!==l&&nu(t,m,l)}else for(var A in r)r.hasOwnProperty(A)&&nu(t,A,r[A])}function Co(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Df=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Of=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function gs(t){return Of.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var sa=null;function nr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var oa=null,la=null;function Do(t){var r=Xe(t);if(r&&(t=r.stateNode)){var s=t[ge]||null;e:switch(t=r.stateNode,r.type){case"input":if(Pn(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),r=s.name,s.type==="radio"&&r!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Lt(""+r)+'"][type="radio"]'),r=0;r<s.length;r++){var l=s[r];if(l!==t&&l.form===t.form){var m=l[ge]||null;if(!m)throw Error(i(90));Pn(l,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(r=0;r<s.length;r++)l=s[r],l.form===t.form&&Ro(l)}break e;case"textarea":yt(t,s.value,s.defaultValue);break e;case"select":r=s.value,r!=null&&ia(t,!!s.multiple,r,!1)}}}var kr=!1;function ru(t,r,s){if(kr)return t(r,s);kr=!0;try{var l=t(r);return l}finally{if(kr=!1,(oa!==null||la!==null)&&(Xu(),oa&&(r=oa,t=la,la=oa=null,Do(r),t)))for(r=0;r<t.length;r++)Do(t[r])}}function Ii(t,r){var s=t.stateNode;if(s===null)return null;var l=s[ge]||null;if(l===null)return null;s=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(i(231,r,typeof s));return s}var vr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rr=!1;if(vr)try{var ki={};Object.defineProperty(ki,"passive",{get:function(){rr=!0}}),window.addEventListener("test",ki,ki),window.removeEventListener("test",ki,ki)}catch{rr=!1}var jr=null,Pa=null,ua=null;function Oo(){if(ua)return ua;var t,r=Pa,s=r.length,l,m="value"in jr?jr.value:jr.textContent,A=m.length;for(t=0;t<s&&r[t]===m[t];t++);var k=s-t;for(l=1;l<=k&&r[s-l]===m[A-l];l++);return ua=m.slice(t,1<l?1-l:void 0)}function Vr(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Pr(){return!0}function Mo(){return!1}function Xt(t){function r(s,l,m,A,k){this._reactName=s,this._targetInst=m,this.type=l,this.nativeEvent=A,this.target=k,this.currentTarget=null;for(var L in t)t.hasOwnProperty(L)&&(s=t[L],this[L]=s?s(A):A[L]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?Pr:Mo,this.isPropagationStopped=Mo,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Pr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Pr)},persist:function(){},isPersistent:Pr}),r}var ft={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ys=Xt(ft),ji=E({},ft,{view:0,detail:0}),au=Xt(ji),vs,_s,Lr,Vi=E({},ji,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ui,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Lr&&(Lr&&t.type==="mousemove"?(vs=t.screenX-Lr.screenX,_s=t.screenY-Lr.screenY):_s=vs=0,Lr=t),vs)},movementY:function(t){return"movementY"in t?t.movementY:_s}}),ar=Xt(Vi),iu=E({},Vi,{dataTransfer:0}),Mf=Xt(iu),Pi=E({},ji,{relatedTarget:0}),bs=Xt(Pi),No=E({},ft,{animationName:0,elapsedTime:0,pseudoElement:0}),Es=Xt(No),su=E({},ft,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ws=Xt(su),Nf=E({},ft,{data:0}),Io=Xt(Nf),Li={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ou={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ko(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=lu[t])?!!r[t]:!1}function Ui(){return ko}var uu=E({},ji,{key:function(t){if(t.key){var r=Li[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Vr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ou[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ui,charCode:function(t){return t.type==="keypress"?Vr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Vr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),As=Xt(uu),cu=E({},Vi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jo=Xt(cu),ca=E({},ji,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ui}),fu=Xt(ca),hu=E({},ft,{propertyName:0,elapsedTime:0,pseudoElement:0}),du=Xt(hu),mu=E({},Vi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ts=Xt(mu),Rn=E({},ft,{newState:0,oldState:0}),pu=Xt(Rn),gu=[9,13,27,32],Ur=vr&&"CompositionEvent"in window,h=null;vr&&"documentMode"in document&&(h=document.documentMode);var D=vr&&"TextEvent"in window&&!h,N=vr&&(!Ur||h&&8<h&&11>=h),z=" ",X=!1;function ae(t,r){switch(t){case"keyup":return gu.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ve(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var tt=!1;function Ft(t,r){switch(t){case"compositionend":return ve(r);case"keypress":return r.which!==32?null:(X=!0,z);case"textInput":return t=r.data,t===z&&X?null:t;default:return null}}function nt(t,r){if(tt)return t==="compositionend"||!Ur&&ae(t,r)?(t=Oo(),ua=Pa=jr=null,tt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return N&&r.locale!=="ko"?null:r.data;default:return null}}var Wt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ht(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Wt[t.type]:r==="textarea"}function fa(t,r,s,l){oa?la?la.push(l):la=[l]:oa=l,r=nc(r,"onChange"),0<r.length&&(s=new ys("onChange","change",null,s,l),t.push({event:s,listeners:r}))}var an=null,zr=null;function Vo(t){qy(t,0)}function yu(t){var r=ct(t);if(Ro(r))return t}function up(t,r){if(t==="change")return r}var cp=!1;if(vr){var If;if(vr){var kf="oninput"in document;if(!kf){var fp=document.createElement("div");fp.setAttribute("oninput","return;"),kf=typeof fp.oninput=="function"}If=kf}else If=!1;cp=If&&(!document.documentMode||9<document.documentMode)}function hp(){an&&(an.detachEvent("onpropertychange",dp),zr=an=null)}function dp(t){if(t.propertyName==="value"&&yu(zr)){var r=[];fa(r,zr,t,nr(t)),ru(Vo,r)}}function VE(t,r,s){t==="focusin"?(hp(),an=r,zr=s,an.attachEvent("onpropertychange",dp)):t==="focusout"&&hp()}function PE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return yu(zr)}function LE(t,r){if(t==="click")return yu(r)}function UE(t,r){if(t==="input"||t==="change")return yu(r)}function zE(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Ln=typeof Object.is=="function"?Object.is:zE;function Po(t,r){if(Ln(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var s=Object.keys(t),l=Object.keys(r);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var m=s[l];if(!Rr.call(r,m)||!Ln(t[m],r[m]))return!1}return!0}function mp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function pp(t,r){var s=mp(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=r&&l>=r)return{node:s,offset:r-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=mp(s)}}function gp(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?gp(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function yp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Di(t.document);r instanceof t.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)t=r.contentWindow;else break;r=Di(t.document)}return r}function jf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var BE=vr&&"documentMode"in document&&11>=document.documentMode,Ss=null,Vf=null,Lo=null,Pf=!1;function vp(t,r,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Pf||Ss==null||Ss!==Di(l)||(l=Ss,"selectionStart"in l&&jf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Lo&&Po(Lo,l)||(Lo=l,l=nc(Vf,"onSelect"),0<l.length&&(r=new ys("onSelect","select",null,r,s),t.push({event:r,listeners:l}),r.target=Ss)))}function zi(t,r){var s={};return s[t.toLowerCase()]=r.toLowerCase(),s["Webkit"+t]="webkit"+r,s["Moz"+t]="moz"+r,s}var Rs={animationend:zi("Animation","AnimationEnd"),animationiteration:zi("Animation","AnimationIteration"),animationstart:zi("Animation","AnimationStart"),transitionrun:zi("Transition","TransitionRun"),transitionstart:zi("Transition","TransitionStart"),transitioncancel:zi("Transition","TransitionCancel"),transitionend:zi("Transition","TransitionEnd")},Lf={},_p={};vr&&(_p=document.createElement("div").style,"AnimationEvent"in window||(delete Rs.animationend.animation,delete Rs.animationiteration.animation,delete Rs.animationstart.animation),"TransitionEvent"in window||delete Rs.transitionend.transition);function Bi(t){if(Lf[t])return Lf[t];if(!Rs[t])return t;var r=Rs[t],s;for(s in r)if(r.hasOwnProperty(s)&&s in _p)return Lf[t]=r[s];return t}var bp=Bi("animationend"),Ep=Bi("animationiteration"),wp=Bi("animationstart"),qE=Bi("transitionrun"),FE=Bi("transitionstart"),HE=Bi("transitioncancel"),Ap=Bi("transitionend"),Tp=new Map,Uf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Uf.push("scrollEnd");function _r(t,r){Tp.set(t,r),qt(r,[t])}var Sp=new WeakMap;function ir(t,r){if(typeof t=="object"&&t!==null){var s=Sp.get(t);return s!==void 0?s:(r={value:t,source:r,stack:aa(r)},Sp.set(t,r),r)}return{value:t,source:r,stack:aa(r)}}var sr=[],xs=0,zf=0;function vu(){for(var t=xs,r=zf=xs=0;r<t;){var s=sr[r];sr[r++]=null;var l=sr[r];sr[r++]=null;var m=sr[r];sr[r++]=null;var A=sr[r];if(sr[r++]=null,l!==null&&m!==null){var k=l.pending;k===null?m.next=m:(m.next=k.next,k.next=m),l.pending=m}A!==0&&Rp(s,m,A)}}function _u(t,r,s,l){sr[xs++]=t,sr[xs++]=r,sr[xs++]=s,sr[xs++]=l,zf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Bf(t,r,s,l){return _u(t,r,s,l),bu(t)}function Cs(t,r){return _u(t,null,null,r),bu(t)}function Rp(t,r,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var m=!1,A=t.return;A!==null;)A.childLanes|=s,l=A.alternate,l!==null&&(l.childLanes|=s),A.tag===22&&(t=A.stateNode,t===null||t._visibility&1||(m=!0)),t=A,A=A.return;return t.tag===3?(A=t.stateNode,m&&r!==null&&(m=31-Vt(s),t=A.hiddenUpdates,l=t[m],l===null?t[m]=[r]:l.push(r),r.lane=s|536870912),A):null}function bu(t){if(50<ul)throw ul=0,Qh=null,Error(i(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Ds={};function $E(t,r,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(t,r,s,l){return new $E(t,r,s,l)}function qf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ha(t,r){var s=t.alternate;return s===null?(s=Un(t.tag,r,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=r,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,r=t.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function xp(t,r){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,r=s.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Eu(t,r,s,l,m,A){var k=0;if(l=t,typeof t=="function")qf(t)&&(k=1);else if(typeof t=="string")k=Qw(t,s,_e.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case x:return t=Un(31,s,r,m),t.elementType=x,t.lanes=A,t;case v:return qi(s.children,m,A,r);case _:k=8,m|=24;break;case R:return t=Un(12,s,r,m|2),t.elementType=R,t.lanes=A,t;case V:return t=Un(13,s,r,m),t.elementType=V,t.lanes=A,t;case j:return t=Un(19,s,r,m),t.elementType=j,t.lanes=A,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case w:case C:k=10;break e;case T:k=9;break e;case I:k=11;break e;case M:k=14;break e;case S:k=16,l=null;break e}k=29,s=Error(i(130,t===null?"null":typeof t,"")),l=null}return r=Un(k,s,r,m),r.elementType=t,r.type=l,r.lanes=A,r}function qi(t,r,s,l){return t=Un(7,t,l,r),t.lanes=s,t}function Ff(t,r,s){return t=Un(6,t,null,r),t.lanes=s,t}function Hf(t,r,s){return r=Un(4,t.children!==null?t.children:[],t.key,r),r.lanes=s,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var Os=[],Ms=0,wu=null,Au=0,or=[],lr=0,Fi=null,da=1,ma="";function Hi(t,r){Os[Ms++]=Au,Os[Ms++]=wu,wu=t,Au=r}function Cp(t,r,s){or[lr++]=da,or[lr++]=ma,or[lr++]=Fi,Fi=t;var l=da;t=ma;var m=32-Vt(l)-1;l&=~(1<<m),s+=1;var A=32-Vt(r)+m;if(30<A){var k=m-m%5;A=(l&(1<<k)-1).toString(32),l>>=k,m-=k,da=1<<32-Vt(r)+m|s<<m|l,ma=A+t}else da=1<<A|s<<m|l,ma=t}function $f(t){t.return!==null&&(Hi(t,1),Cp(t,1,0))}function Gf(t){for(;t===wu;)wu=Os[--Ms],Os[Ms]=null,Au=Os[--Ms],Os[Ms]=null;for(;t===Fi;)Fi=or[--lr],or[lr]=null,ma=or[--lr],or[lr]=null,da=or[--lr],or[lr]=null}var xn=null,Mt=null,ut=!1,$i=null,Br=!1,Qf=Error(i(519));function Gi(t){var r=Error(i(418,""));throw Bo(ir(r,t)),Qf}function Dp(t){var r=t.stateNode,s=t.type,l=t.memoizedProps;switch(r[le]=t,r[ge]=l,s){case"dialog":Ze("cancel",r),Ze("close",r);break;case"iframe":case"object":case"embed":Ze("load",r);break;case"video":case"audio":for(s=0;s<fl.length;s++)Ze(fl[s],r);break;case"source":Ze("error",r);break;case"img":case"image":case"link":Ze("error",r),Ze("load",r);break;case"details":Ze("toggle",r);break;case"input":Ze("invalid",r),Oi(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ps(r);break;case"select":Ze("invalid",r);break;case"textarea":Ze("invalid",r),Mi(r,l.value,l.defaultValue,l.children),ps(r)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||r.textContent===""+s||l.suppressHydrationWarning===!0||Gy(r.textContent,s)?(l.popover!=null&&(Ze("beforetoggle",r),Ze("toggle",r)),l.onScroll!=null&&Ze("scroll",r),l.onScrollEnd!=null&&Ze("scrollend",r),l.onClick!=null&&(r.onclick=rc),r=!0):r=!1,r||Gi(t)}function Op(t){for(xn=t.return;xn;)switch(xn.tag){case 5:case 13:Br=!1;return;case 27:case 3:Br=!0;return;default:xn=xn.return}}function Uo(t){if(t!==xn)return!1;if(!ut)return Op(t),ut=!0,!1;var r=t.tag,s;if((s=r!==3&&r!==27)&&((s=r===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||ud(t.type,t.memoizedProps)),s=!s),s&&Mt&&Gi(t),Op(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(r===0){Mt=Er(t.nextSibling);break e}r--}else s!=="$"&&s!=="$!"&&s!=="$?"||r++;t=t.nextSibling}Mt=null}}else r===27?(r=Mt,Ja(t.type)?(t=dd,dd=null,Mt=t):Mt=r):Mt=xn?Er(t.stateNode.nextSibling):null;return!0}function zo(){Mt=xn=null,ut=!1}function Mp(){var t=$i;return t!==null&&(Mn===null?Mn=t:Mn.push.apply(Mn,t),$i=null),t}function Bo(t){$i===null?$i=[t]:$i.push(t)}var Yf=re(null),Qi=null,pa=null;function La(t,r,s){ce(Yf,r._currentValue),r._currentValue=s}function ga(t){t._currentValue=Yf.current,me(Yf)}function Kf(t,r,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===s)break;t=t.return}}function Xf(t,r,s,l){var m=t.child;for(m!==null&&(m.return=t);m!==null;){var A=m.dependencies;if(A!==null){var k=m.child;A=A.firstContext;e:for(;A!==null;){var L=A;A=m;for(var H=0;H<r.length;H++)if(L.context===r[H]){A.lanes|=s,L=A.alternate,L!==null&&(L.lanes|=s),Kf(A.return,s,t),l||(k=null);break e}A=L.next}}else if(m.tag===18){if(k=m.return,k===null)throw Error(i(341));k.lanes|=s,A=k.alternate,A!==null&&(A.lanes|=s),Kf(k,s,t),k=null}else k=m.child;if(k!==null)k.return=m;else for(k=m;k!==null;){if(k===t){k=null;break}if(m=k.sibling,m!==null){m.return=k.return,k=m;break}k=k.return}m=k}}function qo(t,r,s,l){t=null;for(var m=r,A=!1;m!==null;){if(!A){if((m.flags&524288)!==0)A=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var k=m.alternate;if(k===null)throw Error(i(387));if(k=k.memoizedProps,k!==null){var L=m.type;Ln(m.pendingProps.value,k.value)||(t!==null?t.push(L):t=[L])}}else if(m===At.current){if(k=m.alternate,k===null)throw Error(i(387));k.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(t!==null?t.push(yl):t=[yl])}m=m.return}t!==null&&Xf(r,t,s,l),r.flags|=262144}function Tu(t){for(t=t.firstContext;t!==null;){if(!Ln(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Yi(t){Qi=t,pa=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function pn(t){return Np(Qi,t)}function Su(t,r){return Qi===null&&Yi(t),Np(t,r)}function Np(t,r){var s=r._currentValue;if(r={context:r,memoizedValue:s,next:null},pa===null){if(t===null)throw Error(i(308));pa=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else pa=pa.next=r;return s}var GE=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(s){return s()})}},QE=a.unstable_scheduleCallback,YE=a.unstable_NormalPriority,$t={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wf(){return{controller:new GE,data:new Map,refCount:0}}function Fo(t){t.refCount--,t.refCount===0&&QE(YE,function(){t.controller.abort()})}var Ho=null,Zf=0,Ns=0,Is=null;function KE(t,r){if(Ho===null){var s=Ho=[];Zf=0,Ns=ed(),Is={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Zf++,r.then(Ip,Ip),r}function Ip(){if(--Zf===0&&Ho!==null){Is!==null&&(Is.status="fulfilled");var t=Ho;Ho=null,Ns=0,Is=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function XE(t,r){var s=[],l={status:"pending",value:null,reason:null,then:function(m){s.push(m)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var m=0;m<s.length;m++)(0,s[m])(r)},function(m){for(l.status="rejected",l.reason=m,m=0;m<s.length;m++)(0,s[m])(void 0)}),l}var kp=Q.S;Q.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&KE(t,r),kp!==null&&kp(t,r)};var Ki=re(null);function Jf(){var t=Ki.current;return t!==null?t:Tt.pooledCache}function Ru(t,r){r===null?ce(Ki,Ki.current):ce(Ki,r.pool)}function jp(){var t=Jf();return t===null?null:{parent:$t._currentValue,pool:t}}var $o=Error(i(460)),Vp=Error(i(474)),xu=Error(i(542)),eh={then:function(){}};function Pp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Cu(){}function Lp(t,r,s){switch(s=t[s],s===void 0?t.push(r):s!==r&&(r.then(Cu,Cu),r=s),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,zp(t),t;default:if(typeof r.status=="string")r.then(Cu,Cu);else{if(t=Tt,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var m=r;m.status="fulfilled",m.value=l}},function(l){if(r.status==="pending"){var m=r;m.status="rejected",m.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,zp(t),t}throw Go=r,$o}}var Go=null;function Up(){if(Go===null)throw Error(i(459));var t=Go;return Go=null,t}function zp(t){if(t===$o||t===xu)throw Error(i(483))}var Ua=!1;function th(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nh(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function za(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ba(t,r,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(dt&2)!==0){var m=l.pending;return m===null?r.next=r:(r.next=m.next,m.next=r),l.pending=r,r=bu(t),Rp(t,null,s),r}return _u(t,l,r,s),bu(t)}function Qo(t,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,s|=l,r.lanes=s,Or(t,s)}}function rh(t,r){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var m=null,A=null;if(s=s.firstBaseUpdate,s!==null){do{var k={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};A===null?m=A=k:A=A.next=k,s=s.next}while(s!==null);A===null?m=A=r:A=A.next=r}else m=A=r;s={baseState:l.baseState,firstBaseUpdate:m,lastBaseUpdate:A,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=r:t.next=r,s.lastBaseUpdate=r}var ah=!1;function Yo(){if(ah){var t=Is;if(t!==null)throw t}}function Ko(t,r,s,l){ah=!1;var m=t.updateQueue;Ua=!1;var A=m.firstBaseUpdate,k=m.lastBaseUpdate,L=m.shared.pending;if(L!==null){m.shared.pending=null;var H=L,ee=H.next;H.next=null,k===null?A=ee:k.next=ee,k=H;var ie=t.alternate;ie!==null&&(ie=ie.updateQueue,L=ie.lastBaseUpdate,L!==k&&(L===null?ie.firstBaseUpdate=ee:L.next=ee,ie.lastBaseUpdate=H))}if(A!==null){var ue=m.baseState;k=0,ie=ee=H=null,L=A;do{var te=L.lane&-536870913,ne=te!==L.lane;if(ne?(rt&te)===te:(l&te)===te){te!==0&&te===Ns&&(ah=!0),ie!==null&&(ie=ie.next={lane:0,tag:L.tag,payload:L.payload,callback:null,next:null});e:{var Ue=t,ke=L;te=r;var bt=s;switch(ke.tag){case 1:if(Ue=ke.payload,typeof Ue=="function"){ue=Ue.call(bt,ue,te);break e}ue=Ue;break e;case 3:Ue.flags=Ue.flags&-65537|128;case 0:if(Ue=ke.payload,te=typeof Ue=="function"?Ue.call(bt,ue,te):Ue,te==null)break e;ue=E({},ue,te);break e;case 2:Ua=!0}}te=L.callback,te!==null&&(t.flags|=64,ne&&(t.flags|=8192),ne=m.callbacks,ne===null?m.callbacks=[te]:ne.push(te))}else ne={lane:te,tag:L.tag,payload:L.payload,callback:L.callback,next:null},ie===null?(ee=ie=ne,H=ue):ie=ie.next=ne,k|=te;if(L=L.next,L===null){if(L=m.shared.pending,L===null)break;ne=L,L=ne.next,ne.next=null,m.lastBaseUpdate=ne,m.shared.pending=null}}while(!0);ie===null&&(H=ue),m.baseState=H,m.firstBaseUpdate=ee,m.lastBaseUpdate=ie,A===null&&(m.shared.lanes=0),Ka|=k,t.lanes=k,t.memoizedState=ue}}function Bp(t,r){if(typeof t!="function")throw Error(i(191,t));t.call(r)}function qp(t,r){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Bp(s[t],r)}var ks=re(null),Du=re(0);function Fp(t,r){t=Aa,ce(Du,t),ce(ks,r),Aa=t|r.baseLanes}function ih(){ce(Du,Aa),ce(ks,ks.current)}function sh(){Aa=Du.current,me(ks),me(Du)}var qa=0,$e=null,vt=null,Ut=null,Ou=!1,js=!1,Xi=!1,Mu=0,Xo=0,Vs=null,WE=0;function It(){throw Error(i(321))}function oh(t,r){if(r===null)return!1;for(var s=0;s<r.length&&s<t.length;s++)if(!Ln(t[s],r[s]))return!1;return!0}function lh(t,r,s,l,m,A){return qa=A,$e=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Q.H=t===null||t.memoizedState===null?Rg:xg,Xi=!1,A=s(l,m),Xi=!1,js&&(A=$p(r,s,l,m)),Hp(t),A}function Hp(t){Q.H=Pu;var r=vt!==null&&vt.next!==null;if(qa=0,Ut=vt=$e=null,Ou=!1,Xo=0,Vs=null,r)throw Error(i(300));t===null||Zt||(t=t.dependencies,t!==null&&Tu(t)&&(Zt=!0))}function $p(t,r,s,l){$e=t;var m=0;do{if(js&&(Vs=null),Xo=0,js=!1,25<=m)throw Error(i(301));if(m+=1,Ut=vt=null,t.updateQueue!=null){var A=t.updateQueue;A.lastEffect=null,A.events=null,A.stores=null,A.memoCache!=null&&(A.memoCache.index=0)}Q.H=aw,A=r(s,l)}while(js);return A}function ZE(){var t=Q.H,r=t.useState()[0];return r=typeof r.then=="function"?Wo(r):r,t=t.useState()[0],(vt!==null?vt.memoizedState:null)!==t&&($e.flags|=1024),r}function uh(){var t=Mu!==0;return Mu=0,t}function ch(t,r,s){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~s}function fh(t){if(Ou){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}Ou=!1}qa=0,Ut=vt=$e=null,js=!1,Xo=Mu=0,Vs=null}function Dn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?$e.memoizedState=Ut=t:Ut=Ut.next=t,Ut}function zt(){if(vt===null){var t=$e.alternate;t=t!==null?t.memoizedState:null}else t=vt.next;var r=Ut===null?$e.memoizedState:Ut.next;if(r!==null)Ut=r,vt=t;else{if(t===null)throw $e.alternate===null?Error(i(467)):Error(i(310));vt=t,t={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},Ut===null?$e.memoizedState=Ut=t:Ut=Ut.next=t}return Ut}function hh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wo(t){var r=Xo;return Xo+=1,Vs===null&&(Vs=[]),t=Lp(Vs,t,r),r=$e,(Ut===null?r.memoizedState:Ut.next)===null&&(r=r.alternate,Q.H=r===null||r.memoizedState===null?Rg:xg),t}function Nu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Wo(t);if(t.$$typeof===C)return pn(t)}throw Error(i(438,String(t)))}function dh(t){var r=null,s=$e.updateQueue;if(s!==null&&(r=s.memoCache),r==null){var l=$e.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(m){return m.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),s===null&&(s=hh(),$e.updateQueue=s),s.memoCache=r,s=r.data[r.index],s===void 0)for(s=r.data[r.index]=Array(t),l=0;l<t;l++)s[l]=O;return r.index++,s}function ya(t,r){return typeof r=="function"?r(t):r}function Iu(t){var r=zt();return mh(r,vt,t)}function mh(t,r,s){var l=t.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var m=t.baseQueue,A=l.pending;if(A!==null){if(m!==null){var k=m.next;m.next=A.next,A.next=k}r.baseQueue=m=A,l.pending=null}if(A=t.baseState,m===null)t.memoizedState=A;else{r=m.next;var L=k=null,H=null,ee=r,ie=!1;do{var ue=ee.lane&-536870913;if(ue!==ee.lane?(rt&ue)===ue:(qa&ue)===ue){var te=ee.revertLane;if(te===0)H!==null&&(H=H.next={lane:0,revertLane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),ue===Ns&&(ie=!0);else if((qa&te)===te){ee=ee.next,te===Ns&&(ie=!0);continue}else ue={lane:0,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},H===null?(L=H=ue,k=A):H=H.next=ue,$e.lanes|=te,Ka|=te;ue=ee.action,Xi&&s(A,ue),A=ee.hasEagerState?ee.eagerState:s(A,ue)}else te={lane:ue,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},H===null?(L=H=te,k=A):H=H.next=te,$e.lanes|=ue,Ka|=ue;ee=ee.next}while(ee!==null&&ee!==r);if(H===null?k=A:H.next=L,!Ln(A,t.memoizedState)&&(Zt=!0,ie&&(s=Is,s!==null)))throw s;t.memoizedState=A,t.baseState=k,t.baseQueue=H,l.lastRenderedState=A}return m===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function ph(t){var r=zt(),s=r.queue;if(s===null)throw Error(i(311));s.lastRenderedReducer=t;var l=s.dispatch,m=s.pending,A=r.memoizedState;if(m!==null){s.pending=null;var k=m=m.next;do A=t(A,k.action),k=k.next;while(k!==m);Ln(A,r.memoizedState)||(Zt=!0),r.memoizedState=A,r.baseQueue===null&&(r.baseState=A),s.lastRenderedState=A}return[A,l]}function Gp(t,r,s){var l=$e,m=zt(),A=ut;if(A){if(s===void 0)throw Error(i(407));s=s()}else s=r();var k=!Ln((vt||m).memoizedState,s);k&&(m.memoizedState=s,Zt=!0),m=m.queue;var L=Kp.bind(null,l,m,t);if(Zo(2048,8,L,[t]),m.getSnapshot!==r||k||Ut!==null&&Ut.memoizedState.tag&1){if(l.flags|=2048,Ps(9,ku(),Yp.bind(null,l,m,s,r),null),Tt===null)throw Error(i(349));A||(qa&124)!==0||Qp(l,r,s)}return s}function Qp(t,r,s){t.flags|=16384,t={getSnapshot:r,value:s},r=$e.updateQueue,r===null?(r=hh(),$e.updateQueue=r,r.stores=[t]):(s=r.stores,s===null?r.stores=[t]:s.push(t))}function Yp(t,r,s,l){r.value=s,r.getSnapshot=l,Xp(r)&&Wp(t)}function Kp(t,r,s){return s(function(){Xp(r)&&Wp(t)})}function Xp(t){var r=t.getSnapshot;t=t.value;try{var s=r();return!Ln(t,s)}catch{return!0}}function Wp(t){var r=Cs(t,2);r!==null&&Hn(r,t,2)}function gh(t){var r=Dn();if(typeof t=="function"){var s=t;if(t=s(),Xi){dn(!0);try{s()}finally{dn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ya,lastRenderedState:t},r}function Zp(t,r,s,l){return t.baseState=s,mh(t,vt,typeof l=="function"?l:ya)}function JE(t,r,s,l,m){if(Vu(t))throw Error(i(485));if(t=r.action,t!==null){var A={payload:m,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){A.listeners.push(k)}};Q.T!==null?s(!0):A.isTransition=!1,l(A),s=r.pending,s===null?(A.next=r.pending=A,Jp(r,A)):(A.next=s.next,r.pending=s.next=A)}}function Jp(t,r){var s=r.action,l=r.payload,m=t.state;if(r.isTransition){var A=Q.T,k={};Q.T=k;try{var L=s(m,l),H=Q.S;H!==null&&H(k,L),eg(t,r,L)}catch(ee){yh(t,r,ee)}finally{Q.T=A}}else try{A=s(m,l),eg(t,r,A)}catch(ee){yh(t,r,ee)}}function eg(t,r,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){tg(t,r,l)},function(l){return yh(t,r,l)}):tg(t,r,s)}function tg(t,r,s){r.status="fulfilled",r.value=s,ng(r),t.state=s,r=t.pending,r!==null&&(s=r.next,s===r?t.pending=null:(s=s.next,r.next=s,Jp(t,s)))}function yh(t,r,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=s,ng(r),r=r.next;while(r!==l)}t.action=null}function ng(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function rg(t,r){return r}function ag(t,r){if(ut){var s=Tt.formState;if(s!==null){e:{var l=$e;if(ut){if(Mt){t:{for(var m=Mt,A=Br;m.nodeType!==8;){if(!A){m=null;break t}if(m=Er(m.nextSibling),m===null){m=null;break t}}A=m.data,m=A==="F!"||A==="F"?m:null}if(m){Mt=Er(m.nextSibling),l=m.data==="F!";break e}}Gi(l)}l=!1}l&&(r=s[0])}}return s=Dn(),s.memoizedState=s.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rg,lastRenderedState:r},s.queue=l,s=Ag.bind(null,$e,l),l.dispatch=s,l=gh(!1),A=wh.bind(null,$e,!1,l.queue),l=Dn(),m={state:r,dispatch:null,action:t,pending:null},l.queue=m,s=JE.bind(null,$e,m,A,s),m.dispatch=s,l.memoizedState=t,[r,s,!1]}function ig(t){var r=zt();return sg(r,vt,t)}function sg(t,r,s){if(r=mh(t,r,rg)[0],t=Iu(ya)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Wo(r)}catch(k){throw k===$o?xu:k}else l=r;r=zt();var m=r.queue,A=m.dispatch;return s!==r.memoizedState&&($e.flags|=2048,Ps(9,ku(),ew.bind(null,m,s),null)),[l,A,t]}function ew(t,r){t.action=r}function og(t){var r=zt(),s=vt;if(s!==null)return sg(r,s,t);zt(),r=r.memoizedState,s=zt();var l=s.queue.dispatch;return s.memoizedState=t,[r,l,!1]}function Ps(t,r,s,l){return t={tag:t,create:s,deps:l,inst:r,next:null},r=$e.updateQueue,r===null&&(r=hh(),$e.updateQueue=r),s=r.lastEffect,s===null?r.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,r.lastEffect=t),t}function ku(){return{destroy:void 0,resource:void 0}}function lg(){return zt().memoizedState}function ju(t,r,s,l){var m=Dn();l=l===void 0?null:l,$e.flags|=t,m.memoizedState=Ps(1|r,ku(),s,l)}function Zo(t,r,s,l){var m=zt();l=l===void 0?null:l;var A=m.memoizedState.inst;vt!==null&&l!==null&&oh(l,vt.memoizedState.deps)?m.memoizedState=Ps(r,A,s,l):($e.flags|=t,m.memoizedState=Ps(1|r,A,s,l))}function ug(t,r){ju(8390656,8,t,r)}function cg(t,r){Zo(2048,8,t,r)}function fg(t,r){return Zo(4,2,t,r)}function hg(t,r){return Zo(4,4,t,r)}function dg(t,r){if(typeof r=="function"){t=t();var s=r(t);return function(){typeof s=="function"?s():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function mg(t,r,s){s=s!=null?s.concat([t]):null,Zo(4,4,dg.bind(null,r,t),s)}function vh(){}function pg(t,r){var s=zt();r=r===void 0?null:r;var l=s.memoizedState;return r!==null&&oh(r,l[1])?l[0]:(s.memoizedState=[t,r],t)}function gg(t,r){var s=zt();r=r===void 0?null:r;var l=s.memoizedState;if(r!==null&&oh(r,l[1]))return l[0];if(l=t(),Xi){dn(!0);try{t()}finally{dn(!1)}}return s.memoizedState=[l,r],l}function _h(t,r,s){return s===void 0||(qa&1073741824)!==0?t.memoizedState=r:(t.memoizedState=s,t=_y(),$e.lanes|=t,Ka|=t,s)}function yg(t,r,s,l){return Ln(s,r)?s:ks.current!==null?(t=_h(t,s,l),Ln(t,r)||(Zt=!0),t):(qa&42)===0?(Zt=!0,t.memoizedState=s):(t=_y(),$e.lanes|=t,Ka|=t,r)}function vg(t,r,s,l,m){var A=se.p;se.p=A!==0&&8>A?A:8;var k=Q.T,L={};Q.T=L,wh(t,!1,r,s);try{var H=m(),ee=Q.S;if(ee!==null&&ee(L,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var ie=XE(H,l);Jo(t,r,ie,Fn(t))}else Jo(t,r,l,Fn(t))}catch(ue){Jo(t,r,{then:function(){},status:"rejected",reason:ue},Fn())}finally{se.p=A,Q.T=k}}function tw(){}function bh(t,r,s,l){if(t.tag!==5)throw Error(i(476));var m=_g(t).queue;vg(t,m,r,ye,s===null?tw:function(){return bg(t),s(l)})}function _g(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ya,lastRenderedState:ye},next:null};var s={};return r.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ya,lastRenderedState:s},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function bg(t){var r=_g(t).next.queue;Jo(t,r,{},Fn())}function Eh(){return pn(yl)}function Eg(){return zt().memoizedState}function wg(){return zt().memoizedState}function nw(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var s=Fn();t=za(s);var l=Ba(r,t,s);l!==null&&(Hn(l,r,s),Qo(l,r,s)),r={cache:Wf()},t.payload=r;return}r=r.return}}function rw(t,r,s){var l=Fn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Vu(t)?Tg(r,s):(s=Bf(t,r,s,l),s!==null&&(Hn(s,t,l),Sg(s,r,l)))}function Ag(t,r,s){var l=Fn();Jo(t,r,s,l)}function Jo(t,r,s,l){var m={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Vu(t))Tg(r,m);else{var A=t.alternate;if(t.lanes===0&&(A===null||A.lanes===0)&&(A=r.lastRenderedReducer,A!==null))try{var k=r.lastRenderedState,L=A(k,s);if(m.hasEagerState=!0,m.eagerState=L,Ln(L,k))return _u(t,r,m,0),Tt===null&&vu(),!1}catch{}finally{}if(s=Bf(t,r,m,l),s!==null)return Hn(s,t,l),Sg(s,r,l),!0}return!1}function wh(t,r,s,l){if(l={lane:2,revertLane:ed(),action:l,hasEagerState:!1,eagerState:null,next:null},Vu(t)){if(r)throw Error(i(479))}else r=Bf(t,s,l,2),r!==null&&Hn(r,t,2)}function Vu(t){var r=t.alternate;return t===$e||r!==null&&r===$e}function Tg(t,r){js=Ou=!0;var s=t.pending;s===null?r.next=r:(r.next=s.next,s.next=r),t.pending=r}function Sg(t,r,s){if((s&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,s|=l,r.lanes=s,Or(t,s)}}var Pu={readContext:pn,use:Nu,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useLayoutEffect:It,useInsertionEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useSyncExternalStore:It,useId:It,useHostTransitionStatus:It,useFormState:It,useActionState:It,useOptimistic:It,useMemoCache:It,useCacheRefresh:It},Rg={readContext:pn,use:Nu,useCallback:function(t,r){return Dn().memoizedState=[t,r===void 0?null:r],t},useContext:pn,useEffect:ug,useImperativeHandle:function(t,r,s){s=s!=null?s.concat([t]):null,ju(4194308,4,dg.bind(null,r,t),s)},useLayoutEffect:function(t,r){return ju(4194308,4,t,r)},useInsertionEffect:function(t,r){ju(4,2,t,r)},useMemo:function(t,r){var s=Dn();r=r===void 0?null:r;var l=t();if(Xi){dn(!0);try{t()}finally{dn(!1)}}return s.memoizedState=[l,r],l},useReducer:function(t,r,s){var l=Dn();if(s!==void 0){var m=s(r);if(Xi){dn(!0);try{s(r)}finally{dn(!1)}}}else m=r;return l.memoizedState=l.baseState=m,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:m},l.queue=t,t=t.dispatch=rw.bind(null,$e,t),[l.memoizedState,t]},useRef:function(t){var r=Dn();return t={current:t},r.memoizedState=t},useState:function(t){t=gh(t);var r=t.queue,s=Ag.bind(null,$e,r);return r.dispatch=s,[t.memoizedState,s]},useDebugValue:vh,useDeferredValue:function(t,r){var s=Dn();return _h(s,t,r)},useTransition:function(){var t=gh(!1);return t=vg.bind(null,$e,t.queue,!0,!1),Dn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,s){var l=$e,m=Dn();if(ut){if(s===void 0)throw Error(i(407));s=s()}else{if(s=r(),Tt===null)throw Error(i(349));(rt&124)!==0||Qp(l,r,s)}m.memoizedState=s;var A={value:s,getSnapshot:r};return m.queue=A,ug(Kp.bind(null,l,A,t),[t]),l.flags|=2048,Ps(9,ku(),Yp.bind(null,l,A,s,r),null),s},useId:function(){var t=Dn(),r=Tt.identifierPrefix;if(ut){var s=ma,l=da;s=(l&~(1<<32-Vt(l)-1)).toString(32)+s,r=""+r+"R"+s,s=Mu++,0<s&&(r+="H"+s.toString(32)),r+=""}else s=WE++,r=""+r+"r"+s.toString(32)+"";return t.memoizedState=r},useHostTransitionStatus:Eh,useFormState:ag,useActionState:ag,useOptimistic:function(t){var r=Dn();r.memoizedState=r.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=s,r=wh.bind(null,$e,!0,s),s.dispatch=r,[t,r]},useMemoCache:dh,useCacheRefresh:function(){return Dn().memoizedState=nw.bind(null,$e)}},xg={readContext:pn,use:Nu,useCallback:pg,useContext:pn,useEffect:cg,useImperativeHandle:mg,useInsertionEffect:fg,useLayoutEffect:hg,useMemo:gg,useReducer:Iu,useRef:lg,useState:function(){return Iu(ya)},useDebugValue:vh,useDeferredValue:function(t,r){var s=zt();return yg(s,vt.memoizedState,t,r)},useTransition:function(){var t=Iu(ya)[0],r=zt().memoizedState;return[typeof t=="boolean"?t:Wo(t),r]},useSyncExternalStore:Gp,useId:Eg,useHostTransitionStatus:Eh,useFormState:ig,useActionState:ig,useOptimistic:function(t,r){var s=zt();return Zp(s,vt,t,r)},useMemoCache:dh,useCacheRefresh:wg},aw={readContext:pn,use:Nu,useCallback:pg,useContext:pn,useEffect:cg,useImperativeHandle:mg,useInsertionEffect:fg,useLayoutEffect:hg,useMemo:gg,useReducer:ph,useRef:lg,useState:function(){return ph(ya)},useDebugValue:vh,useDeferredValue:function(t,r){var s=zt();return vt===null?_h(s,t,r):yg(s,vt.memoizedState,t,r)},useTransition:function(){var t=ph(ya)[0],r=zt().memoizedState;return[typeof t=="boolean"?t:Wo(t),r]},useSyncExternalStore:Gp,useId:Eg,useHostTransitionStatus:Eh,useFormState:og,useActionState:og,useOptimistic:function(t,r){var s=zt();return vt!==null?Zp(s,vt,t,r):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:dh,useCacheRefresh:wg},Ls=null,el=0;function Lu(t){var r=el;return el+=1,Ls===null&&(Ls=[]),Lp(Ls,t,r)}function tl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function Uu(t,r){throw r.$$typeof===d?Error(i(525)):(t=Object.prototype.toString.call(r),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Cg(t){var r=t._init;return r(t._payload)}function Dg(t){function r(Y,G){if(t){var Z=Y.deletions;Z===null?(Y.deletions=[G],Y.flags|=16):Z.push(G)}}function s(Y,G){if(!t)return null;for(;G!==null;)r(Y,G),G=G.sibling;return null}function l(Y){for(var G=new Map;Y!==null;)Y.key!==null?G.set(Y.key,Y):G.set(Y.index,Y),Y=Y.sibling;return G}function m(Y,G){return Y=ha(Y,G),Y.index=0,Y.sibling=null,Y}function A(Y,G,Z){return Y.index=Z,t?(Z=Y.alternate,Z!==null?(Z=Z.index,Z<G?(Y.flags|=67108866,G):Z):(Y.flags|=67108866,G)):(Y.flags|=1048576,G)}function k(Y){return t&&Y.alternate===null&&(Y.flags|=67108866),Y}function L(Y,G,Z,oe){return G===null||G.tag!==6?(G=Ff(Z,Y.mode,oe),G.return=Y,G):(G=m(G,Z),G.return=Y,G)}function H(Y,G,Z,oe){var Ae=Z.type;return Ae===v?ie(Y,G,Z.props.children,oe,Z.key):G!==null&&(G.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===S&&Cg(Ae)===G.type)?(G=m(G,Z.props),tl(G,Z),G.return=Y,G):(G=Eu(Z.type,Z.key,Z.props,null,Y.mode,oe),tl(G,Z),G.return=Y,G)}function ee(Y,G,Z,oe){return G===null||G.tag!==4||G.stateNode.containerInfo!==Z.containerInfo||G.stateNode.implementation!==Z.implementation?(G=Hf(Z,Y.mode,oe),G.return=Y,G):(G=m(G,Z.children||[]),G.return=Y,G)}function ie(Y,G,Z,oe,Ae){return G===null||G.tag!==7?(G=qi(Z,Y.mode,oe,Ae),G.return=Y,G):(G=m(G,Z),G.return=Y,G)}function ue(Y,G,Z){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=Ff(""+G,Y.mode,Z),G.return=Y,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case g:return Z=Eu(G.type,G.key,G.props,null,Y.mode,Z),tl(Z,G),Z.return=Y,Z;case b:return G=Hf(G,Y.mode,Z),G.return=Y,G;case S:var oe=G._init;return G=oe(G._payload),ue(Y,G,Z)}if(pe(G)||q(G))return G=qi(G,Y.mode,Z,null),G.return=Y,G;if(typeof G.then=="function")return ue(Y,Lu(G),Z);if(G.$$typeof===C)return ue(Y,Su(Y,G),Z);Uu(Y,G)}return null}function te(Y,G,Z,oe){var Ae=G!==null?G.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Ae!==null?null:L(Y,G,""+Z,oe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case g:return Z.key===Ae?H(Y,G,Z,oe):null;case b:return Z.key===Ae?ee(Y,G,Z,oe):null;case S:return Ae=Z._init,Z=Ae(Z._payload),te(Y,G,Z,oe)}if(pe(Z)||q(Z))return Ae!==null?null:ie(Y,G,Z,oe,null);if(typeof Z.then=="function")return te(Y,G,Lu(Z),oe);if(Z.$$typeof===C)return te(Y,G,Su(Y,Z),oe);Uu(Y,Z)}return null}function ne(Y,G,Z,oe,Ae){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return Y=Y.get(Z)||null,L(G,Y,""+oe,Ae);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case g:return Y=Y.get(oe.key===null?Z:oe.key)||null,H(G,Y,oe,Ae);case b:return Y=Y.get(oe.key===null?Z:oe.key)||null,ee(G,Y,oe,Ae);case S:var Ye=oe._init;return oe=Ye(oe._payload),ne(Y,G,Z,oe,Ae)}if(pe(oe)||q(oe))return Y=Y.get(Z)||null,ie(G,Y,oe,Ae,null);if(typeof oe.then=="function")return ne(Y,G,Z,Lu(oe),Ae);if(oe.$$typeof===C)return ne(Y,G,Z,Su(G,oe),Ae);Uu(G,oe)}return null}function Ue(Y,G,Z,oe){for(var Ae=null,Ye=null,De=G,Ve=G=0,en=null;De!==null&&Ve<Z.length;Ve++){De.index>Ve?(en=De,De=null):en=De.sibling;var ot=te(Y,De,Z[Ve],oe);if(ot===null){De===null&&(De=en);break}t&&De&&ot.alternate===null&&r(Y,De),G=A(ot,G,Ve),Ye===null?Ae=ot:Ye.sibling=ot,Ye=ot,De=en}if(Ve===Z.length)return s(Y,De),ut&&Hi(Y,Ve),Ae;if(De===null){for(;Ve<Z.length;Ve++)De=ue(Y,Z[Ve],oe),De!==null&&(G=A(De,G,Ve),Ye===null?Ae=De:Ye.sibling=De,Ye=De);return ut&&Hi(Y,Ve),Ae}for(De=l(De);Ve<Z.length;Ve++)en=ne(De,Y,Ve,Z[Ve],oe),en!==null&&(t&&en.alternate!==null&&De.delete(en.key===null?Ve:en.key),G=A(en,G,Ve),Ye===null?Ae=en:Ye.sibling=en,Ye=en);return t&&De.forEach(function(ai){return r(Y,ai)}),ut&&Hi(Y,Ve),Ae}function ke(Y,G,Z,oe){if(Z==null)throw Error(i(151));for(var Ae=null,Ye=null,De=G,Ve=G=0,en=null,ot=Z.next();De!==null&&!ot.done;Ve++,ot=Z.next()){De.index>Ve?(en=De,De=null):en=De.sibling;var ai=te(Y,De,ot.value,oe);if(ai===null){De===null&&(De=en);break}t&&De&&ai.alternate===null&&r(Y,De),G=A(ai,G,Ve),Ye===null?Ae=ai:Ye.sibling=ai,Ye=ai,De=en}if(ot.done)return s(Y,De),ut&&Hi(Y,Ve),Ae;if(De===null){for(;!ot.done;Ve++,ot=Z.next())ot=ue(Y,ot.value,oe),ot!==null&&(G=A(ot,G,Ve),Ye===null?Ae=ot:Ye.sibling=ot,Ye=ot);return ut&&Hi(Y,Ve),Ae}for(De=l(De);!ot.done;Ve++,ot=Z.next())ot=ne(De,Y,Ve,ot.value,oe),ot!==null&&(t&&ot.alternate!==null&&De.delete(ot.key===null?Ve:ot.key),G=A(ot,G,Ve),Ye===null?Ae=ot:Ye.sibling=ot,Ye=ot);return t&&De.forEach(function(i1){return r(Y,i1)}),ut&&Hi(Y,Ve),Ae}function bt(Y,G,Z,oe){if(typeof Z=="object"&&Z!==null&&Z.type===v&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case g:e:{for(var Ae=Z.key;G!==null;){if(G.key===Ae){if(Ae=Z.type,Ae===v){if(G.tag===7){s(Y,G.sibling),oe=m(G,Z.props.children),oe.return=Y,Y=oe;break e}}else if(G.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===S&&Cg(Ae)===G.type){s(Y,G.sibling),oe=m(G,Z.props),tl(oe,Z),oe.return=Y,Y=oe;break e}s(Y,G);break}else r(Y,G);G=G.sibling}Z.type===v?(oe=qi(Z.props.children,Y.mode,oe,Z.key),oe.return=Y,Y=oe):(oe=Eu(Z.type,Z.key,Z.props,null,Y.mode,oe),tl(oe,Z),oe.return=Y,Y=oe)}return k(Y);case b:e:{for(Ae=Z.key;G!==null;){if(G.key===Ae)if(G.tag===4&&G.stateNode.containerInfo===Z.containerInfo&&G.stateNode.implementation===Z.implementation){s(Y,G.sibling),oe=m(G,Z.children||[]),oe.return=Y,Y=oe;break e}else{s(Y,G);break}else r(Y,G);G=G.sibling}oe=Hf(Z,Y.mode,oe),oe.return=Y,Y=oe}return k(Y);case S:return Ae=Z._init,Z=Ae(Z._payload),bt(Y,G,Z,oe)}if(pe(Z))return Ue(Y,G,Z,oe);if(q(Z)){if(Ae=q(Z),typeof Ae!="function")throw Error(i(150));return Z=Ae.call(Z),ke(Y,G,Z,oe)}if(typeof Z.then=="function")return bt(Y,G,Lu(Z),oe);if(Z.$$typeof===C)return bt(Y,G,Su(Y,Z),oe);Uu(Y,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,G!==null&&G.tag===6?(s(Y,G.sibling),oe=m(G,Z),oe.return=Y,Y=oe):(s(Y,G),oe=Ff(Z,Y.mode,oe),oe.return=Y,Y=oe),k(Y)):s(Y,G)}return function(Y,G,Z,oe){try{el=0;var Ae=bt(Y,G,Z,oe);return Ls=null,Ae}catch(De){if(De===$o||De===xu)throw De;var Ye=Un(29,De,null,Y.mode);return Ye.lanes=oe,Ye.return=Y,Ye}finally{}}}var Us=Dg(!0),Og=Dg(!1),ur=re(null),qr=null;function Fa(t){var r=t.alternate;ce(Gt,Gt.current&1),ce(ur,t),qr===null&&(r===null||ks.current!==null||r.memoizedState!==null)&&(qr=t)}function Mg(t){if(t.tag===22){if(ce(Gt,Gt.current),ce(ur,t),qr===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(qr=t)}}else Ha()}function Ha(){ce(Gt,Gt.current),ce(ur,ur.current)}function va(t){me(ur),qr===t&&(qr=null),me(Gt)}var Gt=re(0);function zu(t){for(var r=t;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||hd(s)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Ah(t,r,s,l){r=t.memoizedState,s=s(l,r),s=s==null?r:E({},r,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Th={enqueueSetState:function(t,r,s){t=t._reactInternals;var l=Fn(),m=za(l);m.payload=r,s!=null&&(m.callback=s),r=Ba(t,m,l),r!==null&&(Hn(r,t,l),Qo(r,t,l))},enqueueReplaceState:function(t,r,s){t=t._reactInternals;var l=Fn(),m=za(l);m.tag=1,m.payload=r,s!=null&&(m.callback=s),r=Ba(t,m,l),r!==null&&(Hn(r,t,l),Qo(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var s=Fn(),l=za(s);l.tag=2,r!=null&&(l.callback=r),r=Ba(t,l,s),r!==null&&(Hn(r,t,s),Qo(r,t,s))}};function Ng(t,r,s,l,m,A,k){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,A,k):r.prototype&&r.prototype.isPureReactComponent?!Po(s,l)||!Po(m,A):!0}function Ig(t,r,s,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,l),r.state!==t&&Th.enqueueReplaceState(r,r.state,null)}function Wi(t,r){var s=r;if("ref"in r){s={};for(var l in r)l!=="ref"&&(s[l]=r[l])}if(t=t.defaultProps){s===r&&(s=E({},s));for(var m in t)s[m]===void 0&&(s[m]=t[m])}return s}var Bu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function kg(t){Bu(t)}function jg(t){console.error(t)}function Vg(t){Bu(t)}function qu(t,r){try{var s=t.onUncaughtError;s(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Pg(t,r,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Sh(t,r,s){return s=za(s),s.tag=3,s.payload={element:null},s.callback=function(){qu(t,r)},s}function Lg(t){return t=za(t),t.tag=3,t}function Ug(t,r,s,l){var m=s.type.getDerivedStateFromError;if(typeof m=="function"){var A=l.value;t.payload=function(){return m(A)},t.callback=function(){Pg(r,s,l)}}var k=s.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(t.callback=function(){Pg(r,s,l),typeof m!="function"&&(Xa===null?Xa=new Set([this]):Xa.add(this));var L=l.stack;this.componentDidCatch(l.value,{componentStack:L!==null?L:""})})}function iw(t,r,s,l,m){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=s.alternate,r!==null&&qo(r,s,m,!0),s=ur.current,s!==null){switch(s.tag){case 13:return qr===null?Kh():s.alternate===null&&Nt===0&&(Nt=3),s.flags&=-257,s.flags|=65536,s.lanes=m,l===eh?s.flags|=16384:(r=s.updateQueue,r===null?s.updateQueue=new Set([l]):r.add(l),Wh(t,l,m)),!1;case 22:return s.flags|=65536,l===eh?s.flags|=16384:(r=s.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=r):(s=r.retryQueue,s===null?r.retryQueue=new Set([l]):s.add(l)),Wh(t,l,m)),!1}throw Error(i(435,s.tag))}return Wh(t,l,m),Kh(),!1}if(ut)return r=ur.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=m,l!==Qf&&(t=Error(i(422),{cause:l}),Bo(ir(t,s)))):(l!==Qf&&(r=Error(i(423),{cause:l}),Bo(ir(r,s))),t=t.current.alternate,t.flags|=65536,m&=-m,t.lanes|=m,l=ir(l,s),m=Sh(t.stateNode,l,m),rh(t,m),Nt!==4&&(Nt=2)),!1;var A=Error(i(520),{cause:l});if(A=ir(A,s),ll===null?ll=[A]:ll.push(A),Nt!==4&&(Nt=2),r===null)return!0;l=ir(l,s),s=r;do{switch(s.tag){case 3:return s.flags|=65536,t=m&-m,s.lanes|=t,t=Sh(s.stateNode,l,t),rh(s,t),!1;case 1:if(r=s.type,A=s.stateNode,(s.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Xa===null||!Xa.has(A))))return s.flags|=65536,m&=-m,s.lanes|=m,m=Lg(m),Ug(m,t,s,l),rh(s,m),!1}s=s.return}while(s!==null);return!1}var zg=Error(i(461)),Zt=!1;function sn(t,r,s,l){r.child=t===null?Og(r,null,s,l):Us(r,t.child,s,l)}function Bg(t,r,s,l,m){s=s.render;var A=r.ref;if("ref"in l){var k={};for(var L in l)L!=="ref"&&(k[L]=l[L])}else k=l;return Yi(r),l=lh(t,r,s,k,A,m),L=uh(),t!==null&&!Zt?(ch(t,r,m),_a(t,r,m)):(ut&&L&&$f(r),r.flags|=1,sn(t,r,l,m),r.child)}function qg(t,r,s,l,m){if(t===null){var A=s.type;return typeof A=="function"&&!qf(A)&&A.defaultProps===void 0&&s.compare===null?(r.tag=15,r.type=A,Fg(t,r,A,l,m)):(t=Eu(s.type,null,l,r,r.mode,m),t.ref=r.ref,t.return=r,r.child=t)}if(A=t.child,!Ih(t,m)){var k=A.memoizedProps;if(s=s.compare,s=s!==null?s:Po,s(k,l)&&t.ref===r.ref)return _a(t,r,m)}return r.flags|=1,t=ha(A,l),t.ref=r.ref,t.return=r,r.child=t}function Fg(t,r,s,l,m){if(t!==null){var A=t.memoizedProps;if(Po(A,l)&&t.ref===r.ref)if(Zt=!1,r.pendingProps=l=A,Ih(t,m))(t.flags&131072)!==0&&(Zt=!0);else return r.lanes=t.lanes,_a(t,r,m)}return Rh(t,r,s,l,m)}function Hg(t,r,s){var l=r.pendingProps,m=l.children,A=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=A!==null?A.baseLanes|s:s,t!==null){for(m=r.child=t.child,A=0;m!==null;)A=A|m.lanes|m.childLanes,m=m.sibling;r.childLanes=A&~l}else r.childLanes=0,r.child=null;return $g(t,r,l,s)}if((s&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ru(r,A!==null?A.cachePool:null),A!==null?Fp(r,A):ih(),Mg(r);else return r.lanes=r.childLanes=536870912,$g(t,r,A!==null?A.baseLanes|s:s,s)}else A!==null?(Ru(r,A.cachePool),Fp(r,A),Ha(),r.memoizedState=null):(t!==null&&Ru(r,null),ih(),Ha());return sn(t,r,m,s),r.child}function $g(t,r,s,l){var m=Jf();return m=m===null?null:{parent:$t._currentValue,pool:m},r.memoizedState={baseLanes:s,cachePool:m},t!==null&&Ru(r,null),ih(),Mg(r),t!==null&&qo(t,r,l,!0),null}function Fu(t,r){var s=r.ref;if(s===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(i(284));(t===null||t.ref!==s)&&(r.flags|=4194816)}}function Rh(t,r,s,l,m){return Yi(r),s=lh(t,r,s,l,void 0,m),l=uh(),t!==null&&!Zt?(ch(t,r,m),_a(t,r,m)):(ut&&l&&$f(r),r.flags|=1,sn(t,r,s,m),r.child)}function Gg(t,r,s,l,m,A){return Yi(r),r.updateQueue=null,s=$p(r,l,s,m),Hp(t),l=uh(),t!==null&&!Zt?(ch(t,r,A),_a(t,r,A)):(ut&&l&&$f(r),r.flags|=1,sn(t,r,s,A),r.child)}function Qg(t,r,s,l,m){if(Yi(r),r.stateNode===null){var A=Ds,k=s.contextType;typeof k=="object"&&k!==null&&(A=pn(k)),A=new s(l,A),r.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,A.updater=Th,r.stateNode=A,A._reactInternals=r,A=r.stateNode,A.props=l,A.state=r.memoizedState,A.refs={},th(r),k=s.contextType,A.context=typeof k=="object"&&k!==null?pn(k):Ds,A.state=r.memoizedState,k=s.getDerivedStateFromProps,typeof k=="function"&&(Ah(r,s,k,l),A.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(k=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),k!==A.state&&Th.enqueueReplaceState(A,A.state,null),Ko(r,l,A,m),Yo(),A.state=r.memoizedState),typeof A.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){A=r.stateNode;var L=r.memoizedProps,H=Wi(s,L);A.props=H;var ee=A.context,ie=s.contextType;k=Ds,typeof ie=="object"&&ie!==null&&(k=pn(ie));var ue=s.getDerivedStateFromProps;ie=typeof ue=="function"||typeof A.getSnapshotBeforeUpdate=="function",L=r.pendingProps!==L,ie||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(L||ee!==k)&&Ig(r,A,l,k),Ua=!1;var te=r.memoizedState;A.state=te,Ko(r,l,A,m),Yo(),ee=r.memoizedState,L||te!==ee||Ua?(typeof ue=="function"&&(Ah(r,s,ue,l),ee=r.memoizedState),(H=Ua||Ng(r,s,H,l,te,ee,k))?(ie||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(r.flags|=4194308)):(typeof A.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=ee),A.props=l,A.state=ee,A.context=k,l=H):(typeof A.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{A=r.stateNode,nh(t,r),k=r.memoizedProps,ie=Wi(s,k),A.props=ie,ue=r.pendingProps,te=A.context,ee=s.contextType,H=Ds,typeof ee=="object"&&ee!==null&&(H=pn(ee)),L=s.getDerivedStateFromProps,(ee=typeof L=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(k!==ue||te!==H)&&Ig(r,A,l,H),Ua=!1,te=r.memoizedState,A.state=te,Ko(r,l,A,m),Yo();var ne=r.memoizedState;k!==ue||te!==ne||Ua||t!==null&&t.dependencies!==null&&Tu(t.dependencies)?(typeof L=="function"&&(Ah(r,s,L,l),ne=r.memoizedState),(ie=Ua||Ng(r,s,ie,l,te,ne,H)||t!==null&&t.dependencies!==null&&Tu(t.dependencies))?(ee||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(l,ne,H),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(l,ne,H)),typeof A.componentDidUpdate=="function"&&(r.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof A.componentDidUpdate!="function"||k===t.memoizedProps&&te===t.memoizedState||(r.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||k===t.memoizedProps&&te===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=ne),A.props=l,A.state=ne,A.context=H,l=ie):(typeof A.componentDidUpdate!="function"||k===t.memoizedProps&&te===t.memoizedState||(r.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||k===t.memoizedProps&&te===t.memoizedState||(r.flags|=1024),l=!1)}return A=l,Fu(t,r),l=(r.flags&128)!==0,A||l?(A=r.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:A.render(),r.flags|=1,t!==null&&l?(r.child=Us(r,t.child,null,m),r.child=Us(r,null,s,m)):sn(t,r,s,m),r.memoizedState=A.state,t=r.child):t=_a(t,r,m),t}function Yg(t,r,s,l){return zo(),r.flags|=256,sn(t,r,s,l),r.child}var xh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ch(t){return{baseLanes:t,cachePool:jp()}}function Dh(t,r,s){return t=t!==null?t.childLanes&~s:0,r&&(t|=cr),t}function Kg(t,r,s){var l=r.pendingProps,m=!1,A=(r.flags&128)!==0,k;if((k=A)||(k=t!==null&&t.memoizedState===null?!1:(Gt.current&2)!==0),k&&(m=!0,r.flags&=-129),k=(r.flags&32)!==0,r.flags&=-33,t===null){if(ut){if(m?Fa(r):Ha(),ut){var L=Mt,H;if(H=L){e:{for(H=L,L=Br;H.nodeType!==8;){if(!L){L=null;break e}if(H=Er(H.nextSibling),H===null){L=null;break e}}L=H}L!==null?(r.memoizedState={dehydrated:L,treeContext:Fi!==null?{id:da,overflow:ma}:null,retryLane:536870912,hydrationErrors:null},H=Un(18,null,null,0),H.stateNode=L,H.return=r,r.child=H,xn=r,Mt=null,H=!0):H=!1}H||Gi(r)}if(L=r.memoizedState,L!==null&&(L=L.dehydrated,L!==null))return hd(L)?r.lanes=32:r.lanes=536870912,null;va(r)}return L=l.children,l=l.fallback,m?(Ha(),m=r.mode,L=Hu({mode:"hidden",children:L},m),l=qi(l,m,s,null),L.return=r,l.return=r,L.sibling=l,r.child=L,m=r.child,m.memoizedState=Ch(s),m.childLanes=Dh(t,k,s),r.memoizedState=xh,l):(Fa(r),Oh(r,L))}if(H=t.memoizedState,H!==null&&(L=H.dehydrated,L!==null)){if(A)r.flags&256?(Fa(r),r.flags&=-257,r=Mh(t,r,s)):r.memoizedState!==null?(Ha(),r.child=t.child,r.flags|=128,r=null):(Ha(),m=l.fallback,L=r.mode,l=Hu({mode:"visible",children:l.children},L),m=qi(m,L,s,null),m.flags|=2,l.return=r,m.return=r,l.sibling=m,r.child=l,Us(r,t.child,null,s),l=r.child,l.memoizedState=Ch(s),l.childLanes=Dh(t,k,s),r.memoizedState=xh,r=m);else if(Fa(r),hd(L)){if(k=L.nextSibling&&L.nextSibling.dataset,k)var ee=k.dgst;k=ee,l=Error(i(419)),l.stack="",l.digest=k,Bo({value:l,source:null,stack:null}),r=Mh(t,r,s)}else if(Zt||qo(t,r,s,!1),k=(s&t.childLanes)!==0,Zt||k){if(k=Tt,k!==null&&(l=s&-s,l=(l&42)!==0?1:Mr(l),l=(l&(k.suspendedLanes|s))!==0?0:l,l!==0&&l!==H.retryLane))throw H.retryLane=l,Cs(t,l),Hn(k,t,l),zg;L.data==="$?"||Kh(),r=Mh(t,r,s)}else L.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=H.treeContext,Mt=Er(L.nextSibling),xn=r,ut=!0,$i=null,Br=!1,t!==null&&(or[lr++]=da,or[lr++]=ma,or[lr++]=Fi,da=t.id,ma=t.overflow,Fi=r),r=Oh(r,l.children),r.flags|=4096);return r}return m?(Ha(),m=l.fallback,L=r.mode,H=t.child,ee=H.sibling,l=ha(H,{mode:"hidden",children:l.children}),l.subtreeFlags=H.subtreeFlags&65011712,ee!==null?m=ha(ee,m):(m=qi(m,L,s,null),m.flags|=2),m.return=r,l.return=r,l.sibling=m,r.child=l,l=m,m=r.child,L=t.child.memoizedState,L===null?L=Ch(s):(H=L.cachePool,H!==null?(ee=$t._currentValue,H=H.parent!==ee?{parent:ee,pool:ee}:H):H=jp(),L={baseLanes:L.baseLanes|s,cachePool:H}),m.memoizedState=L,m.childLanes=Dh(t,k,s),r.memoizedState=xh,l):(Fa(r),s=t.child,t=s.sibling,s=ha(s,{mode:"visible",children:l.children}),s.return=r,s.sibling=null,t!==null&&(k=r.deletions,k===null?(r.deletions=[t],r.flags|=16):k.push(t)),r.child=s,r.memoizedState=null,s)}function Oh(t,r){return r=Hu({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Hu(t,r){return t=Un(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Mh(t,r,s){return Us(r,t.child,null,s),t=Oh(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Xg(t,r,s){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),Kf(t.return,r,s)}function Nh(t,r,s,l,m){var A=t.memoizedState;A===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:m}:(A.isBackwards=r,A.rendering=null,A.renderingStartTime=0,A.last=l,A.tail=s,A.tailMode=m)}function Wg(t,r,s){var l=r.pendingProps,m=l.revealOrder,A=l.tail;if(sn(t,r,l.children,s),l=Gt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Xg(t,s,r);else if(t.tag===19)Xg(t,s,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(ce(Gt,l),m){case"forwards":for(s=r.child,m=null;s!==null;)t=s.alternate,t!==null&&zu(t)===null&&(m=s),s=s.sibling;s=m,s===null?(m=r.child,r.child=null):(m=s.sibling,s.sibling=null),Nh(r,!1,m,s,A);break;case"backwards":for(s=null,m=r.child,r.child=null;m!==null;){if(t=m.alternate,t!==null&&zu(t)===null){r.child=m;break}t=m.sibling,m.sibling=s,s=m,m=t}Nh(r,!0,s,null,A);break;case"together":Nh(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function _a(t,r,s){if(t!==null&&(r.dependencies=t.dependencies),Ka|=r.lanes,(s&r.childLanes)===0)if(t!==null){if(qo(t,r,s,!1),(s&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(i(153));if(r.child!==null){for(t=r.child,s=ha(t,t.pendingProps),r.child=s,s.return=r;t.sibling!==null;)t=t.sibling,s=s.sibling=ha(t,t.pendingProps),s.return=r;s.sibling=null}return r.child}function Ih(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Tu(t)))}function sw(t,r,s){switch(r.tag){case 3:gt(r,r.stateNode.containerInfo),La(r,$t,t.memoizedState.cache),zo();break;case 27:case 5:St(r);break;case 4:gt(r,r.stateNode.containerInfo);break;case 10:La(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Fa(r),r.flags|=128,null):(s&r.child.childLanes)!==0?Kg(t,r,s):(Fa(r),t=_a(t,r,s),t!==null?t.sibling:null);Fa(r);break;case 19:var m=(t.flags&128)!==0;if(l=(s&r.childLanes)!==0,l||(qo(t,r,s,!1),l=(s&r.childLanes)!==0),m){if(l)return Wg(t,r,s);r.flags|=128}if(m=r.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ce(Gt,Gt.current),l)break;return null;case 22:case 23:return r.lanes=0,Hg(t,r,s);case 24:La(r,$t,t.memoizedState.cache)}return _a(t,r,s)}function Zg(t,r,s){if(t!==null)if(t.memoizedProps!==r.pendingProps)Zt=!0;else{if(!Ih(t,s)&&(r.flags&128)===0)return Zt=!1,sw(t,r,s);Zt=(t.flags&131072)!==0}else Zt=!1,ut&&(r.flags&1048576)!==0&&Cp(r,Au,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,m=l._init;if(l=m(l._payload),r.type=l,typeof l=="function")qf(l)?(t=Wi(l,t),r.tag=1,r=Qg(null,r,l,t,s)):(r.tag=0,r=Rh(null,r,l,t,s));else{if(l!=null){if(m=l.$$typeof,m===I){r.tag=11,r=Bg(null,r,l,t,s);break e}else if(m===M){r.tag=14,r=qg(null,r,l,t,s);break e}}throw r=he(l)||l,Error(i(306,r,""))}}return r;case 0:return Rh(t,r,r.type,r.pendingProps,s);case 1:return l=r.type,m=Wi(l,r.pendingProps),Qg(t,r,l,m,s);case 3:e:{if(gt(r,r.stateNode.containerInfo),t===null)throw Error(i(387));l=r.pendingProps;var A=r.memoizedState;m=A.element,nh(t,r),Ko(r,l,null,s);var k=r.memoizedState;if(l=k.cache,La(r,$t,l),l!==A.cache&&Xf(r,[$t],s,!0),Yo(),l=k.element,A.isDehydrated)if(A={element:l,isDehydrated:!1,cache:k.cache},r.updateQueue.baseState=A,r.memoizedState=A,r.flags&256){r=Yg(t,r,l,s);break e}else if(l!==m){m=ir(Error(i(424)),r),Bo(m),r=Yg(t,r,l,s);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Mt=Er(t.firstChild),xn=r,ut=!0,$i=null,Br=!0,s=Og(r,null,l,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(zo(),l===m){r=_a(t,r,s);break e}sn(t,r,l,s)}r=r.child}return r;case 26:return Fu(t,r),t===null?(s=nv(r.type,null,r.pendingProps,null))?r.memoizedState=s:ut||(s=r.type,t=r.pendingProps,l=ac(xe.current).createElement(s),l[le]=r,l[ge]=t,ln(l,s,t),et(l),r.stateNode=l):r.memoizedState=nv(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return St(r),t===null&&ut&&(l=r.stateNode=Jy(r.type,r.pendingProps,xe.current),xn=r,Br=!0,m=Mt,Ja(r.type)?(dd=m,Mt=Er(l.firstChild)):Mt=m),sn(t,r,r.pendingProps.children,s),Fu(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&ut&&((m=l=Mt)&&(l=kw(l,r.type,r.pendingProps,Br),l!==null?(r.stateNode=l,xn=r,Mt=Er(l.firstChild),Br=!1,m=!0):m=!1),m||Gi(r)),St(r),m=r.type,A=r.pendingProps,k=t!==null?t.memoizedProps:null,l=A.children,ud(m,A)?l=null:k!==null&&ud(m,k)&&(r.flags|=32),r.memoizedState!==null&&(m=lh(t,r,ZE,null,null,s),yl._currentValue=m),Fu(t,r),sn(t,r,l,s),r.child;case 6:return t===null&&ut&&((t=s=Mt)&&(s=jw(s,r.pendingProps,Br),s!==null?(r.stateNode=s,xn=r,Mt=null,t=!0):t=!1),t||Gi(r)),null;case 13:return Kg(t,r,s);case 4:return gt(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Us(r,null,l,s):sn(t,r,l,s),r.child;case 11:return Bg(t,r,r.type,r.pendingProps,s);case 7:return sn(t,r,r.pendingProps,s),r.child;case 8:return sn(t,r,r.pendingProps.children,s),r.child;case 12:return sn(t,r,r.pendingProps.children,s),r.child;case 10:return l=r.pendingProps,La(r,r.type,l.value),sn(t,r,l.children,s),r.child;case 9:return m=r.type._context,l=r.pendingProps.children,Yi(r),m=pn(m),l=l(m),r.flags|=1,sn(t,r,l,s),r.child;case 14:return qg(t,r,r.type,r.pendingProps,s);case 15:return Fg(t,r,r.type,r.pendingProps,s);case 19:return Wg(t,r,s);case 31:return l=r.pendingProps,s=r.mode,l={mode:l.mode,children:l.children},t===null?(s=Hu(l,s),s.ref=r.ref,r.child=s,s.return=r,r=s):(s=ha(t.child,l),s.ref=r.ref,r.child=s,s.return=r,r=s),r;case 22:return Hg(t,r,s);case 24:return Yi(r),l=pn($t),t===null?(m=Jf(),m===null&&(m=Tt,A=Wf(),m.pooledCache=A,A.refCount++,A!==null&&(m.pooledCacheLanes|=s),m=A),r.memoizedState={parent:l,cache:m},th(r),La(r,$t,m)):((t.lanes&s)!==0&&(nh(t,r),Ko(r,null,null,s),Yo()),m=t.memoizedState,A=r.memoizedState,m.parent!==l?(m={parent:l,cache:l},r.memoizedState=m,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=m),La(r,$t,l)):(l=A.cache,La(r,$t,l),l!==m.cache&&Xf(r,[$t],s,!0))),sn(t,r,r.pendingProps.children,s),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function ba(t){t.flags|=4}function Jg(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!ov(r)){if(r=ur.current,r!==null&&((rt&4194048)===rt?qr!==null:(rt&62914560)!==rt&&(rt&536870912)===0||r!==qr))throw Go=eh,Vp;t.flags|=8192}}function $u(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Ci():536870912,t.lanes|=r,Fs|=r)}function nl(t,r){if(!ut)switch(t.tailMode){case"hidden":r=t.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Ct(t){var r=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(r)for(var m=t.child;m!==null;)s|=m.lanes|m.childLanes,l|=m.subtreeFlags&65011712,l|=m.flags&65011712,m.return=t,m=m.sibling;else for(m=t.child;m!==null;)s|=m.lanes|m.childLanes,l|=m.subtreeFlags,l|=m.flags,m.return=t,m=m.sibling;return t.subtreeFlags|=l,t.childLanes=s,r}function ow(t,r,s){var l=r.pendingProps;switch(Gf(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(r),null;case 1:return Ct(r),null;case 3:return s=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),ga($t),Yn(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Uo(r)?ba(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Mp())),Ct(r),null;case 26:return s=r.memoizedState,t===null?(ba(r),s!==null?(Ct(r),Jg(r,s)):(Ct(r),r.flags&=-16777217)):s?s!==t.memoizedState?(ba(r),Ct(r),Jg(r,s)):(Ct(r),r.flags&=-16777217):(t.memoizedProps!==l&&ba(r),Ct(r),r.flags&=-16777217),null;case 27:hn(r),s=xe.current;var m=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&ba(r);else{if(!l){if(r.stateNode===null)throw Error(i(166));return Ct(r),null}t=_e.current,Uo(r)?Dp(r):(t=Jy(m,l,s),r.stateNode=t,ba(r))}return Ct(r),null;case 5:if(hn(r),s=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&ba(r);else{if(!l){if(r.stateNode===null)throw Error(i(166));return Ct(r),null}if(t=_e.current,Uo(r))Dp(r);else{switch(m=ac(xe.current),t){case 1:t=m.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=m.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=m.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=m.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=m.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?m.createElement("select",{is:l.is}):m.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?m.createElement(s,{is:l.is}):m.createElement(s)}}t[le]=r,t[ge]=l;e:for(m=r.child;m!==null;){if(m.tag===5||m.tag===6)t.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===r)break e;for(;m.sibling===null;){if(m.return===null||m.return===r)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}r.stateNode=t;e:switch(ln(t,s,l),s){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&ba(r)}}return Ct(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&ba(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(i(166));if(t=xe.current,Uo(r)){if(t=r.stateNode,s=r.memoizedProps,l=null,m=xn,m!==null)switch(m.tag){case 27:case 5:l=m.memoizedProps}t[le]=r,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Gy(t.nodeValue,s)),t||Gi(r)}else t=ac(t).createTextNode(l),t[le]=r,r.stateNode=t}return Ct(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(m=Uo(r),l!==null&&l.dehydrated!==null){if(t===null){if(!m)throw Error(i(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[le]=r}else zo(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Ct(r),m=!1}else m=Mp(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=m),m=!0;if(!m)return r.flags&256?(va(r),r):(va(r),null)}if(va(r),(r.flags&128)!==0)return r.lanes=s,r;if(s=l!==null,t=t!==null&&t.memoizedState!==null,s){l=r.child,m=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(m=l.alternate.memoizedState.cachePool.pool);var A=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(A=l.memoizedState.cachePool.pool),A!==m&&(l.flags|=2048)}return s!==t&&s&&(r.child.flags|=8192),$u(r,r.updateQueue),Ct(r),null;case 4:return Yn(),t===null&&ad(r.stateNode.containerInfo),Ct(r),null;case 10:return ga(r.type),Ct(r),null;case 19:if(me(Gt),m=r.memoizedState,m===null)return Ct(r),null;if(l=(r.flags&128)!==0,A=m.rendering,A===null)if(l)nl(m,!1);else{if(Nt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(A=zu(t),A!==null){for(r.flags|=128,nl(m,!1),t=A.updateQueue,r.updateQueue=t,$u(r,t),r.subtreeFlags=0,t=s,s=r.child;s!==null;)xp(s,t),s=s.sibling;return ce(Gt,Gt.current&1|2),r.child}t=t.sibling}m.tail!==null&&wn()>Yu&&(r.flags|=128,l=!0,nl(m,!1),r.lanes=4194304)}else{if(!l)if(t=zu(A),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,$u(r,t),nl(m,!0),m.tail===null&&m.tailMode==="hidden"&&!A.alternate&&!ut)return Ct(r),null}else 2*wn()-m.renderingStartTime>Yu&&s!==536870912&&(r.flags|=128,l=!0,nl(m,!1),r.lanes=4194304);m.isBackwards?(A.sibling=r.child,r.child=A):(t=m.last,t!==null?t.sibling=A:r.child=A,m.last=A)}return m.tail!==null?(r=m.tail,m.rendering=r,m.tail=r.sibling,m.renderingStartTime=wn(),r.sibling=null,t=Gt.current,ce(Gt,l?t&1|2:t&1),r):(Ct(r),null);case 22:case 23:return va(r),sh(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(s&536870912)!==0&&(r.flags&128)===0&&(Ct(r),r.subtreeFlags&6&&(r.flags|=8192)):Ct(r),s=r.updateQueue,s!==null&&$u(r,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==s&&(r.flags|=2048),t!==null&&me(Ki),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),r.memoizedState.cache!==s&&(r.flags|=2048),ga($t),Ct(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function lw(t,r){switch(Gf(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return ga($t),Yn(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return hn(r),null;case 13:if(va(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(i(340));zo()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return me(Gt),null;case 4:return Yn(),null;case 10:return ga(r.type),null;case 22:case 23:return va(r),sh(),t!==null&&me(Ki),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return ga($t),null;case 25:return null;default:return null}}function ey(t,r){switch(Gf(r),r.tag){case 3:ga($t),Yn();break;case 26:case 27:case 5:hn(r);break;case 4:Yn();break;case 13:va(r);break;case 19:me(Gt);break;case 10:ga(r.type);break;case 22:case 23:va(r),sh(),t!==null&&me(Ki);break;case 24:ga($t)}}function rl(t,r){try{var s=r.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var m=l.next;s=m;do{if((s.tag&t)===t){l=void 0;var A=s.create,k=s.inst;l=A(),k.destroy=l}s=s.next}while(s!==m)}}catch(L){wt(r,r.return,L)}}function $a(t,r,s){try{var l=r.updateQueue,m=l!==null?l.lastEffect:null;if(m!==null){var A=m.next;l=A;do{if((l.tag&t)===t){var k=l.inst,L=k.destroy;if(L!==void 0){k.destroy=void 0,m=r;var H=s,ee=L;try{ee()}catch(ie){wt(m,H,ie)}}}l=l.next}while(l!==A)}}catch(ie){wt(r,r.return,ie)}}function ty(t){var r=t.updateQueue;if(r!==null){var s=t.stateNode;try{qp(r,s)}catch(l){wt(t,t.return,l)}}}function ny(t,r,s){s.props=Wi(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){wt(t,r,l)}}function al(t,r){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(m){wt(t,r,m)}}function Fr(t,r){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(m){wt(t,r,m)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(m){wt(t,r,m)}else s.current=null}function ry(t){var r=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(m){wt(t,t.return,m)}}function kh(t,r,s){try{var l=t.stateNode;Dw(l,t.type,s,r),l[ge]=r}catch(m){wt(t,t.return,m)}}function ay(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ja(t.type)||t.tag===4}function jh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ay(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ja(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Vh(t,r,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,r):(r=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,r.appendChild(t),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=rc));else if(l!==4&&(l===27&&Ja(t.type)&&(s=t.stateNode,r=null),t=t.child,t!==null))for(Vh(t,r,s),t=t.sibling;t!==null;)Vh(t,r,s),t=t.sibling}function Gu(t,r,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?s.insertBefore(t,r):s.appendChild(t);else if(l!==4&&(l===27&&Ja(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Gu(t,r,s),t=t.sibling;t!==null;)Gu(t,r,s),t=t.sibling}function iy(t){var r=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,m=r.attributes;m.length;)r.removeAttributeNode(m[0]);ln(r,l,s),r[le]=t,r[ge]=s}catch(A){wt(t,t.return,A)}}var Ea=!1,kt=!1,Ph=!1,sy=typeof WeakSet=="function"?WeakSet:Set,Jt=null;function uw(t,r){if(t=t.containerInfo,od=cc,t=yp(t),jf(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var m=l.anchorOffset,A=l.focusNode;l=l.focusOffset;try{s.nodeType,A.nodeType}catch{s=null;break e}var k=0,L=-1,H=-1,ee=0,ie=0,ue=t,te=null;t:for(;;){for(var ne;ue!==s||m!==0&&ue.nodeType!==3||(L=k+m),ue!==A||l!==0&&ue.nodeType!==3||(H=k+l),ue.nodeType===3&&(k+=ue.nodeValue.length),(ne=ue.firstChild)!==null;)te=ue,ue=ne;for(;;){if(ue===t)break t;if(te===s&&++ee===m&&(L=k),te===A&&++ie===l&&(H=k),(ne=ue.nextSibling)!==null)break;ue=te,te=ue.parentNode}ue=ne}s=L===-1||H===-1?null:{start:L,end:H}}else s=null}s=s||{start:0,end:0}}else s=null;for(ld={focusedElem:t,selectionRange:s},cc=!1,Jt=r;Jt!==null;)if(r=Jt,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,Jt=t;else for(;Jt!==null;){switch(r=Jt,A=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&A!==null){t=void 0,s=r,m=A.memoizedProps,A=A.memoizedState,l=s.stateNode;try{var Ue=Wi(s.type,m,s.elementType===s.type);t=l.getSnapshotBeforeUpdate(Ue,A),l.__reactInternalSnapshotBeforeUpdate=t}catch(ke){wt(s,s.return,ke)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,s=t.nodeType,s===9)fd(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":fd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=r.sibling,t!==null){t.return=r.return,Jt=t;break}Jt=r.return}}function oy(t,r,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Ga(t,s),l&4&&rl(5,s);break;case 1:if(Ga(t,s),l&4)if(t=s.stateNode,r===null)try{t.componentDidMount()}catch(k){wt(s,s.return,k)}else{var m=Wi(s.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(m,r,t.__reactInternalSnapshotBeforeUpdate)}catch(k){wt(s,s.return,k)}}l&64&&ty(s),l&512&&al(s,s.return);break;case 3:if(Ga(t,s),l&64&&(t=s.updateQueue,t!==null)){if(r=null,s.child!==null)switch(s.child.tag){case 27:case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}try{qp(t,r)}catch(k){wt(s,s.return,k)}}break;case 27:r===null&&l&4&&iy(s);case 26:case 5:Ga(t,s),r===null&&l&4&&ry(s),l&512&&al(s,s.return);break;case 12:Ga(t,s);break;case 13:Ga(t,s),l&4&&cy(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=vw.bind(null,s),Vw(t,s))));break;case 22:if(l=s.memoizedState!==null||Ea,!l){r=r!==null&&r.memoizedState!==null||kt,m=Ea;var A=kt;Ea=l,(kt=r)&&!A?Qa(t,s,(s.subtreeFlags&8772)!==0):Ga(t,s),Ea=m,kt=A}break;case 30:break;default:Ga(t,s)}}function ly(t){var r=t.alternate;r!==null&&(t.alternate=null,ly(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Se(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Rt=null,On=!1;function wa(t,r,s){for(s=s.child;s!==null;)uy(t,r,s),s=s.sibling}function uy(t,r,s){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(lt,s)}catch{}switch(s.tag){case 26:kt||Fr(s,r),wa(t,r,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:kt||Fr(s,r);var l=Rt,m=On;Ja(s.type)&&(Rt=s.stateNode,On=!1),wa(t,r,s),dl(s.stateNode),Rt=l,On=m;break;case 5:kt||Fr(s,r);case 6:if(l=Rt,m=On,Rt=null,wa(t,r,s),Rt=l,On=m,Rt!==null)if(On)try{(Rt.nodeType===9?Rt.body:Rt.nodeName==="HTML"?Rt.ownerDocument.body:Rt).removeChild(s.stateNode)}catch(A){wt(s,r,A)}else try{Rt.removeChild(s.stateNode)}catch(A){wt(s,r,A)}break;case 18:Rt!==null&&(On?(t=Rt,Wy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),El(t)):Wy(Rt,s.stateNode));break;case 4:l=Rt,m=On,Rt=s.stateNode.containerInfo,On=!0,wa(t,r,s),Rt=l,On=m;break;case 0:case 11:case 14:case 15:kt||$a(2,s,r),kt||$a(4,s,r),wa(t,r,s);break;case 1:kt||(Fr(s,r),l=s.stateNode,typeof l.componentWillUnmount=="function"&&ny(s,r,l)),wa(t,r,s);break;case 21:wa(t,r,s);break;case 22:kt=(l=kt)||s.memoizedState!==null,wa(t,r,s),kt=l;break;default:wa(t,r,s)}}function cy(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{El(t)}catch(s){wt(r,r.return,s)}}function cw(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new sy),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new sy),r;default:throw Error(i(435,t.tag))}}function Lh(t,r){var s=cw(t);r.forEach(function(l){var m=_w.bind(null,t,l);s.has(l)||(s.add(l),l.then(m,m))})}function zn(t,r){var s=r.deletions;if(s!==null)for(var l=0;l<s.length;l++){var m=s[l],A=t,k=r,L=k;e:for(;L!==null;){switch(L.tag){case 27:if(Ja(L.type)){Rt=L.stateNode,On=!1;break e}break;case 5:Rt=L.stateNode,On=!1;break e;case 3:case 4:Rt=L.stateNode.containerInfo,On=!0;break e}L=L.return}if(Rt===null)throw Error(i(160));uy(A,k,m),Rt=null,On=!1,A=m.alternate,A!==null&&(A.return=null),m.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)fy(r,t),r=r.sibling}var br=null;function fy(t,r){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:zn(r,t),Bn(t),l&4&&($a(3,t,t.return),rl(3,t),$a(5,t,t.return));break;case 1:zn(r,t),Bn(t),l&512&&(kt||s===null||Fr(s,s.return)),l&64&&Ea&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var m=br;if(zn(r,t),Bn(t),l&512&&(kt||s===null||Fr(s,s.return)),l&4){var A=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,m=m.ownerDocument||m;t:switch(l){case"title":A=m.getElementsByTagName("title")[0],(!A||A[Ie]||A[le]||A.namespaceURI==="http://www.w3.org/2000/svg"||A.hasAttribute("itemprop"))&&(A=m.createElement(l),m.head.insertBefore(A,m.querySelector("head > title"))),ln(A,l,s),A[le]=t,et(A),l=A;break e;case"link":var k=iv("link","href",m).get(l+(s.href||""));if(k){for(var L=0;L<k.length;L++)if(A=k[L],A.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&A.getAttribute("rel")===(s.rel==null?null:s.rel)&&A.getAttribute("title")===(s.title==null?null:s.title)&&A.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){k.splice(L,1);break t}}A=m.createElement(l),ln(A,l,s),m.head.appendChild(A);break;case"meta":if(k=iv("meta","content",m).get(l+(s.content||""))){for(L=0;L<k.length;L++)if(A=k[L],A.getAttribute("content")===(s.content==null?null:""+s.content)&&A.getAttribute("name")===(s.name==null?null:s.name)&&A.getAttribute("property")===(s.property==null?null:s.property)&&A.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&A.getAttribute("charset")===(s.charSet==null?null:s.charSet)){k.splice(L,1);break t}}A=m.createElement(l),ln(A,l,s),m.head.appendChild(A);break;default:throw Error(i(468,l))}A[le]=t,et(A),l=A}t.stateNode=l}else sv(m,t.type,t.stateNode);else t.stateNode=av(m,l,t.memoizedProps);else A!==l?(A===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):A.count--,l===null?sv(m,t.type,t.stateNode):av(m,l,t.memoizedProps)):l===null&&t.stateNode!==null&&kh(t,t.memoizedProps,s.memoizedProps)}break;case 27:zn(r,t),Bn(t),l&512&&(kt||s===null||Fr(s,s.return)),s!==null&&l&4&&kh(t,t.memoizedProps,s.memoizedProps);break;case 5:if(zn(r,t),Bn(t),l&512&&(kt||s===null||Fr(s,s.return)),t.flags&32){m=t.stateNode;try{tr(m,"")}catch(ne){wt(t,t.return,ne)}}l&4&&t.stateNode!=null&&(m=t.memoizedProps,kh(t,m,s!==null?s.memoizedProps:m)),l&1024&&(Ph=!0);break;case 6:if(zn(r,t),Bn(t),l&4){if(t.stateNode===null)throw Error(i(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(ne){wt(t,t.return,ne)}}break;case 3:if(oc=null,m=br,br=ic(r.containerInfo),zn(r,t),br=m,Bn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{El(r.containerInfo)}catch(ne){wt(t,t.return,ne)}Ph&&(Ph=!1,hy(t));break;case 4:l=br,br=ic(t.stateNode.containerInfo),zn(r,t),Bn(t),br=l;break;case 12:zn(r,t),Bn(t);break;case 13:zn(r,t),Bn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Hh=wn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Lh(t,l)));break;case 22:m=t.memoizedState!==null;var H=s!==null&&s.memoizedState!==null,ee=Ea,ie=kt;if(Ea=ee||m,kt=ie||H,zn(r,t),kt=ie,Ea=ee,Bn(t),l&8192)e:for(r=t.stateNode,r._visibility=m?r._visibility&-2:r._visibility|1,m&&(s===null||H||Ea||kt||Zi(t)),s=null,r=t;;){if(r.tag===5||r.tag===26){if(s===null){H=s=r;try{if(A=H.stateNode,m)k=A.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none";else{L=H.stateNode;var ue=H.memoizedProps.style,te=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;L.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(ne){wt(H,H.return,ne)}}}else if(r.tag===6){if(s===null){H=r;try{H.stateNode.nodeValue=m?"":H.memoizedProps}catch(ne){wt(H,H.return,ne)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;s===r&&(s=null),r=r.return}s===r&&(s=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Lh(t,s))));break;case 19:zn(r,t),Bn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Lh(t,l)));break;case 30:break;case 21:break;default:zn(r,t),Bn(t)}}function Bn(t){var r=t.flags;if(r&2){try{for(var s,l=t.return;l!==null;){if(ay(l)){s=l;break}l=l.return}if(s==null)throw Error(i(160));switch(s.tag){case 27:var m=s.stateNode,A=jh(t);Gu(t,A,m);break;case 5:var k=s.stateNode;s.flags&32&&(tr(k,""),s.flags&=-33);var L=jh(t);Gu(t,L,k);break;case 3:case 4:var H=s.stateNode.containerInfo,ee=jh(t);Vh(t,ee,H);break;default:throw Error(i(161))}}catch(ie){wt(t,t.return,ie)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function hy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;hy(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Ga(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)oy(t,r.alternate,r),r=r.sibling}function Zi(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:$a(4,r,r.return),Zi(r);break;case 1:Fr(r,r.return);var s=r.stateNode;typeof s.componentWillUnmount=="function"&&ny(r,r.return,s),Zi(r);break;case 27:dl(r.stateNode);case 26:case 5:Fr(r,r.return),Zi(r);break;case 22:r.memoizedState===null&&Zi(r);break;case 30:Zi(r);break;default:Zi(r)}t=t.sibling}}function Qa(t,r,s){for(s=s&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,m=t,A=r,k=A.flags;switch(A.tag){case 0:case 11:case 15:Qa(m,A,s),rl(4,A);break;case 1:if(Qa(m,A,s),l=A,m=l.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(ee){wt(l,l.return,ee)}if(l=A,m=l.updateQueue,m!==null){var L=l.stateNode;try{var H=m.shared.hiddenCallbacks;if(H!==null)for(m.shared.hiddenCallbacks=null,m=0;m<H.length;m++)Bp(H[m],L)}catch(ee){wt(l,l.return,ee)}}s&&k&64&&ty(A),al(A,A.return);break;case 27:iy(A);case 26:case 5:Qa(m,A,s),s&&l===null&&k&4&&ry(A),al(A,A.return);break;case 12:Qa(m,A,s);break;case 13:Qa(m,A,s),s&&k&4&&cy(m,A);break;case 22:A.memoizedState===null&&Qa(m,A,s),al(A,A.return);break;case 30:break;default:Qa(m,A,s)}r=r.sibling}}function Uh(t,r){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Fo(s))}function zh(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Fo(t))}function Hr(t,r,s,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)dy(t,r,s,l),r=r.sibling}function dy(t,r,s,l){var m=r.flags;switch(r.tag){case 0:case 11:case 15:Hr(t,r,s,l),m&2048&&rl(9,r);break;case 1:Hr(t,r,s,l);break;case 3:Hr(t,r,s,l),m&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Fo(t)));break;case 12:if(m&2048){Hr(t,r,s,l),t=r.stateNode;try{var A=r.memoizedProps,k=A.id,L=A.onPostCommit;typeof L=="function"&&L(k,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(H){wt(r,r.return,H)}}else Hr(t,r,s,l);break;case 13:Hr(t,r,s,l);break;case 23:break;case 22:A=r.stateNode,k=r.alternate,r.memoizedState!==null?A._visibility&2?Hr(t,r,s,l):il(t,r):A._visibility&2?Hr(t,r,s,l):(A._visibility|=2,zs(t,r,s,l,(r.subtreeFlags&10256)!==0)),m&2048&&Uh(k,r);break;case 24:Hr(t,r,s,l),m&2048&&zh(r.alternate,r);break;default:Hr(t,r,s,l)}}function zs(t,r,s,l,m){for(m=m&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var A=t,k=r,L=s,H=l,ee=k.flags;switch(k.tag){case 0:case 11:case 15:zs(A,k,L,H,m),rl(8,k);break;case 23:break;case 22:var ie=k.stateNode;k.memoizedState!==null?ie._visibility&2?zs(A,k,L,H,m):il(A,k):(ie._visibility|=2,zs(A,k,L,H,m)),m&&ee&2048&&Uh(k.alternate,k);break;case 24:zs(A,k,L,H,m),m&&ee&2048&&zh(k.alternate,k);break;default:zs(A,k,L,H,m)}r=r.sibling}}function il(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var s=t,l=r,m=l.flags;switch(l.tag){case 22:il(s,l),m&2048&&Uh(l.alternate,l);break;case 24:il(s,l),m&2048&&zh(l.alternate,l);break;default:il(s,l)}r=r.sibling}}var sl=8192;function Bs(t){if(t.subtreeFlags&sl)for(t=t.child;t!==null;)my(t),t=t.sibling}function my(t){switch(t.tag){case 26:Bs(t),t.flags&sl&&t.memoizedState!==null&&Kw(br,t.memoizedState,t.memoizedProps);break;case 5:Bs(t);break;case 3:case 4:var r=br;br=ic(t.stateNode.containerInfo),Bs(t),br=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=sl,sl=16777216,Bs(t),sl=r):Bs(t));break;default:Bs(t)}}function py(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function ol(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];Jt=l,yy(l,t)}py(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)gy(t),t=t.sibling}function gy(t){switch(t.tag){case 0:case 11:case 15:ol(t),t.flags&2048&&$a(9,t,t.return);break;case 3:ol(t);break;case 12:ol(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Qu(t)):ol(t);break;default:ol(t)}}function Qu(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];Jt=l,yy(l,t)}py(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:$a(8,r,r.return),Qu(r);break;case 22:s=r.stateNode,s._visibility&2&&(s._visibility&=-3,Qu(r));break;default:Qu(r)}t=t.sibling}}function yy(t,r){for(;Jt!==null;){var s=Jt;switch(s.tag){case 0:case 11:case 15:$a(8,s,r);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Fo(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Jt=l;else e:for(s=t;Jt!==null;){l=Jt;var m=l.sibling,A=l.return;if(ly(l),l===s){Jt=null;break e}if(m!==null){m.return=A,Jt=m;break e}Jt=A}}}var fw={getCacheForType:function(t){var r=pn($t),s=r.data.get(t);return s===void 0&&(s=t(),r.data.set(t,s)),s}},hw=typeof WeakMap=="function"?WeakMap:Map,dt=0,Tt=null,We=null,rt=0,mt=0,qn=null,Ya=!1,qs=!1,Bh=!1,Aa=0,Nt=0,Ka=0,Ji=0,qh=0,cr=0,Fs=0,ll=null,Mn=null,Fh=!1,Hh=0,Yu=1/0,Ku=null,Xa=null,on=0,Wa=null,Hs=null,$s=0,$h=0,Gh=null,vy=null,ul=0,Qh=null;function Fn(){if((dt&2)!==0&&rt!==0)return rt&-rt;if(Q.T!==null){var t=Ns;return t!==0?t:ed()}return $()}function _y(){cr===0&&(cr=(rt&536870912)===0||ut?ra():536870912);var t=ur.current;return t!==null&&(t.flags|=32),cr}function Hn(t,r,s){(t===Tt&&(mt===2||mt===9)||t.cancelPendingCommit!==null)&&(Gs(t,0),Za(t,rt,cr,!1)),yr(t,s),((dt&2)===0||t!==Tt)&&(t===Tt&&((dt&2)===0&&(Ji|=s),Nt===4&&Za(t,rt,cr,!1)),$r(t))}function by(t,r,s){if((dt&6)!==0)throw Error(i(327));var l=!s&&(r&124)===0&&(r&t.expiredLanes)===0||Wn(t,r),m=l?pw(t,r):Xh(t,r,!0),A=l;do{if(m===0){qs&&!l&&Za(t,r,0,!1);break}else{if(s=t.current.alternate,A&&!dw(s)){m=Xh(t,r,!1),A=!1;continue}if(m===2){if(A=r,t.errorRecoveryDisabledLanes&A)var k=0;else k=t.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){r=k;e:{var L=t;m=ll;var H=L.current.memoizedState.isDehydrated;if(H&&(Gs(L,k).flags|=256),k=Xh(L,k,!1),k!==2){if(Bh&&!H){L.errorRecoveryDisabledLanes|=A,Ji|=A,m=4;break e}A=Mn,Mn=m,A!==null&&(Mn===null?Mn=A:Mn.push.apply(Mn,A))}m=k}if(A=!1,m!==2)continue}}if(m===1){Gs(t,0),Za(t,r,0,!0);break}e:{switch(l=t,A=m,A){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:Za(l,r,cr,!Ya);break e;case 2:Mn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(m=Hh+300-wn(),10<m)){if(Za(l,r,cr,!Ya),na(l,0,!0)!==0)break e;l.timeoutHandle=Ky(Ey.bind(null,l,s,Mn,Ku,Fh,r,cr,Ji,Fs,Ya,A,2,-0,0),m);break e}Ey(l,s,Mn,Ku,Fh,r,cr,Ji,Fs,Ya,A,0,-0,0)}}break}while(!0);$r(t)}function Ey(t,r,s,l,m,A,k,L,H,ee,ie,ue,te,ne){if(t.timeoutHandle=-1,ue=r.subtreeFlags,(ue&8192||(ue&16785408)===16785408)&&(gl={stylesheets:null,count:0,unsuspend:Yw},my(r),ue=Xw(),ue!==null)){t.cancelPendingCommit=ue(Cy.bind(null,t,r,A,s,l,m,k,L,H,ie,1,te,ne)),Za(t,A,k,!ee);return}Cy(t,r,A,s,l,m,k,L,H)}function dw(t){for(var r=t;;){var s=r.tag;if((s===0||s===11||s===15)&&r.flags&16384&&(s=r.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var m=s[l],A=m.getSnapshot;m=m.value;try{if(!Ln(A(),m))return!1}catch{return!1}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Za(t,r,s,l){r&=~qh,r&=~Ji,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var m=r;0<m;){var A=31-Vt(m),k=1<<A;l[A]=-1,m&=~k}s!==0&&An(t,s,r)}function Xu(){return(dt&6)===0?(cl(0),!1):!0}function Yh(){if(We!==null){if(mt===0)var t=We.return;else t=We,pa=Qi=null,fh(t),Ls=null,el=0,t=We;for(;t!==null;)ey(t.alternate,t),t=t.return;We=null}}function Gs(t,r){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,Mw(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Yh(),Tt=t,We=s=ha(t.current,null),rt=r,mt=0,qn=null,Ya=!1,qs=Wn(t,r),Bh=!1,Fs=cr=qh=Ji=Ka=Nt=0,Mn=ll=null,Fh=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var m=31-Vt(l),A=1<<m;r|=t[m],l&=~A}return Aa=r,vu(),s}function wy(t,r){$e=null,Q.H=Pu,r===$o||r===xu?(r=Up(),mt=3):r===Vp?(r=Up(),mt=4):mt=r===zg?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,qn=r,We===null&&(Nt=1,qu(t,ir(r,t.current)))}function Ay(){var t=Q.H;return Q.H=Pu,t===null?Pu:t}function Ty(){var t=Q.A;return Q.A=fw,t}function Kh(){Nt=4,Ya||(rt&4194048)!==rt&&ur.current!==null||(qs=!0),(Ka&134217727)===0&&(Ji&134217727)===0||Tt===null||Za(Tt,rt,cr,!1)}function Xh(t,r,s){var l=dt;dt|=2;var m=Ay(),A=Ty();(Tt!==t||rt!==r)&&(Ku=null,Gs(t,r)),r=!1;var k=Nt;e:do try{if(mt!==0&&We!==null){var L=We,H=qn;switch(mt){case 8:Yh(),k=6;break e;case 3:case 2:case 9:case 6:ur.current===null&&(r=!0);var ee=mt;if(mt=0,qn=null,Qs(t,L,H,ee),s&&qs){k=0;break e}break;default:ee=mt,mt=0,qn=null,Qs(t,L,H,ee)}}mw(),k=Nt;break}catch(ie){wy(t,ie)}while(!0);return r&&t.shellSuspendCounter++,pa=Qi=null,dt=l,Q.H=m,Q.A=A,We===null&&(Tt=null,rt=0,vu()),k}function mw(){for(;We!==null;)Sy(We)}function pw(t,r){var s=dt;dt|=2;var l=Ay(),m=Ty();Tt!==t||rt!==r?(Ku=null,Yu=wn()+500,Gs(t,r)):qs=Wn(t,r);e:do try{if(mt!==0&&We!==null){r=We;var A=qn;t:switch(mt){case 1:mt=0,qn=null,Qs(t,r,A,1);break;case 2:case 9:if(Pp(A)){mt=0,qn=null,Ry(r);break}r=function(){mt!==2&&mt!==9||Tt!==t||(mt=7),$r(t)},A.then(r,r);break e;case 3:mt=7;break e;case 4:mt=5;break e;case 7:Pp(A)?(mt=0,qn=null,Ry(r)):(mt=0,qn=null,Qs(t,r,A,7));break;case 5:var k=null;switch(We.tag){case 26:k=We.memoizedState;case 5:case 27:var L=We;if(!k||ov(k)){mt=0,qn=null;var H=L.sibling;if(H!==null)We=H;else{var ee=L.return;ee!==null?(We=ee,Wu(ee)):We=null}break t}}mt=0,qn=null,Qs(t,r,A,5);break;case 6:mt=0,qn=null,Qs(t,r,A,6);break;case 8:Yh(),Nt=6;break e;default:throw Error(i(462))}}gw();break}catch(ie){wy(t,ie)}while(!0);return pa=Qi=null,Q.H=l,Q.A=m,dt=s,We!==null?0:(Tt=null,rt=0,vu(),Nt)}function gw(){for(;We!==null&&!Ri();)Sy(We)}function Sy(t){var r=Zg(t.alternate,t,Aa);t.memoizedProps=t.pendingProps,r===null?Wu(t):We=r}function Ry(t){var r=t,s=r.alternate;switch(r.tag){case 15:case 0:r=Gg(s,r,r.pendingProps,r.type,void 0,rt);break;case 11:r=Gg(s,r,r.pendingProps,r.type.render,r.ref,rt);break;case 5:fh(r);default:ey(s,r),r=We=xp(r,Aa),r=Zg(s,r,Aa)}t.memoizedProps=t.pendingProps,r===null?Wu(t):We=r}function Qs(t,r,s,l){pa=Qi=null,fh(r),Ls=null,el=0;var m=r.return;try{if(iw(t,m,r,s,rt)){Nt=1,qu(t,ir(s,t.current)),We=null;return}}catch(A){if(m!==null)throw We=m,A;Nt=1,qu(t,ir(s,t.current)),We=null;return}r.flags&32768?(ut||l===1?t=!0:qs||(rt&536870912)!==0?t=!1:(Ya=t=!0,(l===2||l===9||l===3||l===6)&&(l=ur.current,l!==null&&l.tag===13&&(l.flags|=16384))),xy(r,t)):Wu(r)}function Wu(t){var r=t;do{if((r.flags&32768)!==0){xy(r,Ya);return}t=r.return;var s=ow(r.alternate,r,Aa);if(s!==null){We=s;return}if(r=r.sibling,r!==null){We=r;return}We=r=t}while(r!==null);Nt===0&&(Nt=5)}function xy(t,r){do{var s=lw(t.alternate,t);if(s!==null){s.flags&=32767,We=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!r&&(t=t.sibling,t!==null)){We=t;return}We=t=s}while(t!==null);Nt=6,We=null}function Cy(t,r,s,l,m,A,k,L,H){t.cancelPendingCommit=null;do Zu();while(on!==0);if((dt&6)!==0)throw Error(i(327));if(r!==null){if(r===t.current)throw Error(i(177));if(A=r.lanes|r.childLanes,A|=zf,Ia(t,s,A,k,L,H),t===Tt&&(We=Tt=null,rt=0),Hs=r,Wa=t,$s=s,$h=A,Gh=m,vy=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,bw(ta,function(){return Iy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,m=se.p,se.p=2,k=dt,dt|=4;try{uw(t,r,s)}finally{dt=k,se.p=m,Q.T=l}}on=1,Dy(),Oy(),My()}}function Dy(){if(on===1){on=0;var t=Wa,r=Hs,s=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||s){s=Q.T,Q.T=null;var l=se.p;se.p=2;var m=dt;dt|=4;try{fy(r,t);var A=ld,k=yp(t.containerInfo),L=A.focusedElem,H=A.selectionRange;if(k!==L&&L&&L.ownerDocument&&gp(L.ownerDocument.documentElement,L)){if(H!==null&&jf(L)){var ee=H.start,ie=H.end;if(ie===void 0&&(ie=ee),"selectionStart"in L)L.selectionStart=ee,L.selectionEnd=Math.min(ie,L.value.length);else{var ue=L.ownerDocument||document,te=ue&&ue.defaultView||window;if(te.getSelection){var ne=te.getSelection(),Ue=L.textContent.length,ke=Math.min(H.start,Ue),bt=H.end===void 0?ke:Math.min(H.end,Ue);!ne.extend&&ke>bt&&(k=bt,bt=ke,ke=k);var Y=pp(L,ke),G=pp(L,bt);if(Y&&G&&(ne.rangeCount!==1||ne.anchorNode!==Y.node||ne.anchorOffset!==Y.offset||ne.focusNode!==G.node||ne.focusOffset!==G.offset)){var Z=ue.createRange();Z.setStart(Y.node,Y.offset),ne.removeAllRanges(),ke>bt?(ne.addRange(Z),ne.extend(G.node,G.offset)):(Z.setEnd(G.node,G.offset),ne.addRange(Z))}}}}for(ue=[],ne=L;ne=ne.parentNode;)ne.nodeType===1&&ue.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof L.focus=="function"&&L.focus(),L=0;L<ue.length;L++){var oe=ue[L];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}cc=!!od,ld=od=null}finally{dt=m,se.p=l,Q.T=s}}t.current=r,on=2}}function Oy(){if(on===2){on=0;var t=Wa,r=Hs,s=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||s){s=Q.T,Q.T=null;var l=se.p;se.p=2;var m=dt;dt|=4;try{oy(t,r.alternate,r)}finally{dt=m,se.p=l,Q.T=s}}on=3}}function My(){if(on===4||on===3){on=0,ds();var t=Wa,r=Hs,s=$s,l=vy;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?on=5:(on=0,Hs=Wa=null,Ny(t,t.pendingLanes));var m=t.pendingLanes;if(m===0&&(Xa=null),ka(s),r=r.stateNode,He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(lt,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=Q.T,m=se.p,se.p=2,Q.T=null;try{for(var A=t.onRecoverableError,k=0;k<l.length;k++){var L=l[k];A(L.value,{componentStack:L.stack})}}finally{Q.T=r,se.p=m}}($s&3)!==0&&Zu(),$r(t),m=t.pendingLanes,(s&4194090)!==0&&(m&42)!==0?t===Qh?ul++:(ul=0,Qh=t):ul=0,cl(0)}}function Ny(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,Fo(r)))}function Zu(t){return Dy(),Oy(),My(),Iy()}function Iy(){if(on!==5)return!1;var t=Wa,r=$h;$h=0;var s=ka($s),l=Q.T,m=se.p;try{se.p=32>s?32:s,Q.T=null,s=Gh,Gh=null;var A=Wa,k=$s;if(on=0,Hs=Wa=null,$s=0,(dt&6)!==0)throw Error(i(331));var L=dt;if(dt|=4,gy(A.current),dy(A,A.current,k,s),dt=L,cl(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(lt,A)}catch{}return!0}finally{se.p=m,Q.T=l,Ny(t,r)}}function ky(t,r,s){r=ir(s,r),r=Sh(t.stateNode,r,2),t=Ba(t,r,2),t!==null&&(yr(t,2),$r(t))}function wt(t,r,s){if(t.tag===3)ky(t,t,s);else for(;r!==null;){if(r.tag===3){ky(r,t,s);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Xa===null||!Xa.has(l))){t=ir(s,t),s=Lg(2),l=Ba(r,s,2),l!==null&&(Ug(s,l,r,t),yr(l,2),$r(l));break}}r=r.return}}function Wh(t,r,s){var l=t.pingCache;if(l===null){l=t.pingCache=new hw;var m=new Set;l.set(r,m)}else m=l.get(r),m===void 0&&(m=new Set,l.set(r,m));m.has(s)||(Bh=!0,m.add(s),t=yw.bind(null,t,r,s),r.then(t,t))}function yw(t,r,s){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Tt===t&&(rt&s)===s&&(Nt===4||Nt===3&&(rt&62914560)===rt&&300>wn()-Hh?(dt&2)===0&&Gs(t,0):qh|=s,Fs===rt&&(Fs=0)),$r(t)}function jy(t,r){r===0&&(r=Ci()),t=Cs(t,r),t!==null&&(yr(t,r),$r(t))}function vw(t){var r=t.memoizedState,s=0;r!==null&&(s=r.retryLane),jy(t,s)}function _w(t,r){var s=0;switch(t.tag){case 13:var l=t.stateNode,m=t.memoizedState;m!==null&&(s=m.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(r),jy(t,s)}function bw(t,r){return ea(t,r)}var Ju=null,Ys=null,Zh=!1,ec=!1,Jh=!1,es=0;function $r(t){t!==Ys&&t.next===null&&(Ys===null?Ju=Ys=t:Ys=Ys.next=t),ec=!0,Zh||(Zh=!0,ww())}function cl(t,r){if(!Jh&&ec){Jh=!0;do for(var s=!1,l=Ju;l!==null;){if(t!==0){var m=l.pendingLanes;if(m===0)var A=0;else{var k=l.suspendedLanes,L=l.pingedLanes;A=(1<<31-Vt(42|t)+1)-1,A&=m&~(k&~L),A=A&201326741?A&201326741|1:A?A|2:0}A!==0&&(s=!0,Uy(l,A))}else A=rt,A=na(l,l===Tt?A:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(A&3)===0||Wn(l,A)||(s=!0,Uy(l,A));l=l.next}while(s);Jh=!1}}function Ew(){Vy()}function Vy(){ec=Zh=!1;var t=0;es!==0&&(Ow()&&(t=es),es=0);for(var r=wn(),s=null,l=Ju;l!==null;){var m=l.next,A=Py(l,r);A===0?(l.next=null,s===null?Ju=m:s.next=m,m===null&&(Ys=s)):(s=l,(t!==0||(A&3)!==0)&&(ec=!0)),l=m}cl(t)}function Py(t,r){for(var s=t.suspendedLanes,l=t.pingedLanes,m=t.expirationTimes,A=t.pendingLanes&-62914561;0<A;){var k=31-Vt(A),L=1<<k,H=m[k];H===-1?((L&s)===0||(L&l)!==0)&&(m[k]=Na(L,r)):H<=r&&(t.expiredLanes|=L),A&=~L}if(r=Tt,s=rt,s=na(t,t===r?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===r&&(mt===2||mt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&En(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Wn(t,s)){if(r=s&-s,r===t.callbackPriority)return r;switch(l!==null&&En(l),ka(s)){case 2:case 8:s=Da;break;case 32:s=ta;break;case 268435456:s=Kn;break;default:s=ta}return l=Ly.bind(null,t),s=ea(s,l),t.callbackPriority=r,t.callbackNode=s,r}return l!==null&&l!==null&&En(l),t.callbackPriority=2,t.callbackNode=null,2}function Ly(t,r){if(on!==0&&on!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Zu()&&t.callbackNode!==s)return null;var l=rt;return l=na(t,t===Tt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(by(t,l,r),Py(t,wn()),t.callbackNode!=null&&t.callbackNode===s?Ly.bind(null,t):null)}function Uy(t,r){if(Zu())return null;by(t,r,!0)}function ww(){Nw(function(){(dt&6)!==0?ea(xi,Ew):Vy()})}function ed(){return es===0&&(es=ra()),es}function zy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:gs(""+t)}function By(t,r){var s=r.ownerDocument.createElement("input");return s.name=r.name,s.value=r.value,t.id&&s.setAttribute("form",t.id),r.parentNode.insertBefore(s,r),t=new FormData(t),s.parentNode.removeChild(s),t}function Aw(t,r,s,l,m){if(r==="submit"&&s&&s.stateNode===m){var A=zy((m[ge]||null).action),k=l.submitter;k&&(r=(r=k[ge]||null)?zy(r.formAction):k.getAttribute("formAction"),r!==null&&(A=r,k=null));var L=new ys("action","action",null,l,m);t.push({event:L,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(es!==0){var H=k?By(m,k):new FormData(m);bh(s,{pending:!0,data:H,method:m.method,action:A},null,H)}}else typeof A=="function"&&(L.preventDefault(),H=k?By(m,k):new FormData(m),bh(s,{pending:!0,data:H,method:m.method,action:A},A,H))},currentTarget:m}]})}}for(var td=0;td<Uf.length;td++){var nd=Uf[td],Tw=nd.toLowerCase(),Sw=nd[0].toUpperCase()+nd.slice(1);_r(Tw,"on"+Sw)}_r(bp,"onAnimationEnd"),_r(Ep,"onAnimationIteration"),_r(wp,"onAnimationStart"),_r("dblclick","onDoubleClick"),_r("focusin","onFocus"),_r("focusout","onBlur"),_r(qE,"onTransitionRun"),_r(FE,"onTransitionStart"),_r(HE,"onTransitionCancel"),_r(Ap,"onTransitionEnd"),Tn("onMouseEnter",["mouseout","mouseover"]),Tn("onMouseLeave",["mouseout","mouseover"]),Tn("onPointerEnter",["pointerout","pointerover"]),Tn("onPointerLeave",["pointerout","pointerover"]),qt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qt("onBeforeInput",["compositionend","keypress","textInput","paste"]),qt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fl));function qy(t,r){r=(r&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],m=l.event;l=l.listeners;e:{var A=void 0;if(r)for(var k=l.length-1;0<=k;k--){var L=l[k],H=L.instance,ee=L.currentTarget;if(L=L.listener,H!==A&&m.isPropagationStopped())break e;A=L,m.currentTarget=ee;try{A(m)}catch(ie){Bu(ie)}m.currentTarget=null,A=H}else for(k=0;k<l.length;k++){if(L=l[k],H=L.instance,ee=L.currentTarget,L=L.listener,H!==A&&m.isPropagationStopped())break e;A=L,m.currentTarget=ee;try{A(m)}catch(ie){Bu(ie)}m.currentTarget=null,A=H}}}}function Ze(t,r){var s=r[Me];s===void 0&&(s=r[Me]=new Set);var l=t+"__bubble";s.has(l)||(Fy(r,t,2,!1),s.add(l))}function rd(t,r,s){var l=0;r&&(l|=4),Fy(s,t,l,r)}var tc="_reactListening"+Math.random().toString(36).slice(2);function ad(t){if(!t[tc]){t[tc]=!0,Qe.forEach(function(s){s!=="selectionchange"&&(Rw.has(s)||rd(s,!1,t),rd(s,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[tc]||(r[tc]=!0,rd("selectionchange",!1,r))}}function Fy(t,r,s,l){switch(dv(r)){case 2:var m=Jw;break;case 8:m=e1;break;default:m=vd}s=m.bind(null,r,s,t),m=void 0,!rr||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(m=!0),l?m!==void 0?t.addEventListener(r,s,{capture:!0,passive:m}):t.addEventListener(r,s,!0):m!==void 0?t.addEventListener(r,s,{passive:m}):t.addEventListener(r,s,!1)}function id(t,r,s,l,m){var A=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var k=l.tag;if(k===3||k===4){var L=l.stateNode.containerInfo;if(L===m)break;if(k===4)for(k=l.return;k!==null;){var H=k.tag;if((H===3||H===4)&&k.stateNode.containerInfo===m)return;k=k.return}for(;L!==null;){if(k=je(L),k===null)return;if(H=k.tag,H===5||H===6||H===26||H===27){l=A=k;continue e}L=L.parentNode}}l=l.return}ru(function(){var ee=A,ie=nr(s),ue=[];e:{var te=Tp.get(t);if(te!==void 0){var ne=ys,Ue=t;switch(t){case"keypress":if(Vr(s)===0)break e;case"keydown":case"keyup":ne=As;break;case"focusin":Ue="focus",ne=bs;break;case"focusout":Ue="blur",ne=bs;break;case"beforeblur":case"afterblur":ne=bs;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=ar;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=Mf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=fu;break;case bp:case Ep:case wp:ne=Es;break;case Ap:ne=du;break;case"scroll":case"scrollend":ne=au;break;case"wheel":ne=Ts;break;case"copy":case"cut":case"paste":ne=ws;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=jo;break;case"toggle":case"beforetoggle":ne=pu}var ke=(r&4)!==0,bt=!ke&&(t==="scroll"||t==="scrollend"),Y=ke?te!==null?te+"Capture":null:te;ke=[];for(var G=ee,Z;G!==null;){var oe=G;if(Z=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||Z===null||Y===null||(oe=Ii(G,Y),oe!=null&&ke.push(hl(G,oe,Z))),bt)break;G=G.return}0<ke.length&&(te=new ne(te,Ue,null,s,ie),ue.push({event:te,listeners:ke}))}}if((r&7)===0){e:{if(te=t==="mouseover"||t==="pointerover",ne=t==="mouseout"||t==="pointerout",te&&s!==sa&&(Ue=s.relatedTarget||s.fromElement)&&(je(Ue)||Ue[Ee]))break e;if((ne||te)&&(te=ie.window===ie?ie:(te=ie.ownerDocument)?te.defaultView||te.parentWindow:window,ne?(Ue=s.relatedTarget||s.toElement,ne=ee,Ue=Ue?je(Ue):null,Ue!==null&&(bt=u(Ue),ke=Ue.tag,Ue!==bt||ke!==5&&ke!==27&&ke!==6)&&(Ue=null)):(ne=null,Ue=ee),ne!==Ue)){if(ke=ar,oe="onMouseLeave",Y="onMouseEnter",G="mouse",(t==="pointerout"||t==="pointerover")&&(ke=jo,oe="onPointerLeave",Y="onPointerEnter",G="pointer"),bt=ne==null?te:ct(ne),Z=Ue==null?te:ct(Ue),te=new ke(oe,G+"leave",ne,s,ie),te.target=bt,te.relatedTarget=Z,oe=null,je(ie)===ee&&(ke=new ke(Y,G+"enter",Ue,s,ie),ke.target=Z,ke.relatedTarget=bt,oe=ke),bt=oe,ne&&Ue)t:{for(ke=ne,Y=Ue,G=0,Z=ke;Z;Z=Ks(Z))G++;for(Z=0,oe=Y;oe;oe=Ks(oe))Z++;for(;0<G-Z;)ke=Ks(ke),G--;for(;0<Z-G;)Y=Ks(Y),Z--;for(;G--;){if(ke===Y||Y!==null&&ke===Y.alternate)break t;ke=Ks(ke),Y=Ks(Y)}ke=null}else ke=null;ne!==null&&Hy(ue,te,ne,ke,!1),Ue!==null&&bt!==null&&Hy(ue,bt,Ue,ke,!0)}}e:{if(te=ee?ct(ee):window,ne=te.nodeName&&te.nodeName.toLowerCase(),ne==="select"||ne==="input"&&te.type==="file")var Ae=up;else if(Ht(te))if(cp)Ae=UE;else{Ae=PE;var Ye=VE}else ne=te.nodeName,!ne||ne.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?ee&&Co(ee.elementType)&&(Ae=up):Ae=LE;if(Ae&&(Ae=Ae(t,ee))){fa(ue,Ae,s,ie);break e}Ye&&Ye(t,te,ee),t==="focusout"&&ee&&te.type==="number"&&ee.memoizedProps.value!=null&&Va(te,"number",te.value)}switch(Ye=ee?ct(ee):window,t){case"focusin":(Ht(Ye)||Ye.contentEditable==="true")&&(Ss=Ye,Vf=ee,Lo=null);break;case"focusout":Lo=Vf=Ss=null;break;case"mousedown":Pf=!0;break;case"contextmenu":case"mouseup":case"dragend":Pf=!1,vp(ue,s,ie);break;case"selectionchange":if(BE)break;case"keydown":case"keyup":vp(ue,s,ie)}var De;if(Ur)e:{switch(t){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else tt?ae(t,s)&&(Ve="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Ve="onCompositionStart");Ve&&(N&&s.locale!=="ko"&&(tt||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&tt&&(De=Oo()):(jr=ie,Pa="value"in jr?jr.value:jr.textContent,tt=!0)),Ye=nc(ee,Ve),0<Ye.length&&(Ve=new Io(Ve,t,null,s,ie),ue.push({event:Ve,listeners:Ye}),De?Ve.data=De:(De=ve(s),De!==null&&(Ve.data=De)))),(De=D?Ft(t,s):nt(t,s))&&(Ve=nc(ee,"onBeforeInput"),0<Ve.length&&(Ye=new Io("onBeforeInput","beforeinput",null,s,ie),ue.push({event:Ye,listeners:Ve}),Ye.data=De)),Aw(ue,t,ee,s,ie)}qy(ue,r)})}function hl(t,r,s){return{instance:t,listener:r,currentTarget:s}}function nc(t,r){for(var s=r+"Capture",l=[];t!==null;){var m=t,A=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||A===null||(m=Ii(t,s),m!=null&&l.unshift(hl(t,m,A)),m=Ii(t,r),m!=null&&l.push(hl(t,m,A))),t.tag===3)return l;t=t.return}return[]}function Ks(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Hy(t,r,s,l,m){for(var A=r._reactName,k=[];s!==null&&s!==l;){var L=s,H=L.alternate,ee=L.stateNode;if(L=L.tag,H!==null&&H===l)break;L!==5&&L!==26&&L!==27||ee===null||(H=ee,m?(ee=Ii(s,A),ee!=null&&k.unshift(hl(s,ee,H))):m||(ee=Ii(s,A),ee!=null&&k.push(hl(s,ee,H)))),s=s.return}k.length!==0&&t.push({event:r,listeners:k})}var xw=/\r\n?/g,Cw=/\u0000|\uFFFD/g;function $y(t){return(typeof t=="string"?t:""+t).replace(xw,`
`).replace(Cw,"")}function Gy(t,r){return r=$y(r),$y(t)===r}function rc(){}function _t(t,r,s,l,m,A){switch(s){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||tr(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&tr(t,""+l);break;case"className":Sn(t,"class",l);break;case"tabIndex":Sn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Sn(t,s,l);break;case"style":xo(t,l,A);break;case"data":if(r!=="object"){Sn(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=gs(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof A=="function"&&(s==="formAction"?(r!=="input"&&_t(t,r,"name",m.name,m,null),_t(t,r,"formEncType",m.formEncType,m,null),_t(t,r,"formMethod",m.formMethod,m,null),_t(t,r,"formTarget",m.formTarget,m,null)):(_t(t,r,"encType",m.encType,m,null),_t(t,r,"method",m.method,m,null),_t(t,r,"target",m.target,m,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=gs(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=rc);break;case"onScroll":l!=null&&Ze("scroll",t);break;case"onScrollEnd":l!=null&&Ze("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(s=l.__html,s!=null){if(m.children!=null)throw Error(i(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=gs(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Ze("beforetoggle",t),Ze("toggle",t),mn(t,"popover",l);break;case"xlinkActuate":ze(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ze(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ze(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ze(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ze(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ze(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ze(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ze(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ze(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":mn(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Df.get(s)||s,mn(t,s,l))}}function sd(t,r,s,l,m,A){switch(s){case"style":xo(t,l,A);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(s=l.__html,s!=null){if(m.children!=null)throw Error(i(60));t.innerHTML=s}}break;case"children":typeof l=="string"?tr(t,l):(typeof l=="number"||typeof l=="bigint")&&tr(t,""+l);break;case"onScroll":l!=null&&Ze("scroll",t);break;case"onScrollEnd":l!=null&&Ze("scrollend",t);break;case"onClick":l!=null&&(t.onclick=rc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Jn.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(m=s.endsWith("Capture"),r=s.slice(2,m?s.length-7:void 0),A=t[ge]||null,A=A!=null?A[s]:null,typeof A=="function"&&t.removeEventListener(r,A,m),typeof l=="function")){typeof A!="function"&&A!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(r,l,m);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):mn(t,s,l)}}}function ln(t,r,s){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ze("error",t),Ze("load",t);var l=!1,m=!1,A;for(A in s)if(s.hasOwnProperty(A)){var k=s[A];if(k!=null)switch(A){case"src":l=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:_t(t,r,A,k,s,null)}}m&&_t(t,r,"srcSet",s.srcSet,s,null),l&&_t(t,r,"src",s.src,s,null);return;case"input":Ze("invalid",t);var L=A=k=m=null,H=null,ee=null;for(l in s)if(s.hasOwnProperty(l)){var ie=s[l];if(ie!=null)switch(l){case"name":m=ie;break;case"type":k=ie;break;case"checked":H=ie;break;case"defaultChecked":ee=ie;break;case"value":A=ie;break;case"defaultValue":L=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(i(137,r));break;default:_t(t,r,l,ie,s,null)}}Oi(t,A,L,H,ee,k,m,!1),ps(t);return;case"select":Ze("invalid",t),l=k=A=null;for(m in s)if(s.hasOwnProperty(m)&&(L=s[m],L!=null))switch(m){case"value":A=L;break;case"defaultValue":k=L;break;case"multiple":l=L;default:_t(t,r,m,L,s,null)}r=A,s=k,t.multiple=!!l,r!=null?ia(t,!!l,r,!1):s!=null&&ia(t,!!l,s,!0);return;case"textarea":Ze("invalid",t),A=m=l=null;for(k in s)if(s.hasOwnProperty(k)&&(L=s[k],L!=null))switch(k){case"value":l=L;break;case"defaultValue":m=L;break;case"children":A=L;break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(i(91));break;default:_t(t,r,k,L,s,null)}Mi(t,l,m,A),ps(t);return;case"option":for(H in s)if(s.hasOwnProperty(H)&&(l=s[H],l!=null))switch(H){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:_t(t,r,H,l,s,null)}return;case"dialog":Ze("beforetoggle",t),Ze("toggle",t),Ze("cancel",t),Ze("close",t);break;case"iframe":case"object":Ze("load",t);break;case"video":case"audio":for(l=0;l<fl.length;l++)Ze(fl[l],t);break;case"image":Ze("error",t),Ze("load",t);break;case"details":Ze("toggle",t);break;case"embed":case"source":case"link":Ze("error",t),Ze("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in s)if(s.hasOwnProperty(ee)&&(l=s[ee],l!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:_t(t,r,ee,l,s,null)}return;default:if(Co(r)){for(ie in s)s.hasOwnProperty(ie)&&(l=s[ie],l!==void 0&&sd(t,r,ie,l,s,void 0));return}}for(L in s)s.hasOwnProperty(L)&&(l=s[L],l!=null&&_t(t,r,L,l,s,null))}function Dw(t,r,s,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,A=null,k=null,L=null,H=null,ee=null,ie=null;for(ne in s){var ue=s[ne];if(s.hasOwnProperty(ne)&&ue!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":H=ue;default:l.hasOwnProperty(ne)||_t(t,r,ne,null,l,ue)}}for(var te in l){var ne=l[te];if(ue=s[te],l.hasOwnProperty(te)&&(ne!=null||ue!=null))switch(te){case"type":A=ne;break;case"name":m=ne;break;case"checked":ee=ne;break;case"defaultChecked":ie=ne;break;case"value":k=ne;break;case"defaultValue":L=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,r));break;default:ne!==ue&&_t(t,r,te,ne,l,ue)}}Pn(t,k,L,H,ee,ie,A,m);return;case"select":ne=k=L=te=null;for(A in s)if(H=s[A],s.hasOwnProperty(A)&&H!=null)switch(A){case"value":break;case"multiple":ne=H;default:l.hasOwnProperty(A)||_t(t,r,A,null,l,H)}for(m in l)if(A=l[m],H=s[m],l.hasOwnProperty(m)&&(A!=null||H!=null))switch(m){case"value":te=A;break;case"defaultValue":L=A;break;case"multiple":k=A;default:A!==H&&_t(t,r,m,A,l,H)}r=L,s=k,l=ne,te!=null?ia(t,!!s,te,!1):!!l!=!!s&&(r!=null?ia(t,!!s,r,!0):ia(t,!!s,s?[]:"",!1));return;case"textarea":ne=te=null;for(L in s)if(m=s[L],s.hasOwnProperty(L)&&m!=null&&!l.hasOwnProperty(L))switch(L){case"value":break;case"children":break;default:_t(t,r,L,null,l,m)}for(k in l)if(m=l[k],A=s[k],l.hasOwnProperty(k)&&(m!=null||A!=null))switch(k){case"value":te=m;break;case"defaultValue":ne=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==A&&_t(t,r,k,m,l,A)}yt(t,te,ne);return;case"option":for(var Ue in s)if(te=s[Ue],s.hasOwnProperty(Ue)&&te!=null&&!l.hasOwnProperty(Ue))switch(Ue){case"selected":t.selected=!1;break;default:_t(t,r,Ue,null,l,te)}for(H in l)if(te=l[H],ne=s[H],l.hasOwnProperty(H)&&te!==ne&&(te!=null||ne!=null))switch(H){case"selected":t.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:_t(t,r,H,te,l,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ke in s)te=s[ke],s.hasOwnProperty(ke)&&te!=null&&!l.hasOwnProperty(ke)&&_t(t,r,ke,null,l,te);for(ee in l)if(te=l[ee],ne=s[ee],l.hasOwnProperty(ee)&&te!==ne&&(te!=null||ne!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,r));break;default:_t(t,r,ee,te,l,ne)}return;default:if(Co(r)){for(var bt in s)te=s[bt],s.hasOwnProperty(bt)&&te!==void 0&&!l.hasOwnProperty(bt)&&sd(t,r,bt,void 0,l,te);for(ie in l)te=l[ie],ne=s[ie],!l.hasOwnProperty(ie)||te===ne||te===void 0&&ne===void 0||sd(t,r,ie,te,l,ne);return}}for(var Y in s)te=s[Y],s.hasOwnProperty(Y)&&te!=null&&!l.hasOwnProperty(Y)&&_t(t,r,Y,null,l,te);for(ue in l)te=l[ue],ne=s[ue],!l.hasOwnProperty(ue)||te===ne||te==null&&ne==null||_t(t,r,ue,te,l,ne)}var od=null,ld=null;function ac(t){return t.nodeType===9?t:t.ownerDocument}function Qy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Yy(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function ud(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var cd=null;function Ow(){var t=window.event;return t&&t.type==="popstate"?t===cd?!1:(cd=t,!0):(cd=null,!1)}var Ky=typeof setTimeout=="function"?setTimeout:void 0,Mw=typeof clearTimeout=="function"?clearTimeout:void 0,Xy=typeof Promise=="function"?Promise:void 0,Nw=typeof queueMicrotask=="function"?queueMicrotask:typeof Xy<"u"?function(t){return Xy.resolve(null).then(t).catch(Iw)}:Ky;function Iw(t){setTimeout(function(){throw t})}function Ja(t){return t==="head"}function Wy(t,r){var s=r,l=0,m=0;do{var A=s.nextSibling;if(t.removeChild(s),A&&A.nodeType===8)if(s=A.data,s==="/$"){if(0<l&&8>l){s=l;var k=t.ownerDocument;if(s&1&&dl(k.documentElement),s&2&&dl(k.body),s&4)for(s=k.head,dl(s),k=s.firstChild;k;){var L=k.nextSibling,H=k.nodeName;k[Ie]||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&k.rel.toLowerCase()==="stylesheet"||s.removeChild(k),k=L}}if(m===0){t.removeChild(A),El(r);return}m--}else s==="$"||s==="$?"||s==="$!"?m++:l=s.charCodeAt(0)-48;else l=0;s=A}while(s);El(r)}function fd(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var s=r;switch(r=r.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":fd(s),Se(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function kw(t,r,s,l){for(;t.nodeType===1;){var m=s;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ie])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(A=t.getAttribute("rel"),A==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(A!==m.rel||t.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||t.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||t.getAttribute("title")!==(m.title==null?null:m.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(A=t.getAttribute("src"),(A!==(m.src==null?null:m.src)||t.getAttribute("type")!==(m.type==null?null:m.type)||t.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&A&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var A=m.name==null?null:""+m.name;if(m.type==="hidden"&&t.getAttribute("name")===A)return t}else return t;if(t=Er(t.nextSibling),t===null)break}return null}function jw(t,r,s){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Er(t.nextSibling),t===null))return null;return t}function hd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function Vw(t,r){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")r();else{var l=function(){r(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Er(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var dd=null;function Zy(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(r===0)return t;r--}else s==="/$"&&r++}t=t.previousSibling}return null}function Jy(t,r,s){switch(r=ac(s),t){case"html":if(t=r.documentElement,!t)throw Error(i(452));return t;case"head":if(t=r.head,!t)throw Error(i(453));return t;case"body":if(t=r.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function dl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Se(t)}var fr=new Map,ev=new Set;function ic(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ta=se.d;se.d={f:Pw,r:Lw,D:Uw,C:zw,L:Bw,m:qw,X:Hw,S:Fw,M:$w};function Pw(){var t=Ta.f(),r=Xu();return t||r}function Lw(t){var r=Xe(t);r!==null&&r.tag===5&&r.type==="form"?bg(r):Ta.r(t)}var Xs=typeof document>"u"?null:document;function tv(t,r,s){var l=Xs;if(l&&typeof r=="string"&&r){var m=Lt(r);m='link[rel="'+t+'"][href="'+m+'"]',typeof s=="string"&&(m+='[crossorigin="'+s+'"]'),ev.has(m)||(ev.add(m),t={rel:t,crossOrigin:s,href:r},l.querySelector(m)===null&&(r=l.createElement("link"),ln(r,"link",t),et(r),l.head.appendChild(r)))}}function Uw(t){Ta.D(t),tv("dns-prefetch",t,null)}function zw(t,r){Ta.C(t,r),tv("preconnect",t,r)}function Bw(t,r,s){Ta.L(t,r,s);var l=Xs;if(l&&t&&r){var m='link[rel="preload"][as="'+Lt(r)+'"]';r==="image"&&s&&s.imageSrcSet?(m+='[imagesrcset="'+Lt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(m+='[imagesizes="'+Lt(s.imageSizes)+'"]')):m+='[href="'+Lt(t)+'"]';var A=m;switch(r){case"style":A=Ws(t);break;case"script":A=Zs(t)}fr.has(A)||(t=E({rel:"preload",href:r==="image"&&s&&s.imageSrcSet?void 0:t,as:r},s),fr.set(A,t),l.querySelector(m)!==null||r==="style"&&l.querySelector(ml(A))||r==="script"&&l.querySelector(pl(A))||(r=l.createElement("link"),ln(r,"link",t),et(r),l.head.appendChild(r)))}}function qw(t,r){Ta.m(t,r);var s=Xs;if(s&&t){var l=r&&typeof r.as=="string"?r.as:"script",m='link[rel="modulepreload"][as="'+Lt(l)+'"][href="'+Lt(t)+'"]',A=m;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":A=Zs(t)}if(!fr.has(A)&&(t=E({rel:"modulepreload",href:t},r),fr.set(A,t),s.querySelector(m)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(pl(A)))return}l=s.createElement("link"),ln(l,"link",t),et(l),s.head.appendChild(l)}}}function Fw(t,r,s){Ta.S(t,r,s);var l=Xs;if(l&&t){var m=st(l).hoistableStyles,A=Ws(t);r=r||"default";var k=m.get(A);if(!k){var L={loading:0,preload:null};if(k=l.querySelector(ml(A)))L.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":r},s),(s=fr.get(A))&&md(t,s);var H=k=l.createElement("link");et(H),ln(H,"link",t),H._p=new Promise(function(ee,ie){H.onload=ee,H.onerror=ie}),H.addEventListener("load",function(){L.loading|=1}),H.addEventListener("error",function(){L.loading|=2}),L.loading|=4,sc(k,r,l)}k={type:"stylesheet",instance:k,count:1,state:L},m.set(A,k)}}}function Hw(t,r){Ta.X(t,r);var s=Xs;if(s&&t){var l=st(s).hoistableScripts,m=Zs(t),A=l.get(m);A||(A=s.querySelector(pl(m)),A||(t=E({src:t,async:!0},r),(r=fr.get(m))&&pd(t,r),A=s.createElement("script"),et(A),ln(A,"link",t),s.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},l.set(m,A))}}function $w(t,r){Ta.M(t,r);var s=Xs;if(s&&t){var l=st(s).hoistableScripts,m=Zs(t),A=l.get(m);A||(A=s.querySelector(pl(m)),A||(t=E({src:t,async:!0,type:"module"},r),(r=fr.get(m))&&pd(t,r),A=s.createElement("script"),et(A),ln(A,"link",t),s.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},l.set(m,A))}}function nv(t,r,s,l){var m=(m=xe.current)?ic(m):null;if(!m)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(r=Ws(s.href),s=st(m).hoistableStyles,l=s.get(r),l||(l={type:"style",instance:null,count:0,state:null},s.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Ws(s.href);var A=st(m).hoistableStyles,k=A.get(t);if(k||(m=m.ownerDocument||m,k={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},A.set(t,k),(A=m.querySelector(ml(t)))&&!A._p&&(k.instance=A,k.state.loading=5),fr.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},fr.set(t,s),A||Gw(m,t,s,k.state))),r&&l===null)throw Error(i(528,""));return k}if(r&&l!==null)throw Error(i(529,""));return null;case"script":return r=s.async,s=s.src,typeof s=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Zs(s),s=st(m).hoistableScripts,l=s.get(r),l||(l={type:"script",instance:null,count:0,state:null},s.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function Ws(t){return'href="'+Lt(t)+'"'}function ml(t){return'link[rel="stylesheet"]['+t+"]"}function rv(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function Gw(t,r,s,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),ln(r,"link",s),et(r),t.head.appendChild(r))}function Zs(t){return'[src="'+Lt(t)+'"]'}function pl(t){return"script[async]"+t}function av(t,r,s){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+Lt(s.href)+'"]');if(l)return r.instance=l,et(l),l;var m=E({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),et(l),ln(l,"style",m),sc(l,s.precedence,t),r.instance=l;case"stylesheet":m=Ws(s.href);var A=t.querySelector(ml(m));if(A)return r.state.loading|=4,r.instance=A,et(A),A;l=rv(s),(m=fr.get(m))&&md(l,m),A=(t.ownerDocument||t).createElement("link"),et(A);var k=A;return k._p=new Promise(function(L,H){k.onload=L,k.onerror=H}),ln(A,"link",l),r.state.loading|=4,sc(A,s.precedence,t),r.instance=A;case"script":return A=Zs(s.src),(m=t.querySelector(pl(A)))?(r.instance=m,et(m),m):(l=s,(m=fr.get(A))&&(l=E({},s),pd(l,m)),t=t.ownerDocument||t,m=t.createElement("script"),et(m),ln(m,"link",l),t.head.appendChild(m),r.instance=m);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,sc(l,s.precedence,t));return r.instance}function sc(t,r,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=l.length?l[l.length-1]:null,A=m,k=0;k<l.length;k++){var L=l[k];if(L.dataset.precedence===r)A=L;else if(A!==m)break}A?A.parentNode.insertBefore(t,A.nextSibling):(r=s.nodeType===9?s.head:s,r.insertBefore(t,r.firstChild))}function md(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function pd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var oc=null;function iv(t,r,s){if(oc===null){var l=new Map,m=oc=new Map;m.set(s,l)}else m=oc,l=m.get(s),l||(l=new Map,m.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),m=0;m<s.length;m++){var A=s[m];if(!(A[Ie]||A[le]||t==="link"&&A.getAttribute("rel")==="stylesheet")&&A.namespaceURI!=="http://www.w3.org/2000/svg"){var k=A.getAttribute(r)||"";k=t+k;var L=l.get(k);L?L.push(A):l.set(k,[A])}}return l}function sv(t,r,s){t=t.ownerDocument||t,t.head.insertBefore(s,r==="title"?t.querySelector("head > title"):null)}function Qw(t,r,s){if(s===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function ov(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var gl=null;function Yw(){}function Kw(t,r,s){if(gl===null)throw Error(i(475));var l=gl;if(r.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var m=Ws(s.href),A=t.querySelector(ml(m));if(A){t=A._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=lc.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=A,et(A);return}A=t.ownerDocument||t,s=rv(s),(m=fr.get(m))&&md(s,m),A=A.createElement("link"),et(A);var k=A;k._p=new Promise(function(L,H){k.onload=L,k.onerror=H}),ln(A,"link",s),r.instance=A}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=lc.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function Xw(){if(gl===null)throw Error(i(475));var t=gl;return t.stylesheets&&t.count===0&&gd(t,t.stylesheets),0<t.count?function(r){var s=setTimeout(function(){if(t.stylesheets&&gd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(s)}}:null}function lc(){if(this.count--,this.count===0){if(this.stylesheets)gd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var uc=null;function gd(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,uc=new Map,r.forEach(Ww,t),uc=null,lc.call(t))}function Ww(t,r){if(!(r.state.loading&4)){var s=uc.get(t);if(s)var l=s.get(null);else{s=new Map,uc.set(t,s);for(var m=t.querySelectorAll("link[data-precedence],style[data-precedence]"),A=0;A<m.length;A++){var k=m[A];(k.nodeName==="LINK"||k.getAttribute("media")!=="not all")&&(s.set(k.dataset.precedence,k),l=k)}l&&s.set(null,l)}m=r.instance,k=m.getAttribute("data-precedence"),A=s.get(k)||l,A===l&&s.set(null,m),s.set(k,m),this.count++,l=lc.bind(this),m.addEventListener("load",l),m.addEventListener("error",l),A?A.parentNode.insertBefore(m,A.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(m,t.firstChild)),r.state.loading|=4}}var yl={$$typeof:C,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function Zw(t,r,s,l,m,A,k,L){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zn(0),this.hiddenUpdates=Zn(null),this.identifierPrefix=l,this.onUncaughtError=m,this.onCaughtError=A,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function lv(t,r,s,l,m,A,k,L,H,ee,ie,ue){return t=new Zw(t,r,s,k,L,H,ee,ue),r=1,A===!0&&(r|=24),A=Un(3,null,null,r),t.current=A,A.stateNode=t,r=Wf(),r.refCount++,t.pooledCache=r,r.refCount++,A.memoizedState={element:l,isDehydrated:s,cache:r},th(A),t}function uv(t){return t?(t=Ds,t):Ds}function cv(t,r,s,l,m,A){m=uv(m),l.context===null?l.context=m:l.pendingContext=m,l=za(r),l.payload={element:s},A=A===void 0?null:A,A!==null&&(l.callback=A),s=Ba(t,l,r),s!==null&&(Hn(s,t,r),Qo(s,t,r))}function fv(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<r?s:r}}function yd(t,r){fv(t,r),(t=t.alternate)&&fv(t,r)}function hv(t){if(t.tag===13){var r=Cs(t,67108864);r!==null&&Hn(r,t,67108864),yd(t,67108864)}}var cc=!0;function Jw(t,r,s,l){var m=Q.T;Q.T=null;var A=se.p;try{se.p=2,vd(t,r,s,l)}finally{se.p=A,Q.T=m}}function e1(t,r,s,l){var m=Q.T;Q.T=null;var A=se.p;try{se.p=8,vd(t,r,s,l)}finally{se.p=A,Q.T=m}}function vd(t,r,s,l){if(cc){var m=_d(l);if(m===null)id(t,r,l,fc,s),mv(t,l);else if(n1(m,t,r,s,l))l.stopPropagation();else if(mv(t,l),r&4&&-1<t1.indexOf(t)){for(;m!==null;){var A=Xe(m);if(A!==null)switch(A.tag){case 3:if(A=A.stateNode,A.current.memoizedState.isDehydrated){var k=kn(A.pendingLanes);if(k!==0){var L=A;for(L.pendingLanes|=2,L.entangledLanes|=2;k;){var H=1<<31-Vt(k);L.entanglements[1]|=H,k&=~H}$r(A),(dt&6)===0&&(Yu=wn()+500,cl(0))}}break;case 13:L=Cs(A,2),L!==null&&Hn(L,A,2),Xu(),yd(A,2)}if(A=_d(l),A===null&&id(t,r,l,fc,s),A===m)break;m=A}m!==null&&l.stopPropagation()}else id(t,r,l,null,s)}}function _d(t){return t=nr(t),bd(t)}var fc=null;function bd(t){if(fc=null,t=je(t),t!==null){var r=u(t);if(r===null)t=null;else{var s=r.tag;if(s===13){if(t=f(r),t!==null)return t;t=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return fc=t,null}function dv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(To()){case xi:return 2;case Da:return 8;case ta:case gr:return 32;case Kn:return 268435456;default:return 32}default:return 32}}var Ed=!1,ei=null,ti=null,ni=null,vl=new Map,_l=new Map,ri=[],t1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function mv(t,r){switch(t){case"focusin":case"focusout":ei=null;break;case"dragenter":case"dragleave":ti=null;break;case"mouseover":case"mouseout":ni=null;break;case"pointerover":case"pointerout":vl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":_l.delete(r.pointerId)}}function bl(t,r,s,l,m,A){return t===null||t.nativeEvent!==A?(t={blockedOn:r,domEventName:s,eventSystemFlags:l,nativeEvent:A,targetContainers:[m]},r!==null&&(r=Xe(r),r!==null&&hv(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,m!==null&&r.indexOf(m)===-1&&r.push(m),t)}function n1(t,r,s,l,m){switch(r){case"focusin":return ei=bl(ei,t,r,s,l,m),!0;case"dragenter":return ti=bl(ti,t,r,s,l,m),!0;case"mouseover":return ni=bl(ni,t,r,s,l,m),!0;case"pointerover":var A=m.pointerId;return vl.set(A,bl(vl.get(A)||null,t,r,s,l,m)),!0;case"gotpointercapture":return A=m.pointerId,_l.set(A,bl(_l.get(A)||null,t,r,s,l,m)),!0}return!1}function pv(t){var r=je(t.target);if(r!==null){var s=u(r);if(s!==null){if(r=s.tag,r===13){if(r=f(s),r!==null){t.blockedOn=r,K(t.priority,function(){if(s.tag===13){var l=Fn();l=Mr(l);var m=Cs(s,l);m!==null&&Hn(m,s,l),yd(s,l)}});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function hc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var s=_d(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);sa=l,s.target.dispatchEvent(l),sa=null}else return r=Xe(s),r!==null&&hv(r),t.blockedOn=s,!1;r.shift()}return!0}function gv(t,r,s){hc(t)&&s.delete(r)}function r1(){Ed=!1,ei!==null&&hc(ei)&&(ei=null),ti!==null&&hc(ti)&&(ti=null),ni!==null&&hc(ni)&&(ni=null),vl.forEach(gv),_l.forEach(gv)}function dc(t,r){t.blockedOn===r&&(t.blockedOn=null,Ed||(Ed=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,r1)))}var mc=null;function yv(t){mc!==t&&(mc=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){mc===t&&(mc=null);for(var r=0;r<t.length;r+=3){var s=t[r],l=t[r+1],m=t[r+2];if(typeof l!="function"){if(bd(l||s)===null)continue;break}var A=Xe(s);A!==null&&(t.splice(r,3),r-=3,bh(A,{pending:!0,data:m,method:s.method,action:l},l,m))}}))}function El(t){function r(H){return dc(H,t)}ei!==null&&dc(ei,t),ti!==null&&dc(ti,t),ni!==null&&dc(ni,t),vl.forEach(r),_l.forEach(r);for(var s=0;s<ri.length;s++){var l=ri[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ri.length&&(s=ri[0],s.blockedOn===null);)pv(s),s.blockedOn===null&&ri.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var m=s[l],A=s[l+1],k=m[ge]||null;if(typeof A=="function")k||yv(s);else if(k){var L=null;if(A&&A.hasAttribute("formAction")){if(m=A,k=A[ge]||null)L=k.formAction;else if(bd(m)!==null)continue}else L=k.action;typeof L=="function"?s[l+1]=L:(s.splice(l,3),l-=3),yv(s)}}}function wd(t){this._internalRoot=t}pc.prototype.render=wd.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(i(409));var s=r.current,l=Fn();cv(s,l,t,r,null,null)},pc.prototype.unmount=wd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;cv(t.current,2,null,t,null,null),Xu(),r[Ee]=null}};function pc(t){this._internalRoot=t}pc.prototype.unstable_scheduleHydration=function(t){if(t){var r=$();t={blockedOn:null,target:t,priority:r};for(var s=0;s<ri.length&&r!==0&&r<ri[s].priority;s++);ri.splice(s,0,t),s===0&&pv(t)}};var vv=e.version;if(vv!=="19.1.0")throw Error(i(527,vv,"19.1.0"));se.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=p(r),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var a1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gc.isDisabled&&gc.supportsFiber)try{lt=gc.inject(a1),He=gc}catch{}}return Al.createRoot=function(t,r){if(!o(t))throw Error(i(299));var s=!1,l="",m=kg,A=jg,k=Vg,L=null;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(A=r.onCaughtError),r.onRecoverableError!==void 0&&(k=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(L=r.unstable_transitionCallbacks)),r=lv(t,1,!1,null,null,s,l,m,A,k,L,null),t[Ee]=r.current,ad(t),new wd(r)},Al.hydrateRoot=function(t,r,s){if(!o(t))throw Error(i(299));var l=!1,m="",A=kg,k=jg,L=Vg,H=null,ee=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(m=s.identifierPrefix),s.onUncaughtError!==void 0&&(A=s.onUncaughtError),s.onCaughtError!==void 0&&(k=s.onCaughtError),s.onRecoverableError!==void 0&&(L=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(H=s.unstable_transitionCallbacks),s.formState!==void 0&&(ee=s.formState)),r=lv(t,1,!0,r,s??null,l,m,A,k,L,H,ee),r.context=uv(null),s=r.current,l=Fn(),l=Mr(l),m=za(l),m.callback=null,Ba(s,m,l),s=l,r.current.lanes=s,yr(r,s),$r(r),t[Ee]=r.current,ad(t),new pc(r)},Al.version="19.1.0",Al}var Dv;function d1(){if(Dv)return Sd.exports;Dv=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Sd.exports=h1(),Sd.exports}var m1=d1(),Tl={},Ov;function p1(){if(Ov)return Tl;Ov=1,Object.defineProperty(Tl,"__esModule",{value:!0}),Tl.parse=f,Tl.serialize=y;const a=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const g=function(){};return g.prototype=Object.create(null),g})();function f(g,b){const v=new u,_=g.length;if(_<2)return v;const R=(b==null?void 0:b.decode)||E;let w=0;do{const T=g.indexOf("=",w);if(T===-1)break;const C=g.indexOf(";",w),I=C===-1?_:C;if(T>I){w=g.lastIndexOf(";",T-1)+1;continue}const V=c(g,w,T),j=p(g,T,V),M=g.slice(V,j);if(v[M]===void 0){let S=c(g,T+1,I),x=p(g,I,S);const O=R(g.slice(S,x));v[M]=O}w=I+1}while(w<_);return v}function c(g,b,v){do{const _=g.charCodeAt(b);if(_!==32&&_!==9)return b}while(++b<v);return v}function p(g,b,v){for(;b>v;){const _=g.charCodeAt(--b);if(_!==32&&_!==9)return b+1}return v}function y(g,b,v){const _=(v==null?void 0:v.encode)||encodeURIComponent;if(!a.test(g))throw new TypeError(`argument name is invalid: ${g}`);const R=_(b);if(!e.test(R))throw new TypeError(`argument val is invalid: ${b}`);let w=g+"="+R;if(!v)return w;if(v.maxAge!==void 0){if(!Number.isInteger(v.maxAge))throw new TypeError(`option maxAge is invalid: ${v.maxAge}`);w+="; Max-Age="+v.maxAge}if(v.domain){if(!n.test(v.domain))throw new TypeError(`option domain is invalid: ${v.domain}`);w+="; Domain="+v.domain}if(v.path){if(!i.test(v.path))throw new TypeError(`option path is invalid: ${v.path}`);w+="; Path="+v.path}if(v.expires){if(!d(v.expires)||!Number.isFinite(v.expires.valueOf()))throw new TypeError(`option expires is invalid: ${v.expires}`);w+="; Expires="+v.expires.toUTCString()}if(v.httpOnly&&(w+="; HttpOnly"),v.secure&&(w+="; Secure"),v.partitioned&&(w+="; Partitioned"),v.priority)switch(typeof v.priority=="string"?v.priority.toLowerCase():void 0){case"low":w+="; Priority=Low";break;case"medium":w+="; Priority=Medium";break;case"high":w+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${v.priority}`)}if(v.sameSite)switch(typeof v.sameSite=="string"?v.sameSite.toLowerCase():v.sameSite){case!0:case"strict":w+="; SameSite=Strict";break;case"lax":w+="; SameSite=Lax";break;case"none":w+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${v.sameSite}`)}return w}function E(g){if(g.indexOf("%")===-1)return g;try{return decodeURIComponent(g)}catch{return g}}function d(g){return o.call(g)==="[object Date]"}return Tl}p1();/**
 * react-router v7.5.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var wb=a=>{throw TypeError(a)},g1=(a,e,n)=>e.has(a)||wb("Cannot "+n),Dd=(a,e,n)=>(g1(a,e,"read from private field"),n?n.call(a):e.get(a)),y1=(a,e,n)=>e.has(a)?wb("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(a):e.set(a,n),Mv="popstate";function v1(a={}){function e(o,u){let{pathname:f="/",search:c="",hash:p=""}=Ca(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Ll("",{pathname:f,search:c,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),c="";if(f&&f.getAttribute("href")){let p=o.location.href,y=p.indexOf("#");c=y===-1?p:p.slice(0,y)}return c+"#"+(typeof u=="string"?u:pi(u))}function i(o,u){Dt(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return b1(e,n,i,a)}function Ke(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function Dt(a,e){if(!a){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _1(){return Math.random().toString(36).substring(2,10)}function Nv(a,e){return{usr:a.state,key:a.key,idx:e}}function Ll(a,e,n=null,i){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof e=="string"?Ca(e):e,state:n,key:e&&e.key||i||_1()}}function pi({pathname:a="/",search:e="",hash:n=""}){return e&&e!=="?"&&(a+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(a+=n.charAt(0)==="#"?n:"#"+n),a}function Ca(a){let e={};if(a){let n=a.indexOf("#");n>=0&&(e.hash=a.substring(n),a=a.substring(0,n));let i=a.indexOf("?");i>=0&&(e.search=a.substring(i),a=a.substring(0,i)),a&&(e.pathname=a)}return e}function b1(a,e,n,i={}){let{window:o=document.defaultView,v5Compat:u=!1}=i,f=o.history,c="POP",p=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function d(){c="POP";let R=E(),w=R==null?null:R-y;y=R,p&&p({action:c,location:_.location,delta:w})}function g(R,w){c="PUSH";let T=Ll(_.location,R,w);n&&n(T,R),y=E()+1;let C=Nv(T,y),I=_.createHref(T);try{f.pushState(C,"",I)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;o.location.assign(I)}u&&p&&p({action:c,location:_.location,delta:1})}function b(R,w){c="REPLACE";let T=Ll(_.location,R,w);n&&n(T,R),y=E();let C=Nv(T,y),I=_.createHref(T);f.replaceState(C,"",I),u&&p&&p({action:c,location:_.location,delta:0})}function v(R){let w=o.location.origin!=="null"?o.location.origin:o.location.href,T=typeof R=="string"?R:pi(R);return T=T.replace(/ $/,"%20"),Ke(w,`No window.location.(origin|href) available to create URL for href: ${T}`),new URL(T,w)}let _={get action(){return c},get location(){return a(o,f)},listen(R){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Mv,d),p=R,()=>{o.removeEventListener(Mv,d),p=null}},createHref(R){return e(o,R)},createURL:v,encodeLocation(R){let w=v(R);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:g,replace:b,go(R){return f.go(R)}};return _}var Cl,Iv=class{constructor(a){if(y1(this,Cl,new Map),a)for(let[e,n]of a)this.set(e,n)}get(a){if(Dd(this,Cl).has(a))return Dd(this,Cl).get(a);if(a.defaultValue!==void 0)return a.defaultValue;throw new Error("No value found for context")}set(a,e){Dd(this,Cl).set(a,e)}};Cl=new WeakMap;var E1=new Set(["lazy","caseSensitive","path","id","index","children"]);function w1(a){return E1.has(a)}var A1=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function T1(a){return A1.has(a)}function S1(a){return a.index===!0}function jc(a,e,n=[],i={}){return a.map((o,u)=>{let f=[...n,String(u)],c=typeof o.id=="string"?o.id:f.join("-");if(Ke(o.index!==!0||!o.children,"Cannot specify children on an index route"),Ke(!i[c],`Found a route id collision on id "${c}".  Route id's must be globally unique within Data Router usages`),S1(o)){let p={...o,...e(o),id:c};return i[c]=p,p}else{let p={...o,...e(o),id:c,children:void 0};return i[c]=p,o.children&&(p.children=jc(o.children,e,f,i)),p}})}function oi(a,e,n="/"){return Rc(a,e,n,!1)}function Rc(a,e,n,i){let o=typeof e=="string"?Ca(e):e,u=mr(o.pathname||"/",n);if(u==null)return null;let f=Ab(a);x1(f);let c=null;for(let p=0;c==null&&p<f.length;++p){let y=L1(u);c=V1(f[p],y,i)}return c}function R1(a,e){let{route:n,pathname:i,params:o}=a;return{id:n.id,pathname:i,params:o,data:e[n.id],handle:n.handle}}function Ab(a,e=[],n=[],i=""){let o=(u,f,c)=>{let p={relativePath:c===void 0?u.path||"":c,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(Ke(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let y=Kr([i,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(Ke(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Ab(u.children,e,E,y)),!(u.path==null&&!u.index)&&e.push({path:y,score:k1(y,u.index),routesMeta:E})};return a.forEach((u,f)=>{var c;if(u.path===""||!((c=u.path)!=null&&c.includes("?")))o(u,f);else for(let p of Tb(u.path))o(u,f,p)}),e}function Tb(a){let e=a.split("/");if(e.length===0)return[];let[n,...i]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(i.length===0)return o?[u,""]:[u];let f=Tb(i.join("/")),c=[];return c.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&c.push(...f),c.map(p=>a.startsWith("/")&&p===""?"/":p)}function x1(a){a.sort((e,n)=>e.score!==n.score?n.score-e.score:j1(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var C1=/^:[\w-]+$/,D1=3,O1=2,M1=1,N1=10,I1=-2,kv=a=>a==="*";function k1(a,e){let n=a.split("/"),i=n.length;return n.some(kv)&&(i+=I1),e&&(i+=O1),n.filter(o=>!kv(o)).reduce((o,u)=>o+(C1.test(u)?D1:u===""?M1:N1),i)}function j1(a,e){return a.length===e.length&&a.slice(0,-1).every((i,o)=>i===e[o])?a[a.length-1]-e[e.length-1]:0}function V1(a,e,n=!1){let{routesMeta:i}=a,o={},u="/",f=[];for(let c=0;c<i.length;++c){let p=i[c],y=c===i.length-1,E=u==="/"?e:e.slice(u.length)||"/",d=Vc({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),g=p.route;if(!d&&y&&n&&!i[i.length-1].route.index&&(d=Vc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!d)return null;Object.assign(o,d.params),f.push({params:o,pathname:Kr([u,d.pathname]),pathnameBase:B1(Kr([u,d.pathnameBase])),route:g}),d.pathnameBase!=="/"&&(u=Kr([u,d.pathnameBase]))}return f}function Vc(a,e){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[n,i]=P1(a.path,a.caseSensitive,a.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:i.reduce((y,{paramName:E,isOptional:d},g)=>{if(E==="*"){let v=c[g]||"";f=u.slice(0,u.length-v.length).replace(/(.)\/+$/,"$1")}const b=c[g];return d&&!b?y[E]=void 0:y[E]=(b||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:a}}function P1(a,e=!1,n=!0){Dt(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let i=[],o="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,c,p)=>(i.push({paramName:c,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return a.endsWith("*")?(i.push({paramName:"*"}),o+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":a!==""&&a!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function L1(a){try{return a.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Dt(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),a}}function mr(a,e){if(e==="/")return a;if(!a.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=a.charAt(n);return i&&i!=="/"?null:a.slice(n)||"/"}function U1(a,e="/"){let{pathname:n,search:i="",hash:o=""}=typeof a=="string"?Ca(a):a;return{pathname:n?n.startsWith("/")?n:z1(n,e):e,search:q1(i),hash:F1(o)}}function z1(a,e){let n=e.replace(/\/+$/,"").split("/");return a.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Od(a,e,n,i){return`Cannot include a '${a}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Sb(a){return a.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function nf(a){let e=Sb(a);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function rf(a,e,n,i=!1){let o;typeof a=="string"?o=Ca(a):(o={...a},Ke(!o.pathname||!o.pathname.includes("?"),Od("?","pathname","search",o)),Ke(!o.pathname||!o.pathname.includes("#"),Od("#","pathname","hash",o)),Ke(!o.search||!o.search.includes("#"),Od("#","search","hash",o)));let u=a===""||o.pathname==="",f=u?"/":o.pathname,c;if(f==null)c=n;else{let d=e.length-1;if(!i&&f.startsWith("..")){let g=f.split("/");for(;g[0]==="..";)g.shift(),d-=1;o.pathname=g.join("/")}c=d>=0?e[d]:"/"}let p=U1(o,c),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var Kr=a=>a.join("/").replace(/\/\/+/g,"/"),B1=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),q1=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,F1=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a,Pc=class{constructor(a,e,n,i=!1){this.status=a,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Ul(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}var Rb=["POST","PUT","PATCH","DELETE"],H1=new Set(Rb),$1=["GET",...Rb],G1=new Set($1),Q1=new Set([301,302,303,307,308]),Y1=new Set([307,308]),Md={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},K1={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Sl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},_m=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,X1=a=>({hasErrorBoundary:!!a.hasErrorBoundary}),xb="remix-router-transitions",Cb=Symbol("ResetLoaderData");function W1(a){const e=a.window?a.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Ke(a.routes.length>0,"You must provide a non-empty routes array to createRouter");let i=a.hydrationRouteProperties||[],o=a.mapRouteProperties||X1,u={},f=jc(a.routes,o,void 0,u),c,p=a.basename||"/",y=a.dataStrategy||nA,E={unstable_middleware:!1,...a.future},d=null,g=new Set,b=null,v=null,_=null,R=a.hydrationData!=null,w=oi(f,a.history.location,p),T=!1,C=null;if(w==null&&!a.patchRoutesOnNavigation){let $=hr(404,{pathname:a.history.location.pathname}),{matches:K,route:J}=Gv(f);w=K,C={[J.id]:$}}w&&!a.hydrationData&&An(w,f,a.history.location.pathname).active&&(w=null);let I;if(w)if(w.some($=>$.route.lazy))I=!1;else if(!w.some($=>$.route.loader))I=!0;else{let $=a.hydrationData?a.hydrationData.loaderData:null,K=a.hydrationData?a.hydrationData.errors:null;if(K){let J=w.findIndex(le=>K[le.route.id]!==void 0);I=w.slice(0,J+1).every(le=>!Hd(le.route,$,K))}else I=w.every(J=>!Hd(J.route,$,K))}else{I=!1,w=[];let $=An(null,f,a.history.location.pathname);$.active&&$.matches&&(T=!0,w=$.matches)}let V,j={historyAction:a.history.action,location:a.history.location,matches:w,initialized:I,navigation:Md,restoreScrollPosition:a.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:a.hydrationData&&a.hydrationData.loaderData||{},actionData:a.hydrationData&&a.hydrationData.actionData||null,errors:a.hydrationData&&a.hydrationData.errors||C,fetchers:new Map,blockers:new Map},M="POP",S=!1,x,O=!1,P=new Map,q=null,U=!1,he=!1,pe=new Set,Q=new Map,se=0,ye=-1,Re=new Map,F=new Set,re=new Map,me=new Map,ce=new Set,_e=new Map,Pe,xe=null;function At(){if(d=a.history.listen(({action:$,location:K,delta:J})=>{if(Pe){Pe(),Pe=void 0;return}Dt(_e.size===0||J!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let le=Na({currentLocation:j.location,nextLocation:K,historyAction:$});if(le&&J!=null){let ge=new Promise(Ee=>{Pe=Ee});a.history.go(J*-1),Wn(le,{state:"blocked",location:K,proceed(){Wn(le,{state:"proceeding",proceed:void 0,reset:void 0,location:K}),ge.then(()=>a.history.go(J))},reset(){let Ee=new Map(j.blockers);Ee.set(le,Sl),St({blockers:Ee})}});return}return En($,K)}),n){dA(e,P);let $=()=>mA(e,P);e.addEventListener("pagehide",$),q=()=>e.removeEventListener("pagehide",$)}return j.initialized||En("POP",j.location,{initialHydration:!0}),V}function gt(){d&&d(),q&&q(),g.clear(),x&&x.abort(),j.fetchers.forEach(($,K)=>Vt(K)),j.blockers.forEach(($,K)=>na(K))}function Yn($){return g.add($),()=>g.delete($)}function St($,K={}){j={...j,...$};let J=[],le=[];j.fetchers.forEach((ge,Ee)=>{ge.state==="idle"&&(ce.has(Ee)?J.push(Ee):le.push(Ee))}),ce.forEach(ge=>{!j.fetchers.has(ge)&&!Q.has(ge)&&J.push(ge)}),[...g].forEach(ge=>ge(j,{deletedFetchers:J,viewTransitionOpts:K.viewTransitionOpts,flushSync:K.flushSync===!0})),J.forEach(ge=>Vt(ge)),le.forEach(ge=>j.fetchers.delete(ge))}function hn($,K,{flushSync:J}={}){var Ce,Ie;let le=j.actionData!=null&&j.navigation.formMethod!=null&&Gn(j.navigation.formMethod)&&j.navigation.state==="loading"&&((Ce=$.state)==null?void 0:Ce._isRedirect)!==!0,ge;K.actionData?Object.keys(K.actionData).length>0?ge=K.actionData:ge=null:le?ge=j.actionData:ge=null;let Ee=K.loaderData?Hv(j.loaderData,K.loaderData,K.matches||[],K.errors):j.loaderData,Me=j.blockers;Me.size>0&&(Me=new Map(Me),Me.forEach((Se,je)=>Me.set(je,Sl)));let we=S===!0||j.navigation.formMethod!=null&&Gn(j.navigation.formMethod)&&((Ie=$.state)==null?void 0:Ie._isRedirect)!==!0;c&&(f=c,c=void 0),U||M==="POP"||(M==="PUSH"?a.history.push($,$.state):M==="REPLACE"&&a.history.replace($,$.state));let Te;if(M==="POP"){let Se=P.get(j.location.pathname);Se&&Se.has($.pathname)?Te={currentLocation:j.location,nextLocation:$}:P.has($.pathname)&&(Te={currentLocation:$,nextLocation:j.location})}else if(O){let Se=P.get(j.location.pathname);Se?Se.add($.pathname):(Se=new Set([$.pathname]),P.set(j.location.pathname,Se)),Te={currentLocation:j.location,nextLocation:$}}St({...K,actionData:ge,loaderData:Ee,historyAction:M,location:$,initialized:!0,navigation:Md,revalidation:"idle",restoreScrollPosition:Ia($,K.matches||j.matches),preventScrollReset:we,blockers:Me},{viewTransitionOpts:Te,flushSync:J===!0}),M="POP",S=!1,O=!1,U=!1,he=!1,xe==null||xe.resolve(),xe=null}async function Rr($,K){if(typeof $=="number"){a.history.go($);return}let J=Fd(j.location,j.matches,p,$,K==null?void 0:K.fromRouteId,K==null?void 0:K.relative),{path:le,submission:ge,error:Ee}=jv(!1,J,K),Me=j.location,we=Ll(j.location,le,K&&K.state);we={...we,...a.history.encodeLocation(we)};let Te=K&&K.replace!=null?K.replace:void 0,Ce="PUSH";Te===!0?Ce="REPLACE":Te===!1||ge!=null&&Gn(ge.formMethod)&&ge.formAction===j.location.pathname+j.location.search&&(Ce="REPLACE");let Ie=K&&"preventScrollReset"in K?K.preventScrollReset===!0:void 0,Se=(K&&K.flushSync)===!0,je=Na({currentLocation:Me,nextLocation:we,historyAction:Ce});if(je){Wn(je,{state:"blocked",location:we,proceed(){Wn(je,{state:"proceeding",proceed:void 0,reset:void 0,location:we}),Rr($,K)},reset(){let Xe=new Map(j.blockers);Xe.set(je,Sl),St({blockers:Xe})}});return}await En(Ce,we,{submission:ge,pendingError:Ee,preventScrollReset:Ie,replace:K&&K.replace,enableViewTransition:K&&K.viewTransition,flushSync:Se})}function ea(){xe||(xe=pA()),Ma(),St({revalidation:"loading"});let $=xe.promise;return j.navigation.state==="submitting"?$:j.navigation.state==="idle"?(En(j.historyAction,j.location,{startUninterruptedRevalidation:!0}),$):(En(M||j.historyAction,j.navigation.location,{overrideNavigation:j.navigation,enableViewTransition:O===!0}),$)}async function En($,K,J){x&&x.abort(),x=null,M=$,U=(J&&J.startUninterruptedRevalidation)===!0,yr(j.location,j.matches),S=(J&&J.preventScrollReset)===!0,O=(J&&J.enableViewTransition)===!0;let le=c||f,ge=J&&J.overrideNavigation,Ee=J!=null&&J.initialHydration&&j.matches&&j.matches.length>0&&!T?j.matches:oi(le,K,p),Me=(J&&J.flushSync)===!0;if(Ee&&j.initialized&&!he&&lA(j.location,K)&&!(J&&J.submission&&Gn(J.submission.formMethod))){hn(K,{matches:Ee},{flushSync:Me});return}let we=An(Ee,le,K.pathname);if(we.active&&we.matches&&(Ee=we.matches),!Ee){let{error:st,notFoundMatches:et,route:Qe}=ra(K.pathname);hn(K,{matches:et,loaderData:{},errors:{[Qe.id]:st}},{flushSync:Me});return}x=new AbortController;let Te=to(a.history,K,x.signal,J&&J.submission),Ce=new Iv(a.unstable_getContext?await a.unstable_getContext():void 0),Ie;if(J&&J.pendingError)Ie=[rs(Ee).route.id,{type:"error",error:J.pendingError}];else if(J&&J.submission&&Gn(J.submission.formMethod)){let st=await Ri(Te,K,J.submission,Ee,Ce,we.active,J&&J.initialHydration===!0,{replace:J.replace,flushSync:Me});if(st.shortCircuited)return;if(st.pendingActionResult){let[et,Qe]=st.pendingActionResult;if($n(Qe)&&Ul(Qe.error)&&Qe.error.status===404){x=null,hn(K,{matches:st.matches,loaderData:{},errors:{[et]:Qe.error}});return}}Ee=st.matches||Ee,Ie=st.pendingActionResult,ge=Nd(K,J.submission),Me=!1,we.active=!1,Te=to(a.history,Te.url,Te.signal)}let{shortCircuited:Se,matches:je,loaderData:Xe,errors:ct}=await ds(Te,K,Ee,Ce,we.active,ge,J&&J.submission,J&&J.fetcherSubmission,J&&J.replace,J&&J.initialHydration===!0,Me,Ie);Se||(x=null,hn(K,{matches:je||Ee,...$v(Ie),loaderData:Xe,errors:ct}))}async function Ri($,K,J,le,ge,Ee,Me,we={}){Ma();let Te=fA(K,J);if(St({navigation:Te},{flushSync:we.flushSync===!0}),Ee){let Se=await Or(le,K.pathname,$.signal);if(Se.type==="aborted")return{shortCircuited:!0};if(Se.type==="error"){let je=rs(Se.partialMatches).route.id;return{matches:Se.partialMatches,pendingActionResult:[je,{type:"error",error:Se.error}]}}else if(Se.matches)le=Se.matches;else{let{notFoundMatches:je,error:Xe,route:ct}=ra(K.pathname);return{matches:je,pendingActionResult:[ct.id,{type:"error",error:Xe}]}}}let Ce,Ie=Dl(le,K);if(!Ie.route.action&&!Ie.route.lazy)Ce={type:"error",error:hr(405,{method:$.method,pathname:K.pathname,routeId:Ie.route.id})};else{let Se=so(o,u,$,le,Ie,Me?[]:i,ge),je=await Kn($,Se,ge,null);if(Ce=je[Ie.route.id],!Ce){for(let Xe of le)if(je[Xe.route.id]){Ce=je[Xe.route.id];break}}if($.signal.aborted)return{shortCircuited:!0}}if(as(Ce)){let Se;return we&&we.replace!=null?Se=we.replace:Se=Bv(Ce.response.headers.get("Location"),new URL($.url),p)===j.location.pathname+j.location.search,await gr($,Ce,!0,{submission:J,replace:Se}),{shortCircuited:!0}}if($n(Ce)){let Se=rs(le,Ie.route.id);return(we&&we.replace)!==!0&&(M="PUSH"),{matches:le,pendingActionResult:[Se.route.id,Ce,Ie.route.id]}}return{matches:le,pendingActionResult:[Ie.route.id,Ce]}}async function ds($,K,J,le,ge,Ee,Me,we,Te,Ce,Ie,Se){let je=Ee||Nd(K,Me),Xe=Me||we||Yv(je),ct=!U&&!Ce;if(ge){if(ct){let Pt=wn(Se);St({navigation:je,...Pt!==void 0?{actionData:Pt}:{}},{flushSync:Ie})}let ze=await Or(J,K.pathname,$.signal);if(ze.type==="aborted")return{shortCircuited:!0};if(ze.type==="error"){let Pt=rs(ze.partialMatches).route.id;return{matches:ze.partialMatches,loaderData:{},errors:{[Pt]:ze.error}}}else if(ze.matches)J=ze.matches;else{let{error:Pt,notFoundMatches:Vn,route:Cn}=ra(K.pathname);return{matches:Vn,loaderData:{},errors:{[Cn.id]:Pt}}}}let st=c||f,{dsMatches:et,revalidatingFetchers:Qe}=Vv($,le,o,u,a.history,j,J,Xe,K,Ce?[]:i,Ce===!0,he,pe,ce,re,F,st,p,Se);if(ye=++se,!a.dataStrategy&&!et.some(ze=>ze.shouldLoad)&&Qe.length===0){let ze=Cr();return hn(K,{matches:J,loaderData:{},errors:Se&&$n(Se[1])?{[Se[0]]:Se[1].error}:null,...$v(Se),...ze?{fetchers:new Map(j.fetchers)}:{}},{flushSync:Ie}),{shortCircuited:!0}}if(ct){let ze={};if(!ge){ze.navigation=je;let Pt=wn(Se);Pt!==void 0&&(ze.actionData=Pt)}Qe.length>0&&(ze.fetchers=To(Qe)),St(ze,{flushSync:Ie})}Qe.forEach(ze=>{Xn(ze.key),ze.controller&&Q.set(ze.key,ze.controller)});let Jn=()=>Qe.forEach(ze=>Xn(ze.key));x&&x.signal.addEventListener("abort",Jn);let{loaderResults:qt,fetcherResults:Tn}=await Oa(et,Qe,$,le);if($.signal.aborted)return{shortCircuited:!0};x&&x.signal.removeEventListener("abort",Jn),Qe.forEach(ze=>Q.delete(ze.key));let nn=yc(qt);if(nn)return await gr($,nn.result,!0,{replace:Te}),{shortCircuited:!0};if(nn=yc(Tn),nn)return F.add(nn.key),await gr($,nn.result,!0,{replace:Te}),{shortCircuited:!0};let{loaderData:Nr,errors:jn}=Fv(j,J,qt,Se,Qe,Tn);Ce&&j.errors&&(jn={...j.errors,...jn});let ja=Cr(),mn=Dr(ye),Sn=ja||mn||Qe.length>0;return{matches:J,loaderData:Nr,errors:jn,...Sn?{fetchers:new Map(j.fetchers)}:{}}}function wn($){if($&&!$n($[1]))return{[$[0]]:$[1].data};if(j.actionData)return Object.keys(j.actionData).length===0?null:j.actionData}function To($){return $.forEach(K=>{let J=j.fetchers.get(K.key),le=Rl(void 0,J?J.data:void 0);j.fetchers.set(K.key,le)}),new Map(j.fetchers)}async function xi($,K,J,le){Xn($);let ge=(le&&le.flushSync)===!0,Ee=c||f,Me=Fd(j.location,j.matches,p,J,K,le==null?void 0:le.relative),we=oi(Ee,Me,p),Te=An(we,Ee,Me);if(Te.active&&Te.matches&&(we=Te.matches),!we){He($,K,hr(404,{pathname:Me}),{flushSync:ge});return}let{path:Ce,submission:Ie,error:Se}=jv(!0,Me,le);if(Se){He($,K,Se,{flushSync:ge});return}let je=Dl(we,Ce),Xe=new Iv(a.unstable_getContext?await a.unstable_getContext():void 0),ct=(le&&le.preventScrollReset)===!0;if(Ie&&Gn(Ie.formMethod)){await Da($,K,Ce,je,we,Xe,Te.active,ge,ct,Ie);return}re.set($,{routeId:K,path:Ce}),await ta($,K,Ce,je,we,Xe,Te.active,ge,ct,Ie)}async function Da($,K,J,le,ge,Ee,Me,we,Te,Ce){Ma(),re.delete($);function Ie(Et){if(!Et.route.action&&!Et.route.lazy){let er=hr(405,{method:Ce.formMethod,pathname:J,routeId:K});return He($,K,er,{flushSync:we}),!0}return!1}if(!Me&&Ie(le))return;let Se=j.fetchers.get($);lt($,hA(Ce,Se),{flushSync:we});let je=new AbortController,Xe=to(a.history,J,je.signal,Ce);if(Me){let Et=await Or(ge,J,Xe.signal,$);if(Et.type==="aborted")return;if(Et.type==="error"){He($,K,Et.error,{flushSync:we});return}else if(Et.matches){if(ge=Et.matches,le=Dl(ge,J),Ie(le))return}else{He($,K,hr(404,{pathname:J}),{flushSync:we});return}}Q.set($,je);let ct=se,st=so(o,u,Xe,ge,le,i,Ee),Qe=(await Kn(Xe,st,Ee,$))[le.route.id];if(Xe.signal.aborted){Q.get($)===je&&Q.delete($);return}if(ce.has($)){if(as(Qe)||$n(Qe)){lt($,si(void 0));return}}else{if(as(Qe))if(Q.delete($),ye>ct){lt($,si(void 0));return}else return F.add($),lt($,Rl(Ce)),gr(Xe,Qe,!1,{fetcherSubmission:Ce,preventScrollReset:Te});if($n(Qe)){He($,K,Qe.error);return}}let Jn=j.navigation.location||j.location,qt=to(a.history,Jn,je.signal),Tn=c||f,nn=j.navigation.state!=="idle"?oi(Tn,j.navigation.location,p):j.matches;Ke(nn,"Didn't find any matches after fetcher action");let Nr=++se;Re.set($,Nr);let jn=Rl(Ce,Qe.data);j.fetchers.set($,jn);let{dsMatches:ja,revalidatingFetchers:mn}=Vv(qt,Ee,o,u,a.history,j,nn,Ce,Jn,i,!1,he,pe,ce,re,F,Tn,p,[le.route.id,Qe]);mn.filter(Et=>Et.key!==$).forEach(Et=>{let er=Et.key,aa=j.fetchers.get(er),rn=Rl(void 0,aa?aa.data:void 0);j.fetchers.set(er,rn),Xn(er),Et.controller&&Q.set(er,Et.controller)}),St({fetchers:new Map(j.fetchers)});let Sn=()=>mn.forEach(Et=>Xn(Et.key));je.signal.addEventListener("abort",Sn);let{loaderResults:ze,fetcherResults:Pt}=await Oa(ja,mn,qt,Ee);if(je.signal.aborted)return;je.signal.removeEventListener("abort",Sn),Re.delete($),Q.delete($),mn.forEach(Et=>Q.delete(Et.key));let Vn=yc(ze);if(Vn)return gr(qt,Vn.result,!1,{preventScrollReset:Te});if(Vn=yc(Pt),Vn)return F.add(Vn.key),gr(qt,Vn.result,!1,{preventScrollReset:Te});let{loaderData:Cn,errors:Ir}=Fv(j,nn,ze,void 0,mn,Pt);if(j.fetchers.has($)){let Et=si(Qe.data);j.fetchers.set($,Et)}Dr(Nr),j.navigation.state==="loading"&&Nr>ye?(Ke(M,"Expected pending action"),x&&x.abort(),hn(j.navigation.location,{matches:nn,loaderData:Cn,errors:Ir,fetchers:new Map(j.fetchers)})):(St({errors:Ir,loaderData:Hv(j.loaderData,Cn,nn,Ir),fetchers:new Map(j.fetchers)}),he=!1)}async function ta($,K,J,le,ge,Ee,Me,we,Te,Ce){let Ie=j.fetchers.get($);lt($,Rl(Ce,Ie?Ie.data:void 0),{flushSync:we});let Se=new AbortController,je=to(a.history,J,Se.signal);if(Me){let Qe=await Or(ge,J,je.signal,$);if(Qe.type==="aborted")return;if(Qe.type==="error"){He($,K,Qe.error,{flushSync:we});return}else if(Qe.matches)ge=Qe.matches,le=Dl(ge,J);else{He($,K,hr(404,{pathname:J}),{flushSync:we});return}}Q.set($,Se);let Xe=se,ct=so(o,u,je,ge,le,i,Ee),et=(await Kn(je,ct,Ee,$))[le.route.id];if(Q.get($)===Se&&Q.delete($),!je.signal.aborted){if(ce.has($)){lt($,si(void 0));return}if(as(et))if(ye>Xe){lt($,si(void 0));return}else{F.add($),await gr(je,et,!1,{preventScrollReset:Te});return}if($n(et)){He($,K,et.error);return}lt($,si(et.data))}}async function gr($,K,J,{submission:le,fetcherSubmission:ge,preventScrollReset:Ee,replace:Me}={}){K.response.headers.has("X-Remix-Revalidate")&&(he=!0);let we=K.response.headers.get("Location");Ke(we,"Expected a Location header on the redirect Response"),we=Bv(we,new URL($.url),p);let Te=Ll(j.location,we,{_isRedirect:!0});if(n){let ct=!1;if(K.response.headers.has("X-Remix-Reload-Document"))ct=!0;else if(_m.test(we)){const st=a.history.createURL(we);ct=st.origin!==e.location.origin||mr(st.pathname,p)==null}if(ct){Me?e.location.replace(we):e.location.assign(we);return}}x=null;let Ce=Me===!0||K.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ie,formAction:Se,formEncType:je}=j.navigation;!le&&!ge&&Ie&&Se&&je&&(le=Yv(j.navigation));let Xe=le||ge;if(Y1.has(K.response.status)&&Xe&&Gn(Xe.formMethod))await En(Ce,Te,{submission:{...Xe,formAction:we},preventScrollReset:Ee||S,enableViewTransition:J?O:void 0});else{let ct=Nd(Te,le);await En(Ce,Te,{overrideNavigation:ct,fetcherSubmission:ge,preventScrollReset:Ee||S,enableViewTransition:J?O:void 0})}}async function Kn($,K,J,le){let ge,Ee={};try{ge=await rA(y,$,K,le,J,!1)}catch(Me){return K.filter(we=>we.shouldLoad).forEach(we=>{Ee[we.route.id]={type:"error",error:Me}}),Ee}for(let[Me,we]of Object.entries(ge))if(uA(we)){let Te=we.result;Ee[Me]={type:"redirect",response:sA(Te,$,Me,K,p)}}else Ee[Me]=await iA(we);return Ee}async function Oa($,K,J,le){let ge=Kn(J,$,le,null),Ee=Promise.all(K.map(async Te=>{if(Te.matches&&Te.match&&Te.request&&Te.controller){let Ie=(await Kn(Te.request,Te.matches,le,Te.key))[Te.match.route.id];return{[Te.key]:Ie}}else return Promise.resolve({[Te.key]:{type:"error",error:hr(404,{pathname:Te.path})}})})),Me=await ge,we=(await Ee).reduce((Te,Ce)=>Object.assign(Te,Ce),{});return{loaderResults:Me,fetcherResults:we}}function Ma(){he=!0,re.forEach(($,K)=>{Q.has(K)&&pe.add(K),Xn(K)})}function lt($,K,J={}){j.fetchers.set($,K),St({fetchers:new Map(j.fetchers)},{flushSync:(J&&J.flushSync)===!0})}function He($,K,J,le={}){let ge=rs(j.matches,K);Vt($),St({errors:{[ge.route.id]:J},fetchers:new Map(j.fetchers)},{flushSync:(le&&le.flushSync)===!0})}function dn($){return me.set($,(me.get($)||0)+1),ce.has($)&&ce.delete($),j.fetchers.get($)||K1}function Vt($){let K=j.fetchers.get($);Q.has($)&&!(K&&K.state==="loading"&&Re.has($))&&Xn($),re.delete($),Re.delete($),F.delete($),ce.delete($),pe.delete($),j.fetchers.delete($)}function ms($){let K=(me.get($)||0)-1;K<=0?(me.delete($),ce.add($)):me.set($,K),St({fetchers:new Map(j.fetchers)})}function Xn($){let K=Q.get($);K&&(K.abort(),Q.delete($))}function xr($){for(let K of $){let J=dn(K),le=si(J.data);j.fetchers.set(K,le)}}function Cr(){let $=[],K=!1;for(let J of F){let le=j.fetchers.get(J);Ke(le,`Expected fetcher: ${J}`),le.state==="loading"&&(F.delete(J),$.push(J),K=!0)}return xr($),K}function Dr($){let K=[];for(let[J,le]of Re)if(le<$){let ge=j.fetchers.get(J);Ke(ge,`Expected fetcher: ${J}`),ge.state==="loading"&&(Xn(J),Re.delete(J),K.push(J))}return xr(K),K.length>0}function kn($,K){let J=j.blockers.get($)||Sl;return _e.get($)!==K&&_e.set($,K),J}function na($){j.blockers.delete($),_e.delete($)}function Wn($,K){let J=j.blockers.get($)||Sl;Ke(J.state==="unblocked"&&K.state==="blocked"||J.state==="blocked"&&K.state==="blocked"||J.state==="blocked"&&K.state==="proceeding"||J.state==="blocked"&&K.state==="unblocked"||J.state==="proceeding"&&K.state==="unblocked",`Invalid blocker state transition: ${J.state} -> ${K.state}`);let le=new Map(j.blockers);le.set($,K),St({blockers:le})}function Na({currentLocation:$,nextLocation:K,historyAction:J}){if(_e.size===0)return;_e.size>1&&Dt(!1,"A router only supports one blocker at a time");let le=Array.from(_e.entries()),[ge,Ee]=le[le.length-1],Me=j.blockers.get(ge);if(!(Me&&Me.state==="proceeding")&&Ee({currentLocation:$,nextLocation:K,historyAction:J}))return ge}function ra($){let K=hr(404,{pathname:$}),J=c||f,{matches:le,route:ge}=Gv(J);return{notFoundMatches:le,route:ge,error:K}}function Ci($,K,J){if(b=$,_=K,v=J||null,!R&&j.navigation===Md){R=!0;let le=Ia(j.location,j.matches);le!=null&&St({restoreScrollPosition:le})}return()=>{b=null,_=null,v=null}}function Zn($,K){return v&&v($,K.map(le=>R1(le,j.loaderData)))||$.key}function yr($,K){if(b&&_){let J=Zn($,K);b[J]=_()}}function Ia($,K){if(b){let J=Zn($,K),le=b[J];if(typeof le=="number")return le}return null}function An($,K,J){if(a.patchRoutesOnNavigation)if($){if(Object.keys($[0].params).length>0)return{active:!0,matches:Rc(K,J,p,!0)}}else return{active:!0,matches:Rc(K,J,p,!0)||[]};return{active:!1,matches:null}}async function Or($,K,J,le){if(!a.patchRoutesOnNavigation)return{type:"success",matches:$};let ge=$;for(;;){let Ee=c==null,Me=c||f,we=u;try{await a.patchRoutesOnNavigation({signal:J,path:K,matches:ge,fetcherKey:le,patch:(Ie,Se)=>{J.aborted||Pv(Ie,Se,Me,we,o)}})}catch(Ie){return{type:"error",error:Ie,partialMatches:ge}}finally{Ee&&!J.aborted&&(f=[...f])}if(J.aborted)return{type:"aborted"};let Te=oi(Me,K,p);if(Te)return{type:"success",matches:Te};let Ce=Rc(Me,K,p,!0);if(!Ce||ge.length===Ce.length&&ge.every((Ie,Se)=>Ie.route.id===Ce[Se].route.id))return{type:"success",matches:null};ge=Ce}}function Mr($){u={},c=jc($,o,void 0,u)}function ka($,K){let J=c==null;Pv($,K,c||f,u,o),J&&(f=[...f],St({}))}return V={get basename(){return p},get future(){return E},get state(){return j},get routes(){return f},get window(){return e},initialize:At,subscribe:Yn,enableScrollRestoration:Ci,navigate:Rr,fetch:xi,revalidate:ea,createHref:$=>a.history.createHref($),encodeLocation:$=>a.history.encodeLocation($),getFetcher:dn,deleteFetcher:ms,dispose:gt,getBlocker:kn,deleteBlocker:na,patchRoutes:ka,_internalFetchControllers:Q,_internalSetRoutes:Mr},V}function Z1(a){return a!=null&&("formData"in a&&a.formData!=null||"body"in a&&a.body!==void 0)}function Fd(a,e,n,i,o,u){let f,c;if(o){f=[];for(let y of e)if(f.push(y),y.route.id===o){c=y;break}}else f=e,c=e[e.length-1];let p=rf(i||".",nf(f),mr(a.pathname,n)||a.pathname,u==="path");if(i==null&&(p.search=a.search,p.hash=a.hash),(i==null||i===""||i===".")&&c){let y=bm(p.search);if(c.route.index&&!y)p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&y){let E=new URLSearchParams(p.search),d=E.getAll("index");E.delete("index"),d.filter(b=>b).forEach(b=>E.append("index",b));let g=E.toString();p.search=g?`?${g}`:""}}return n!=="/"&&(p.pathname=p.pathname==="/"?n:Kr([n,p.pathname])),pi(p)}function jv(a,e,n){if(!n||!Z1(n))return{path:e};if(n.formMethod&&!cA(n.formMethod))return{path:e,error:hr(405,{method:n.formMethod})};let i=()=>({path:e,error:hr(400,{type:"invalid-body"})}),u=(n.formMethod||"get").toUpperCase(),f=kb(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Gn(u))return i();let d=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((g,[b,v])=>`${g}${b}=${v}
`,""):String(n.body);return{path:e,submission:{formMethod:u,formAction:f,formEncType:n.formEncType,formData:void 0,json:void 0,text:d}}}else if(n.formEncType==="application/json"){if(!Gn(u))return i();try{let d=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:u,formAction:f,formEncType:n.formEncType,formData:void 0,json:d,text:void 0}}}catch{return i()}}}Ke(typeof FormData=="function","FormData is not available in this environment");let c,p;if(n.formData)c=Gd(n.formData),p=n.formData;else if(n.body instanceof FormData)c=Gd(n.body),p=n.body;else if(n.body instanceof URLSearchParams)c=n.body,p=qv(c);else if(n.body==null)c=new URLSearchParams,p=new FormData;else try{c=new URLSearchParams(n.body),p=qv(c)}catch{return i()}let y={formMethod:u,formAction:f,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(Gn(y.formMethod))return{path:e,submission:y};let E=Ca(e);return a&&E.search&&bm(E.search)&&c.append("index",""),E.search=`?${c}`,{path:pi(E),submission:y}}function Vv(a,e,n,i,o,u,f,c,p,y,E,d,g,b,v,_,R,w,T){var q;let C=T?$n(T[1])?T[1].error:T[1].data:void 0,I=o.createURL(u.location),V=o.createURL(p),j;if(E&&u.errors){let U=Object.keys(u.errors)[0];j=f.findIndex(he=>he.route.id===U)}else if(T&&$n(T[1])){let U=T[0];j=f.findIndex(he=>he.route.id===U)-1}let M=T?T[1].statusCode:void 0,S=M&&M>=400,x={currentUrl:I,currentParams:((q=u.matches[0])==null?void 0:q.params)||{},nextUrl:V,nextParams:f[0].params,...c,actionResult:C,actionStatus:M},O=f.map((U,he)=>{let{route:pe}=U,Q=null;if(j!=null&&he>j?Q=!1:pe.lazy?Q=!0:pe.loader==null?Q=!1:E?Q=Hd(pe,u.loaderData,u.errors):J1(u.loaderData,u.matches[he],U)&&(Q=!0),Q!==null)return $d(n,i,a,U,y,e,Q);let se=S?!1:d||I.pathname+I.search===V.pathname+V.search||I.search!==V.search||eA(u.matches[he],U),ye={...x,defaultShouldRevalidate:se},Re=Lc(U,ye);return $d(n,i,a,U,y,e,Re,ye)}),P=[];return v.forEach((U,he)=>{if(E||!f.some(re=>re.route.id===U.routeId)||b.has(he))return;let pe=oi(R,U.path,w);if(!pe){P.push({key:he,routeId:U.routeId,path:U.path,matches:null,match:null,request:null,controller:null});return}if(_.has(he))return;let Q=u.fetchers.get(he),se=Dl(pe,U.path),ye=new AbortController,Re=to(o,U.path,ye.signal),F=null;if(g.has(he))g.delete(he),F=so(n,i,Re,pe,se,y,e);else if(Q&&Q.state!=="idle"&&Q.data===void 0)d&&(F=so(n,i,Re,pe,se,y,e));else{let re={...x,defaultShouldRevalidate:S?!1:d};Lc(se,re)&&(F=so(n,i,Re,pe,se,y,e,re))}F&&P.push({key:he,routeId:U.routeId,path:U.path,matches:F,match:se,request:Re,controller:ye})}),{dsMatches:O,revalidatingFetchers:P}}function Hd(a,e,n){if(a.lazy)return!0;if(!a.loader)return!1;let i=e!=null&&e[a.id]!==void 0,o=n!=null&&n[a.id]!==void 0;return!i&&o?!1:typeof a.loader=="function"&&a.loader.hydrate===!0?!0:!i&&!o}function J1(a,e,n){let i=!e||n.route.id!==e.route.id,o=!a.hasOwnProperty(n.route.id);return i||o}function eA(a,e){let n=a.route.path;return a.pathname!==e.pathname||n!=null&&n.endsWith("*")&&a.params["*"]!==e.params["*"]}function Lc(a,e){if(a.route.shouldRevalidate){let n=a.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function Pv(a,e,n,i,o){let u;if(a){let p=i[a];Ke(p,`No route found to patch children into: routeId = ${a}`),p.children||(p.children=[]),u=p.children}else u=n;let f=e.filter(p=>!u.some(y=>Db(p,y))),c=jc(f,o,[a||"_","patch",String((u==null?void 0:u.length)||"0")],i);u.push(...c)}function Db(a,e){return"id"in a&&"id"in e&&a.id===e.id?!0:a.index===e.index&&a.path===e.path&&a.caseSensitive===e.caseSensitive?(!a.children||a.children.length===0)&&(!e.children||e.children.length===0)?!0:a.children.every((n,i)=>{var o;return(o=e.children)==null?void 0:o.some(u=>Db(n,u))}):!1}var Lv=new WeakMap,Ob=({key:a,route:e,manifest:n,mapRouteProperties:i})=>{let o=n[e.id];if(Ke(o,"No route found in manifest"),!o.lazy||typeof o.lazy!="object")return;let u=o.lazy[a];if(!u)return;let f=Lv.get(o);f||(f={},Lv.set(o,f));let c=f[a];if(c)return c;let p=(async()=>{let y=w1(a),d=o[a]!==void 0&&a!=="hasErrorBoundary";if(y)Dt(!y,"Route property "+a+" is not a supported lazy route property. This property will be ignored."),f[a]=Promise.resolve();else if(d)Dt(!1,`Route "${o.id}" has a static property "${a}" defined. The lazy property will be ignored.`);else{let g=await u();g!=null&&(Object.assign(o,{[a]:g}),Object.assign(o,i(o)))}typeof o.lazy=="object"&&(o.lazy[a]=void 0,Object.values(o.lazy).every(g=>g===void 0)&&(o.lazy=void 0))})();return f[a]=p,p},Uv=new WeakMap;function tA(a,e,n,i,o){let u=n[a.id];if(Ke(u,"No route found in manifest"),!a.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof a.lazy=="function"){let E=Uv.get(u);if(E)return{lazyRoutePromise:E,lazyHandlerPromise:E};let d=(async()=>{Ke(typeof a.lazy=="function","No lazy route function found");let g=await a.lazy(),b={};for(let v in g){let _=g[v];if(_===void 0)continue;let R=T1(v),T=u[v]!==void 0&&v!=="hasErrorBoundary";R?Dt(!R,"Route property "+v+" is not a supported property to be returned from a lazy route function. This property will be ignored."):T?Dt(!T,`Route "${u.id}" has a static property "${v}" defined but its lazy function is also returning a value for this property. The lazy route property "${v}" will be ignored.`):b[v]=_}Object.assign(u,b),Object.assign(u,{...i(u),lazy:void 0})})();return Uv.set(u,d),d.catch(()=>{}),{lazyRoutePromise:d,lazyHandlerPromise:d}}let f=Object.keys(a.lazy),c=[],p;for(let E of f){if(o&&o.includes(E))continue;let d=Ob({key:E,route:a,manifest:n,mapRouteProperties:i});d&&(c.push(d),E===e&&(p=d))}let y=c.length>0?Promise.all(c).then(()=>{}):void 0;return y==null||y.catch(()=>{}),p==null||p.catch(()=>{}),{lazyRoutePromise:y,lazyHandlerPromise:p}}async function zv(a){let e=a.matches.filter(o=>o.shouldLoad),n={};return(await Promise.all(e.map(o=>o.resolve()))).forEach((o,u)=>{n[e[u].route.id]=o}),n}async function nA(a){return a.matches.some(e=>e.route.unstable_middleware)?Mb(a,!1,()=>zv(a),(e,n)=>({[n]:{type:"error",result:e}})):zv(a)}async function Mb(a,e,n,i){let{matches:o,request:u,params:f,context:c}=a,p={handlerResult:void 0};try{let y=o.flatMap(d=>d.route.unstable_middleware?d.route.unstable_middleware.map(g=>[d.route.id,g]):[]),E=await Nb({request:u,params:f,context:c},y,e,p,n);return e?E:p.handlerResult}catch(y){if(!p.middlewareError)throw y;let E=await i(p.middlewareError.error,p.middlewareError.routeId);return p.handlerResult?Object.assign(p.handlerResult,E):E}}async function Nb(a,e,n,i,o,u=0){let{request:f}=a;if(f.signal.aborted)throw f.signal.reason?f.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${f.method} ${f.url}`);let c=e[u];if(!c)return i.handlerResult=await o(),i.handlerResult;let[p,y]=c,E=!1,d,g=async()=>{if(E)throw new Error("You may only call `next()` once per middleware");E=!0,await Nb(a,e,n,i,o,u+1)};try{let b=await y({request:a.request,params:a.params,context:a.context},g);return E?b===void 0?d:b:g()}catch(b){throw i.middlewareError?i.middlewareError.error!==b&&(i.middlewareError={routeId:p,error:b}):i.middlewareError={routeId:p,error:b},b}}function Ib(a,e,n,i,o){let u=Ob({key:"unstable_middleware",route:i.route,manifest:e,mapRouteProperties:a}),f=tA(i.route,Gn(n.method)?"action":"loader",e,a,o);return{middleware:u,route:f.lazyRoutePromise,handler:f.lazyHandlerPromise}}function $d(a,e,n,i,o,u,f,c=null){let p=!1,y=Ib(a,e,n,i,o);return{...i,_lazyPromises:y,shouldLoad:f,unstable_shouldRevalidateArgs:c,unstable_shouldCallHandler(E){return p=!0,c?typeof E=="boolean"?Lc(i,{...c,defaultShouldRevalidate:E}):Lc(i,c):f},resolve(E){return p||f||E&&n.method==="GET"&&(i.route.lazy||i.route.loader)?aA({request:n,match:i,lazyHandlerPromise:y==null?void 0:y.handler,lazyRoutePromise:y==null?void 0:y.route,handlerOverride:E,scopedContext:u}):Promise.resolve({type:"data",result:void 0})}}}function so(a,e,n,i,o,u,f,c=null){return i.map(p=>p.route.id!==o.route.id?{...p,shouldLoad:!1,unstable_shouldRevalidateArgs:c,unstable_shouldCallHandler:()=>!1,_lazyPromises:Ib(a,e,n,p,u),resolve:()=>Promise.resolve({type:"data",result:void 0})}:$d(a,e,n,p,u,f,!0,c))}async function rA(a,e,n,i,o,u){n.some(y=>{var E;return(E=y._lazyPromises)==null?void 0:E.middleware})&&await Promise.all(n.map(y=>{var E;return(E=y._lazyPromises)==null?void 0:E.middleware}));let f={request:e,params:n[0].params,context:o,matches:n},p=await a({...f,fetcherKey:i,unstable_runClientMiddleware:y=>{let E=f;return Mb(E,!1,()=>y({...E,fetcherKey:i,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(d,g)=>({[g]:{type:"error",result:d}}))}});try{await Promise.all(n.flatMap(y=>{var E,d;return[(E=y._lazyPromises)==null?void 0:E.handler,(d=y._lazyPromises)==null?void 0:d.route]}))}catch{}return p}async function aA({request:a,match:e,lazyHandlerPromise:n,lazyRoutePromise:i,handlerOverride:o,scopedContext:u}){let f,c,p=Gn(a.method),y=p?"action":"loader",E=d=>{let g,b=new Promise((R,w)=>g=w);c=()=>g(),a.signal.addEventListener("abort",c);let v=R=>typeof d!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${y}" [routeId: ${e.route.id}]`)):d({request:a,params:e.params,context:u},...R!==void 0?[R]:[]),_=(async()=>{try{return{type:"data",result:await(o?o(w=>v(w)):v())}}catch(R){return{type:"error",result:R}}})();return Promise.race([_,b])};try{let d=p?e.route.action:e.route.loader;if(n||i)if(d){let g,[b]=await Promise.all([E(d).catch(v=>{g=v}),n,i]);if(g!==void 0)throw g;f=b}else{await n;let g=p?e.route.action:e.route.loader;if(g)[f]=await Promise.all([E(g),i]);else if(y==="action"){let b=new URL(a.url),v=b.pathname+b.search;throw hr(405,{method:a.method,pathname:v,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(d)f=await E(d);else{let g=new URL(a.url),b=g.pathname+g.search;throw hr(404,{pathname:b})}}catch(d){return{type:"error",result:d}}finally{c&&a.signal.removeEventListener("abort",c)}return f}async function iA(a){var i,o,u,f,c,p;let{result:e,type:n}=a;if(jb(e)){let y;try{let E=e.headers.get("Content-Type");E&&/\bapplication\/json\b/.test(E)?e.body==null?y=null:y=await e.json():y=await e.text()}catch(E){return{type:"error",error:E}}return n==="error"?{type:"error",error:new Pc(e.status,e.statusText,y),statusCode:e.status,headers:e.headers}:{type:"data",data:y,statusCode:e.status,headers:e.headers}}return n==="error"?Qv(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(i=e.init)==null?void 0:i.status,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Pc(((u=e.init)==null?void 0:u.status)||500,void 0,e.data),statusCode:Ul(e)?e.status:void 0,headers:(f=e.init)!=null&&f.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Ul(e)?e.status:void 0}:Qv(e)?{type:"data",data:e.data,statusCode:(c=e.init)==null?void 0:c.status,headers:(p=e.init)!=null&&p.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function sA(a,e,n,i,o){let u=a.headers.get("Location");if(Ke(u,"Redirects returned/thrown from loaders/actions must have a Location header"),!_m.test(u)){let f=i.slice(0,i.findIndex(c=>c.route.id===n)+1);u=Fd(new URL(e.url),f,o,u),a.headers.set("Location",u)}return a}function Bv(a,e,n){if(_m.test(a)){let i=a,o=i.startsWith("//")?new URL(e.protocol+i):new URL(i),u=mr(o.pathname,n)!=null;if(o.origin===e.origin&&u)return o.pathname+o.search+o.hash}return a}function to(a,e,n,i){let o=a.createURL(kb(e)).toString(),u={signal:n};if(i&&Gn(i.formMethod)){let{formMethod:f,formEncType:c}=i;u.method=f.toUpperCase(),c==="application/json"?(u.headers=new Headers({"Content-Type":c}),u.body=JSON.stringify(i.json)):c==="text/plain"?u.body=i.text:c==="application/x-www-form-urlencoded"&&i.formData?u.body=Gd(i.formData):u.body=i.formData}return new Request(o,u)}function Gd(a){let e=new URLSearchParams;for(let[n,i]of a.entries())e.append(n,typeof i=="string"?i:i.name);return e}function qv(a){let e=new FormData;for(let[n,i]of a.entries())e.append(n,i);return e}function oA(a,e,n,i=!1,o=!1){let u={},f=null,c,p=!1,y={},E=n&&$n(n[1])?n[1].error:void 0;return a.forEach(d=>{if(!(d.route.id in e))return;let g=d.route.id,b=e[g];if(Ke(!as(b),"Cannot handle redirect results in processLoaderData"),$n(b)){let v=b.error;if(E!==void 0&&(v=E,E=void 0),f=f||{},o)f[g]=v;else{let _=rs(a,g);f[_.route.id]==null&&(f[_.route.id]=v)}i||(u[g]=Cb),p||(p=!0,c=Ul(b.error)?b.error.status:500),b.headers&&(y[g]=b.headers)}else u[g]=b.data,b.statusCode&&b.statusCode!==200&&!p&&(c=b.statusCode),b.headers&&(y[g]=b.headers)}),E!==void 0&&n&&(f={[n[0]]:E},n[2]&&(u[n[2]]=void 0)),{loaderData:u,errors:f,statusCode:c||200,loaderHeaders:y}}function Fv(a,e,n,i,o,u){let{loaderData:f,errors:c}=oA(e,n,i);return o.filter(p=>!p.matches||p.matches.some(y=>y.shouldLoad)).forEach(p=>{let{key:y,match:E,controller:d}=p,g=u[y];if(Ke(g,"Did not find corresponding fetcher result"),!(d&&d.signal.aborted))if($n(g)){let b=rs(a.matches,E==null?void 0:E.route.id);c&&c[b.route.id]||(c={...c,[b.route.id]:g.error}),a.fetchers.delete(y)}else if(as(g))Ke(!1,"Unhandled fetcher revalidation redirect");else{let b=si(g.data);a.fetchers.set(y,b)}}),{loaderData:f,errors:c}}function Hv(a,e,n,i){let o=Object.entries(e).filter(([,u])=>u!==Cb).reduce((u,[f,c])=>(u[f]=c,u),{});for(let u of n){let f=u.route.id;if(!e.hasOwnProperty(f)&&a.hasOwnProperty(f)&&u.route.loader&&(o[f]=a[f]),i&&i.hasOwnProperty(f))break}return o}function $v(a){return a?$n(a[1])?{actionData:{}}:{actionData:{[a[0]]:a[1].data}}:{}}function rs(a,e){return(e?a.slice(0,a.findIndex(i=>i.route.id===e)+1):[...a]).reverse().find(i=>i.route.hasErrorBoundary===!0)||a[0]}function Gv(a){let e=a.length===1?a[0]:a.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function hr(a,{pathname:e,routeId:n,method:i,type:o,message:u}={}){let f="Unknown Server Error",c="Unknown @remix-run/router error";return a===400?(f="Bad Request",i&&e&&n?c=`You made a ${i} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:o==="invalid-body"&&(c="Unable to encode submission body")):a===403?(f="Forbidden",c=`Route "${n}" does not match URL "${e}"`):a===404?(f="Not Found",c=`No route matches URL "${e}"`):a===405&&(f="Method Not Allowed",i&&e&&n?c=`You made a ${i.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:i&&(c=`Invalid request method "${i.toUpperCase()}"`)),new Pc(a||500,f,new Error(c),!0)}function yc(a){let e=Object.entries(a);for(let n=e.length-1;n>=0;n--){let[i,o]=e[n];if(as(o))return{key:i,result:o}}}function kb(a){let e=typeof a=="string"?Ca(a):a;return pi({...e,hash:""})}function lA(a,e){return a.pathname!==e.pathname||a.search!==e.search?!1:a.hash===""?e.hash!=="":a.hash===e.hash?!0:e.hash!==""}function uA(a){return jb(a.result)&&Q1.has(a.result.status)}function $n(a){return a.type==="error"}function as(a){return(a&&a.type)==="redirect"}function Qv(a){return typeof a=="object"&&a!=null&&"type"in a&&"data"in a&&"init"in a&&a.type==="DataWithResponseInit"}function jb(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.headers=="object"&&typeof a.body<"u"}function cA(a){return G1.has(a.toUpperCase())}function Gn(a){return H1.has(a.toUpperCase())}function bm(a){return new URLSearchParams(a).getAll("index").some(e=>e==="")}function Dl(a,e){let n=typeof e=="string"?Ca(e).search:e.search;if(a[a.length-1].route.index&&bm(n||""))return a[a.length-1];let i=Sb(a);return i[i.length-1]}function Yv(a){let{formMethod:e,formAction:n,formEncType:i,text:o,formData:u,json:f}=a;if(!(!e||!n||!i)){if(o!=null)return{formMethod:e,formAction:n,formEncType:i,formData:void 0,json:void 0,text:o};if(u!=null)return{formMethod:e,formAction:n,formEncType:i,formData:u,json:void 0,text:void 0};if(f!==void 0)return{formMethod:e,formAction:n,formEncType:i,formData:void 0,json:f,text:void 0}}}function Nd(a,e){return e?{state:"loading",location:a,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:a,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function fA(a,e){return{state:"submitting",location:a,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Rl(a,e){return a?{state:"loading",formMethod:a.formMethod,formAction:a.formAction,formEncType:a.formEncType,formData:a.formData,json:a.json,text:a.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function hA(a,e){return{state:"submitting",formMethod:a.formMethod,formAction:a.formAction,formEncType:a.formEncType,formData:a.formData,json:a.json,text:a.text,data:e?e.data:void 0}}function si(a){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:a}}function dA(a,e){try{let n=a.sessionStorage.getItem(xb);if(n){let i=JSON.parse(n);for(let[o,u]of Object.entries(i||{}))u&&Array.isArray(u)&&e.set(o,new Set(u||[]))}}catch{}}function mA(a,e){if(e.size>0){let n={};for(let[i,o]of e)n[i]=[...o];try{a.sessionStorage.setItem(xb,JSON.stringify(n))}catch(i){Dt(!1,`Failed to save applied view transitions in sessionStorage (${i}).`)}}}function pA(){let a,e,n=new Promise((i,o)=>{a=async u=>{i(u);try{await n}catch{}},e=async u=>{o(u);try{await n}catch{}}});return{promise:n,resolve:a,reject:e}}var us=W.createContext(null);us.displayName="DataRouter";var Kl=W.createContext(null);Kl.displayName="DataRouterState";var Em=W.createContext({isTransitioning:!1});Em.displayName="ViewTransition";var Vb=W.createContext(new Map);Vb.displayName="Fetchers";var gA=W.createContext(null);gA.displayName="Await";var Ar=W.createContext(null);Ar.displayName="Navigation";var af=W.createContext(null);af.displayName="Location";var pr=W.createContext({outlet:null,matches:[],isDataRoute:!1});pr.displayName="Route";var wm=W.createContext(null);wm.displayName="RouteError";function yA(a,{relative:e}={}){Ke(vo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=W.useContext(Ar),{hash:o,pathname:u,search:f}=Xl(a,{relative:e}),c=u;return n!=="/"&&(c=u==="/"?n:Kr([n,u])),i.createHref({pathname:c,search:f,hash:o})}function vo(){return W.useContext(af)!=null}function Tr(){return Ke(vo(),"useLocation() may be used only in the context of a <Router> component."),W.useContext(af).location}var Pb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Lb(a){W.useContext(Ar).static||W.useLayoutEffect(a)}function cs(){let{isDataRoute:a}=W.useContext(pr);return a?IA():vA()}function vA(){Ke(vo(),"useNavigate() may be used only in the context of a <Router> component.");let a=W.useContext(us),{basename:e,navigator:n}=W.useContext(Ar),{matches:i}=W.useContext(pr),{pathname:o}=Tr(),u=JSON.stringify(nf(i)),f=W.useRef(!1);return Lb(()=>{f.current=!0}),W.useCallback((p,y={})=>{if(Dt(f.current,Pb),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=rf(p,JSON.parse(u),o,y.relative==="path");a==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Kr([e,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[e,n,u,o,a])}var _A=W.createContext(null);function bA(a){let e=W.useContext(pr).outlet;return e&&W.createElement(_A.Provider,{value:a},e)}function EA(){let{matches:a}=W.useContext(pr),e=a[a.length-1];return e?e.params:{}}function Xl(a,{relative:e}={}){let{matches:n}=W.useContext(pr),{pathname:i}=Tr(),o=JSON.stringify(nf(n));return W.useMemo(()=>rf(a,JSON.parse(o),i,e==="path"),[a,o,i,e])}function wA(a,e,n,i){Ke(vo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=W.useContext(Ar),{matches:f}=W.useContext(pr),c=f[f.length-1],p=c?c.params:{},y=c?c.pathname:"/",E=c?c.pathnameBase:"/",d=c&&c.route;{let T=d&&d.path||"";Ub(y,!d||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let g=Tr(),b;b=g;let v=b.pathname||"/",_=v;if(E!=="/"){let T=E.replace(/^\//,"").split("/");_="/"+v.replace(/^\//,"").split("/").slice(T.length).join("/")}let R=!u&&n&&n.matches&&n.matches.length>0?n.matches:oi(a,{pathname:_});return Dt(d||R!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Dt(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),xA(R&&R.map(T=>Object.assign({},T,{params:Object.assign({},p,T.params),pathname:Kr([E,o.encodeLocation?o.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?E:Kr([E,o.encodeLocation?o.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),f,n,i)}function AA(){let a=NA(),e=Ul(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),n=a instanceof Error?a.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},u={padding:"2px 4px",backgroundColor:i},f=null;return console.error("Error handled by React Router default ErrorBoundary:",a),f=W.createElement(W.Fragment,null,W.createElement("p",null," Hey developer "),W.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",W.createElement("code",{style:u},"ErrorBoundary")," or"," ",W.createElement("code",{style:u},"errorElement")," prop on your route.")),W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),n?W.createElement("pre",{style:o},n):null,f)}var TA=W.createElement(AA,null),SA=class extends W.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,e){return e.location!==a.location||e.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:e.error,location:e.location,revalidation:a.revalidation||e.revalidation}}componentDidCatch(a,e){console.error("React Router caught the following error during render",a,e)}render(){return this.state.error!==void 0?W.createElement(pr.Provider,{value:this.props.routeContext},W.createElement(wm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RA({routeContext:a,match:e,children:n}){let i=W.useContext(us);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),W.createElement(pr.Provider,{value:a},n)}function xA(a,e=[],n=null,i=null){if(a==null){if(!n)return null;if(n.errors)a=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)a=n.matches;else return null}let o=a,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);Ke(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,c=-1;if(n)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(c=p),y.route.id){let{loaderData:E,errors:d}=n,g=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!d||d[y.route.id]===void 0);if(y.route.lazy||g){f=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((p,y,E)=>{let d,g=!1,b=null,v=null;n&&(d=u&&y.route.id?u[y.route.id]:void 0,b=y.route.errorElement||TA,f&&(c<0&&E===0?(Ub("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,v=null):c===E&&(g=!0,v=y.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,E+1)),R=()=>{let w;return d?w=b:g?w=v:y.route.Component?w=W.createElement(y.route.Component,null):y.route.element?w=y.route.element:w=p,W.createElement(RA,{match:y,routeContext:{outlet:p,matches:_,isDataRoute:n!=null},children:w})};return n&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?W.createElement(SA,{location:n.location,revalidation:n.revalidation,component:b,error:d,children:R(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):R()},null)}function Am(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function CA(a){let e=W.useContext(us);return Ke(e,Am(a)),e}function DA(a){let e=W.useContext(Kl);return Ke(e,Am(a)),e}function OA(a){let e=W.useContext(pr);return Ke(e,Am(a)),e}function Tm(a){let e=OA(a),n=e.matches[e.matches.length-1];return Ke(n.route.id,`${a} can only be used on routes that contain a unique "id"`),n.route.id}function MA(){return Tm("useRouteId")}function NA(){var i;let a=W.useContext(wm),e=DA("useRouteError"),n=Tm("useRouteError");return a!==void 0?a:(i=e.errors)==null?void 0:i[n]}function IA(){let{router:a}=CA("useNavigate"),e=Tm("useNavigate"),n=W.useRef(!1);return Lb(()=>{n.current=!0}),W.useCallback(async(o,u={})=>{Dt(n.current,Pb),n.current&&(typeof o=="number"?a.navigate(o):await a.navigate(o,{fromRouteId:e,...u}))},[a,e])}var Kv={};function Ub(a,e,n){!e&&!Kv[a]&&(Kv[a]=!0,Dt(!1,n))}var Xv={};function Wv(a,e){!a&&!Xv[e]&&(Xv[e]=!0,console.warn(e))}function kA(a){let e={hasErrorBoundary:a.hasErrorBoundary||a.ErrorBoundary!=null||a.errorElement!=null};return a.Component&&(a.element&&Dt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:W.createElement(a.Component),Component:void 0})),a.HydrateFallback&&(a.hydrateFallbackElement&&Dt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:W.createElement(a.HydrateFallback),HydrateFallback:void 0})),a.ErrorBoundary&&(a.errorElement&&Dt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:W.createElement(a.ErrorBoundary),ErrorBoundary:void 0})),e}var jA=["HydrateFallback","hydrateFallbackElement"],VA=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",n(i))}})}};function PA({router:a,flushSync:e}){let[n,i]=W.useState(a.state),[o,u]=W.useState(),[f,c]=W.useState({isTransitioning:!1}),[p,y]=W.useState(),[E,d]=W.useState(),[g,b]=W.useState(),v=W.useRef(new Map),_=W.useCallback((C,{deletedFetchers:I,flushSync:V,viewTransitionOpts:j})=>{C.fetchers.forEach((S,x)=>{S.data!==void 0&&v.current.set(x,S.data)}),I.forEach(S=>v.current.delete(S)),Wv(V===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let M=a.window!=null&&a.window.document!=null&&typeof a.window.document.startViewTransition=="function";if(Wv(j==null||M,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!j||!M){e&&V?e(()=>i(C)):W.startTransition(()=>i(C));return}if(e&&V){e(()=>{E&&(p&&p.resolve(),E.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:j.currentLocation,nextLocation:j.nextLocation})});let S=a.window.document.startViewTransition(()=>{e(()=>i(C))});S.finished.finally(()=>{e(()=>{y(void 0),d(void 0),u(void 0),c({isTransitioning:!1})})}),e(()=>d(S));return}E?(p&&p.resolve(),E.skipTransition(),b({state:C,currentLocation:j.currentLocation,nextLocation:j.nextLocation})):(u(C),c({isTransitioning:!0,flushSync:!1,currentLocation:j.currentLocation,nextLocation:j.nextLocation}))},[a.window,e,E,p]);W.useLayoutEffect(()=>a.subscribe(_),[a,_]),W.useEffect(()=>{f.isTransitioning&&!f.flushSync&&y(new VA)},[f]),W.useEffect(()=>{if(p&&o&&a.window){let C=o,I=p.promise,V=a.window.document.startViewTransition(async()=>{W.startTransition(()=>i(C)),await I});V.finished.finally(()=>{y(void 0),d(void 0),u(void 0),c({isTransitioning:!1})}),d(V)}},[o,p,a.window]),W.useEffect(()=>{p&&o&&n.location.key===o.location.key&&p.resolve()},[p,E,n.location,o]),W.useEffect(()=>{!f.isTransitioning&&g&&(u(g.state),c({isTransitioning:!0,flushSync:!1,currentLocation:g.currentLocation,nextLocation:g.nextLocation}),b(void 0))},[f.isTransitioning,g]);let R=W.useMemo(()=>({createHref:a.createHref,encodeLocation:a.encodeLocation,go:C=>a.navigate(C),push:(C,I,V)=>a.navigate(C,{state:I,preventScrollReset:V==null?void 0:V.preventScrollReset}),replace:(C,I,V)=>a.navigate(C,{replace:!0,state:I,preventScrollReset:V==null?void 0:V.preventScrollReset})}),[a]),w=a.basename||"/",T=W.useMemo(()=>({router:a,navigator:R,static:!1,basename:w}),[a,R,w]);return W.createElement(W.Fragment,null,W.createElement(us.Provider,{value:T},W.createElement(Kl.Provider,{value:n},W.createElement(Vb.Provider,{value:v.current},W.createElement(Em.Provider,{value:f},W.createElement(qA,{basename:w,location:n.location,navigationType:n.historyAction,navigator:R},W.createElement(LA,{routes:a.routes,future:a.future,state:n})))))),null)}var LA=W.memo(UA);function UA({routes:a,future:e,state:n}){return wA(a,void 0,n,e)}function zA({to:a,replace:e,state:n,relative:i}){Ke(vo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=W.useContext(Ar);Dt(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=W.useContext(pr),{pathname:f}=Tr(),c=cs(),p=rf(a,nf(u),f,i==="path"),y=JSON.stringify(p);return W.useEffect(()=>{c(JSON.parse(y),{replace:e,state:n,relative:i})},[c,y,i,e,n]),null}function BA(a){return bA(a.context)}function qA({basename:a="/",children:e=null,location:n,navigationType:i="POP",navigator:o,static:u=!1}){Ke(!vo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=a.replace(/^\/*/,"/"),c=W.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=Ca(n));let{pathname:p="/",search:y="",hash:E="",state:d=null,key:g="default"}=n,b=W.useMemo(()=>{let v=mr(p,f);return v==null?null:{location:{pathname:v,search:y,hash:E,state:d,key:g},navigationType:i}},[f,p,y,E,d,g,i]);return Dt(b!=null,`<Router basename="${f}"> is not able to match the URL "${p}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:W.createElement(Ar.Provider,{value:c},W.createElement(af.Provider,{children:e,value:b}))}var xc="get",Cc="application/x-www-form-urlencoded";function sf(a){return a!=null&&typeof a.tagName=="string"}function FA(a){return sf(a)&&a.tagName.toLowerCase()==="button"}function HA(a){return sf(a)&&a.tagName.toLowerCase()==="form"}function $A(a){return sf(a)&&a.tagName.toLowerCase()==="input"}function GA(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function QA(a,e){return a.button===0&&(!e||e==="_self")&&!GA(a)}function Qd(a=""){return new URLSearchParams(typeof a=="string"||Array.isArray(a)||a instanceof URLSearchParams?a:Object.keys(a).reduce((e,n)=>{let i=a[n];return e.concat(Array.isArray(i)?i.map(o=>[n,o]):[[n,i]])},[]))}function YA(a,e){let n=Qd(a);return e&&e.forEach((i,o)=>{n.has(o)||e.getAll(o).forEach(u=>{n.append(o,u)})}),n}var vc=null;function KA(){if(vc===null)try{new FormData(document.createElement("form"),0),vc=!1}catch{vc=!0}return vc}var XA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Id(a){return a!=null&&!XA.has(a)?(Dt(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Cc}"`),null):a}function WA(a,e){let n,i,o,u,f;if(HA(a)){let c=a.getAttribute("action");i=c?mr(c,e):null,n=a.getAttribute("method")||xc,o=Id(a.getAttribute("enctype"))||Cc,u=new FormData(a)}else if(FA(a)||$A(a)&&(a.type==="submit"||a.type==="image")){let c=a.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=a.getAttribute("formaction")||c.getAttribute("action");if(i=p?mr(p,e):null,n=a.getAttribute("formmethod")||c.getAttribute("method")||xc,o=Id(a.getAttribute("formenctype"))||Id(c.getAttribute("enctype"))||Cc,u=new FormData(c,a),!KA()){let{name:y,type:E,value:d}=a;if(E==="image"){let g=y?`${y}.`:"";u.append(`${g}x`,"0"),u.append(`${g}y`,"0")}else y&&u.append(y,d)}}else{if(sf(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=xc,i=null,o=Cc,f=a}return u&&o==="text/plain"&&(f=u,u=void 0),{action:i,method:n.toLowerCase(),encType:o,formData:u,body:f}}function Sm(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}async function ZA(a,e){if(a.id in e)return e[a.id];try{let n=await import(a.module);return e[a.id]=n,n}catch(n){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function JA(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function eT(a,e,n){let i=await Promise.all(a.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await ZA(u,n);return f.links?f.links():[]}return[]}));return aT(i.flat(1).filter(JA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Zv(a,e,n,i,o,u){let f=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,c=(p,y)=>{var E;return n[y].pathname!==p.pathname||((E=n[y].route.path)==null?void 0:E.endsWith("*"))&&n[y].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,y)=>f(p,y)||c(p,y)):u==="data"?e.filter((p,y)=>{var d;let E=i.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,y)||c(p,y))return!0;if(p.route.shouldRevalidate){let g=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((d=n[0])==null?void 0:d.params)||{},nextUrl:new URL(a,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function tT(a,e,{includeHydrateFallback:n}={}){return nT(a.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function nT(a){return[...new Set(a)]}function rT(a){let e={},n=Object.keys(a).sort();for(let i of n)e[i]=a[i];return e}function aT(a,e){let n=new Set;return new Set(e),a.reduce((i,o)=>{let u=JSON.stringify(rT(o));return n.has(u)||(n.add(u),i.push({key:u,link:o})),i},[])}var iT=new Set([100,101,204,205]);function sT(a,e){let n=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return n.pathname==="/"?n.pathname="_root.data":e&&mr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function zb(){let a=W.useContext(us);return Sm(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function oT(){let a=W.useContext(Kl);return Sm(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var Rm=W.createContext(void 0);Rm.displayName="FrameworkContext";function Bb(){let a=W.useContext(Rm);return Sm(a,"You must render this element inside a <HydratedRouter> element"),a}function lT(a,e){let n=W.useContext(Rm),[i,o]=W.useState(!1),[u,f]=W.useState(!1),{onFocus:c,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:d}=e,g=W.useRef(null);W.useEffect(()=>{if(a==="render"&&f(!0),a==="viewport"){let _=w=>{w.forEach(T=>{f(T.isIntersecting)})},R=new IntersectionObserver(_,{threshold:.5});return g.current&&R.observe(g.current),()=>{R.disconnect()}}},[a]),W.useEffect(()=>{if(i){let _=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(_)}}},[i]);let b=()=>{o(!0)},v=()=>{o(!1),f(!1)};return n?a!=="intent"?[u,g,{}]:[u,g,{onFocus:xl(c,b),onBlur:xl(p,v),onMouseEnter:xl(y,b),onMouseLeave:xl(E,v),onTouchStart:xl(d,b)}]:[!1,g,{}]}function xl(a,e){return n=>{a&&a(n),n.defaultPrevented||e(n)}}function uT({page:a,...e}){let{router:n}=zb(),i=W.useMemo(()=>oi(n.routes,a,n.basename),[n.routes,a,n.basename]);return i?W.createElement(fT,{page:a,matches:i,...e}):null}function cT(a){let{manifest:e,routeModules:n}=Bb(),[i,o]=W.useState([]);return W.useEffect(()=>{let u=!1;return eT(a,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[a,e,n]),i}function fT({page:a,matches:e,...n}){let i=Tr(),{manifest:o,routeModules:u}=Bb(),{basename:f}=zb(),{loaderData:c,matches:p}=oT(),y=W.useMemo(()=>Zv(a,e,p,o,i,"data"),[a,e,p,o,i]),E=W.useMemo(()=>Zv(a,e,p,o,i,"assets"),[a,e,p,o,i]),d=W.useMemo(()=>{if(a===i.pathname+i.search+i.hash)return[];let v=new Set,_=!1;if(e.forEach(w=>{var C;let T=o.routes[w.route.id];!T||!T.hasLoader||(!y.some(I=>I.route.id===w.route.id)&&w.route.id in c&&((C=u[w.route.id])!=null&&C.shouldRevalidate)||T.hasClientLoader?_=!0:v.add(w.route.id))}),v.size===0)return[];let R=sT(a,f);return _&&v.size>0&&R.searchParams.set("_routes",e.filter(w=>v.has(w.route.id)).map(w=>w.route.id).join(",")),[R.pathname+R.search]},[f,c,i,o,y,e,a,u]),g=W.useMemo(()=>tT(E,o),[E,o]),b=cT(E);return W.createElement(W.Fragment,null,d.map(v=>W.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),g.map(v=>W.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),b.map(({key:v,link:_})=>W.createElement("link",{key:v,..._})))}function hT(...a){return e=>{a.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var qb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{qb&&(window.__reactRouterVersion="7.5.3")}catch{}function dT(a,e){return W1({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:v1({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||mT(),routes:a,mapRouteProperties:kA,hydrationRouteProperties:jA,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function mT(){let a=window==null?void 0:window.__staticRouterHydrationData;return a&&a.errors&&(a={...a,errors:pT(a.errors)}),a}function pT(a){if(!a)return null;let e=Object.entries(a),n={};for(let[i,o]of e)if(o&&o.__type==="RouteErrorResponse")n[i]=new Pc(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let u=window[o.__subType];if(typeof u=="function")try{let f=new u(o.message);f.stack="",n[i]=f}catch{}}if(n[i]==null){let u=new Error(o.message);u.stack="",n[i]=u}}else n[i]=o;return n}var Fb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bn=W.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:o,reloadDocument:u,replace:f,state:c,target:p,to:y,preventScrollReset:E,viewTransition:d,...g},b){let{basename:v}=W.useContext(Ar),_=typeof y=="string"&&Fb.test(y),R,w=!1;if(typeof y=="string"&&_&&(R=y,qb))try{let x=new URL(window.location.href),O=y.startsWith("//")?new URL(x.protocol+y):new URL(y),P=mr(O.pathname,v);O.origin===x.origin&&P!=null?y=P+O.search+O.hash:w=!0}catch{Dt(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=yA(y,{relative:o}),[C,I,V]=lT(i,g),j=_T(y,{replace:f,state:c,target:p,preventScrollReset:E,relative:o,viewTransition:d});function M(x){e&&e(x),x.defaultPrevented||j(x)}let S=W.createElement("a",{...g,...V,href:R||T,onClick:w||u?e:M,ref:hT(b,I),target:p,"data-discover":!_&&n==="render"?"true":void 0});return C&&!_?W.createElement(W.Fragment,null,S,W.createElement(uT,{page:T})):S});bn.displayName="Link";var gT=W.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:o=!1,style:u,to:f,viewTransition:c,children:p,...y},E){let d=Xl(f,{relative:y.relative}),g=Tr(),b=W.useContext(Kl),{navigator:v,basename:_}=W.useContext(Ar),R=b!=null&&ST(d)&&c===!0,w=v.encodeLocation?v.encodeLocation(d).pathname:d.pathname,T=g.pathname,C=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(T=T.toLowerCase(),C=C?C.toLowerCase():null,w=w.toLowerCase()),C&&_&&(C=mr(C,_)||C);const I=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let V=T===w||!o&&T.startsWith(w)&&T.charAt(I)==="/",j=C!=null&&(C===w||!o&&C.startsWith(w)&&C.charAt(w.length)==="/"),M={isActive:V,isPending:j,isTransitioning:R},S=V?e:void 0,x;typeof i=="function"?x=i(M):x=[i,V?"active":null,j?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(M):u;return W.createElement(bn,{...y,"aria-current":S,className:x,ref:E,style:O,to:f,viewTransition:c},typeof p=="function"?p(M):p)});gT.displayName="NavLink";var yT=W.forwardRef(({discover:a="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:o,state:u,method:f=xc,action:c,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:d,...g},b)=>{let v=AT(),_=TT(c,{relative:y}),R=f.toLowerCase()==="get"?"get":"post",w=typeof c=="string"&&Fb.test(c),T=C=>{if(p&&p(C),C.defaultPrevented)return;C.preventDefault();let I=C.nativeEvent.submitter,V=(I==null?void 0:I.getAttribute("formmethod"))||f;v(I||C.currentTarget,{fetcherKey:e,method:V,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:d})};return W.createElement("form",{ref:b,method:R,action:_,onSubmit:i?p:T,...g,"data-discover":!w&&a==="render"?"true":void 0})});yT.displayName="Form";function vT(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Hb(a){let e=W.useContext(us);return Ke(e,vT(a)),e}function _T(a,{target:e,replace:n,state:i,preventScrollReset:o,relative:u,viewTransition:f}={}){let c=cs(),p=Tr(),y=Xl(a,{relative:u});return W.useCallback(E=>{if(QA(E,e)){E.preventDefault();let d=n!==void 0?n:pi(p)===pi(y);c(a,{replace:d,state:i,preventScrollReset:o,relative:u,viewTransition:f})}},[p,c,y,n,i,e,a,o,u,f])}function bT(a){Dt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=W.useRef(Qd(a)),n=W.useRef(!1),i=Tr(),o=W.useMemo(()=>YA(i.search,n.current?null:e.current),[i.search]),u=cs(),f=W.useCallback((c,p)=>{const y=Qd(typeof c=="function"?c(o):c);n.current=!0,u("?"+y,p)},[u,o]);return[o,f]}var ET=0,wT=()=>`__${String(++ET)}__`;function AT(){let{router:a}=Hb("useSubmit"),{basename:e}=W.useContext(Ar),n=MA();return W.useCallback(async(i,o={})=>{let{action:u,method:f,encType:c,formData:p,body:y}=WA(i,e);if(o.navigate===!1){let E=o.fetcherKey||wT();await a.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||c,flushSync:o.flushSync})}else await a.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||c,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[a,e,n])}function TT(a,{relative:e}={}){let{basename:n}=W.useContext(Ar),i=W.useContext(pr);Ke(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),u={...Xl(a||".",{relative:e})},f=Tr();if(a==null){u.search=f.search;let c=new URLSearchParams(u.search),p=c.getAll("index");if(p.some(E=>E==="")){c.delete("index"),p.filter(d=>d).forEach(d=>c.append("index",d));let E=c.toString();u.search=E?`?${E}`:""}}return(!a||a===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Kr([n,u.pathname])),pi(u)}function ST(a,e={}){let n=W.useContext(Em);Ke(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Hb("useViewTransitionState"),o=Xl(a,{relative:e.relative});if(!n.isTransitioning)return!1;let u=mr(n.currentLocation.pathname,i)||n.currentLocation.pathname,f=mr(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Vc(o.pathname,f)!=null||Vc(o.pathname,u)!=null}new TextEncoder;[...iT];var RT=Eb();/**
 * react-router v7.5.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xT(a){return W.createElement(PA,{flushSync:RT.flushSync,...a})}const CT="/Webbshop-React/assets/TitleHighlight-BBa3hHRd.png",DT="/Webbshop-React/assets/LegoHighlight-DAFgWCBt.png",OT="/Webbshop-React/assets/GameHighlight-CqrF5poe.png",MT="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFIAAABSCAYAAADHLIObAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAA8hSURBVHgB5V0JcBRVGv67ZyZBSciQKCQoOTDcypENR+2CJF6UgVVc8VyVzALFXkLcEqtcdZOope5qLVDl4lpJjJBFDmshJYsi0UqwRA4jJggEEo4JBoKrISOTEHLMtO97mR5nJjM93TOT+6vq9Ez3637vffO/9//v/997EaiXUVhYmKi32abZJWmaIIoJgiQlSkSJjtuJHsktOAQiM87smUpRECo6dLoKk8lkpl6EQD0MRpxRZ7cvYh/nkSQtCgsPN8bGxtLQiAgaHhNDEeyMAxgaGen2bFtbGzVbrfzc1NREzez4rr6eLl26hGtmlqRMlKSydp1ub08T2yNEyuQxaVtiCA9PA3Ej4uIoPj6+C1mBoslBal1tLV28eJHaW1vLWOXefWzZsg3UA+hWIkGg3m5fJUlSVmxcnHHK9Olc6sLCwqi7cbqmhpN67tw5M/taZhPF3O6U0m4hEv2ewW7P1oeFZU6cNIkm3Hxzj5DnDZDUI4cP03dMStnnd7uL0JASKUtgmMGQNWHyZGNvEugJEHqmupoqv/6aBEHI6RDFdYxQC4UIISOyMC8vTScIhTeNHZs4JSXFqTD6GmQJPX3qlJkpppxQ9aFBE+lQJNmMuKxfzp1LI5kS6Q/4lvWf5QcPgti1juYelHQGRST6Qp3NVjpx8mQuhX2lGasFzChIZ9Xx42ZGZnowfWfARBbl5y9ixBUyTcz7wv6MqmPHqPzAARj6pseXLSumABAQkRvy81dFRkaunXfHHRQdHU0DAY0NDVT26acw8nMeX7o0lzRCRxpRVFCQHREZ+dqdGRkUFRVFAwXXXHstjU5IQN+ZtvDuu2nHBx/s1fK8JiJBIhvK5YDEvqqVgwH6+EDJVE3kQCdRhiuZC+bP/3HHzp0H1Dynqo+EYmFj4h0DnURXwN4s+fBDOEnuU6OARH8JYOIwt1YhFMtgIRFAXdNuvx0SWggO/KVXJJIb28xOnDFrlnGgaGctgIPllpQUDDhKwYVSWkUiMWLBkK+/24nBgA02iDleEsGFUjqfRG4sKMjEsC919mwa7HD4DrLgT/CVxiuRXIwlKTt11qx+N+zrDoAD+BF0oljoq4l7JRKuMDRpmAHBgDl0+aF0P1Twl0+wecEZc1NycqLY0ZHl7X4XIrmWZu4liHOgsNls/Hz+/Hl6+i9P0+TJt1DM8BgyRg2n0TeMpnm3zqP169fTDz/8wNMFWlE8Y7fb+WeLxUJvvvkmpael06jYURQ1zEgxMdfTpImTKSvrKTp9+jRPJ6cPBOBkSHj4KjVanP5TUFBY+dVXUiBgheTHiRMnpOuvGyEJJPo8REHHz6NvjJd2f7Tb+bxadHR08HNxcbEzL/mdvvIaFXeDVFlZqTkvV1QePiwx/VGoSCKY3r51q2S1WiWtaG9v5+fMzExeaL3OoEikfOhEPT9HRAyTysvL+TuYRPvMB/dAAggZFhnFSZLf4e/Q68P4+bePPuZWZi1obW2VtmzcKCmaQ5DGfXv3SlohS8fUKdM4gb4kQ00lMzIypMuXL/vMC/cWZCzU9GO5SafjOZQ1UDIhlRvy8nJcuXMbIm7Mzz9730MPJWoZwbD3IgZCc341hw4d+pIYqRQMBFEkJnI0cuRIGjFihLO/FXU6Ol9XR42NjSQ60gSjPvR6PaWwPu/Awf3OOqgFHMJbi4osNp0uqYtnHXZjaUmJpBVoZs/99TnVzasvHWg5zz77bED95ce7dqGvzJT5c2ptBO+1mjuQFhY3pldeeTWkpkwgYDYeP4+6YRQZDAb+WRT9uhLotVf/ThcuXNCszTHiAWfyd54Tj0OHhaUx21H1i0CcjjW3GakzSceaSW8SiXKk3ZZOdslGdXXfUmvbVdq85T1OjlKTRZn1Oj1NmTK1s7vQUAfYleBMVjqcSDaOTNMa/UOm27dvpwbmorf56Rc9K4NvaqRFDfDuOFb2kpI9blL14IMP0vMvPI+CKj7fYesgS6OFtmzZokkqMdoBZ455TJ1Esj/ztDRrkAgiFt//gKpOOikpiS41NlBbeytdtv5Iefl5QRnGnmV58aVcZ5lc8cwzq1UpJNQhc4mJS7YWqYztFL55+MNzZl2tZonctGkT17BqCElIiCej0cg15dChQ+neRfdSKDFkyBCv15GfGqAOzAyioo1Fmoi8EcInSZ0Sif6Riakmkwe/4J/++GfVIUg23nF7NlTSKL8vN+dFfnYlAXls3bqVX5cPBOvuX/wbmjlzJk9j0Bvc3vPkkys1dTngjHFnBIciJnlGMwemWqCwFRUVxAxj1YTYbPYu7/CEFjvO813V1dW0evVqt3ccOXKETJm/c15bsWIFNVou0bZt27jtaPmxkdo72nlzBlAX1AnPaVU64FCPmbJamjUKtpL9cp4S4Hp/wvjxNHP2LK6EkGY8++6K8PBwWrBwIQ03doZzr1xpoR1McQWDNf9cS2+t/zfNmJFKNTWnuEmjYxrZzpTJjaNH0/q3/uVmeF/Lwq+Hv/6KUqb/wq3sq1auotKyUtX5stA0usZpCGztOF1dLWmBP0OXjT4kb4a7t88y4mJHBW9g+7ienZ3t0+j2NpzVYqCfYtzBiYEOwThUZf/InqP9+/crpsGvCsXi7bq3zzIWP7CYAgXeh74NzXQss4Xl/GUj/VJDY5dnJIfrTvLSqvbt26e6eUMiWb+QJGLiu1ovOAr8xutvKKZBAa5evarZQC//spwCBcq1ePH91NbRRierT3BT63+7dpLNYZC//fbb/Cz7AWQCC/ILutq47PvaNWtV99lcCEUxAY6KRriG1GK4MdpnE5LHr7m5uVJtba106tQpqaamRmIOXLfmwojmPkvcx8GGmUE15+Qxyfy9nt3H6/94nd83MM9SfHyC1Nzc7Lz/3qb3nOX1fCdzCktqAZcja9pnQaTqh0CAv4rpvBTs9yv+4Pae0tLSLmnCDOEBk1lUVNSlX8N3FuT/uVwOpwpIQl7+/JgtLS2SWoBDTeO0M2fO+E1j99Kko2OGu32H1vYEDOJAIQreq+FqE8qmGkwc5CW5hCm8QU1d3fLSktifoukNoC974YW/uZljMknvFLwTsH168OBBTek1EXno4CEKBE3WZn6WKxqs89cVeKfZbCaT6WfjG+fPP/+cj1QChea6wivepODad8XcOXO1KwNHnzkm6Sbpnl/fI41NHse/GxyhhVAccvgAeU2bOl26LuY6fj2QUIR8zJ1zqypOoKihsNWN6h2oqztPWiFL4dmzZ/khI6RSST+HgFlQzHldvhYIENZQAyzjY03AImKBJKawqQFix4MFjZZGVekQv2Edcq3I9FZts0oiW65cocGCFjb+V4MmqxUtwgL/uhmrS9WgLQgTpb+hTWXX4xDCChHrncGqGki9HODqSUgqXYQX6+sJHIpYNI7luWpg0GvSTT4hhChe4/XdQmjeLUci/QHLSsChHqudmPq2NFutRn9rp8PYiKQ9CG0r23kTJ0zgUT7EcoLRrK6A5wf25BNPLKHKik7NHUwL8jb68gSaNevuzKalS838wob8/Herjh71azPFjowLzt5jdt7Klav4uwKdxKQEec5QVlaWJAY5YQH+UX+QfZHgkLcDJillF1U0b0wjCRQIRN111520bt1azVNE1EJ0BOPWrFlDt992mzOMEAjU1BULQ7H1A88bf2yiWIx+kttEChibnEyBACSOHz+OPtr9kd+gfbCQydxT8jGNGzdOdSTRE2NVTJYAZ9g/g+eLP5gI1N7WVoaOUwmpM1NJK1CRGBZc++boN3w0I3ajopGBPND3Hjt+lGKiozWTiZ95hp+6YquHttZW5yYkzlpJgrABq+uVkJaWRlrQGceOoPqLFziJ+hBpfTVAs4a7rP67eh5L15I3VFR6erpiGt6sBcE54dRJpKN5W5Sa980alomg4FHDhrGhVkOPkygDJgzyRhg2aliUpjJMmjTJ5z1o62/PnTO77j7gJBLNmymBdSeOHfP5Avyy6IT9NU9IQ1JiIn3f8H2vkSgDeUMyv2/4P40ZM4Z0emUFhLInJCbwcK0vVB4+jFOZ6zU3Rux6/VpmBvlUOujESz7Z41NhgGBcz8jIoJM1J3udRBmyZJ44WUULWNkAb4MClB196/bt//Vpg8qbNmH7BlICbEpM7fUF2H85Oblu8Rke/3D4/jZv3uxm0/UlyGV6f9v7nf5KF1tTjt+8/NLLijZuhZrJ+ADmsWzZuLGxyceEfHnlQkVFhZSaOkMyRg3nAaVHH36UB8cwn7w7jO1QAWWTy/jIw484yz975mypqqrKWT9vACcIdKlaHsKlMi8vx9+kfG9Ru74ohb7graz+BACceE7Cl+FVa6CvZHaSWcmZ4S2w3hM2Yqgg+ugjfYFpab5XELjx+j5vF6HB2e9l+uKzz/yOdgYD2GCFylkEFRsu+dofyKcImZYvL7M2Na070qnqBzW+PHCAwIXSrlWKbdGu0+VUHTtmrlKwLQc6UHfepBkXSukUieRNXKdLZ1Jp8TcOH4hoZCEYbKzk2KVKMfLnVztgUN7S1mYq++QTUhskGwhAXctKSuDAMKnZ6kuVmjUtW1bMbKin9uzaNSjIRB1RV6vVmqt2iy/Vnk/sf5Mxf75QV1ubFs/G0QN1ZwFXEpcsX56j9jlNLuTinTvLBjKZgZIIaPbFu5KJBTvXKHhJ+hOgWD7dvRsB/6cYia+RRgTs8y/Mz1/EfoXC1NmzjVjg2J8BE+cbZpmwwUfPbnsoQ96IExuJYFub/tbUMWKpYFEB5oPtvY04ZWB1qGiz5URGRKwCmcHuzNJTwC7QX+zdy0csMLZ7dWtYV/BF4JLEd66ampJCQ/voPmpQKJWOzYptdrsJQ2EKAUK+fTb2xWFelGxs7ZLMQpp9hVA04+OsLzx59KjlamvrOnhx+uT22a7gixw7m/sSLM/rTQmVCTyBEEp7e//Y0N0TMqFC53pwvrOVll0KAgXIw1RFNGFERplPNuQS6IluJdIV6EP5P70IC+Nrw0Eq7NBQSSr6vnMs1gxnNJ81woL3zHsLCSzuTgJl9Ma/YcEWgmlMStIgqVgrjn0aZVL5GujwcH42eJhT8jgf8zkxXRseKfm/hjAb0MJc3LAB9/YUea7ocSI9wQNJNts0Ef8YSBCmsgJh/VoSIwVrkN1Xh0pSLU4s3VlJEMwsyFJrF4QK6gP/GOgnOxkqHBhW/UoAAAAASUVORK5CYII=",NT="/Webbshop-React/assets/docka-icon-HygCtQRC.png",IT="/Webbshop-React/assets/leksak-icon-CPISF0rF.png",kT="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFIAAABSCAYAAADHLIObAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAA6bSURBVHgB7V15bBRlG392twdYiuWQQzlWDuUQlYoRQUOJBwYlH95RP4RKieGv8vmH8Q9Da0zwM4oWE4zaYmlLSPHgK1ajQpBW5dAitp+cbYUWlMMArdAqpd19fX5P993slu12dnZnd4v+kul0ZmdmZ37zvM/5vu/aKMYoLCx0JrhcN7uVutlmt4+2KeVURE7Px84uhzdjsRE1YM3n1NhttuoOh6M6MzOzgWIIG0UZTFyaw+2ez//OIqXmJyUnpw0bNoxS+vWjAYMGUT9eYwFSUlP9zr148SK1nj8v65aWFmrl5dSJE3T27Fnsa+BDKuxKVbQ7HJXRJjYqRGryWNoWJiYnZ4C4IcOH06hRoy4hyyxaPKT+0thIJ0+epPa2tgp+uLX/zsoqoijAUiJBYILbna2UWjZs+PC0G6dOFalLSkoiq/FzXZ2QevTo0QberHDZ7S9ZKaWWEAm9l+h25yQkJS2aOGkSTbjhhqiQFwiQ1P/v2UOnWEr5/7VWERpRIrUEJiUmLpsweXJaLAnsChB6uLaWan78kWw2W26H3b6KCW2mCCFiRBbm52c4bLbCsePHO29MT/cajHiDltCf6+sb2DDlRkqHhk2kx5DkMHHLZtx5Jw1lI9IbcIz15+7vvgOxeZ7mHpZ0hkUkdKHD5do2cfJkkcJ4acZGATcK0nlg//4GJnN2OLrTNJElBQXzmbhCtsSiC3szDuzbR7t37YKjn7kgK6uMTMAUkUUFBdmpqal5s+6+mwYOHEiXA5rOnKGKrVvh5OcuWLz4JbIaJWvW5GzcsEGdP39eRRoNDQ1q8eLFavDgwYotq0pMTFSTJk1S7777ruJmqKwGngnPhmckK2EViU1NTap///7KbrfLwl/lXUCo3rdgwQJlNSwn0yoSq6qqhCTWtyohIUFIe/zxx9V7772nli9frtLT0+VzSCeO6dOnj7Iamszi/PxlFEnAsFhB4unTp4UkkIN1SUlJwOM6OjrUzJkz5TgsV111lbIaXsnkZ6dIAC5OcUEB6+IzKtJAs4WUgcRTp05591dXV6sXX3xR/fHHH37HP/300yo5OVmkc/Xq1cpqnOUXvaG4uAkcUDiAs80kHjnw008q0ti1a5c0ZSwffvih7HO5XEIU9t16661+5GoMGTJEPgf50cD+vXtV8Zo1R8AFmQVf4M3tlZXKCtx+++2iDyGVGiDnkUceCXpeY2OjnIOltrZWRQNVO3eCzDfJDPjERdARbW1tygqACBC3dOlS2f7qq6/8SA0G8ljzFStWqGgAHIAL5BO648seaKeIsVI50267zZKwD1x08kF0zz33yPr999+nefPmGTp/wIABcv7u3bspGgAHyCM47PbC7pp4QsCdnAobw1mckaNHkxVgafL+z9ZR1q+99hq53W5D57OEyJr1JUULSMaMHTfOWV9bC5cot+vnl0gkLBS/7VwkIaxEWlrni12/fr2sUX64+uqrezwPksjWXF6GluZoAZz0SU7ODmTFL5FIZLancEnAbD7xyJEjxFaY2OKSw+EIeAyaCppnc3Mzffnll0KOr5QGw6ZNm4iNlEjvli1baMeOHbLdFbgmjpk+fbqoDPY/KVyAE07QpHFyGFFPZrcHgmmzjjfXRsS/0xaVfMK8YAvOQSxtFDr6MXp9fS9z5sxRkQAMT2lxseqqK/1eJaRxKDexUKXxO06QoiIIqcLC3ydSxyQFXZgUOf6ZZ54x/F2vv/565732cG19fdwL1tu2bZN94QLPNZHThvaOju7DRzjfoUojNx9543Cksd68ebOKJyC8fOihh+T+EF4i1AwXkEpEe75S6ZVI+I1spZ2hSmNeXp68cVhSbt5RNwA9AXr6448/prs5d8qk0vbt2+nPP/+kcACpZCuuOzoIvESieG/G3UFTww3ecccdNHLkSIpXlJWVyX1ClXz66acULri8IpzpbSFS6tBJSRlcAaRQceLECVk//PDDFM9Aq9E6k+N8ChfwK8GZbt5CJItohtnqn/JEKPFafvWFdrG6c8tCgad5k27eds+fWeFGMZrQvxOGdQrfLPwRIt1KZfSWenQ8YQSETymRyAToxySHw9kbmma8AZxxE08Dh3Z08hw4aBD9A3NASwaHdvSU/adZm0e/1FSoxpvtdpvtpr9bs46kYRwwcCChyzayP2kpESCSi2NUXFwskQP+nzZtGj3xxBM02qKcZjhAj7SNGzfS1q1bpXfvLbfcQo8++iiNN+FHQyI5zXStxNeolpkF+WRYqJvMy7p161Q8AJkm6iZLpDNKb7zxRkjXRG4CxTG4P2nh9uOGo6tzgldeeaUsej+iCWR3JkyYQLGGDhH1vfbv39+bYGZOJDv0wgsv0CATxleIDKcug1gb55eXl0siFclaLLixvXv3ShSBm+fqHw0dOpRiiZUrVwpZSGLgXn///XdqamqSez18+LAQi3tFBv6KK64wdE2xL0o50bSV1bjvvvskhYVUFr9xFU9gMv22dScELOg6YwTgMCpEAmx0vL0q2tvbVTygAAR4dGROTo53PxtKrz69cOFCj9eJKpGtra1yY9zU5QHiBUhM19fX+/V2QxdCbKOsYaQMAg6hIxtaPSVRKwGdgyqhy+XylgviAdCJY8eOlWRvSUkJnTt3TvQojCOM01tvvRX0fHSfZjTbKYqYO3eurI8fP07xBlQZr7/+ejFEAOtHWR86dCjoeRjGx2+j2Y4BknBQowGUYIFwU/1W4cEHH/Ra62uuuUbWaEHBIBLpdjcmuIkaW6NEJGrQwKA4TZK88sor3v+5iCfrwYMHBz2nhdWikqatVANGl0YDCB/hDLM7RPGOjz76SO71gQceCHqcRwirkbSobomCsXn55ZclygFWrFhB8Yy1a9fKvYJIdouCHnuSa1bg0I5B46c8BSyrAIW9fPlyubkRI0bQ8DhO26GrTWZmppCI++0p6YJhJeBQNlDsbjl3TpkBGw71wQcfdPs5OtWTTweCWDrjcK7Xr1/f7efcnP36tHOoG+xyqsWTsACH0tb4rE3Hjh5dOIFrtaGib9++8uYee+wxsXooy8KVgLJGn0eASZQOBHV1dd7mHQvgXhH7P/nkk3T//fdL6gwJloqKCnrnnXfEQiNvwIRTVVWVN/nSHU52tuQK7w70sti2ZYsyAwrSgQmpKUQynGGRyCbW6CmNhgXSeNpgWhGcrSsoWAgOxSF32e1l0JMeL90UxowZ49d1DpKHhOkPP/wgGRaj2ZRoAD1CUlJSvNuQ0ilTpoh7Bh/XqHsGzjB/ht/OkoKCbSePH1ehgjxvVI+RQeyKxQw4W62ysrIUp9tEp3KKSk2dOlXl5+ebvqYvtERi6ImG2evW19ZiQFOF5s8bInI6uwij681CRyu6a18ogP6ElCAWh1797bffZB8irurqanr22WfFij733HMUCeiu0/p+zQDjvdntKdTbXiI9zbs5nOYNwM259957DR8PAwSVwHrJ2xMXKuH555+nRYsWSaiGfTACq1evli7SsQaccDbODb6zD3iJxAh6lthVB/fto3CAh+4pPtWAFF933XVi1WEp4bTjfFjMV199FZ276NixY5KxhrRCepDVxjmxRM2ePVhV+O7zy/64ExLyDnB5IBypDNSfuzsgjoU0oqkdPHhQ6iWBmhrcFvRNnz17tmzj/9LSUooF9KRNmL7Bd7/fU0Mq2y5eLApXKo0Aug8vDNL79ttvSwqrJ3z++efenmRPPfUUxQL1rIpaWlvXdp224RLxcTscuSyVzVZnhLKzs6UZc6RDS5cuNXweBimBfFZDUlCLJlo9M7R0lUbgEiLBNDe1VR49YBhaUqD3jFQlv/nmGyEScW0oQOZaeXpKbNiwgczA6MCorgAn/N0BJ2AKGK9BV/5cV7cQc/j01C9Ih3/ff/+91K/nz58vpQRkw33dDDw8SpeffPKJ3xA6hGqhArVolHwxmiIUQPqBnnKMgcBWWuYKAjeBPg9oGaArXUpl7vj66x4ND/J1MDBcJJLtmTNn0rfffkuTOW6fMWPGJQvga1BgrUOF9gp0xt0IEPvr4SjIC4SCduZg986dhAmXTM0PVFRQkIchtsHw66+/emPUcePGKaPAHBb8FTJ0IxTo4SjoDlNUVGToHHahvNM9kIlx3hhqDS6CcRU0FSOGZ9++f6WkpjondpMZgn931113ic6Dz4c3Dr2HUQ7d+ZNweeBYo2KHzkyhAEPuoI9xbQwE4PAx4HG4D0RGTDbV1NSICkLrwhCWUIA5gaRJMxcUDtAbtbS4uKmnjlbz5s3zZnvI4PA28gyh47BQGQVi8FCG0OnvwBqzFoSCs2fO6IFJTooECjE5SGmpJDKDAc2cjY03MWp0QXLYKFauXBnStVnypYdZqMkJPCueOWKTg2hg6hYjZF4O0CQW5efnGuXH8ICT/5WX75o7Z47tl8bGjFFOZ6+bUM4o4HRv/uwzDMh/aeGSJblGzwtp5E5ZeXnF5UymWRKBkIdA+ZKJATt94yjzHQ6auLa/9YsvUPD/D5P4XwoRpqc9hAHit1A4bfr0tIkmimbxBLg4P+3Zg1xsdKc91NATcSKUZEJ7XVNHxFLNVQHOdsVuIk4NjA61u1y5qf36ZYPMkXE4iiEQMAv0jspKOt/SsgrOdkynhvUFSrqYKwjSeVN6OqXE6dgdGJQaz2TFLrc7M3PJkgqKACI+fTbmeuDwLAdTu4wbPz5uCEUz3s+68BDnWi9wmhBZnLicPtsXMsixs7kvRBoulhKqCTyIEkp7e++Y0L0rNKG2zvHgMrOVmVkKQgXIQ1dFNGFURjlYibgEdkXUfj0EOlR+9CIpScaGg1T4oZGSVOi+o1x6QGFKeo20tVVyohQSWGYlgRqx+BkWJ6Z+YCnJgKSyy+TED2FoUmUMNKe8sE7s4k7pOhL6cyJFhi51+ldD2Ads5twZfMDKaJHni6gT2RWSosJ4Z/wwkM12E99QGpN8LZOCrmD+M+MpJdUuPu4IZ3YbOKXT6LbZqikOfhjoL6XIX1UB70qqAAAAAElFTkSuQmCC",Jv=a=>{let e;const n=new Set,i=(y,E)=>{const d=typeof y=="function"?y(e):y;if(!Object.is(d,e)){const g=e;e=E??(typeof d!="object"||d===null)?d:Object.assign({},e,d),n.forEach(b=>b(e,g))}},o=()=>e,c={setState:i,getState:o,getInitialState:()=>p,subscribe:y=>(n.add(y),()=>n.delete(y))},p=e=a(i,o,c);return c},jT=a=>a?Jv(a):Jv,VT=a=>a;function PT(a,e=VT){const n=Av.useSyncExternalStore(a.subscribe,()=>e(a.getState()),()=>e(a.getInitialState()));return Av.useDebugValue(n),n}const e_=a=>{const e=jT(a),n=i=>PT(e,i);return Object.assign(n,e),n},xm=a=>a?e_(a):e_,LT=()=>{};var t_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b=function(a){const e=[];let n=0;for(let i=0;i<a.length;i++){let o=a.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<a.length&&(a.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},UT=function(a){const e=[];let n=0,i=0;for(;n<a.length;){const o=a[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const u=a[n++];e[i++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=a[n++],f=a[n++],c=a[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|c&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const u=a[n++],f=a[n++];e[i++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},Gb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<a.length;o+=3){const u=a[o],f=o+1<a.length,c=f?a[o+1]:0,p=o+2<a.length,y=p?a[o+2]:0,E=u>>2,d=(u&3)<<4|c>>4;let g=(c&15)<<2|y>>6,b=y&63;p||(b=64,f||(g=64)),i.push(n[E],n[d],n[g],n[b])}return i.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray($b(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):UT(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<a.length;){const u=n[a.charAt(o++)],c=o<a.length?n[a.charAt(o)]:0;++o;const y=o<a.length?n[a.charAt(o)]:64;++o;const d=o<a.length?n[a.charAt(o)]:64;if(++o,u==null||c==null||y==null||d==null)throw new zT;const g=u<<2|c>>4;if(i.push(g),y!==64){const b=c<<4&240|y>>2;if(i.push(b),d!==64){const v=y<<6&192|d;i.push(v)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class zT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const BT=function(a){const e=$b(a);return Gb.encodeByteArray(e,!0)},Uc=function(a){return BT(a).replace(/\./g,"")},qT=function(a){try{return Gb.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT=()=>FT().__FIREBASE_DEFAULTS__,$T=()=>{if(typeof process>"u"||typeof t_>"u")return;const a=t_.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},GT=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&qT(a[1]);return e&&JSON.parse(e)},Cm=()=>{try{return LT()||HT()||$T()||GT()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},QT=a=>{var e,n;return(n=(e=Cm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[a]},YT=a=>{const e=QT(a);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},Qb=()=>{var a;return(a=Cm())===null||a===void 0?void 0:a.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(a){return a.endsWith(".cloudworkstations.dev")}async function XT(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",o=a.iat||0,u=a.sub||a.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},a);return[Uc(JSON.stringify(n)),Uc(JSON.stringify(f)),""].join(".")}const Il={};function ZT(){const a={prod:[],emulator:[]};for(const e of Object.keys(Il))Il[e]?a.emulator.push(e):a.prod.push(e);return a}function JT(a){let e=document.getElementById(a),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),n=!0),{created:n,element:e}}let n_=!1;function Yb(a,e){if(typeof window>"u"||typeof document>"u"||!Dm(window.location.host)||Il[a]===e||Il[a]||n_)return;Il[a]=e;function n(g){return`__firebase__banner__${g}`}const i="__firebase__banner",u=ZT().prod.length>0;function f(){const g=document.getElementById(i);g&&g.remove()}function c(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function p(g,b){g.setAttribute("width","24"),g.setAttribute("id",b),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function y(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{n_=!0,f()},g}function E(g,b){g.setAttribute("id",b),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function d(){const g=JT(i),b=n("text"),v=document.getElementById(b)||document.createElement("span"),_=n("learnmore"),R=document.getElementById(_)||document.createElement("a"),w=n("preprendIcon"),T=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const C=g.element;c(C),E(R,_);const I=y();p(T,w),C.append(T,v,R,I),document.body.appendChild(C)}u?(v.innerText="Preview backend disconnected.",T.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(T.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eS(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tS(){var a;const e=(a=Cm())===null||a===void 0?void 0:a.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nS(){return!tS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rS(){try{return typeof indexedDB=="object"}catch{return!1}}function aS(){return new Promise((a,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(i),a(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS="FirebaseError";class _o extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=iS,Object.setPrototypeOf(this,_o.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kb.prototype.create)}}class Kb{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?sS(u,i):"Error",c=`${this.serviceName}: ${f} (${o}).`;return new _o(o,c,i)}}function sS(a,e){return a.replace(oS,(n,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const oS=/\{\$([^}]+)}/g;function zc(a,e){if(a===e)return!0;const n=Object.keys(a),i=Object.keys(e);for(const o of n){if(!i.includes(o))return!1;const u=a[o],f=e[o];if(r_(u)&&r_(f)){if(!zc(u,f))return!1}else if(u!==f)return!1}for(const o of i)if(!n.includes(o))return!1;return!0}function r_(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(a){return a&&a._delegate?a._delegate:a}class zl{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new KT;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cS(e))try{this.getOrInitializeService({instanceIdentifier:ts})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});i.resolve(u)}catch{}}}}clearInstance(e=ts){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ts){return this.instances.has(e)}getOptions(e=ts){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[u,f]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(u);i===c&&f.resolve(o)}return o}onInit(e,n){var i;const o=this.normalizeInstanceIdentifier(n),u=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const o of i)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:uS(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ts){return this.component?this.component.multipleInstances?e:ts:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uS(a){return a===ts?void 0:a}function cS(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new lS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(it||(it={}));const hS={debug:it.DEBUG,verbose:it.VERBOSE,info:it.INFO,warn:it.WARN,error:it.ERROR,silent:it.SILENT},dS=it.INFO,mS={[it.DEBUG]:"log",[it.VERBOSE]:"log",[it.INFO]:"info",[it.WARN]:"warn",[it.ERROR]:"error"},pS=(a,e,...n)=>{if(e<a.logLevel)return;const i=new Date().toISOString(),o=mS[e];if(o)console[o](`[${i}]  ${a.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Xb{constructor(e){this.name=e,this._logLevel=dS,this._logHandler=pS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in it))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,it.DEBUG,...e),this._logHandler(this,it.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,it.VERBOSE,...e),this._logHandler(this,it.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,it.INFO,...e),this._logHandler(this,it.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,it.WARN,...e),this._logHandler(this,it.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,it.ERROR,...e),this._logHandler(this,it.ERROR,...e)}}const gS=(a,e)=>e.some(n=>a instanceof n);let a_,i_;function yS(){return a_||(a_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vS(){return i_||(i_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Wb=new WeakMap,Yd=new WeakMap,Zb=new WeakMap,kd=new WeakMap,Om=new WeakMap;function _S(a){const e=new Promise((n,i)=>{const o=()=>{a.removeEventListener("success",u),a.removeEventListener("error",f)},u=()=>{n(ui(a.result)),o()},f=()=>{i(a.error),o()};a.addEventListener("success",u),a.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&Wb.set(n,a)}).catch(()=>{}),Om.set(e,a),e}function bS(a){if(Yd.has(a))return;const e=new Promise((n,i)=>{const o=()=>{a.removeEventListener("complete",u),a.removeEventListener("error",f),a.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{i(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",u),a.addEventListener("error",f),a.addEventListener("abort",f)});Yd.set(a,e)}let Kd={get(a,e,n){if(a instanceof IDBTransaction){if(e==="done")return Yd.get(a);if(e==="objectStoreNames")return a.objectStoreNames||Zb.get(a);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ui(a[e])},set(a,e,n){return a[e]=n,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function ES(a){Kd=a(Kd)}function wS(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=a.call(jd(this),e,...n);return Zb.set(i,e.sort?e.sort():[e]),ui(i)}:vS().includes(a)?function(...e){return a.apply(jd(this),e),ui(Wb.get(this))}:function(...e){return ui(a.apply(jd(this),e))}}function AS(a){return typeof a=="function"?wS(a):(a instanceof IDBTransaction&&bS(a),gS(a,yS())?new Proxy(a,Kd):a)}function ui(a){if(a instanceof IDBRequest)return _S(a);if(kd.has(a))return kd.get(a);const e=AS(a);return e!==a&&(kd.set(a,e),Om.set(e,a)),e}const jd=a=>Om.get(a);function TS(a,e,{blocked:n,upgrade:i,blocking:o,terminated:u}={}){const f=indexedDB.open(a,e),c=ui(f);return i&&f.addEventListener("upgradeneeded",p=>{i(ui(f.result),p.oldVersion,p.newVersion,ui(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),c.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),c}const SS=["get","getKey","getAll","getAllKeys","count"],RS=["put","add","delete","clear"],Vd=new Map;function s_(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(Vd.get(e))return Vd.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,o=RS.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||SS.includes(n)))return;const u=async function(f,...c){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return i&&(y=y.index(c.shift())),(await Promise.all([y[n](...c),o&&p.done]))[0]};return Vd.set(e,u),u}ES(a=>({...a,get:(e,n,i)=>s_(e,n)||a.get(e,n,i),has:(e,n)=>!!s_(e,n)||a.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(CS(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function CS(a){const e=a.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Xd="@firebase/app",o_="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa=new Xb("@firebase/app"),DS="@firebase/app-compat",OS="@firebase/analytics-compat",MS="@firebase/analytics",NS="@firebase/app-check-compat",IS="@firebase/app-check",kS="@firebase/auth",jS="@firebase/auth-compat",VS="@firebase/database",PS="@firebase/data-connect",LS="@firebase/database-compat",US="@firebase/functions",zS="@firebase/functions-compat",BS="@firebase/installations",qS="@firebase/installations-compat",FS="@firebase/messaging",HS="@firebase/messaging-compat",$S="@firebase/performance",GS="@firebase/performance-compat",QS="@firebase/remote-config",YS="@firebase/remote-config-compat",KS="@firebase/storage",XS="@firebase/storage-compat",WS="@firebase/firestore",ZS="@firebase/vertexai",JS="@firebase/firestore-compat",eR="firebase",tR="11.7.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wd="[DEFAULT]",nR={[Xd]:"fire-core",[DS]:"fire-core-compat",[MS]:"fire-analytics",[OS]:"fire-analytics-compat",[IS]:"fire-app-check",[NS]:"fire-app-check-compat",[kS]:"fire-auth",[jS]:"fire-auth-compat",[VS]:"fire-rtdb",[PS]:"fire-data-connect",[LS]:"fire-rtdb-compat",[US]:"fire-fn",[zS]:"fire-fn-compat",[BS]:"fire-iid",[qS]:"fire-iid-compat",[FS]:"fire-fcm",[HS]:"fire-fcm-compat",[$S]:"fire-perf",[GS]:"fire-perf-compat",[QS]:"fire-rc",[YS]:"fire-rc-compat",[KS]:"fire-gcs",[XS]:"fire-gcs-compat",[WS]:"fire-fst",[JS]:"fire-fst-compat",[ZS]:"fire-vertex","fire-js":"fire-js",[eR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bc=new Map,rR=new Map,Zd=new Map;function l_(a,e){try{a.container.addComponent(e)}catch(n){Sa.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,n)}}function qc(a){const e=a.name;if(Zd.has(e))return Sa.debug(`There were multiple attempts to register component ${e}.`),!1;Zd.set(e,a);for(const n of Bc.values())l_(n,a);for(const n of rR.values())l_(n,a);return!0}function aR(a,e){const n=a.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),a.container.getProvider(e)}function iR(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ci=new Kb("app","Firebase",sR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new zl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ci.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR=tR;function Jb(a,e={}){let n=a;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Wd,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw ci.create("bad-app-name",{appName:String(o)});if(n||(n=Qb()),!n)throw ci.create("no-options");const u=Bc.get(o);if(u){if(zc(n,u.options)&&zc(i,u.config))return u;throw ci.create("duplicate-app",{appName:o})}const f=new fS(o);for(const p of Zd.values())f.addComponent(p);const c=new oR(n,i,f);return Bc.set(o,c),c}function uR(a=Wd){const e=Bc.get(a);if(!e&&a===Wd&&Qb())return Jb();if(!e)throw ci.create("no-app",{appName:a});return e}function oo(a,e,n){var i;let o=(i=nR[a])!==null&&i!==void 0?i:a;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const c=[`Unable to register library "${o}" with version "${e}":`];u&&c.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&c.push("and"),f&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Sa.warn(c.join(" "));return}qc(new zl(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR="firebase-heartbeat-database",fR=1,Bl="firebase-heartbeat-store";let Pd=null;function e0(){return Pd||(Pd=TS(cR,fR,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(Bl)}catch(n){console.warn(n)}}}}).catch(a=>{throw ci.create("idb-open",{originalErrorMessage:a.message})})),Pd}async function hR(a){try{const n=(await e0()).transaction(Bl),i=await n.objectStore(Bl).get(t0(a));return await n.done,i}catch(e){if(e instanceof _o)Sa.warn(e.message);else{const n=ci.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Sa.warn(n.message)}}}async function u_(a,e){try{const i=(await e0()).transaction(Bl,"readwrite");await i.objectStore(Bl).put(e,t0(a)),await i.done}catch(n){if(n instanceof _o)Sa.warn(n.message);else{const i=ci.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Sa.warn(i.message)}}}function t0(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR=1024,mR=30;class pR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new yR(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=c_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>mR){const f=vR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Sa.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=c_(),{heartbeatsToSend:i,unsentEntries:o}=gR(this._heartbeatsCache.heartbeats),u=Uc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Sa.warn(n),""}}}function c_(){return new Date().toISOString().substring(0,10)}function gR(a,e=dR){const n=[];let i=a.slice();for(const o of a){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),f_(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),f_(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class yR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rS()?aS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await hR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return u_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return u_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function f_(a){return Uc(JSON.stringify({version:2,heartbeats:a})).length}function vR(a){if(a.length===0)return-1;let e=0,n=a[0].date;for(let i=1;i<a.length;i++)a[i].date<n&&(n=a[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _R(a){qc(new zl("platform-logger",e=>new xS(e),"PRIVATE")),qc(new zl("heartbeat",e=>new pR(e),"PRIVATE")),oo(Xd,o_,a),oo(Xd,o_,"esm2017"),oo("fire-js","")}_R("");var h_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fi,n0;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,S){function x(){}x.prototype=S.prototype,M.D=S.prototype,M.prototype=new x,M.prototype.constructor=M,M.C=function(O,P,q){for(var U=Array(arguments.length-2),he=2;he<arguments.length;he++)U[he-2]=arguments[he];return S.prototype[P].apply(O,U)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,S,x){x||(x=0);var O=Array(16);if(typeof S=="string")for(var P=0;16>P;++P)O[P]=S.charCodeAt(x++)|S.charCodeAt(x++)<<8|S.charCodeAt(x++)<<16|S.charCodeAt(x++)<<24;else for(P=0;16>P;++P)O[P]=S[x++]|S[x++]<<8|S[x++]<<16|S[x++]<<24;S=M.g[0],x=M.g[1],P=M.g[2];var q=M.g[3],U=S+(q^x&(P^q))+O[0]+3614090360&4294967295;S=x+(U<<7&4294967295|U>>>25),U=q+(P^S&(x^P))+O[1]+3905402710&4294967295,q=S+(U<<12&4294967295|U>>>20),U=P+(x^q&(S^x))+O[2]+606105819&4294967295,P=q+(U<<17&4294967295|U>>>15),U=x+(S^P&(q^S))+O[3]+3250441966&4294967295,x=P+(U<<22&4294967295|U>>>10),U=S+(q^x&(P^q))+O[4]+4118548399&4294967295,S=x+(U<<7&4294967295|U>>>25),U=q+(P^S&(x^P))+O[5]+1200080426&4294967295,q=S+(U<<12&4294967295|U>>>20),U=P+(x^q&(S^x))+O[6]+2821735955&4294967295,P=q+(U<<17&4294967295|U>>>15),U=x+(S^P&(q^S))+O[7]+4249261313&4294967295,x=P+(U<<22&4294967295|U>>>10),U=S+(q^x&(P^q))+O[8]+1770035416&4294967295,S=x+(U<<7&4294967295|U>>>25),U=q+(P^S&(x^P))+O[9]+2336552879&4294967295,q=S+(U<<12&4294967295|U>>>20),U=P+(x^q&(S^x))+O[10]+4294925233&4294967295,P=q+(U<<17&4294967295|U>>>15),U=x+(S^P&(q^S))+O[11]+2304563134&4294967295,x=P+(U<<22&4294967295|U>>>10),U=S+(q^x&(P^q))+O[12]+1804603682&4294967295,S=x+(U<<7&4294967295|U>>>25),U=q+(P^S&(x^P))+O[13]+4254626195&4294967295,q=S+(U<<12&4294967295|U>>>20),U=P+(x^q&(S^x))+O[14]+2792965006&4294967295,P=q+(U<<17&4294967295|U>>>15),U=x+(S^P&(q^S))+O[15]+1236535329&4294967295,x=P+(U<<22&4294967295|U>>>10),U=S+(P^q&(x^P))+O[1]+4129170786&4294967295,S=x+(U<<5&4294967295|U>>>27),U=q+(x^P&(S^x))+O[6]+3225465664&4294967295,q=S+(U<<9&4294967295|U>>>23),U=P+(S^x&(q^S))+O[11]+643717713&4294967295,P=q+(U<<14&4294967295|U>>>18),U=x+(q^S&(P^q))+O[0]+3921069994&4294967295,x=P+(U<<20&4294967295|U>>>12),U=S+(P^q&(x^P))+O[5]+3593408605&4294967295,S=x+(U<<5&4294967295|U>>>27),U=q+(x^P&(S^x))+O[10]+38016083&4294967295,q=S+(U<<9&4294967295|U>>>23),U=P+(S^x&(q^S))+O[15]+3634488961&4294967295,P=q+(U<<14&4294967295|U>>>18),U=x+(q^S&(P^q))+O[4]+3889429448&4294967295,x=P+(U<<20&4294967295|U>>>12),U=S+(P^q&(x^P))+O[9]+568446438&4294967295,S=x+(U<<5&4294967295|U>>>27),U=q+(x^P&(S^x))+O[14]+3275163606&4294967295,q=S+(U<<9&4294967295|U>>>23),U=P+(S^x&(q^S))+O[3]+4107603335&4294967295,P=q+(U<<14&4294967295|U>>>18),U=x+(q^S&(P^q))+O[8]+1163531501&4294967295,x=P+(U<<20&4294967295|U>>>12),U=S+(P^q&(x^P))+O[13]+2850285829&4294967295,S=x+(U<<5&4294967295|U>>>27),U=q+(x^P&(S^x))+O[2]+4243563512&4294967295,q=S+(U<<9&4294967295|U>>>23),U=P+(S^x&(q^S))+O[7]+1735328473&4294967295,P=q+(U<<14&4294967295|U>>>18),U=x+(q^S&(P^q))+O[12]+2368359562&4294967295,x=P+(U<<20&4294967295|U>>>12),U=S+(x^P^q)+O[5]+4294588738&4294967295,S=x+(U<<4&4294967295|U>>>28),U=q+(S^x^P)+O[8]+2272392833&4294967295,q=S+(U<<11&4294967295|U>>>21),U=P+(q^S^x)+O[11]+1839030562&4294967295,P=q+(U<<16&4294967295|U>>>16),U=x+(P^q^S)+O[14]+4259657740&4294967295,x=P+(U<<23&4294967295|U>>>9),U=S+(x^P^q)+O[1]+2763975236&4294967295,S=x+(U<<4&4294967295|U>>>28),U=q+(S^x^P)+O[4]+1272893353&4294967295,q=S+(U<<11&4294967295|U>>>21),U=P+(q^S^x)+O[7]+4139469664&4294967295,P=q+(U<<16&4294967295|U>>>16),U=x+(P^q^S)+O[10]+3200236656&4294967295,x=P+(U<<23&4294967295|U>>>9),U=S+(x^P^q)+O[13]+681279174&4294967295,S=x+(U<<4&4294967295|U>>>28),U=q+(S^x^P)+O[0]+3936430074&4294967295,q=S+(U<<11&4294967295|U>>>21),U=P+(q^S^x)+O[3]+3572445317&4294967295,P=q+(U<<16&4294967295|U>>>16),U=x+(P^q^S)+O[6]+76029189&4294967295,x=P+(U<<23&4294967295|U>>>9),U=S+(x^P^q)+O[9]+3654602809&4294967295,S=x+(U<<4&4294967295|U>>>28),U=q+(S^x^P)+O[12]+3873151461&4294967295,q=S+(U<<11&4294967295|U>>>21),U=P+(q^S^x)+O[15]+530742520&4294967295,P=q+(U<<16&4294967295|U>>>16),U=x+(P^q^S)+O[2]+3299628645&4294967295,x=P+(U<<23&4294967295|U>>>9),U=S+(P^(x|~q))+O[0]+4096336452&4294967295,S=x+(U<<6&4294967295|U>>>26),U=q+(x^(S|~P))+O[7]+1126891415&4294967295,q=S+(U<<10&4294967295|U>>>22),U=P+(S^(q|~x))+O[14]+2878612391&4294967295,P=q+(U<<15&4294967295|U>>>17),U=x+(q^(P|~S))+O[5]+4237533241&4294967295,x=P+(U<<21&4294967295|U>>>11),U=S+(P^(x|~q))+O[12]+1700485571&4294967295,S=x+(U<<6&4294967295|U>>>26),U=q+(x^(S|~P))+O[3]+2399980690&4294967295,q=S+(U<<10&4294967295|U>>>22),U=P+(S^(q|~x))+O[10]+4293915773&4294967295,P=q+(U<<15&4294967295|U>>>17),U=x+(q^(P|~S))+O[1]+2240044497&4294967295,x=P+(U<<21&4294967295|U>>>11),U=S+(P^(x|~q))+O[8]+1873313359&4294967295,S=x+(U<<6&4294967295|U>>>26),U=q+(x^(S|~P))+O[15]+4264355552&4294967295,q=S+(U<<10&4294967295|U>>>22),U=P+(S^(q|~x))+O[6]+2734768916&4294967295,P=q+(U<<15&4294967295|U>>>17),U=x+(q^(P|~S))+O[13]+1309151649&4294967295,x=P+(U<<21&4294967295|U>>>11),U=S+(P^(x|~q))+O[4]+4149444226&4294967295,S=x+(U<<6&4294967295|U>>>26),U=q+(x^(S|~P))+O[11]+3174756917&4294967295,q=S+(U<<10&4294967295|U>>>22),U=P+(S^(q|~x))+O[2]+718787259&4294967295,P=q+(U<<15&4294967295|U>>>17),U=x+(q^(P|~S))+O[9]+3951481745&4294967295,M.g[0]=M.g[0]+S&4294967295,M.g[1]=M.g[1]+(P+(U<<21&4294967295|U>>>11))&4294967295,M.g[2]=M.g[2]+P&4294967295,M.g[3]=M.g[3]+q&4294967295}i.prototype.u=function(M,S){S===void 0&&(S=M.length);for(var x=S-this.blockSize,O=this.B,P=this.h,q=0;q<S;){if(P==0)for(;q<=x;)o(this,M,q),q+=this.blockSize;if(typeof M=="string"){for(;q<S;)if(O[P++]=M.charCodeAt(q++),P==this.blockSize){o(this,O),P=0;break}}else for(;q<S;)if(O[P++]=M[q++],P==this.blockSize){o(this,O),P=0;break}}this.h=P,this.o+=S},i.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var S=1;S<M.length-8;++S)M[S]=0;var x=8*this.o;for(S=M.length-8;S<M.length;++S)M[S]=x&255,x/=256;for(this.u(M),M=Array(16),S=x=0;4>S;++S)for(var O=0;32>O;O+=8)M[x++]=this.g[S]>>>O&255;return M};function u(M,S){var x=c;return Object.prototype.hasOwnProperty.call(x,M)?x[M]:x[M]=S(M)}function f(M,S){this.h=S;for(var x=[],O=!0,P=M.length-1;0<=P;P--){var q=M[P]|0;O&&q==S||(x[P]=q,O=!1)}this.g=x}var c={};function p(M){return-128<=M&&128>M?u(M,function(S){return new f([S|0],0>S?-1:0)}):new f([M|0],0>M?-1:0)}function y(M){if(isNaN(M)||!isFinite(M))return d;if(0>M)return R(y(-M));for(var S=[],x=1,O=0;M>=x;O++)S[O]=M/x|0,x*=4294967296;return new f(S,0)}function E(M,S){if(M.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(M.charAt(0)=="-")return R(E(M.substring(1),S));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=y(Math.pow(S,8)),O=d,P=0;P<M.length;P+=8){var q=Math.min(8,M.length-P),U=parseInt(M.substring(P,P+q),S);8>q?(q=y(Math.pow(S,q)),O=O.j(q).add(y(U))):(O=O.j(x),O=O.add(y(U)))}return O}var d=p(0),g=p(1),b=p(16777216);a=f.prototype,a.m=function(){if(_(this))return-R(this).m();for(var M=0,S=1,x=0;x<this.g.length;x++){var O=this.i(x);M+=(0<=O?O:4294967296+O)*S,S*=4294967296}return M},a.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(v(this))return"0";if(_(this))return"-"+R(this).toString(M);for(var S=y(Math.pow(M,6)),x=this,O="";;){var P=I(x,S).g;x=w(x,P.j(S));var q=((0<x.g.length?x.g[0]:x.h)>>>0).toString(M);if(x=P,v(x))return q+O;for(;6>q.length;)q="0"+q;O=q+O}},a.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function v(M){if(M.h!=0)return!1;for(var S=0;S<M.g.length;S++)if(M.g[S]!=0)return!1;return!0}function _(M){return M.h==-1}a.l=function(M){return M=w(this,M),_(M)?-1:v(M)?0:1};function R(M){for(var S=M.g.length,x=[],O=0;O<S;O++)x[O]=~M.g[O];return new f(x,~M.h).add(g)}a.abs=function(){return _(this)?R(this):this},a.add=function(M){for(var S=Math.max(this.g.length,M.g.length),x=[],O=0,P=0;P<=S;P++){var q=O+(this.i(P)&65535)+(M.i(P)&65535),U=(q>>>16)+(this.i(P)>>>16)+(M.i(P)>>>16);O=U>>>16,q&=65535,U&=65535,x[P]=U<<16|q}return new f(x,x[x.length-1]&-2147483648?-1:0)};function w(M,S){return M.add(R(S))}a.j=function(M){if(v(this)||v(M))return d;if(_(this))return _(M)?R(this).j(R(M)):R(R(this).j(M));if(_(M))return R(this.j(R(M)));if(0>this.l(b)&&0>M.l(b))return y(this.m()*M.m());for(var S=this.g.length+M.g.length,x=[],O=0;O<2*S;O++)x[O]=0;for(O=0;O<this.g.length;O++)for(var P=0;P<M.g.length;P++){var q=this.i(O)>>>16,U=this.i(O)&65535,he=M.i(P)>>>16,pe=M.i(P)&65535;x[2*O+2*P]+=U*pe,T(x,2*O+2*P),x[2*O+2*P+1]+=q*pe,T(x,2*O+2*P+1),x[2*O+2*P+1]+=U*he,T(x,2*O+2*P+1),x[2*O+2*P+2]+=q*he,T(x,2*O+2*P+2)}for(O=0;O<S;O++)x[O]=x[2*O+1]<<16|x[2*O];for(O=S;O<2*S;O++)x[O]=0;return new f(x,0)};function T(M,S){for(;(M[S]&65535)!=M[S];)M[S+1]+=M[S]>>>16,M[S]&=65535,S++}function C(M,S){this.g=M,this.h=S}function I(M,S){if(v(S))throw Error("division by zero");if(v(M))return new C(d,d);if(_(M))return S=I(R(M),S),new C(R(S.g),R(S.h));if(_(S))return S=I(M,R(S)),new C(R(S.g),S.h);if(30<M.g.length){if(_(M)||_(S))throw Error("slowDivide_ only works with positive integers.");for(var x=g,O=S;0>=O.l(M);)x=V(x),O=V(O);var P=j(x,1),q=j(O,1);for(O=j(O,2),x=j(x,2);!v(O);){var U=q.add(O);0>=U.l(M)&&(P=P.add(x),q=U),O=j(O,1),x=j(x,1)}return S=w(M,P.j(S)),new C(P,S)}for(P=d;0<=M.l(S);){for(x=Math.max(1,Math.floor(M.m()/S.m())),O=Math.ceil(Math.log(x)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),q=y(x),U=q.j(S);_(U)||0<U.l(M);)x-=O,q=y(x),U=q.j(S);v(q)&&(q=g),P=P.add(q),M=w(M,U)}return new C(P,M)}a.A=function(M){return I(this,M).h},a.and=function(M){for(var S=Math.max(this.g.length,M.g.length),x=[],O=0;O<S;O++)x[O]=this.i(O)&M.i(O);return new f(x,this.h&M.h)},a.or=function(M){for(var S=Math.max(this.g.length,M.g.length),x=[],O=0;O<S;O++)x[O]=this.i(O)|M.i(O);return new f(x,this.h|M.h)},a.xor=function(M){for(var S=Math.max(this.g.length,M.g.length),x=[],O=0;O<S;O++)x[O]=this.i(O)^M.i(O);return new f(x,this.h^M.h)};function V(M){for(var S=M.g.length+1,x=[],O=0;O<S;O++)x[O]=M.i(O)<<1|M.i(O-1)>>>31;return new f(x,M.h)}function j(M,S){var x=S>>5;S%=32;for(var O=M.g.length-x,P=[],q=0;q<O;q++)P[q]=0<S?M.i(q+x)>>>S|M.i(q+x+1)<<32-S:M.i(q+x);return new f(P,M.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,n0=i,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,fi=f}).apply(typeof h_<"u"?h_:typeof self<"u"?self:typeof window<"u"?window:{});var _c=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var r0,Ol,a0,Dc,Jd,i0,s0,o0;(function(){var a,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,D,N){return h==Array.prototype||h==Object.prototype||(h[D]=N.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof _c=="object"&&_c];for(var D=0;D<h.length;++D){var N=h[D];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}var i=n(this);function o(h,D){if(D)e:{var N=i;h=h.split(".");for(var z=0;z<h.length-1;z++){var X=h[z];if(!(X in N))break e;N=N[X]}h=h[h.length-1],z=N[h],D=D(z),D!=z&&D!=null&&e(N,h,{configurable:!0,writable:!0,value:D})}}function u(h,D){h instanceof String&&(h+="");var N=0,z=!1,X={next:function(){if(!z&&N<h.length){var ae=N++;return{value:D(ae,h[ae]),done:!1}}return z=!0,{done:!0,value:void 0}}};return X[Symbol.iterator]=function(){return X},X}o("Array.prototype.values",function(h){return h||function(){return u(this,function(D,N){return N})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},c=this||self;function p(h){var D=typeof h;return D=D!="object"?D:h?Array.isArray(h)?"array":D:"null",D=="array"||D=="object"&&typeof h.length=="number"}function y(h){var D=typeof h;return D=="object"&&h!=null||D=="function"}function E(h,D,N){return h.call.apply(h.bind,arguments)}function d(h,D,N){if(!h)throw Error();if(2<arguments.length){var z=Array.prototype.slice.call(arguments,2);return function(){var X=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(X,z),h.apply(D,X)}}return function(){return h.apply(D,arguments)}}function g(h,D,N){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:d,g.apply(null,arguments)}function b(h,D){var N=Array.prototype.slice.call(arguments,1);return function(){var z=N.slice();return z.push.apply(z,arguments),h.apply(this,z)}}function v(h,D){function N(){}N.prototype=D.prototype,h.aa=D.prototype,h.prototype=new N,h.prototype.constructor=h,h.Qb=function(z,X,ae){for(var ve=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)ve[tt-2]=arguments[tt];return D.prototype[X].apply(z,ve)}}function _(h){const D=h.length;if(0<D){const N=Array(D);for(let z=0;z<D;z++)N[z]=h[z];return N}return[]}function R(h,D){for(let N=1;N<arguments.length;N++){const z=arguments[N];if(p(z)){const X=h.length||0,ae=z.length||0;h.length=X+ae;for(let ve=0;ve<ae;ve++)h[X+ve]=z[ve]}else h.push(z)}}class w{constructor(D,N){this.i=D,this.j=N,this.h=0,this.g=null}get(){let D;return 0<this.h?(this.h--,D=this.g,this.g=D.next,D.next=null):D=this.i(),D}}function T(h){return/^[\s\xa0]*$/.test(h)}function C(){var h=c.navigator;return h&&(h=h.userAgent)?h:""}function I(h){return I[" "](h),h}I[" "]=function(){};var V=C().indexOf("Gecko")!=-1&&!(C().toLowerCase().indexOf("webkit")!=-1&&C().indexOf("Edge")==-1)&&!(C().indexOf("Trident")!=-1||C().indexOf("MSIE")!=-1)&&C().indexOf("Edge")==-1;function j(h,D,N){for(const z in h)D.call(N,h[z],z,h)}function M(h,D){for(const N in h)D.call(void 0,h[N],N,h)}function S(h){const D={};for(const N in h)D[N]=h[N];return D}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(h,D){let N,z;for(let X=1;X<arguments.length;X++){z=arguments[X];for(N in z)h[N]=z[N];for(let ae=0;ae<x.length;ae++)N=x[ae],Object.prototype.hasOwnProperty.call(z,N)&&(h[N]=z[N])}}function P(h){var D=1;h=h.split(":");const N=[];for(;0<D&&h.length;)N.push(h.shift()),D--;return h.length&&N.push(h.join(":")),N}function q(h){c.setTimeout(()=>{throw h},0)}function U(){var h=Re;let D=null;return h.g&&(D=h.g,h.g=h.g.next,h.g||(h.h=null),D.next=null),D}class he{constructor(){this.h=this.g=null}add(D,N){const z=pe.get();z.set(D,N),this.h?this.h.next=z:this.g=z,this.h=z}}var pe=new w(()=>new Q,h=>h.reset());class Q{constructor(){this.next=this.g=this.h=null}set(D,N){this.h=D,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let se,ye=!1,Re=new he,F=()=>{const h=c.Promise.resolve(void 0);se=()=>{h.then(re)}};var re=()=>{for(var h;h=U();){try{h.h.call(h.g)}catch(N){q(N)}var D=pe;D.j(h),100>D.h&&(D.h++,h.next=D.g,D.g=h)}ye=!1};function me(){this.s=this.s,this.C=this.C}me.prototype.s=!1,me.prototype.ma=function(){this.s||(this.s=!0,this.N())},me.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(h,D){this.type=h,this.g=this.target=D,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var _e=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,D=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const N=()=>{};c.addEventListener("test",N,D),c.removeEventListener("test",N,D)}catch{}return h}();function Pe(h,D){if(ce.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var N=this.type=h.type,z=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=D,D=h.relatedTarget){if(V){e:{try{I(D.nodeName);var X=!0;break e}catch{}X=!1}X||(D=null)}}else N=="mouseover"?D=h.fromElement:N=="mouseout"&&(D=h.toElement);this.relatedTarget=D,z?(this.clientX=z.clientX!==void 0?z.clientX:z.pageX,this.clientY=z.clientY!==void 0?z.clientY:z.pageY,this.screenX=z.screenX||0,this.screenY=z.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:xe[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Pe.aa.h.call(this)}}v(Pe,ce);var xe={2:"touch",3:"pen",4:"mouse"};Pe.prototype.h=function(){Pe.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var At="closure_listenable_"+(1e6*Math.random()|0),gt=0;function Yn(h,D,N,z,X){this.listener=h,this.proxy=null,this.src=D,this.type=N,this.capture=!!z,this.ha=X,this.key=++gt,this.da=this.fa=!1}function St(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function hn(h){this.src=h,this.g={},this.h=0}hn.prototype.add=function(h,D,N,z,X){var ae=h.toString();h=this.g[ae],h||(h=this.g[ae]=[],this.h++);var ve=ea(h,D,z,X);return-1<ve?(D=h[ve],N||(D.fa=!1)):(D=new Yn(D,this.src,ae,!!z,X),D.fa=N,h.push(D)),D};function Rr(h,D){var N=D.type;if(N in h.g){var z=h.g[N],X=Array.prototype.indexOf.call(z,D,void 0),ae;(ae=0<=X)&&Array.prototype.splice.call(z,X,1),ae&&(St(D),h.g[N].length==0&&(delete h.g[N],h.h--))}}function ea(h,D,N,z){for(var X=0;X<h.length;++X){var ae=h[X];if(!ae.da&&ae.listener==D&&ae.capture==!!N&&ae.ha==z)return X}return-1}var En="closure_lm_"+(1e6*Math.random()|0),Ri={};function ds(h,D,N,z,X){if(Array.isArray(D)){for(var ae=0;ae<D.length;ae++)ds(h,D[ae],N,z,X);return null}return N=Ma(N),h&&h[At]?h.K(D,N,y(z)?!!z.capture:!1,X):wn(h,D,N,!1,z,X)}function wn(h,D,N,z,X,ae){if(!D)throw Error("Invalid event type");var ve=y(X)?!!X.capture:!!X,tt=Kn(h);if(tt||(h[En]=tt=new hn(h)),N=tt.add(D,N,z,ve,ae),N.proxy)return N;if(z=To(),N.proxy=z,z.src=h,z.listener=N,h.addEventListener)_e||(X=ve),X===void 0&&(X=!1),h.addEventListener(D.toString(),z,X);else if(h.attachEvent)h.attachEvent(ta(D.toString()),z);else if(h.addListener&&h.removeListener)h.addListener(z);else throw Error("addEventListener and attachEvent are unavailable.");return N}function To(){function h(N){return D.call(h.src,h.listener,N)}const D=gr;return h}function xi(h,D,N,z,X){if(Array.isArray(D))for(var ae=0;ae<D.length;ae++)xi(h,D[ae],N,z,X);else z=y(z)?!!z.capture:!!z,N=Ma(N),h&&h[At]?(h=h.i,D=String(D).toString(),D in h.g&&(ae=h.g[D],N=ea(ae,N,z,X),-1<N&&(St(ae[N]),Array.prototype.splice.call(ae,N,1),ae.length==0&&(delete h.g[D],h.h--)))):h&&(h=Kn(h))&&(D=h.g[D.toString()],h=-1,D&&(h=ea(D,N,z,X)),(N=-1<h?D[h]:null)&&Da(N))}function Da(h){if(typeof h!="number"&&h&&!h.da){var D=h.src;if(D&&D[At])Rr(D.i,h);else{var N=h.type,z=h.proxy;D.removeEventListener?D.removeEventListener(N,z,h.capture):D.detachEvent?D.detachEvent(ta(N),z):D.addListener&&D.removeListener&&D.removeListener(z),(N=Kn(D))?(Rr(N,h),N.h==0&&(N.src=null,D[En]=null)):St(h)}}}function ta(h){return h in Ri?Ri[h]:Ri[h]="on"+h}function gr(h,D){if(h.da)h=!0;else{D=new Pe(D,this);var N=h.listener,z=h.ha||h.src;h.fa&&Da(h),h=N.call(z,D)}return h}function Kn(h){return h=h[En],h instanceof hn?h:null}var Oa="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ma(h){return typeof h=="function"?h:(h[Oa]||(h[Oa]=function(D){return h.handleEvent(D)}),h[Oa])}function lt(){me.call(this),this.i=new hn(this),this.M=this,this.F=null}v(lt,me),lt.prototype[At]=!0,lt.prototype.removeEventListener=function(h,D,N,z){xi(this,h,D,N,z)};function He(h,D){var N,z=h.F;if(z)for(N=[];z;z=z.F)N.push(z);if(h=h.M,z=D.type||D,typeof D=="string")D=new ce(D,h);else if(D instanceof ce)D.target=D.target||h;else{var X=D;D=new ce(z,h),O(D,X)}if(X=!0,N)for(var ae=N.length-1;0<=ae;ae--){var ve=D.g=N[ae];X=dn(ve,z,!0,D)&&X}if(ve=D.g=h,X=dn(ve,z,!0,D)&&X,X=dn(ve,z,!1,D)&&X,N)for(ae=0;ae<N.length;ae++)ve=D.g=N[ae],X=dn(ve,z,!1,D)&&X}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var h=this.i,D;for(D in h.g){for(var N=h.g[D],z=0;z<N.length;z++)St(N[z]);delete h.g[D],h.h--}}this.F=null},lt.prototype.K=function(h,D,N,z){return this.i.add(String(h),D,!1,N,z)},lt.prototype.L=function(h,D,N,z){return this.i.add(String(h),D,!0,N,z)};function dn(h,D,N,z){if(D=h.i.g[String(D)],!D)return!0;D=D.concat();for(var X=!0,ae=0;ae<D.length;++ae){var ve=D[ae];if(ve&&!ve.da&&ve.capture==N){var tt=ve.listener,Ft=ve.ha||ve.src;ve.fa&&Rr(h.i,ve),X=tt.call(Ft,z)!==!1&&X}}return X&&!z.defaultPrevented}function Vt(h,D,N){if(typeof h=="function")N&&(h=g(h,N));else if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(D)?-1:c.setTimeout(h,D||0)}function ms(h){h.g=Vt(()=>{h.g=null,h.i&&(h.i=!1,ms(h))},h.l);const D=h.h;h.h=null,h.m.apply(null,D)}class Xn extends me{constructor(D,N){super(),this.m=D,this.l=N,this.h=null,this.i=!1,this.g=null}j(D){this.h=arguments,this.g?this.i=!0:ms(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xr(h){me.call(this),this.h=h,this.g={}}v(xr,me);var Cr=[];function Dr(h){j(h.g,function(D,N){this.g.hasOwnProperty(N)&&Da(D)},h),h.g={}}xr.prototype.N=function(){xr.aa.N.call(this),Dr(this)},xr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var kn=c.JSON.stringify,na=c.JSON.parse,Wn=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Na(){}Na.prototype.h=null;function ra(h){return h.h||(h.h=h.i())}function Ci(){}var Zn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function yr(){ce.call(this,"d")}v(yr,ce);function Ia(){ce.call(this,"c")}v(Ia,ce);var An={},Or=null;function Mr(){return Or=Or||new lt}An.La="serverreachability";function ka(h){ce.call(this,An.La,h)}v(ka,ce);function $(h){const D=Mr();He(D,new ka(D))}An.STAT_EVENT="statevent";function K(h,D){ce.call(this,An.STAT_EVENT,h),this.stat=D}v(K,ce);function J(h){const D=Mr();He(D,new K(D,h))}An.Ma="timingevent";function le(h,D){ce.call(this,An.Ma,h),this.size=D}v(le,ce);function ge(h,D){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},D)}function Ee(){this.g=!0}Ee.prototype.xa=function(){this.g=!1};function Me(h,D,N,z,X,ae){h.info(function(){if(h.g)if(ae)for(var ve="",tt=ae.split("&"),Ft=0;Ft<tt.length;Ft++){var nt=tt[Ft].split("=");if(1<nt.length){var Wt=nt[0];nt=nt[1];var Ht=Wt.split("_");ve=2<=Ht.length&&Ht[1]=="type"?ve+(Wt+"="+nt+"&"):ve+(Wt+"=redacted&")}}else ve=null;else ve=ae;return"XMLHTTP REQ ("+z+") [attempt "+X+"]: "+D+`
`+N+`
`+ve})}function we(h,D,N,z,X,ae,ve){h.info(function(){return"XMLHTTP RESP ("+z+") [ attempt "+X+"]: "+D+`
`+N+`
`+ae+" "+ve})}function Te(h,D,N,z){h.info(function(){return"XMLHTTP TEXT ("+D+"): "+Ie(h,N)+(z?" "+z:"")})}function Ce(h,D){h.info(function(){return"TIMEOUT: "+D})}Ee.prototype.info=function(){};function Ie(h,D){if(!h.g)return D;if(!D)return null;try{var N=JSON.parse(D);if(N){for(h=0;h<N.length;h++)if(Array.isArray(N[h])){var z=N[h];if(!(2>z.length)){var X=z[1];if(Array.isArray(X)&&!(1>X.length)){var ae=X[0];if(ae!="noop"&&ae!="stop"&&ae!="close")for(var ve=1;ve<X.length;ve++)X[ve]=""}}}}return kn(N)}catch{return D}}var Se={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},je={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Xe;function ct(){}v(ct,Na),ct.prototype.g=function(){return new XMLHttpRequest},ct.prototype.i=function(){return{}},Xe=new ct;function st(h,D,N,z){this.j=h,this.i=D,this.l=N,this.R=z||1,this.U=new xr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new et}function et(){this.i=null,this.g="",this.h=!1}var Qe={},Jn={};function qt(h,D,N){h.L=1,h.v=Mi(Pn(D)),h.m=N,h.P=!0,Tn(h,null)}function Tn(h,D){h.F=Date.now(),jn(h),h.A=Pn(h.v);var N=h.A,z=h.R;Array.isArray(z)||(z=[String(z)]),Do(N.i,"t",z),h.C=0,N=h.j.J,h.h=new et,h.g=du(h.j,N?D:null,!h.m),0<h.O&&(h.M=new Xn(g(h.Y,h,h.g),h.O)),D=h.U,N=h.g,z=h.ca;var X="readystatechange";Array.isArray(X)||(X&&(Cr[0]=X.toString()),X=Cr);for(var ae=0;ae<X.length;ae++){var ve=ds(N,X[ae],z||D.handleEvent,!1,D.h||D);if(!ve)break;D.g[ve.key]=ve}D=h.H?S(h.H):{},h.m?(h.u||(h.u="POST"),D["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,D)):(h.u="GET",h.g.ea(h.A,h.u,null,D)),$(),Me(h.i,h.u,h.A,h.l,h.R,h.m)}st.prototype.ca=function(h){h=h.target;const D=this.M;D&&ar(h)==3?D.j():this.Y(h)},st.prototype.Y=function(h){try{if(h==this.g)e:{const Ht=ar(this.g);var D=this.g.Ba();const fa=this.g.Z();if(!(3>Ht)&&(Ht!=3||this.g&&(this.h.h||this.g.oa()||iu(this.g)))){this.J||Ht!=4||D==7||(D==8||0>=fa?$(3):$(2)),mn(this);var N=this.g.Z();this.X=N;t:if(nn(this)){var z=iu(this.g);h="";var X=z.length,ae=ar(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ze(this),Sn(this);var ve="";break t}this.h.i=new c.TextDecoder}for(D=0;D<X;D++)this.h.h=!0,h+=this.h.i.decode(z[D],{stream:!(ae&&D==X-1)});z.length=0,this.h.g+=h,this.C=0,ve=this.h.g}else ve=this.g.oa();if(this.o=N==200,we(this.i,this.u,this.A,this.l,this.R,Ht,N),this.o){if(this.T&&!this.K){t:{if(this.g){var tt,Ft=this.g;if((tt=Ft.g?Ft.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(tt)){var nt=tt;break t}}nt=null}if(N=nt)Te(this.i,this.l,N,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Pt(this,N);else{this.o=!1,this.s=3,J(12),ze(this),Sn(this);break e}}if(this.P){N=!0;let an;for(;!this.J&&this.C<ve.length;)if(an=Nr(this,ve),an==Jn){Ht==4&&(this.s=4,J(14),N=!1),Te(this.i,this.l,null,"[Incomplete Response]");break}else if(an==Qe){this.s=4,J(15),Te(this.i,this.l,ve,"[Invalid Chunk]"),N=!1;break}else Te(this.i,this.l,an,null),Pt(this,an);if(nn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ht!=4||ve.length!=0||this.h.h||(this.s=1,J(16),N=!1),this.o=this.o&&N,!N)Te(this.i,this.l,ve,"[Invalid Chunked Response]"),ze(this),Sn(this);else if(0<ve.length&&!this.W){this.W=!0;var Wt=this.j;Wt.g==this&&Wt.ba&&!Wt.M&&(Wt.j.info("Great, no buffering proxy detected. Bytes received: "+ve.length),Ui(Wt),Wt.M=!0,J(11))}}else Te(this.i,this.l,ve,null),Pt(this,ve);Ht==4&&ze(this),this.o&&!this.J&&(Ht==4?cu(this.j,this):(this.o=!1,jn(this)))}else Mf(this.g),N==400&&0<ve.indexOf("Unknown SID")?(this.s=3,J(12)):(this.s=0,J(13)),ze(this),Sn(this)}}}catch{}finally{}};function nn(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Nr(h,D){var N=h.C,z=D.indexOf(`
`,N);return z==-1?Jn:(N=Number(D.substring(N,z)),isNaN(N)?Qe:(z+=1,z+N>D.length?Jn:(D=D.slice(z,z+N),h.C=z+N,D)))}st.prototype.cancel=function(){this.J=!0,ze(this)};function jn(h){h.S=Date.now()+h.I,ja(h,h.I)}function ja(h,D){if(h.B!=null)throw Error("WatchDog timer not null");h.B=ge(g(h.ba,h),D)}function mn(h){h.B&&(c.clearTimeout(h.B),h.B=null)}st.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Ce(this.i,this.A),this.L!=2&&($(),J(17)),ze(this),this.s=2,Sn(this)):ja(this,this.S-h)};function Sn(h){h.j.G==0||h.J||cu(h.j,h)}function ze(h){mn(h);var D=h.M;D&&typeof D.ma=="function"&&D.ma(),h.M=null,Dr(h.U),h.g&&(D=h.g,h.g=null,D.abort(),D.ma())}function Pt(h,D){try{var N=h.j;if(N.G!=0&&(N.g==h||er(N.h,h))){if(!h.K&&er(N.h,h)&&N.G==3){try{var z=N.Da.g.parse(D)}catch{z=null}if(Array.isArray(z)&&z.length==3){var X=z;if(X[0]==0){e:if(!N.u){if(N.g)if(N.g.F+3e3<h.F)As(N),Es(N);else break e;ko(N),J(18)}}else N.za=X[1],0<N.za-N.T&&37500>X[2]&&N.F&&N.v==0&&!N.C&&(N.C=ge(g(N.Za,N),6e3));if(1>=Et(N.h)&&N.ca){try{N.ca()}catch{}N.ca=void 0}}else ca(N,11)}else if((h.K||N.g==h)&&As(N),!T(D))for(X=N.Da.g.parse(D),D=0;D<X.length;D++){let nt=X[D];if(N.T=nt[0],nt=nt[1],N.G==2)if(nt[0]=="c"){N.K=nt[1],N.ia=nt[2];const Wt=nt[3];Wt!=null&&(N.la=Wt,N.j.info("VER="+N.la));const Ht=nt[4];Ht!=null&&(N.Aa=Ht,N.j.info("SVER="+N.Aa));const fa=nt[5];fa!=null&&typeof fa=="number"&&0<fa&&(z=1.5*fa,N.L=z,N.j.info("backChannelRequestTimeoutMs_="+z)),z=N;const an=h.g;if(an){const zr=an.g?an.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zr){var ae=z.h;ae.g||zr.indexOf("spdy")==-1&&zr.indexOf("quic")==-1&&zr.indexOf("h2")==-1||(ae.j=ae.l,ae.g=new Set,ae.h&&(aa(ae,ae.h),ae.h=null))}if(z.D){const Vo=an.g?an.g.getResponseHeader("X-HTTP-Session-Id"):null;Vo&&(z.ya=Vo,yt(z.I,z.D,Vo))}}N.G=3,N.l&&N.l.ua(),N.ba&&(N.R=Date.now()-h.F,N.j.info("Handshake RTT: "+N.R+"ms")),z=N;var ve=h;if(z.qa=hu(z,z.J?z.ia:null,z.W),ve.K){rn(z.h,ve);var tt=ve,Ft=z.L;Ft&&(tt.I=Ft),tt.B&&(mn(tt),jn(tt)),z.g=ve}else lu(z);0<N.i.length&&ws(N)}else nt[0]!="stop"&&nt[0]!="close"||ca(N,7);else N.G==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?ca(N,7):No(N):nt[0]!="noop"&&N.l&&N.l.ta(nt),N.v=0)}}$(4)}catch{}}var Vn=class{constructor(h,D){this.g=h,this.map=D}};function Cn(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ir(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Et(h){return h.h?1:h.g?h.g.size:0}function er(h,D){return h.h?h.h==D:h.g?h.g.has(D):!1}function aa(h,D){h.g?h.g.add(D):h.h=D}function rn(h,D){h.h&&h.h==D?h.h=null:h.g&&h.g.has(D)&&h.g.delete(D)}Cn.prototype.cancel=function(){if(this.i=So(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function So(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let D=h.i;for(const N of h.g.values())D=D.concat(N.D);return D}return _(h.i)}function xf(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(p(h)){for(var D=[],N=h.length,z=0;z<N;z++)D.push(h[z]);return D}D=[],N=0;for(z in h)D[N++]=h[z];return D}function ps(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(p(h)||typeof h=="string"){var D=[];h=h.length;for(var N=0;N<h;N++)D.push(N);return D}D=[],N=0;for(const z in h)D[N++]=z;return D}}}function Ro(h,D){if(h.forEach&&typeof h.forEach=="function")h.forEach(D,void 0);else if(p(h)||typeof h=="string")Array.prototype.forEach.call(h,D,void 0);else for(var N=ps(h),z=xf(h),X=z.length,ae=0;ae<X;ae++)D.call(void 0,z[ae],N&&N[ae],h)}var Di=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Cf(h,D){if(h){h=h.split("&");for(var N=0;N<h.length;N++){var z=h[N].indexOf("="),X=null;if(0<=z){var ae=h[N].substring(0,z);X=h[N].substring(z+1)}else ae=h[N];D(ae,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function Lt(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Lt){this.h=h.h,Oi(this,h.j),this.o=h.o,this.g=h.g,Va(this,h.s),this.l=h.l;var D=h.i,N=new sa;N.i=D.i,D.g&&(N.g=new Map(D.g),N.h=D.h),ia(this,N),this.m=h.m}else h&&(D=String(h).match(Di))?(this.h=!1,Oi(this,D[1]||"",!0),this.o=tr(D[2]||""),this.g=tr(D[3]||"",!0),Va(this,D[4]),this.l=tr(D[5]||"",!0),ia(this,D[6]||"",!0),this.m=tr(D[7]||"")):(this.h=!1,this.i=new sa(null,this.h))}Lt.prototype.toString=function(){var h=[],D=this.j;D&&h.push(Ni(D,xo,!0),":");var N=this.g;return(N||D=="file")&&(h.push("//"),(D=this.o)&&h.push(Ni(D,xo,!0),"@"),h.push(encodeURIComponent(String(N)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N=this.s,N!=null&&h.push(":",String(N))),(N=this.l)&&(this.g&&N.charAt(0)!="/"&&h.push("/"),h.push(Ni(N,N.charAt(0)=="/"?Df:Co,!0))),(N=this.i.toString())&&h.push("?",N),(N=this.m)&&h.push("#",Ni(N,gs)),h.join("")};function Pn(h){return new Lt(h)}function Oi(h,D,N){h.j=N?tr(D,!0):D,h.j&&(h.j=h.j.replace(/:$/,""))}function Va(h,D){if(D){if(D=Number(D),isNaN(D)||0>D)throw Error("Bad port number "+D);h.s=D}else h.s=null}function ia(h,D,N){D instanceof sa?(h.i=D,ru(h.i,h.h)):(N||(D=Ni(D,Of)),h.i=new sa(D,h.h))}function yt(h,D,N){h.i.set(D,N)}function Mi(h){return yt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function tr(h,D){return h?D?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ni(h,D,N){return typeof h=="string"?(h=encodeURI(h).replace(D,nu),N&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function nu(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var xo=/[#\/\?@]/g,Co=/[#\?:]/g,Df=/[#\?]/g,Of=/[#\?@]/g,gs=/#/g;function sa(h,D){this.h=this.g=null,this.i=h||null,this.j=!!D}function nr(h){h.g||(h.g=new Map,h.h=0,h.i&&Cf(h.i,function(D,N){h.add(decodeURIComponent(D.replace(/\+/g," ")),N)}))}a=sa.prototype,a.add=function(h,D){nr(this),this.i=null,h=kr(this,h);var N=this.g.get(h);return N||this.g.set(h,N=[]),N.push(D),this.h+=1,this};function oa(h,D){nr(h),D=kr(h,D),h.g.has(D)&&(h.i=null,h.h-=h.g.get(D).length,h.g.delete(D))}function la(h,D){return nr(h),D=kr(h,D),h.g.has(D)}a.forEach=function(h,D){nr(this),this.g.forEach(function(N,z){N.forEach(function(X){h.call(D,X,z,this)},this)},this)},a.na=function(){nr(this);const h=Array.from(this.g.values()),D=Array.from(this.g.keys()),N=[];for(let z=0;z<D.length;z++){const X=h[z];for(let ae=0;ae<X.length;ae++)N.push(D[z])}return N},a.V=function(h){nr(this);let D=[];if(typeof h=="string")la(this,h)&&(D=D.concat(this.g.get(kr(this,h))));else{h=Array.from(this.g.values());for(let N=0;N<h.length;N++)D=D.concat(h[N])}return D},a.set=function(h,D){return nr(this),this.i=null,h=kr(this,h),la(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[D]),this.h+=1,this},a.get=function(h,D){return h?(h=this.V(h),0<h.length?String(h[0]):D):D};function Do(h,D,N){oa(h,D),0<N.length&&(h.i=null,h.g.set(kr(h,D),_(N)),h.h+=N.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],D=Array.from(this.g.keys());for(var N=0;N<D.length;N++){var z=D[N];const ae=encodeURIComponent(String(z)),ve=this.V(z);for(z=0;z<ve.length;z++){var X=ae;ve[z]!==""&&(X+="="+encodeURIComponent(String(ve[z]))),h.push(X)}}return this.i=h.join("&")};function kr(h,D){return D=String(D),h.j&&(D=D.toLowerCase()),D}function ru(h,D){D&&!h.j&&(nr(h),h.i=null,h.g.forEach(function(N,z){var X=z.toLowerCase();z!=X&&(oa(this,z),Do(this,X,N))},h)),h.j=D}function Ii(h,D){const N=new Ee;if(c.Image){const z=new Image;z.onload=b(rr,N,"TestLoadImage: loaded",!0,D,z),z.onerror=b(rr,N,"TestLoadImage: error",!1,D,z),z.onabort=b(rr,N,"TestLoadImage: abort",!1,D,z),z.ontimeout=b(rr,N,"TestLoadImage: timeout",!1,D,z),c.setTimeout(function(){z.ontimeout&&z.ontimeout()},1e4),z.src=h}else D(!1)}function vr(h,D){const N=new Ee,z=new AbortController,X=setTimeout(()=>{z.abort(),rr(N,"TestPingServer: timeout",!1,D)},1e4);fetch(h,{signal:z.signal}).then(ae=>{clearTimeout(X),ae.ok?rr(N,"TestPingServer: ok",!0,D):rr(N,"TestPingServer: server error",!1,D)}).catch(()=>{clearTimeout(X),rr(N,"TestPingServer: error",!1,D)})}function rr(h,D,N,z,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),z(N)}catch{}}function ki(){this.g=new Wn}function jr(h,D,N){const z=N||"";try{Ro(h,function(X,ae){let ve=X;y(X)&&(ve=kn(X)),D.push(z+ae+"="+encodeURIComponent(ve))})}catch(X){throw D.push(z+"type="+encodeURIComponent("_badmap")),X}}function Pa(h){this.l=h.Ub||null,this.j=h.eb||!1}v(Pa,Na),Pa.prototype.g=function(){return new ua(this.l,this.j)},Pa.prototype.i=function(h){return function(){return h}}({});function ua(h,D){lt.call(this),this.D=h,this.o=D,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(ua,lt),a=ua.prototype,a.open=function(h,D){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=D,this.readyState=1,Pr(this)},a.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const D={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(D.body=h),(this.D||c).fetch(new Request(this.A,D)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Vr(this)),this.readyState=0},a.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Pr(this)),this.g&&(this.readyState=3,Pr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Oo(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Oo(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}a.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var D=h.value?h.value:new Uint8Array(0);(D=this.v.decode(D,{stream:!h.done}))&&(this.response=this.responseText+=D)}h.done?Vr(this):Pr(this),this.readyState==3&&Oo(this)}},a.Ra=function(h){this.g&&(this.response=this.responseText=h,Vr(this))},a.Qa=function(h){this.g&&(this.response=h,Vr(this))},a.ga=function(){this.g&&Vr(this)};function Vr(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Pr(h)}a.setRequestHeader=function(h,D){this.u.append(h,D)},a.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],D=this.h.entries();for(var N=D.next();!N.done;)N=N.value,h.push(N[0]+": "+N[1]),N=D.next();return h.join(`\r
`)};function Pr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ua.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Mo(h){let D="";return j(h,function(N,z){D+=z,D+=":",D+=N,D+=`\r
`}),D}function Xt(h,D,N){e:{for(z in N){var z=!1;break e}z=!0}z||(N=Mo(N),typeof h=="string"?N!=null&&encodeURIComponent(String(N)):yt(h,D,N))}function ft(h){lt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(ft,lt);var ys=/^https?$/i,ji=["POST","PUT"];a=ft.prototype,a.Ha=function(h){this.J=h},a.ea=function(h,D,N,z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);D=D?D.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Xe.g(),this.v=this.o?ra(this.o):ra(Xe),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(D,String(h),!0),this.B=!1}catch(ae){au(this,ae);return}if(h=N||"",N=new Map(this.headers),z)if(Object.getPrototypeOf(z)===Object.prototype)for(var X in z)N.set(X,z[X]);else if(typeof z.keys=="function"&&typeof z.get=="function")for(const ae of z.keys())N.set(ae,z.get(ae));else throw Error("Unknown input type for opt_headers: "+String(z));z=Array.from(N.keys()).find(ae=>ae.toLowerCase()=="content-type"),X=c.FormData&&h instanceof c.FormData,!(0<=Array.prototype.indexOf.call(ji,D,void 0))||z||X||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ae,ve]of N)this.g.setRequestHeader(ae,ve);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Vi(this),this.u=!0,this.g.send(h),this.u=!1}catch(ae){au(this,ae)}};function au(h,D){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=D,h.m=5,vs(h),Lr(h)}function vs(h){h.A||(h.A=!0,He(h,"complete"),He(h,"error"))}a.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,He(this,"complete"),He(this,"abort"),Lr(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Lr(this,!0)),ft.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?_s(this):this.bb())},a.bb=function(){_s(this)};function _s(h){if(h.h&&typeof f<"u"&&(!h.v[1]||ar(h)!=4||h.Z()!=2)){if(h.u&&ar(h)==4)Vt(h.Ea,0,h);else if(He(h,"readystatechange"),ar(h)==4){h.h=!1;try{const ve=h.Z();e:switch(ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var D=!0;break e;default:D=!1}var N;if(!(N=D)){var z;if(z=ve===0){var X=String(h.D).match(Di)[1]||null;!X&&c.self&&c.self.location&&(X=c.self.location.protocol.slice(0,-1)),z=!ys.test(X?X.toLowerCase():"")}N=z}if(N)He(h,"complete"),He(h,"success");else{h.m=6;try{var ae=2<ar(h)?h.g.statusText:""}catch{ae=""}h.l=ae+" ["+h.Z()+"]",vs(h)}}finally{Lr(h)}}}}function Lr(h,D){if(h.g){Vi(h);const N=h.g,z=h.v[0]?()=>{}:null;h.g=null,h.v=null,D||He(h,"ready");try{N.onreadystatechange=z}catch{}}}function Vi(h){h.I&&(c.clearTimeout(h.I),h.I=null)}a.isActive=function(){return!!this.g};function ar(h){return h.g?h.g.readyState:0}a.Z=function(){try{return 2<ar(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(h){if(this.g){var D=this.g.responseText;return h&&D.indexOf(h)==0&&(D=D.substring(h.length)),na(D)}};function iu(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Mf(h){const D={};h=(h.g&&2<=ar(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let z=0;z<h.length;z++){if(T(h[z]))continue;var N=P(h[z]);const X=N[0];if(N=N[1],typeof N!="string")continue;N=N.trim();const ae=D[X]||[];D[X]=ae,ae.push(N)}M(D,function(z){return z.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Pi(h,D,N){return N&&N.internalChannelParams&&N.internalChannelParams[h]||D}function bs(h){this.Aa=0,this.i=[],this.j=new Ee,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Pi("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Pi("baseRetryDelayMs",5e3,h),this.cb=Pi("retryDelaySeedMs",1e4,h),this.Wa=Pi("forwardChannelMaxRetries",2,h),this.wa=Pi("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Cn(h&&h.concurrentRequestLimit),this.Da=new ki,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=bs.prototype,a.la=8,a.G=1,a.connect=function(h,D,N,z){J(0),this.W=h,this.H=D||{},N&&z!==void 0&&(this.H.OSID=N,this.H.OAID=z),this.F=this.X,this.I=hu(this,null,this.W),ws(this)};function No(h){if(su(h),h.G==3){var D=h.U++,N=Pn(h.I);if(yt(N,"SID",h.K),yt(N,"RID",D),yt(N,"TYPE","terminate"),Li(h,N),D=new st(h,h.j,D),D.L=2,D.v=Mi(Pn(N)),N=!1,c.navigator&&c.navigator.sendBeacon)try{N=c.navigator.sendBeacon(D.v.toString(),"")}catch{}!N&&c.Image&&(new Image().src=D.v,N=!0),N||(D.g=du(D.j,null),D.g.ea(D.v)),D.F=Date.now(),jn(D)}fu(h)}function Es(h){h.g&&(Ui(h),h.g.cancel(),h.g=null)}function su(h){Es(h),h.u&&(c.clearTimeout(h.u),h.u=null),As(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&c.clearTimeout(h.s),h.s=null)}function ws(h){if(!Ir(h.h)&&!h.s){h.s=!0;var D=h.Ga;se||F(),ye||(se(),ye=!0),Re.add(D,h),h.B=0}}function Nf(h,D){return Et(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=D.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=ge(g(h.Ga,h,D),jo(h,h.B)),h.B++,!0)}a.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const X=new st(this,this.j,h);let ae=this.o;if(this.S&&(ae?(ae=S(ae),O(ae,this.S)):ae=this.S),this.m!==null||this.O||(X.H=ae,ae=null),this.P)e:{for(var D=0,N=0;N<this.i.length;N++){t:{var z=this.i[N];if("__data__"in z.map&&(z=z.map.__data__,typeof z=="string")){z=z.length;break t}z=void 0}if(z===void 0)break;if(D+=z,4096<D){D=N;break e}if(D===4096||N===this.i.length-1){D=N+1;break e}}D=1e3}else D=1e3;D=ou(this,X,D),N=Pn(this.I),yt(N,"RID",h),yt(N,"CVER",22),this.D&&yt(N,"X-HTTP-Session-Id",this.D),Li(this,N),ae&&(this.O?D="headers="+encodeURIComponent(String(Mo(ae)))+"&"+D:this.m&&Xt(N,this.m,ae)),aa(this.h,X),this.Ua&&yt(N,"TYPE","init"),this.P?(yt(N,"$req",D),yt(N,"SID","null"),X.T=!0,qt(X,N,null)):qt(X,N,D),this.G=2}}else this.G==3&&(h?Io(this,h):this.i.length==0||Ir(this.h)||Io(this))};function Io(h,D){var N;D?N=D.l:N=h.U++;const z=Pn(h.I);yt(z,"SID",h.K),yt(z,"RID",N),yt(z,"AID",h.T),Li(h,z),h.m&&h.o&&Xt(z,h.m,h.o),N=new st(h,h.j,N,h.B+1),h.m===null&&(N.H=h.o),D&&(h.i=D.D.concat(h.i)),D=ou(h,N,1e3),N.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),aa(h.h,N),qt(N,z,D)}function Li(h,D){h.H&&j(h.H,function(N,z){yt(D,z,N)}),h.l&&Ro({},function(N,z){yt(D,z,N)})}function ou(h,D,N){N=Math.min(h.i.length,N);var z=h.l?g(h.l.Na,h.l,h):null;e:{var X=h.i;let ae=-1;for(;;){const ve=["count="+N];ae==-1?0<N?(ae=X[0].g,ve.push("ofs="+ae)):ae=0:ve.push("ofs="+ae);let tt=!0;for(let Ft=0;Ft<N;Ft++){let nt=X[Ft].g;const Wt=X[Ft].map;if(nt-=ae,0>nt)ae=Math.max(0,X[Ft].g-100),tt=!1;else try{jr(Wt,ve,"req"+nt+"_")}catch{z&&z(Wt)}}if(tt){z=ve.join("&");break e}}}return h=h.i.splice(0,N),D.D=h,z}function lu(h){if(!h.g&&!h.u){h.Y=1;var D=h.Fa;se||F(),ye||(se(),ye=!0),Re.add(D,h),h.v=0}}function ko(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=ge(g(h.Fa,h),jo(h,h.v)),h.v++,!0)}a.Fa=function(){if(this.u=null,uu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=ge(g(this.ab,this),h)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,J(10),Es(this),uu(this))};function Ui(h){h.A!=null&&(c.clearTimeout(h.A),h.A=null)}function uu(h){h.g=new st(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var D=Pn(h.qa);yt(D,"RID","rpc"),yt(D,"SID",h.K),yt(D,"AID",h.T),yt(D,"CI",h.F?"0":"1"),!h.F&&h.ja&&yt(D,"TO",h.ja),yt(D,"TYPE","xmlhttp"),Li(h,D),h.m&&h.o&&Xt(D,h.m,h.o),h.L&&(h.g.I=h.L);var N=h.g;h=h.ia,N.L=1,N.v=Mi(Pn(D)),N.m=null,N.P=!0,Tn(N,h)}a.Za=function(){this.C!=null&&(this.C=null,Es(this),ko(this),J(19))};function As(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function cu(h,D){var N=null;if(h.g==D){As(h),Ui(h),h.g=null;var z=2}else if(er(h.h,D))N=D.D,rn(h.h,D),z=1;else return;if(h.G!=0){if(D.o)if(z==1){N=D.m?D.m.length:0,D=Date.now()-D.F;var X=h.B;z=Mr(),He(z,new le(z,N)),ws(h)}else lu(h);else if(X=D.s,X==3||X==0&&0<D.X||!(z==1&&Nf(h,D)||z==2&&ko(h)))switch(N&&0<N.length&&(D=h.h,D.i=D.i.concat(N)),X){case 1:ca(h,5);break;case 4:ca(h,10);break;case 3:ca(h,6);break;default:ca(h,2)}}}function jo(h,D){let N=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(N*=2),N*D}function ca(h,D){if(h.j.info("Error code "+D),D==2){var N=g(h.fb,h),z=h.Xa;const X=!z;z=new Lt(z||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Oi(z,"https"),Mi(z),X?Ii(z.toString(),N):vr(z.toString(),N)}else J(2);h.G=0,h.l&&h.l.sa(D),fu(h),su(h)}a.fb=function(h){h?(this.j.info("Successfully pinged google.com"),J(2)):(this.j.info("Failed to ping google.com"),J(1))};function fu(h){if(h.G=0,h.ka=[],h.l){const D=So(h.h);(D.length!=0||h.i.length!=0)&&(R(h.ka,D),R(h.ka,h.i),h.h.i.length=0,_(h.i),h.i.length=0),h.l.ra()}}function hu(h,D,N){var z=N instanceof Lt?Pn(N):new Lt(N);if(z.g!="")D&&(z.g=D+"."+z.g),Va(z,z.s);else{var X=c.location;z=X.protocol,D=D?D+"."+X.hostname:X.hostname,X=+X.port;var ae=new Lt(null);z&&Oi(ae,z),D&&(ae.g=D),X&&Va(ae,X),N&&(ae.l=N),z=ae}return N=h.D,D=h.ya,N&&D&&yt(z,N,D),yt(z,"VER",h.la),Li(h,z),z}function du(h,D,N){if(D&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return D=h.Ca&&!h.pa?new ft(new Pa({eb:N})):new ft(h.pa),D.Ha(h.J),D}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function mu(){}a=mu.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function Ts(){}Ts.prototype.g=function(h,D){return new Rn(h,D)};function Rn(h,D){lt.call(this),this.g=new bs(D),this.l=h,this.h=D&&D.messageUrlParams||null,h=D&&D.messageHeaders||null,D&&D.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=D&&D.initMessageHeaders||null,D&&D.messageContentType&&(h?h["X-WebChannel-Content-Type"]=D.messageContentType:h={"X-WebChannel-Content-Type":D.messageContentType}),D&&D.va&&(h?h["X-WebChannel-Client-Profile"]=D.va:h={"X-WebChannel-Client-Profile":D.va}),this.g.S=h,(h=D&&D.Sb)&&!T(h)&&(this.g.m=h),this.v=D&&D.supportsCrossDomainXhr||!1,this.u=D&&D.sendRawJson||!1,(D=D&&D.httpSessionIdParam)&&!T(D)&&(this.g.D=D,h=this.h,h!==null&&D in h&&(h=this.h,D in h&&delete h[D])),this.j=new Ur(this)}v(Rn,lt),Rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Rn.prototype.close=function(){No(this.g)},Rn.prototype.o=function(h){var D=this.g;if(typeof h=="string"){var N={};N.__data__=h,h=N}else this.u&&(N={},N.__data__=kn(h),h=N);D.i.push(new Vn(D.Ya++,h)),D.G==3&&ws(D)},Rn.prototype.N=function(){this.g.l=null,delete this.j,No(this.g),delete this.g,Rn.aa.N.call(this)};function pu(h){yr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var D=h.__sm__;if(D){e:{for(const N in D){h=N;break e}h=void 0}(this.i=h)&&(h=this.i,D=D!==null&&h in D?D[h]:void 0),this.data=D}else this.data=h}v(pu,yr);function gu(){Ia.call(this),this.status=1}v(gu,Ia);function Ur(h){this.g=h}v(Ur,mu),Ur.prototype.ua=function(){He(this.g,"a")},Ur.prototype.ta=function(h){He(this.g,new pu(h))},Ur.prototype.sa=function(h){He(this.g,new gu)},Ur.prototype.ra=function(){He(this.g,"b")},Ts.prototype.createWebChannel=Ts.prototype.g,Rn.prototype.send=Rn.prototype.o,Rn.prototype.open=Rn.prototype.m,Rn.prototype.close=Rn.prototype.close,o0=function(){return new Ts},s0=function(){return Mr()},i0=An,Jd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Se.NO_ERROR=0,Se.TIMEOUT=8,Se.HTTP_ERROR=6,Dc=Se,je.COMPLETE="complete",a0=je,Ci.EventType=Zn,Zn.OPEN="a",Zn.CLOSE="b",Zn.ERROR="c",Zn.MESSAGE="d",lt.prototype.listen=lt.prototype.K,Ol=Ci,ft.prototype.listenOnce=ft.prototype.L,ft.prototype.getLastError=ft.prototype.Ka,ft.prototype.getLastErrorCode=ft.prototype.Ba,ft.prototype.getStatus=ft.prototype.Z,ft.prototype.getResponseJson=ft.prototype.Oa,ft.prototype.getResponseText=ft.prototype.oa,ft.prototype.send=ft.prototype.ea,ft.prototype.setWithCredentials=ft.prototype.Ha,r0=ft}).apply(typeof _c<"u"?_c:typeof self<"u"?self:typeof window<"u"?window:{});const d_="@firebase/firestore",m_="4.7.14";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vn.UNAUTHENTICATED=new vn(null),vn.GOOGLE_CREDENTIALS=new vn("google-credentials-uid"),vn.FIRST_PARTY=new vn("first-party-uid"),vn.MOCK_USER=new vn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bo="11.7.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss=new Xb("@firebase/firestore");function no(){return ss.logLevel}function be(a,...e){if(ss.logLevel<=it.DEBUG){const n=e.map(Mm);ss.debug(`Firestore (${bo}): ${a}`,...n)}}function Ra(a,...e){if(ss.logLevel<=it.ERROR){const n=e.map(Mm);ss.error(`Firestore (${bo}): ${a}`,...n)}}function co(a,...e){if(ss.logLevel<=it.WARN){const n=e.map(Mm);ss.warn(`Firestore (${bo}): ${a}`,...n)}}function Mm(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(a,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,l0(a,i,n)}function l0(a,e,n){let i=`FIRESTORE (${bo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Ra(i),new Error(i)}function ht(a,e,n,i){let o="Unexpected state";typeof n=="string"?o=n:i=n,a||l0(e,o,i)}function qe(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends _o{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class bR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(vn.UNAUTHENTICATED))}shutdown(){}}class ER{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class wR{constructor(e){this.t=e,this.currentUser=vn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ht(this.o===void 0,42304);let i=this.i;const o=p=>this.i!==i?(i=this.i,n(p)):Promise.resolve();let u=new hi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new hi,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},c=p=>{be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>c(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?c(p):(be("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new hi)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ht(typeof i.accessToken=="string",31837,{l:i}),new u0(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ht(e===null||typeof e=="string",2055,{h:e}),new vn(e)}}class AR{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=vn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class TR{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new AR(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(vn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class p_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class SR{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,iR(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ht(this.o===void 0,3512);const i=u=>{u.error!=null&&be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,be("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>i(u))};const o=u=>{be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new p_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ht(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new p_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RR(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<a;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c0(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=RR(40);for(let u=0;u<o.length;++u)i.length<20&&o[u]<n&&(i+=e.charAt(o[u]%62))}return i}}function Ge(a,e){return a<e?-1:a>e?1:0}function em(a,e){let n=0;for(;n<a.length&&n<e.length;){const i=a.codePointAt(n),o=e.codePointAt(n);if(i!==o){if(i<128&&o<128)return Ge(i,o);{const u=c0(),f=xR(u.encode(g_(a,n)),u.encode(g_(e,n)));return f!==0?f:Ge(i,o)}}n+=i>65535?2:1}return Ge(a.length,e.length)}function g_(a,e){return a.codePointAt(e)>65535?a.substring(e,e+2):a.substring(e,e+1)}function xR(a,e){for(let n=0;n<a.length&&n<e.length;++n)if(a[n]!==e[n])return Ge(a[n],e[n]);return Ge(a.length,e.length)}function fo(a,e,n){return a.length===e.length&&a.every((i,o)=>n(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_=-62135596800,v_=1e6;class Yt{static now(){return Yt.fromMillis(Date.now())}static fromDate(e){return Yt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*v_);return new Yt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Oe(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Oe(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<y_)throw new Oe(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Oe(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/v_}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-y_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{static fromTimestamp(e){return new Be(e)}static min(){return new Be(new Yt(0,0))}static max(){return new Be(new Yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __="__name__";class Gr{constructor(e,n,i){n===void 0?n=0:n>e.length&&Le(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Le(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Gr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Gr?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let o=0;o<i;o++){const u=Gr.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ge(e.length,n.length)}static compareSegments(e,n){const i=Gr.isNumericId(e),o=Gr.isNumericId(n);return i&&!o?-1:!i&&o?1:i&&o?Gr.extractNumericId(e).compare(Gr.extractNumericId(n)):em(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fi.fromString(e.substring(4,e.length-2))}}class xt extends Gr{construct(e,n,i){return new xt(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new Oe(de.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(o=>o.length>0))}return new xt(n)}static emptyPath(){return new xt([])}}const CR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cn extends Gr{construct(e,n,i){return new cn(e,n,i)}static isValidIdentifier(e){return CR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===__}static keyField(){return new cn([__])}static fromServerFormat(e){const n=[];let i="",o=0;const u=()=>{if(i.length===0)throw new Oe(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let f=!1;for(;o<e.length;){const c=e[o];if(c==="\\"){if(o+1===e.length)throw new Oe(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Oe(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else c==="`"?(f=!f,o++):c!=="."||f?(i+=c,o++):(u(),o++)}if(u(),f)throw new Oe(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new cn(n)}static emptyPath(){return new cn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.path=e}static fromPath(e){return new Ne(xt.fromString(e))}static fromName(e){return new Ne(xt.fromString(e).popFirst(5))}static empty(){return new Ne(xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return xt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ne(new xt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ql=-1;function DR(a,e){const n=a.toTimestamp().seconds,i=a.toTimestamp().nanoseconds+1,o=Be.fromTimestamp(i===1e9?new Yt(n+1,0):new Yt(n,i));return new yi(o,Ne.empty(),e)}function OR(a){return new yi(a.readTime,a.key,ql)}class yi{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new yi(Be.min(),Ne.empty(),ql)}static max(){return new yi(Be.max(),Ne.empty(),ql)}}function MR(a,e){let n=a.readTime.compareTo(e.readTime);return n!==0?n:(n=Ne.comparator(a.documentKey,e.documentKey),n!==0?n:Ge(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class IR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eo(a){if(a.code!==de.FAILED_PRECONDITION||a.message!==NR)throw a;be("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Le(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new fe((i,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(i,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(i,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof fe?n:fe.resolve(n)}catch(n){return fe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):fe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):fe.reject(n)}static resolve(e){return new fe((n,i)=>{n(e)})}static reject(e){return new fe((n,i)=>{i(e)})}static waitFor(e){return new fe((n,i)=>{let o=0,u=0,f=!1;e.forEach(c=>{++o,c.next(()=>{++u,f&&u===o&&n()},p=>i(p))}),f=!0,u===o&&n()})}static or(e){let n=fe.resolve(!1);for(const i of e)n=n.next(o=>o?fe.resolve(o):i());return n}static forEach(e,n){const i=[];return e.forEach((o,u)=>{i.push(n.call(this,o,u))}),this.waitFor(i)}static mapArray(e,n){return new fe((i,o)=>{const u=e.length,f=new Array(u);let c=0;for(let p=0;p<u;p++){const y=p;n(e[y]).next(E=>{f[y]=E,++c,c===u&&i(f)},E=>o(E))}})}static doWhile(e,n){return new fe((i,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):i()};u()})}}function kR(a){const e=a.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wo(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>n.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}of.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm=-1;function lf(a){return a==null}function Fc(a){return a===0&&1/a==-1/0}function jR(a){return typeof a=="number"&&Number.isInteger(a)&&!Fc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0="";function VR(a){let e="";for(let n=0;n<a.length;n++)e.length>0&&(e=b_(e)),e=PR(a.get(n),e);return b_(e)}function PR(a,e){let n=e;const i=a.length;for(let o=0;o<i;o++){const u=a.charAt(o);switch(u){case"\0":n+="";break;case h0:n+="";break;default:n+=u}}return n}function b_(a){return a+h0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E_(a){let e=0;for(const n in a)Object.prototype.hasOwnProperty.call(a,n)&&e++;return e}function Ti(a,e){for(const n in a)Object.prototype.hasOwnProperty.call(a,n)&&e(n,a[n])}function d0(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e,n){this.comparator=e,this.root=n||un.EMPTY}insert(e,n){return new Ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,un.BLACK,null,null))}remove(e){return new Ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,un.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bc(this.root,e,this.comparator,!1)}getReverseIterator(){return new bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bc(this.root,e,this.comparator,!0)}}class bc{constructor(e,n,i,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?i(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class un{constructor(e,n,i,o,u){this.key=e,this.value=n,this.color=i??un.RED,this.left=o??un.EMPTY,this.right=u??un.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,o,u){return new un(e??this.key,n??this.value,i??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let o=this;const u=i(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,i),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return un.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return un.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Le(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Le(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Le(27949);return e+(this.isRed()?0:1)}}un.EMPTY=null,un.RED=!0,un.BLACK=!1;un.EMPTY=new class{constructor(){this.size=0}get key(){throw Le(57766)}get value(){throw Le(16141)}get color(){throw Le(16727)}get left(){throw Le(29726)}get right(){throw Le(36894)}copy(e,n,i,o,u){return this}insert(e,n,i){return new un(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.comparator=e,this.data=new Ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new w_(this.data.getIterator())}getIteratorFrom(e){return new w_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=i.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Kt(this.comparator);return n.data=e,n}}class w_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.fields=e,e.sort(cn.comparator)}static empty(){return new Qn([])}unionWith(e){let n=new Kt(cn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Qn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return fo(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new m0("Invalid base64 string: "+u):u}}(e);return new fn(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new fn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fn.EMPTY_BYTE_STRING=new fn("");const LR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vi(a){if(ht(!!a,39018),typeof a=="string"){let e=0;const n=LR.exec(a);if(ht(!!n,46558,{timestamp:a}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(a);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:jt(a.seconds),nanos:jt(a.nanos)}}function jt(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function _i(a){return typeof a=="string"?fn.fromBase64String(a):fn.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0="server_timestamp",g0="__type__",y0="__previous_value__",v0="__local_write_time__";function Im(a){var e,n;return((n=(((e=a==null?void 0:a.mapValue)===null||e===void 0?void 0:e.fields)||{})[g0])===null||n===void 0?void 0:n.stringValue)===p0}function uf(a){const e=a.mapValue.fields[y0];return Im(e)?uf(e):e}function Fl(a){const e=vi(a.mapValue.fields[v0].timestampValue);return new Yt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e,n,i,o,u,f,c,p,y,E){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=c,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=E}}const Hc="(default)";class Hl{constructor(e,n){this.projectId=e,this.database=n||Hc}static empty(){return new Hl("","")}get isDefaultDatabase(){return this.database===Hc}isEqual(e){return e instanceof Hl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0="__type__",zR="__max__",Ec={mapValue:{}},b0="__vector__",$c="value";function bi(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Im(a)?4:qR(a)?9007199254740991:BR(a)?10:11:Le(28295,{value:a})}function Zr(a,e){if(a===e)return!0;const n=bi(a);if(n!==bi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return Fl(a).isEqual(Fl(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=vi(o.timestampValue),c=vi(u.timestampValue);return f.seconds===c.seconds&&f.nanos===c.nanos}(a,e);case 5:return a.stringValue===e.stringValue;case 6:return function(o,u){return _i(o.bytesValue).isEqual(_i(u.bytesValue))}(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return function(o,u){return jt(o.geoPointValue.latitude)===jt(u.geoPointValue.latitude)&&jt(o.geoPointValue.longitude)===jt(u.geoPointValue.longitude)}(a,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return jt(o.integerValue)===jt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=jt(o.doubleValue),c=jt(u.doubleValue);return f===c?Fc(f)===Fc(c):isNaN(f)&&isNaN(c)}return!1}(a,e);case 9:return fo(a.arrayValue.values||[],e.arrayValue.values||[],Zr);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},c=u.mapValue.fields||{};if(E_(f)!==E_(c))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(c[p]===void 0||!Zr(f[p],c[p])))return!1;return!0}(a,e);default:return Le(52216,{left:a})}}function $l(a,e){return(a.values||[]).find(n=>Zr(n,e))!==void 0}function ho(a,e){if(a===e)return 0;const n=bi(a),i=bi(e);if(n!==i)return Ge(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ge(a.booleanValue,e.booleanValue);case 2:return function(u,f){const c=jt(u.integerValue||u.doubleValue),p=jt(f.integerValue||f.doubleValue);return c<p?-1:c>p?1:c===p?0:isNaN(c)?isNaN(p)?0:-1:1}(a,e);case 3:return A_(a.timestampValue,e.timestampValue);case 4:return A_(Fl(a),Fl(e));case 5:return em(a.stringValue,e.stringValue);case 6:return function(u,f){const c=_i(u),p=_i(f);return c.compareTo(p)}(a.bytesValue,e.bytesValue);case 7:return function(u,f){const c=u.split("/"),p=f.split("/");for(let y=0;y<c.length&&y<p.length;y++){const E=Ge(c[y],p[y]);if(E!==0)return E}return Ge(c.length,p.length)}(a.referenceValue,e.referenceValue);case 8:return function(u,f){const c=Ge(jt(u.latitude),jt(f.latitude));return c!==0?c:Ge(jt(u.longitude),jt(f.longitude))}(a.geoPointValue,e.geoPointValue);case 9:return T_(a.arrayValue,e.arrayValue);case 10:return function(u,f){var c,p,y,E;const d=u.fields||{},g=f.fields||{},b=(c=d[$c])===null||c===void 0?void 0:c.arrayValue,v=(p=g[$c])===null||p===void 0?void 0:p.arrayValue,_=Ge(((y=b==null?void 0:b.values)===null||y===void 0?void 0:y.length)||0,((E=v==null?void 0:v.values)===null||E===void 0?void 0:E.length)||0);return _!==0?_:T_(b,v)}(a.mapValue,e.mapValue);case 11:return function(u,f){if(u===Ec.mapValue&&f===Ec.mapValue)return 0;if(u===Ec.mapValue)return 1;if(f===Ec.mapValue)return-1;const c=u.fields||{},p=Object.keys(c),y=f.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let d=0;d<p.length&&d<E.length;++d){const g=em(p[d],E[d]);if(g!==0)return g;const b=ho(c[p[d]],y[E[d]]);if(b!==0)return b}return Ge(p.length,E.length)}(a.mapValue,e.mapValue);default:throw Le(23264,{Pe:n})}}function A_(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Ge(a,e);const n=vi(a),i=vi(e),o=Ge(n.seconds,i.seconds);return o!==0?o:Ge(n.nanos,i.nanos)}function T_(a,e){const n=a.values||[],i=e.values||[];for(let o=0;o<n.length&&o<i.length;++o){const u=ho(n[o],i[o]);if(u)return u}return Ge(n.length,i.length)}function mo(a){return tm(a)}function tm(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(n){const i=vi(n);return`time(${i.seconds},${i.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?function(n){return _i(n).toBase64()}(a.bytesValue):"referenceValue"in a?function(n){return Ne.fromName(n).toString()}(a.referenceValue):"geoPointValue"in a?function(n){return`geo(${n.latitude},${n.longitude})`}(a.geoPointValue):"arrayValue"in a?function(n){let i="[",o=!0;for(const u of n.values||[])o?o=!1:i+=",",i+=tm(u);return i+"]"}(a.arrayValue):"mapValue"in a?function(n){const i=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of i)u?u=!1:o+=",",o+=`${f}:${tm(n.fields[f])}`;return o+"}"}(a.mapValue):Le(61005,{value:a})}function Oc(a){switch(bi(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=uf(a);return e?16+Oc(e):16;case 5:return 2*a.stringValue.length;case 6:return _i(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,u)=>o+Oc(u),0)}(a.arrayValue);case 10:case 11:return function(i){let o=0;return Ti(i.fields,(u,f)=>{o+=u.length+Oc(f)}),o}(a.mapValue);default:throw Le(13486,{value:a})}}function nm(a){return!!a&&"integerValue"in a}function km(a){return!!a&&"arrayValue"in a}function S_(a){return!!a&&"nullValue"in a}function R_(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Mc(a){return!!a&&"mapValue"in a}function BR(a){var e,n;return((n=(((e=a==null?void 0:a.mapValue)===null||e===void 0?void 0:e.fields)||{})[_0])===null||n===void 0?void 0:n.stringValue)===b0}function kl(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const e={mapValue:{fields:{}}};return Ti(a.mapValue.fields,(n,i)=>e.mapValue.fields[n]=kl(i)),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(a.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=kl(a.arrayValue.values[n]);return e}return Object.assign({},a)}function qR(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===zR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.value=e}static empty(){return new In({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Mc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=kl(n)}setAll(e){let n=cn.emptyPath(),i={},o=[];e.forEach((f,c)=>{if(!n.isImmediateParentOf(c)){const p=this.getFieldsMap(n);this.applyChanges(p,i,o),i={},o=[],n=c.popLast()}f?i[c.lastSegment()]=kl(f):o.push(c.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,i,o)}delete(e){const n=this.field(e.popLast());Mc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Zr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=n.mapValue.fields[e.get(i)];Mc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,i){Ti(n,(o,u)=>e[o]=u);for(const o of i)delete e[o]}clone(){return new In(kl(this.value))}}function E0(a){const e=[];return Ti(a.fields,(n,i)=>{const o=new cn([n]);if(Mc(i)){const u=E0(i.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new Qn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e,n,i,o,u,f,c){this.key=e,this.documentType=n,this.version=i,this.readTime=o,this.createTime=u,this.data=f,this.documentState=c}static newInvalidDocument(e){return new _n(e,0,Be.min(),Be.min(),Be.min(),In.empty(),0)}static newFoundDocument(e,n,i,o){return new _n(e,1,n,Be.min(),i,o,0)}static newNoDocument(e,n){return new _n(e,2,n,Be.min(),Be.min(),In.empty(),0)}static newUnknownDocument(e,n){return new _n(e,3,n,Be.min(),Be.min(),In.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=In.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=In.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,n){this.position=e,this.inclusive=n}}function x_(a,e,n){let i=0;for(let o=0;o<a.position.length;o++){const u=e[o],f=a.position[o];if(u.field.isKeyField()?i=Ne.comparator(Ne.fromName(f.referenceValue),n.key):i=ho(f,n.data.field(u.field)),u.dir==="desc"&&(i*=-1),i!==0)break}return i}function C_(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let n=0;n<a.position.length;n++)if(!Zr(a.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,n="asc"){this.field=e,this.dir=n}}function FR(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{}class Qt extends w0{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new $R(e,n,i):n==="array-contains"?new YR(e,i):n==="in"?new KR(e,i):n==="not-in"?new XR(e,i):n==="array-contains-any"?new WR(e,i):new Qt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new GR(e,i):new QR(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ho(n,this.value)):n!==null&&bi(this.value)===bi(n)&&this.matchesComparison(ho(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Le(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jr extends w0{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Jr(e,n)}matches(e){return A0(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function A0(a){return a.op==="and"}function T0(a){return HR(a)&&A0(a)}function HR(a){for(const e of a.filters)if(e instanceof Jr)return!1;return!0}function rm(a){if(a instanceof Qt)return a.field.canonicalString()+a.op.toString()+mo(a.value);if(T0(a))return a.filters.map(e=>rm(e)).join(",");{const e=a.filters.map(n=>rm(n)).join(",");return`${a.op}(${e})`}}function S0(a,e){return a instanceof Qt?function(i,o){return o instanceof Qt&&i.op===o.op&&i.field.isEqual(o.field)&&Zr(i.value,o.value)}(a,e):a instanceof Jr?function(i,o){return o instanceof Jr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((u,f,c)=>u&&S0(f,o.filters[c]),!0):!1}(a,e):void Le(19439)}function R0(a){return a instanceof Qt?function(n){return`${n.field.canonicalString()} ${n.op} ${mo(n.value)}`}(a):a instanceof Jr?function(n){return n.op.toString()+" {"+n.getFilters().map(R0).join(" ,")+"}"}(a):"Filter"}class $R extends Qt{constructor(e,n,i){super(e,n,i),this.key=Ne.fromName(i.referenceValue)}matches(e){const n=Ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class GR extends Qt{constructor(e,n){super(e,"in",n),this.keys=x0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class QR extends Qt{constructor(e,n){super(e,"not-in",n),this.keys=x0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function x0(a,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Ne.fromName(i.referenceValue))}class YR extends Qt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return km(n)&&$l(n.arrayValue,this.value)}}class KR extends Qt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&$l(this.value.arrayValue,n)}}class XR extends Qt{constructor(e,n){super(e,"not-in",n)}matches(e){if($l(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!$l(this.value.arrayValue,n)}}class WR extends Qt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!km(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>$l(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e,n=null,i=[],o=[],u=null,f=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=o,this.limit=u,this.startAt=f,this.endAt=c,this.Ie=null}}function D_(a,e=null,n=[],i=[],o=null,u=null,f=null){return new ZR(a,e,n,i,o,u,f)}function jm(a){const e=qe(a);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>rm(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(u){return u.field.canonicalString()+u.dir}(i)).join(","),lf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>mo(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>mo(i)).join(",")),e.Ie=n}return e.Ie}function Vm(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<a.orderBy.length;n++)if(!FR(a.orderBy[n],e.orderBy[n]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let n=0;n<a.filters.length;n++)if(!S0(a.filters[n],e.filters[n]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!C_(a.startAt,e.startAt)&&C_(a.endAt,e.endAt)}function am(a){return Ne.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,n=null,i=[],o=[],u=null,f="F",c=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=o,this.limit=u,this.limitType=f,this.startAt=c,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function JR(a,e,n,i,o,u,f,c){return new cf(a,e,n,i,o,u,f,c)}function C0(a){return new cf(a)}function O_(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function ex(a){return a.collectionGroup!==null}function jl(a){const e=qe(a);if(e.Ee===null){e.Ee=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ee.push(u),n.add(u.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let c=new Kt(cn.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(c=c.add(y.field))})}),c})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ee.push(new Qc(u,i))}),n.has(cn.keyField().canonicalString())||e.Ee.push(new Qc(cn.keyField(),i))}return e.Ee}function Xr(a){const e=qe(a);return e.de||(e.de=tx(e,jl(a))),e.de}function tx(a,e){if(a.limitType==="F")return D_(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Qc(o.field,u)});const n=a.endAt?new Gc(a.endAt.position,a.endAt.inclusive):null,i=a.startAt?new Gc(a.startAt.position,a.startAt.inclusive):null;return D_(a.path,a.collectionGroup,e,a.filters,a.limit,n,i)}}function im(a,e,n){return new cf(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,n,a.startAt,a.endAt)}function ff(a,e){return Vm(Xr(a),Xr(e))&&a.limitType===e.limitType}function D0(a){return`${jm(Xr(a))}|lt:${a.limitType}`}function ro(a){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(o=>R0(o)).join(", ")}]`),lf(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(o=>mo(o)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(o=>mo(o)).join(",")),`Target(${i})`}(Xr(a))}; limitType=${a.limitType})`}function hf(a,e){return e.isFoundDocument()&&function(i,o){const u=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(u):Ne.isDocumentKey(i.path)?i.path.isEqual(u):i.path.isImmediateParentOf(u)}(a,e)&&function(i,o){for(const u of jl(i))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(a,e)&&function(i,o){for(const u of i.filters)if(!u.matches(o))return!1;return!0}(a,e)&&function(i,o){return!(i.startAt&&!function(f,c,p){const y=x_(f,c,p);return f.inclusive?y<=0:y<0}(i.startAt,jl(i),o)||i.endAt&&!function(f,c,p){const y=x_(f,c,p);return f.inclusive?y>=0:y>0}(i.endAt,jl(i),o))}(a,e)}function nx(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function O0(a){return(e,n)=>{let i=!1;for(const o of jl(a)){const u=rx(o,e,n);if(u!==0)return u;i=i||o.field.isKeyField()}return 0}}function rx(a,e,n){const i=a.field.isKeyField()?Ne.comparator(e.key,n.key):function(u,f,c){const p=f.data.field(u),y=c.data.field(u);return p!==null&&y!==null?ho(p,y):Le(42886)}(a.field,e,n);switch(a.dir){case"asc":return i;case"desc":return-1*i;default:return Le(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[o,u]of i)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[n]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ti(this.inner,(n,i)=>{for(const[o,u]of i)e(o,u)})}isEmpty(){return d0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax=new Ot(Ne.comparator);function xa(){return ax}const M0=new Ot(Ne.comparator);function Ml(...a){let e=M0;for(const n of a)e=e.insert(n.key,n);return e}function N0(a){let e=M0;return a.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function is(){return Vl()}function I0(){return Vl()}function Vl(){return new fs(a=>a.toString(),(a,e)=>a.isEqual(e))}const ix=new Ot(Ne.comparator),sx=new Kt(Ne.comparator);function Je(...a){let e=sx;for(const n of a)e=e.add(n);return e}const ox=new Kt(Ge);function lx(){return ox}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pm(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fc(e)?"-0":e}}function k0(a){return{integerValue:""+a}}function ux(a,e){return jR(e)?k0(e):Pm(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(){this._=void 0}}function cx(a,e,n){return a instanceof Yc?function(o,u){const f={fields:{[g0]:{stringValue:p0},[v0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Im(u)&&(u=uf(u)),u&&(f.fields[y0]=u),{mapValue:f}}(n,e):a instanceof Gl?V0(a,e):a instanceof Ql?P0(a,e):function(o,u){const f=j0(o,u),c=M_(f)+M_(o.Re);return nm(f)&&nm(o.Re)?k0(c):Pm(o.serializer,c)}(a,e)}function fx(a,e,n){return a instanceof Gl?V0(a,e):a instanceof Ql?P0(a,e):n}function j0(a,e){return a instanceof Kc?function(i){return nm(i)||function(u){return!!u&&"doubleValue"in u}(i)}(e)?e:{integerValue:0}:null}class Yc extends df{}class Gl extends df{constructor(e){super(),this.elements=e}}function V0(a,e){const n=L0(e);for(const i of a.elements)n.some(o=>Zr(o,i))||n.push(i);return{arrayValue:{values:n}}}class Ql extends df{constructor(e){super(),this.elements=e}}function P0(a,e){let n=L0(e);for(const i of a.elements)n=n.filter(o=>!Zr(o,i));return{arrayValue:{values:n}}}class Kc extends df{constructor(e,n){super(),this.serializer=e,this.Re=n}}function M_(a){return jt(a.integerValue||a.doubleValue)}function L0(a){return km(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function hx(a,e){return a.field.isEqual(e.field)&&function(i,o){return i instanceof Gl&&o instanceof Gl||i instanceof Ql&&o instanceof Ql?fo(i.elements,o.elements,Zr):i instanceof Kc&&o instanceof Kc?Zr(i.Re,o.Re):i instanceof Yc&&o instanceof Yc}(a.transform,e.transform)}class dx{constructor(e,n){this.version=e,this.transformResults=n}}class wr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new wr}static exists(e){return new wr(void 0,e)}static updateTime(e){return new wr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Nc(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class mf{}function U0(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new Lm(a.key,wr.none()):new Wl(a.key,a.data,wr.none());{const n=a.data,i=In.empty();let o=new Kt(cn.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?i.delete(u):i.set(u,f),o=o.add(u)}return new Si(a.key,i,new Qn(o.toArray()),wr.none())}}function mx(a,e,n){a instanceof Wl?function(o,u,f){const c=o.value.clone(),p=I_(o.fieldTransforms,u,f.transformResults);c.setAll(p),u.convertToFoundDocument(f.version,c).setHasCommittedMutations()}(a,e,n):a instanceof Si?function(o,u,f){if(!Nc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const c=I_(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(z0(o)),p.setAll(c),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(a,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Pl(a,e,n,i){return a instanceof Wl?function(u,f,c,p){if(!Nc(u.precondition,f))return c;const y=u.value.clone(),E=k_(u.fieldTransforms,p,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(a,e,n,i):a instanceof Si?function(u,f,c,p){if(!Nc(u.precondition,f))return c;const y=k_(u.fieldTransforms,p,f),E=f.data;return E.setAll(z0(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),c===null?null:c.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(d=>d.field))}(a,e,n,i):function(u,f,c){return Nc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):c}(a,e,n)}function px(a,e){let n=null;for(const i of a.fieldTransforms){const o=e.data.field(i.field),u=j0(i.transform,o||null);u!=null&&(n===null&&(n=In.empty()),n.set(i.field,u))}return n||null}function N_(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&fo(i,o,(u,f)=>hx(u,f))}(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class Wl extends mf{constructor(e,n,i,o=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Si extends mf{constructor(e,n,i,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function z0(a){const e=new Map;return a.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=a.data.field(n);e.set(n,i)}}),e}function I_(a,e,n){const i=new Map;ht(a.length===n.length,32656,{Ve:n.length,me:a.length});for(let o=0;o<n.length;o++){const u=a[o],f=u.transform,c=e.data.field(u.field);i.set(u.field,fx(f,c,n[o]))}return i}function k_(a,e,n){const i=new Map;for(const o of a){const u=o.transform,f=n.data.field(o.field);i.set(o.field,cx(u,f,e))}return i}class Lm extends mf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gx extends mf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e,n,i,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&mx(u,e,i[o])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Pl(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Pl(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=I0();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let c=this.applyToLocalView(f,u.mutatedFields);c=n.has(o.key)?null:c;const p=U0(f,c);p!==null&&i.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Be.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Je())}isEqual(e){return this.batchId===e.batchId&&fo(this.mutations,e.mutations,(n,i)=>N_(n,i))&&fo(this.baseMutations,e.baseMutations,(n,i)=>N_(n,i))}}class Um{constructor(e,n,i,o){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}static from(e,n,i){ht(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let o=function(){return ix}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,i[f].version);return new Um(e,n,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt,at;function bx(a){switch(a){case de.OK:return Le(64938);case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0;default:return Le(15467,{code:a})}}function B0(a){if(a===void 0)return Ra("GRPC error has no .code"),de.UNKNOWN;switch(a){case Bt.OK:return de.OK;case Bt.CANCELLED:return de.CANCELLED;case Bt.UNKNOWN:return de.UNKNOWN;case Bt.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case Bt.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case Bt.INTERNAL:return de.INTERNAL;case Bt.UNAVAILABLE:return de.UNAVAILABLE;case Bt.UNAUTHENTICATED:return de.UNAUTHENTICATED;case Bt.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case Bt.NOT_FOUND:return de.NOT_FOUND;case Bt.ALREADY_EXISTS:return de.ALREADY_EXISTS;case Bt.PERMISSION_DENIED:return de.PERMISSION_DENIED;case Bt.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case Bt.ABORTED:return de.ABORTED;case Bt.OUT_OF_RANGE:return de.OUT_OF_RANGE;case Bt.UNIMPLEMENTED:return de.UNIMPLEMENTED;case Bt.DATA_LOSS:return de.DATA_LOSS;default:return Le(39323,{code:a})}}(at=Bt||(Bt={}))[at.OK=0]="OK",at[at.CANCELLED=1]="CANCELLED",at[at.UNKNOWN=2]="UNKNOWN",at[at.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",at[at.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",at[at.NOT_FOUND=5]="NOT_FOUND",at[at.ALREADY_EXISTS=6]="ALREADY_EXISTS",at[at.PERMISSION_DENIED=7]="PERMISSION_DENIED",at[at.UNAUTHENTICATED=16]="UNAUTHENTICATED",at[at.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",at[at.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",at[at.ABORTED=10]="ABORTED",at[at.OUT_OF_RANGE=11]="OUT_OF_RANGE",at[at.UNIMPLEMENTED=12]="UNIMPLEMENTED",at[at.INTERNAL=13]="INTERNAL",at[at.UNAVAILABLE=14]="UNAVAILABLE",at[at.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex=new fi([4294967295,4294967295],0);function j_(a){const e=c0().encode(a),n=new n0;return n.update(e),new Uint8Array(n.digest())}function V_(a){const e=new DataView(a.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new fi([n,i],0),new fi([o,u],0)]}class zm{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Nl(`Invalid padding: ${n}`);if(i<0)throw new Nl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Nl(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Nl(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=fi.fromNumber(this.pe)}we(e,n,i){let o=e.add(n.multiply(fi.fromNumber(i)));return o.compare(Ex)===1&&(o=new fi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=j_(e),[i,o]=V_(n);for(let u=0;u<this.hashCount;u++){const f=this.we(i,o,u);if(!this.be(f))return!1}return!0}static create(e,n,i){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new zm(u,o,n);return i.forEach(c=>f.insert(c)),f}insert(e){if(this.pe===0)return;const n=j_(e),[i,o]=V_(n);for(let u=0;u<this.hashCount;u++){const f=this.we(i,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Nl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e,n,i,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const o=new Map;return o.set(e,Zl.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new pf(Be.min(),o,new Ot(Ge),xa(),Je())}}class Zl{constructor(e,n,i,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Zl(i,n,Je(),Je(),Je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,n,i,o){this.De=e,this.removedTargetIds=n,this.key=i,this.ve=o}}class q0{constructor(e,n){this.targetId=e,this.Ce=n}}class F0{constructor(e,n,i=fn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=o}}class P_{constructor(){this.Fe=0,this.Me=L_(),this.xe=fn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Je(),n=Je(),i=Je();return this.Me.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:Le(38017,{changeType:u})}}),new Zl(this.xe,this.Oe,e,n,i)}Qe(){this.Ne=!1,this.Me=L_()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,ht(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class wx{constructor(e){this.ze=e,this.je=new Map,this.He=xa(),this.Je=wc(),this.Ye=wc(),this.Ze=new Ot(Ge)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const i=this.rt(n);switch(e.state){case 0:this.it(n)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(n);break;case 3:this.it(n)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),i.ke(e.resumeToken));break;default:Le(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((i,o)=>{this.it(o)&&n(o)})}ot(e){const n=e.targetId,i=e.Ce.count,o=this._t(n);if(o){const u=o.target;if(am(u))if(i===0){const f=new Ne(u.path);this.tt(n,f,_n.newNoDocument(f,Be.min()))}else ht(i===1,20013,{expectedCount:i});else{const f=this.ut(n);if(f!==i){const c=this.ct(e),p=c?this.lt(c,e,f):1;if(p!==0){this.st(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:u=0}=n;let f,c;try{f=_i(i).toUint8Array()}catch(p){if(p instanceof m0)return co("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{c=new zm(f,o,u)}catch(p){return co(p instanceof Nl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return c.pe===0?null:c}lt(e,n,i){return n.Ce.count===i-this.Tt(e,n.targetId)?0:2}Tt(e,n){const i=this.ze.getRemoteKeysForTarget(n);let o=0;return i.forEach(u=>{const f=this.ze.Pt(),c=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(c)||(this.tt(n,u,null),o++)}),o}It(e){const n=new Map;this.je.forEach((u,f)=>{const c=this._t(f);if(c){if(u.current&&am(c.target)){const p=new Ne(c.target.path);this.Et(p).has(f)||this.dt(f,p)||this.tt(f,p,_n.newNoDocument(p,e))}u.Le&&(n.set(f,u.qe()),u.Qe())}});let i=Je();this.Ye.forEach((u,f)=>{let c=!0;f.forEachWhile(p=>{const y=this._t(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(i=i.add(u))}),this.He.forEach((u,f)=>f.setReadTime(e));const o=new pf(e,n,this.Ze,this.He,i);return this.He=xa(),this.Je=wc(),this.Ye=wc(),this.Ze=new Ot(Ge),o}et(e,n){if(!this.it(e))return;const i=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,i),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,i){if(!this.it(e))return;const o=this.rt(e);this.dt(e,n)?o.$e(n,1):o.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),i&&(this.He=this.He.insert(n,i))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new P_,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Kt(Ge),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Kt(Ge),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||be("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new P_),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function wc(){return new Ot(Ne.comparator)}function L_(){return new Ot(Ne.comparator)}const Ax={asc:"ASCENDING",desc:"DESCENDING"},Tx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Sx={and:"AND",or:"OR"};class Rx{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function sm(a,e){return a.useProto3Json||lf(e)?e:{value:e}}function Xc(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function H0(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function xx(a,e){return Xc(a,e.toTimestamp())}function Wr(a){return ht(!!a,49232),Be.fromTimestamp(function(n){const i=vi(n);return new Yt(i.seconds,i.nanos)}(a))}function Bm(a,e){return om(a,e).canonicalString()}function om(a,e){const n=function(o){return new xt(["projects",o.projectId,"databases",o.database])}(a).child("documents");return e===void 0?n:n.child(e)}function $0(a){const e=xt.fromString(a);return ht(X0(e),10190,{key:e.toString()}),e}function lm(a,e){return Bm(a.databaseId,e.path)}function Ld(a,e){const n=$0(e);if(n.get(1)!==a.databaseId.projectId)throw new Oe(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+a.databaseId.projectId);if(n.get(3)!==a.databaseId.database)throw new Oe(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+a.databaseId.database);return new Ne(Q0(n))}function G0(a,e){return Bm(a.databaseId,e)}function Cx(a){const e=$0(a);return e.length===4?xt.emptyPath():Q0(e)}function um(a){return new xt(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function Q0(a){return ht(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function U_(a,e,n){return{name:lm(a,e),fields:n.value.mapValue.fields}}function Dx(a,e){let n;if("targetChange"in e){e.targetChange;const i=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Le(39313,{state:y})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(y,E){return y.useProto3Json?(ht(E===void 0||typeof E=="string",58123),fn.fromBase64String(E||"")):(ht(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),fn.fromUint8Array(E||new Uint8Array))}(a,e.targetChange.resumeToken),f=e.targetChange.cause,c=f&&function(y){const E=y.code===void 0?de.UNKNOWN:B0(y.code);return new Oe(E,y.message||"")}(f);n=new F0(i,o,u,c||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Ld(a,i.document.name),u=Wr(i.document.updateTime),f=i.document.createTime?Wr(i.document.createTime):Be.min(),c=new In({mapValue:{fields:i.document.fields}}),p=_n.newFoundDocument(o,u,f,c),y=i.targetIds||[],E=i.removedTargetIds||[];n=new Ic(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Ld(a,i.document),u=i.readTime?Wr(i.readTime):Be.min(),f=_n.newNoDocument(o,u),c=i.removedTargetIds||[];n=new Ic([],c,f.key,f)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Ld(a,i.document),u=i.removedTargetIds||[];n=new Ic([],u,o,null)}else{if(!("filter"in e))return Le(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:u}=i,f=new _x(o,u),c=i.targetId;n=new q0(c,f)}}return n}function Ox(a,e){let n;if(e instanceof Wl)n={update:U_(a,e.key,e.value)};else if(e instanceof Lm)n={delete:lm(a,e.key)};else if(e instanceof Si)n={update:U_(a,e.key,e.data),updateMask:Ux(e.fieldMask)};else{if(!(e instanceof gx))return Le(16599,{ft:e.type});n={verify:lm(a,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(u,f){const c=f.transform;if(c instanceof Yc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Gl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Ql)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Kc)return{fieldPath:f.field.canonicalString(),increment:c.Re};throw Le(20930,{transform:f.transform})}(0,i))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:xx(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Le(27497)}(a,e.precondition)),n}function Mx(a,e){return a&&a.length>0?(ht(e!==void 0,14353),a.map(n=>function(o,u){let f=o.updateTime?Wr(o.updateTime):Wr(u);return f.isEqual(Be.min())&&(f=Wr(u)),new dx(f,o.transformResults||[])}(n,e))):[]}function Nx(a,e){return{documents:[G0(a,e.path)]}}function Ix(a,e){const n={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=G0(a,o);const u=function(y){if(y.length!==0)return K0(Jr.create(y,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(y){if(y.length!==0)return y.map(E=>function(g){return{field:ao(g.field),direction:Vx(g.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const c=sm(a,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{gt:n,parent:o}}function kx(a){let e=Cx(a.parent);const n=a.structuredQuery,i=n.from?n.from.length:0;let o=null;if(i>0){ht(i===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(d){const g=Y0(d);return g instanceof Jr&&T0(g)?g.getFilters():[g]}(n.where));let f=[];n.orderBy&&(f=function(d){return d.map(g=>function(v){return new Qc(io(v.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(g))}(n.orderBy));let c=null;n.limit&&(c=function(d){let g;return g=typeof d=="object"?d.value:d,lf(g)?null:g}(n.limit));let p=null;n.startAt&&(p=function(d){const g=!!d.before,b=d.values||[];return new Gc(b,g)}(n.startAt));let y=null;return n.endAt&&(y=function(d){const g=!d.before,b=d.values||[];return new Gc(b,g)}(n.endAt)),JR(e,o,f,u,c,"F",p,y)}function jx(a,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Le(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Y0(a){return a.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=io(n.unaryFilter.field);return Qt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=io(n.unaryFilter.field);return Qt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=io(n.unaryFilter.field);return Qt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=io(n.unaryFilter.field);return Qt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Le(61313);default:return Le(60726)}}(a):a.fieldFilter!==void 0?function(n){return Qt.create(io(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Le(58110);default:return Le(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(a):a.compositeFilter!==void 0?function(n){return Jr.create(n.compositeFilter.filters.map(i=>Y0(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Le(1026)}}(n.compositeFilter.op))}(a):Le(30097,{filter:a})}function Vx(a){return Ax[a]}function Px(a){return Tx[a]}function Lx(a){return Sx[a]}function ao(a){return{fieldPath:a.canonicalString()}}function io(a){return cn.fromServerFormat(a.fieldPath)}function K0(a){return a instanceof Qt?function(n){if(n.op==="=="){if(R_(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NAN"}};if(S_(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(R_(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NOT_NAN"}};if(S_(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ao(n.field),op:Px(n.op),value:n.value}}}(a):a instanceof Jr?function(n){const i=n.getFilters().map(o=>K0(o));return i.length===1?i[0]:{compositeFilter:{op:Lx(n.op),filters:i}}}(a):Le(54877,{filter:a})}function Ux(a){const e=[];return a.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function X0(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e,n,i,o,u=Be.min(),f=Be.min(),c=fn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=c,this.expectedCount=p}withSequenceNumber(e){return new li(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new li(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e){this.wt=e}}function Bx(a){const e=kx({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?im(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(){this.yn=new Fx}addToCollectionParentIndex(e,n){return this.yn.add(n),fe.resolve()}getCollectionParents(e,n){return fe.resolve(this.yn.getEntries(n))}addFieldIndex(e,n){return fe.resolve()}deleteFieldIndex(e,n){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,n){return fe.resolve()}getDocumentsMatchingTarget(e,n){return fe.resolve(null)}getIndexType(e,n){return fe.resolve(0)}getFieldIndexes(e,n){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,n){return fe.resolve(yi.min())}getMinOffsetFromCollectionGroup(e,n){return fe.resolve(yi.min())}updateCollectionGroup(e,n,i){return fe.resolve()}updateIndexEntries(e,n){return fe.resolve()}}class Fx{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n]||new Kt(xt.comparator),u=!o.has(i);return this.index[n]=o.add(i),u}has(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Kt(xt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},W0=41943040;class Nn{static withCacheSize(e){return new Nn(e,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nn.DEFAULT_COLLECTION_PERCENTILE=10,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nn.DEFAULT=new Nn(W0,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nn.DISABLED=new Nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new po(0)}static ir(){return new po(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_="LruGarbageCollector",Hx=1048576;function q_([a,e],[n,i]){const o=Ge(a,n);return o===0?Ge(e,i):o}class $x{constructor(e){this.cr=e,this.buffer=new Kt(q_),this.lr=0}hr(){return++this.lr}Pr(e){const n=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();q_(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Gx{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){be(B_,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){wo(n)?be(B_,"Ignoring IndexedDB error during garbage collection: ",n):await Eo(n)}await this.Ir(3e5)})}}class Qx{constructor(e,n){this.Er=e,this.params=n}calculateTargetCount(e,n){return this.Er.dr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return fe.resolve(of.le);const i=new $x(n);return this.Er.forEachTarget(e,o=>i.Pr(o.sequenceNumber)).next(()=>this.Er.Ar(e,o=>i.Pr(o))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.Er.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Er.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(be("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(z_)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(be("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),z_):this.Rr(e,n))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,n){let i,o,u,f,c,p,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),o=this.params.maximumSequenceNumbersToCollect):o=d,f=Date.now(),this.nthSequenceNumber(e,o))).next(d=>(i=d,c=Date.now(),this.removeTargets(e,i,n))).next(d=>(u=d,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(d=>(y=Date.now(),no()<=it.DEBUG&&be("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(c-f)+`ms
	Removed ${u} targets in `+(p-c)+`ms
	Removed ${d} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:d})))}}function Yx(a,e){return new Qx(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(){this.changes=new fs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,_n.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?fe.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e,n,i,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(i!==null&&Pl(i.mutation,o,Qn.empty(),Yt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,Je()).next(()=>i))}getLocalViewOfDocuments(e,n,i=Je()){const o=is();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,i).next(u=>{let f=Ml();return u.forEach((c,p)=>{f=f.insert(c,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const i=is();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,Je()))}populateOverlays(e,n,i){const o=[];return i.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,c)=>{n.set(f,c)})})}computeViews(e,n,i,o){let u=xa();const f=Vl(),c=function(){return Vl()}();return n.forEach((p,y)=>{const E=i.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Si)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Pl(E.mutation,y,E.mutation.getFieldMask(),Yt.now())):f.set(y.key,Qn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((y,E)=>f.set(y,E)),n.forEach((y,E)=>{var d;return c.set(y,new Xx(E,(d=f.get(y))!==null&&d!==void 0?d:null))}),c))}recalculateAndSaveOverlays(e,n){const i=Vl();let o=new Ot((f,c)=>f-c),u=Je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const c of f)c.keys().forEach(p=>{const y=n.get(p);if(y===null)return;let E=i.get(p)||Qn.empty();E=c.applyToLocalView(y,E),i.set(p,E);const d=(o.get(c.batchId)||Je()).add(p);o=o.insert(c.batchId,d)})}).next(()=>{const f=[],c=o.getReverseIterator();for(;c.hasNext();){const p=c.getNext(),y=p.key,E=p.value,d=I0();E.forEach(g=>{if(!u.has(g)){const b=U0(n.get(g),i.get(g));b!==null&&d.set(g,b),u=u.add(g)}}),f.push(this.documentOverlayCache.saveOverlays(e,y,d))}return fe.waitFor(f)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,o){return function(f){return Ne.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ex(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,o):this.getDocumentsMatchingCollectionQuery(e,n,i,o)}getNextDocuments(e,n,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,o-u.size):fe.resolve(is());let c=ql,p=u;return f.next(y=>fe.forEach(y,(E,d)=>(c<d.largestBatchId&&(c=d.largestBatchId),u.get(E)?fe.resolve():this.remoteDocumentCache.getEntry(e,E).next(g=>{p=p.insert(E,g)}))).next(()=>this.populateOverlays(e,y,u)).next(()=>this.computeViews(e,p,y,Je())).next(E=>({batchId:c,changes:N0(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ne(n)).next(i=>{let o=Ml();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,i,o){const u=n.collectionGroup;let f=Ml();return this.indexManager.getCollectionParents(e,u).next(c=>fe.forEach(c,p=>{const y=function(d,g){return new cf(g,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next(E=>{E.forEach((d,g)=>{f=f.insert(d,g)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,i,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,u,o))).next(f=>{u.forEach((p,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,_n.newInvalidDocument(E)))});let c=Ml();return f.forEach((p,y)=>{const E=u.get(p);E!==void 0&&Pl(E.mutation,y,Qn.empty(),Yt.now()),hf(n,y)&&(c=c.insert(p,y))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,n){return fe.resolve(this.Fr.get(n))}saveBundleMetadata(e,n){return this.Fr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Wr(o.createTime)}}(n)),fe.resolve()}getNamedQuery(e,n){return fe.resolve(this.Mr.get(n))}saveNamedQuery(e,n){return this.Mr.set(n.name,function(o){return{name:o.name,query:Bx(o.bundledQuery),readTime:Wr(o.readTime)}}(n)),fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(){this.overlays=new Ot(Ne.comparator),this.Or=new Map}getOverlay(e,n){return fe.resolve(this.overlays.get(n))}getOverlays(e,n){const i=is();return fe.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&i.set(o,u)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((o,u)=>{this.St(e,n,u)}),fe.resolve()}removeOverlaysForBatchId(e,n,i){const o=this.Or.get(i);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Or.delete(i)),fe.resolve()}getOverlaysForCollection(e,n,i){const o=is(),u=n.length+1,f=new Ne(n.child("")),c=this.overlays.getIteratorFrom(f);for(;c.hasNext();){const p=c.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>i&&o.set(p.getKey(),p)}return fe.resolve(o)}getOverlaysForCollectionGroup(e,n,i,o){let u=new Ot((y,E)=>y-E);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>i){let E=u.get(y.largestBatchId);E===null&&(E=is(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const c=is(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,E)=>c.set(y,E)),!(c.size()>=o)););return fe.resolve(c)}St(e,n,i){const o=this.overlays.get(i.key);if(o!==null){const f=this.Or.get(o.largestBatchId).delete(i.key);this.Or.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(i.key,new vx(n,i));let u=this.Or.get(n);u===void 0&&(u=Je(),this.Or.set(n,u)),this.Or.set(n,u.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(){this.sessionToken=fn.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,fe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(){this.Nr=new Kt(tn.Br),this.Lr=new Kt(tn.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,n){const i=new tn(e,n);this.Nr=this.Nr.add(i),this.Lr=this.Lr.add(i)}qr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Qr(new tn(e,n))}$r(e,n){e.forEach(i=>this.removeReference(i,n))}Ur(e){const n=new Ne(new xt([])),i=new tn(n,e),o=new tn(n,e+1),u=[];return this.Lr.forEachInRange([i,o],f=>{this.Qr(f),u.push(f.key)}),u}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const n=new Ne(new xt([])),i=new tn(n,e),o=new tn(n,e+1);let u=Je();return this.Lr.forEachInRange([i,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new tn(e,0),i=this.Nr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class tn{constructor(e,n){this.key=e,this.Gr=n}static Br(e,n){return Ne.comparator(e.key,n.key)||Ge(e.Gr,n.Gr)}static kr(e,n){return Ge(e.Gr,n.Gr)||Ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new Kt(tn.Br)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,o){const u=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new yx(u,n,i,o);this.mutationQueue.push(f);for(const c of o)this.zr=this.zr.add(new tn(c.key,u)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return fe.resolve(f)}lookupMutationBatch(e,n){return fe.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,o=this.Hr(i),u=o<0?0:o;return fe.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?Nm:this.Jn-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new tn(n,0),o=new tn(n,Number.POSITIVE_INFINITY),u=[];return this.zr.forEachInRange([i,o],f=>{const c=this.jr(f.Gr);u.push(c)}),fe.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Kt(Ge);return n.forEach(o=>{const u=new tn(o,0),f=new tn(o,Number.POSITIVE_INFINITY);this.zr.forEachInRange([u,f],c=>{i=i.add(c.Gr)})}),fe.resolve(this.Jr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,o=i.length+1;let u=i;Ne.isDocumentKey(u)||(u=u.child(""));const f=new tn(new Ne(u),0);let c=new Kt(Ge);return this.zr.forEachWhile(p=>{const y=p.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(c=c.add(p.Gr)),!0)},f),fe.resolve(this.Jr(c))}Jr(e){const n=[];return e.forEach(i=>{const o=this.jr(i);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){ht(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.zr;return fe.forEach(n.mutations,o=>{const u=new tn(o.key,n.batchId);return i=i.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.zr=i})}Xn(e){}containsKey(e,n){const i=new tn(n,0),o=this.zr.firstAfterOrEqual(i);return fe.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}Yr(e,n){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const n=this.Hr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e){this.Zr=e,this.docs=function(){return new Ot(Ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,o=this.docs.get(i),u=o?o.size:0,f=this.Zr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return fe.resolve(i?i.document.mutableCopy():_n.newInvalidDocument(n))}getEntries(e,n){let i=xa();return n.forEach(o=>{const u=this.docs.get(o);i=i.insert(o,u?u.document.mutableCopy():_n.newInvalidDocument(o))}),fe.resolve(i)}getDocumentsMatchingQuery(e,n,i,o){let u=xa();const f=n.path,c=new Ne(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(c);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||MR(OR(E),i)<=0||(o.has(E.key)||hf(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return fe.resolve(u)}getAllFromCollectionGroup(e,n,i,o){Le(9500)}Xr(e,n){return fe.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new rC(this)}getSize(e){return fe.resolve(this.size)}}class rC extends Kx{constructor(e){super(),this.vr=e}applyChanges(e){const n=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?n.push(this.vr.addEntry(e,o)):this.vr.removeEntry(i)}),fe.waitFor(n)}getFromCache(e,n){return this.vr.getEntry(e,n)}getAllFromCache(e,n){return this.vr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e){this.persistence=e,this.ei=new fs(n=>jm(n),Vm),this.lastRemoteSnapshotVersion=Be.min(),this.highestTargetId=0,this.ti=0,this.ni=new qm,this.targetCount=0,this.ri=po.rr()}forEachTarget(e,n){return this.ei.forEach((i,o)=>n(o)),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ti&&(this.ti=n),fe.resolve()}ar(e){this.ei.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ri=new po(n),this.highestTargetId=n),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,n){return this.ar(n),this.targetCount+=1,fe.resolve()}updateTargetData(e,n){return this.ar(n),fe.resolve()}removeTargetData(e,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,n,i){let o=0;const u=[];return this.ei.forEach((f,c)=>{c.sequenceNumber<=n&&i.get(c.targetId)===null&&(this.ei.delete(f),u.push(this.removeMatchingKeysForTargetId(e,c.targetId)),o++)}),fe.waitFor(u).next(()=>o)}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,n){const i=this.ei.get(n)||null;return fe.resolve(i)}addMatchingKeys(e,n,i){return this.ni.qr(n,i),fe.resolve()}removeMatchingKeys(e,n,i){this.ni.$r(n,i);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),fe.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.ni.Ur(n),fe.resolve()}getMatchingKeysForTargetId(e,n){const i=this.ni.Wr(n);return fe.resolve(i)}containsKey(e,n){return fe.resolve(this.ni.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e,n){this.ii={},this.overlays={},this.si=new of(0),this.oi=!1,this.oi=!0,this._i=new eC,this.referenceDelegate=e(this),this.ai=new aC(this),this.indexManager=new qx,this.remoteDocumentCache=function(o){return new nC(o)}(i=>this.referenceDelegate.ui(i)),this.serializer=new zx(n),this.ci=new Zx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Jx,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ii[e.toKey()];return i||(i=new tC(n,this.referenceDelegate),this.ii[e.toKey()]=i),i}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,n,i){be("MemoryPersistence","Starting transaction:",e);const o=new iC(this.si.next());return this.referenceDelegate.li(),i(o).next(u=>this.referenceDelegate.hi(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Pi(e,n){return fe.or(Object.values(this.ii).map(i=>()=>i.containsKey(e,n)))}}class iC extends IR{constructor(e){super(),this.currentSequenceNumber=e}}class Fm{constructor(e){this.persistence=e,this.Ti=new qm,this.Ii=null}static Ei(e){return new Fm(e)}get di(){if(this.Ii)return this.Ii;throw Le(60996)}addReference(e,n,i){return this.Ti.addReference(i,n),this.di.delete(i.toString()),fe.resolve()}removeReference(e,n,i){return this.Ti.removeReference(i,n),this.di.add(i.toString()),fe.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),fe.resolve()}removeTarget(e,n){this.Ti.Ur(n.targetId).forEach(o=>this.di.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.di.add(u.toString()))}).next(()=>i.removeTargetData(e,n))}li(){this.Ii=new Set}hi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.di,i=>{const o=Ne.fromPath(i);return this.Ai(e,o).next(u=>{u||n.removeEntry(o,Be.min())})}).next(()=>(this.Ii=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ai(e,n).next(i=>{i?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(e){return 0}Ai(e,n){return fe.or([()=>fe.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Pi(e,n)])}}class Wc{constructor(e,n){this.persistence=e,this.Ri=new fs(i=>VR(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=Yx(this,n)}static Ei(e,n){return new Wc(e,n)}li(){}hi(e){return fe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(o=>i+o))}Vr(e){let n=0;return this.Ar(e,i=>{n++}).next(()=>n)}Ar(e,n){return fe.forEach(this.Ri,(i,o)=>this.gr(e,i,o).next(u=>u?fe.resolve():n(o)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.Xr(e,f=>this.gr(e,f,n).next(c=>{c||(i++,u.removeEntry(f,Be.min()))})).next(()=>u.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.Ri.set(n,e.currentSequenceNumber),fe.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.Ri.set(i,e.currentSequenceNumber),fe.resolve()}removeReference(e,n,i){return this.Ri.set(i,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,n){return this.Ri.set(n,e.currentSequenceNumber),fe.resolve()}ui(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Oc(e.data.value)),n}gr(e,n,i){return fe.or([()=>this.persistence.Pi(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.Ri.get(n);return fe.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e,n,i,o){this.targetId=e,this.fromCache=n,this.ls=i,this.hs=o}static Ps(e,n){let i=Je(),o=Je();for(const u of n.docChanges)switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Hm(e,n.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return nS()?8:kR(eS())>0?6:4}()}initialize(e,n){this.As=e,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(e,n,i,o){const u={result:null};return this.Rs(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.Vs(e,n,o,i).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new sC;return this.fs(e,n,f).next(c=>{if(u.result=c,this.Is)return this.gs(e,n,f,c.size)})}).next(()=>u.result)}gs(e,n,i,o){return i.documentReadCount<this.Es?(no()<=it.DEBUG&&be("QueryEngine","SDK will not create cache indexes for query:",ro(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),fe.resolve()):(no()<=it.DEBUG&&be("QueryEngine","Query:",ro(n),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.ds*o?(no()<=it.DEBUG&&be("QueryEngine","The SDK decides to create cache indexes for query:",ro(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xr(n))):fe.resolve())}Rs(e,n){if(O_(n))return fe.resolve(null);let i=Xr(n);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=im(n,null,"F"),i=Xr(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(u=>{const f=Je(...u);return this.As.getDocuments(e,f).next(c=>this.indexManager.getMinOffset(e,i).next(p=>{const y=this.ps(n,c);return this.ys(n,y,f,p.readTime)?this.Rs(e,im(n,null,"F")):this.ws(e,y,n,p)}))})))}Vs(e,n,i,o){return O_(n)||o.isEqual(Be.min())?fe.resolve(null):this.As.getDocuments(e,i).next(u=>{const f=this.ps(n,u);return this.ys(n,f,i,o)?fe.resolve(null):(no()<=it.DEBUG&&be("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ro(n)),this.ws(e,f,n,DR(o,ql)).next(c=>c))})}ps(e,n){let i=new Kt(O0(e));return n.forEach((o,u)=>{hf(e,u)&&(i=i.add(u))}),i}ys(e,n,i,o){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}fs(e,n,i){return no()<=it.DEBUG&&be("QueryEngine","Using full collection scan to execute query:",ro(n)),this.As.getDocumentsMatchingQuery(e,n,yi.min(),i)}ws(e,n,i,o){return this.As.getDocumentsMatchingQuery(e,i,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m="LocalStore",lC=3e8;class uC{constructor(e,n,i,o){this.persistence=e,this.bs=n,this.serializer=o,this.Ss=new Ot(Ge),this.Ds=new fs(u=>jm(u),Vm),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(i)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Wx(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ss))}}function cC(a,e,n,i){return new uC(a,e,n,i)}async function J0(a,e){const n=qe(a);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let o;return n.mutationQueue.getAllMutationBatches(i).next(u=>(o=u,n.Fs(e),n.mutationQueue.getAllMutationBatches(i))).next(u=>{const f=[],c=[];let p=Je();for(const y of o){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of u){c.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(i,p).next(y=>({Ms:y,removedBatchIds:f,addedBatchIds:c}))})})}function fC(a,e){const n=qe(a);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),u=n.Cs.newChangeBuffer({trackRemovals:!0});return function(c,p,y,E){const d=y.batch,g=d.keys();let b=fe.resolve();return g.forEach(v=>{b=b.next(()=>E.getEntry(p,v)).next(_=>{const R=y.docVersions.get(v);ht(R!==null,48541),_.version.compareTo(R)<0&&(d.applyToRemoteDocument(_,y),_.isValidDocument()&&(_.setReadTime(y.commitVersion),E.addEntry(_)))})}),b.next(()=>c.mutationQueue.removeMutationBatch(p,d))}(n,i,e,u).next(()=>u.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let p=Je();for(let y=0;y<c.mutationResults.length;++y)c.mutationResults[y].transformResults.length>0&&(p=p.add(c.batch.mutations[y].key));return p}(e))).next(()=>n.localDocuments.getDocuments(i,o))})}function eE(a){const e=qe(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ai.getLastRemoteSnapshotVersion(n))}function hC(a,e){const n=qe(a),i=e.snapshotVersion;let o=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Cs.newChangeBuffer({trackRemovals:!0});o=n.Ss;const c=[];e.targetChanges.forEach((E,d)=>{const g=o.get(d);if(!g)return;c.push(n.ai.removeMatchingKeys(u,E.removedDocuments,d).next(()=>n.ai.addMatchingKeys(u,E.addedDocuments,d)));let b=g.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(d)!==null?b=b.withResumeToken(fn.EMPTY_BYTE_STRING,Be.min()).withLastLimboFreeSnapshotVersion(Be.min()):E.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(E.resumeToken,i)),o=o.insert(d,b),function(_,R,w){return _.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=lC?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(g,b,E)&&c.push(n.ai.updateTargetData(u,b))});let p=xa(),y=Je();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),c.push(dC(u,f,e.documentUpdates).next(E=>{p=E.xs,y=E.Os})),!i.isEqual(Be.min())){const E=n.ai.getLastRemoteSnapshotVersion(u).next(d=>n.ai.setTargetsMetadata(u,u.currentSequenceNumber,i));c.push(E)}return fe.waitFor(c).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,y)).next(()=>p)}).then(u=>(n.Ss=o,u))}function dC(a,e,n){let i=Je(),o=Je();return n.forEach(u=>i=i.add(u)),e.getEntries(a,i).next(u=>{let f=xa();return n.forEach((c,p)=>{const y=u.get(c);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(c)),p.isNoDocument()&&p.version.isEqual(Be.min())?(e.removeEntry(c,p.readTime),f=f.insert(c,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),f=f.insert(c,p)):be($m,"Ignoring outdated watch update for ",c,". Current version:",y.version," Watch version:",p.version)}),{xs:f,Os:o}})}function mC(a,e){const n=qe(a);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Nm),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function pC(a,e){const n=qe(a);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return n.ai.getTargetData(i,e).next(u=>u?(o=u,fe.resolve(o)):n.ai.allocateTargetId(i).next(f=>(o=new li(e,f,"TargetPurposeListen",i.currentSequenceNumber),n.ai.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=n.Ss.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(i.targetId,i),n.Ds.set(e,i.targetId)),i})}async function cm(a,e,n){const i=qe(a),o=i.Ss.get(e),u=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",u,f=>i.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!wo(f))throw f;be($m,`Failed to update sequence numbers for target ${e}: ${f}`)}i.Ss=i.Ss.remove(e),i.Ds.delete(o.target)}function F_(a,e,n){const i=qe(a);let o=Be.min(),u=Je();return i.persistence.runTransaction("Execute query","readwrite",f=>function(p,y,E){const d=qe(p),g=d.Ds.get(E);return g!==void 0?fe.resolve(d.Ss.get(g)):d.ai.getTargetData(y,E)}(i,f,Xr(e)).next(c=>{if(c)return o=c.lastLimboFreeSnapshotVersion,i.ai.getMatchingKeysForTargetId(f,c.targetId).next(p=>{u=p})}).next(()=>i.bs.getDocumentsMatchingQuery(f,e,n?o:Be.min(),n?u:Je())).next(c=>(gC(i,nx(e),c),{documents:c,Ns:u})))}function gC(a,e,n){let i=a.vs.get(e)||Be.min();n.forEach((o,u)=>{u.readTime.compareTo(i)>0&&(i=u.readTime)}),a.vs.set(e,i)}class H_{constructor(){this.activeTargetIds=lx()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yC{constructor(){this.So=new H_,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,n,i){this.Do[e]=n}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new H_,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_="ConnectivityMonitor";class G_{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){be($_,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){be($_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ac=null;function fm(){return Ac===null?Ac=function(){return 268435456+Math.round(2147483648*Math.random())}():Ac++,"0x"+Ac.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud="RestConnection",_C={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class bC{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+e.host,this.ko=`projects/${i}/databases/${o}`,this.qo=this.databaseId.database===Hc?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Qo(e,n,i,o,u){const f=fm(),c=this.$o(e,n.toUriEncodedString());be(Ud,`Sending RPC '${e}' ${f}:`,c,i);const p={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(p,o,u);const{host:y}=new URL(c),E=Dm(y);return this.Ko(e,c,p,i,E).then(d=>(be(Ud,`Received RPC '${e}' ${f}: `,d),d),d=>{throw co(Ud,`RPC '${e}' ${f} failed with error: `,d,"url: ",c,"request:",i),d})}Wo(e,n,i,o,u,f){return this.Qo(e,n,i,o,u)}Uo(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+bo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),i&&i.headers.forEach((o,u)=>e[u]=o)}$o(e,n){const i=_C[e];return`${this.Lo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yn="WebChannelConnection";class wC extends bC{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,n,i,o,u){const f=fm();return new Promise((c,p)=>{const y=new r0;y.setWithCredentials(!0),y.listenOnce(a0.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case Dc.NO_ERROR:const d=y.getResponseJson();be(yn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(d)),c(d);break;case Dc.TIMEOUT:be(yn,`RPC '${e}' ${f} timed out`),p(new Oe(de.DEADLINE_EXCEEDED,"Request time out"));break;case Dc.HTTP_ERROR:const g=y.getStatus();if(be(yn,`RPC '${e}' ${f} failed with status:`,g,"response text:",y.getResponseText()),g>0){let b=y.getResponseJson();Array.isArray(b)&&(b=b[0]);const v=b==null?void 0:b.error;if(v&&v.status&&v.message){const _=function(w){const T=w.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(T)>=0?T:de.UNKNOWN}(v.status);p(new Oe(_,v.message))}else p(new Oe(de.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new Oe(de.UNAVAILABLE,"Connection failed."));break;default:Le(9055,{s_:e,streamId:f,o_:y.getLastErrorCode(),__:y.getLastError()})}}finally{be(yn,`RPC '${e}' ${f} completed.`)}});const E=JSON.stringify(o);be(yn,`RPC '${e}' ${f} sending request:`,o),y.send(n,"POST",E,i,15)})}a_(e,n,i){const o=fm(),u=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=o0(),c=s0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Uo(p.initMessageHeaders,n,i),p.encodeInitMessageHeaders=!0;const E=u.join("");be(yn,`Creating RPC '${e}' stream ${o}: ${E}`,p);const d=f.createWebChannel(E,p);let g=!1,b=!1;const v=new EC({Go:R=>{b?be(yn,`Not sending because RPC '${e}' stream ${o} is closed:`,R):(g||(be(yn,`Opening RPC '${e}' stream ${o} transport.`),d.open(),g=!0),be(yn,`RPC '${e}' stream ${o} sending:`,R),d.send(R))},zo:()=>d.close()}),_=(R,w,T)=>{R.listen(w,C=>{try{T(C)}catch(I){setTimeout(()=>{throw I},0)}})};return _(d,Ol.EventType.OPEN,()=>{b||(be(yn,`RPC '${e}' stream ${o} transport opened.`),v.t_())}),_(d,Ol.EventType.CLOSE,()=>{b||(b=!0,be(yn,`RPC '${e}' stream ${o} transport closed`),v.r_())}),_(d,Ol.EventType.ERROR,R=>{b||(b=!0,co(yn,`RPC '${e}' stream ${o} transport errored. Name:`,R.name,"Message:",R.message),v.r_(new Oe(de.UNAVAILABLE,"The operation could not be completed")))}),_(d,Ol.EventType.MESSAGE,R=>{var w;if(!b){const T=R.data[0];ht(!!T,16349);const C=T,I=(C==null?void 0:C.error)||((w=C[0])===null||w===void 0?void 0:w.error);if(I){be(yn,`RPC '${e}' stream ${o} received error:`,I);const V=I.status;let j=function(x){const O=Bt[x];if(O!==void 0)return B0(O)}(V),M=I.message;j===void 0&&(j=de.INTERNAL,M="Unknown error status: "+V+" with message "+I.message),b=!0,v.r_(new Oe(j,M)),d.close()}else be(yn,`RPC '${e}' stream ${o} received:`,T),v.i_(T)}}),_(c,i0.STAT_EVENT,R=>{R.stat===Jd.PROXY?be(yn,`RPC '${e}' stream ${o} detected buffering proxy`):R.stat===Jd.NOPROXY&&be(yn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{v.n_()},0),v}}function zd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(a){return new Rx(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(e,n,i=1e3,o=1.5,u=6e4){this.bi=e,this.timerId=n,this.u_=i,this.c_=o,this.l_=u,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const n=Math.floor(this.h_+this.d_()),i=Math.max(0,Date.now()-this.T_),o=Math.max(0,n-i);o>0&&be("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,o,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_="PersistentStream";class nE{constructor(e,n,i,o,u,f,c,p){this.bi=e,this.R_=i,this.V_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=c,this.listener=p,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new tE(e,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,n){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():n&&n.code===de.RESOURCE_EXHAUSTED?(Ra(n.toString()),Ra("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===de.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(n)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.m_===n&&this.B_(i,o)},i=>{e(()=>{const o=new Oe(de.UNKNOWN,"Fetching auth token failed: "+i.message);return this.L_(o)})})}B_(e,n){const i=this.N_(this.m_);this.stream=this.k_(e,n),this.stream.jo(()=>{i(()=>this.listener.jo())}),this.stream.Jo(()=>{i(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(o=>{i(()=>this.L_(o))}),this.stream.onMessage(o=>{i(()=>++this.p_==1?this.q_(o):this.onNext(o))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return be(Q_,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return n=>{this.bi.enqueueAndForget(()=>this.m_===e?n():(be(Q_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class AC extends nE{constructor(e,n,i,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,o,f),this.serializer=u}k_(e,n){return this.connection.a_("Listen",e,n)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const n=Dx(this.serializer,e),i=function(u){if(!("targetChange"in u))return Be.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Be.min():f.readTime?Wr(f.readTime):Be.min()}(e);return this.listener.Q_(n,i)}U_(e){const n={};n.database=um(this.serializer),n.addTarget=function(u,f){let c;const p=f.target;if(c=am(p)?{documents:Nx(u,p)}:{query:Ix(u,p).gt},c.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){c.resumeToken=H0(u,f.resumeToken);const y=sm(u,f.expectedCount);y!==null&&(c.expectedCount=y)}else if(f.snapshotVersion.compareTo(Be.min())>0){c.readTime=Xc(u,f.snapshotVersion.toTimestamp());const y=sm(u,f.expectedCount);y!==null&&(c.expectedCount=y)}return c}(this.serializer,e);const i=jx(this.serializer,e);i&&(n.labels=i),this.F_(n)}K_(e){const n={};n.database=um(this.serializer),n.removeTarget=e,this.F_(n)}}class TC extends nE{constructor(e,n,i,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,o,f),this.serializer=u}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,n){return this.connection.a_("Write",e,n)}q_(e){return ht(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ht(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){ht(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const n=Mx(e.writeResults,e.commitTime),i=Wr(e.commitTime);return this.listener.j_(i,n)}H_(){const e={};e.database=um(this.serializer),this.F_(e)}G_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>Ox(this.serializer,i))};this.F_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{}class RC extends SC{constructor(e,n,i,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=o,this.J_=!1}Y_(){if(this.J_)throw new Oe(de.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,n,i,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Qo(e,om(n,i),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Oe(de.UNKNOWN,u.toString())})}Wo(e,n,i,o,u){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,c])=>this.connection.Wo(e,om(n,i),o,f,c,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Oe(de.UNKNOWN,f.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class xC{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Ra(n),this.ea=!1):be("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os="RemoteStore";class CC{constructor(e,n,i,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=u,this.ca.vo(f=>{i.enqueueAndForget(async()=>{hs(this)&&(be(os,"Restarting streams for network reachability change."),await async function(p){const y=qe(p);y.aa.add(4),await Jl(y),y.la.set("Unknown"),y.aa.delete(4),await yf(y)}(this))})}),this.la=new xC(i,o)}}async function yf(a){if(hs(a))for(const e of a.ua)await e(!0)}async function Jl(a){for(const e of a.ua)await e(!1)}function rE(a,e){const n=qe(a);n._a.has(e.targetId)||(n._a.set(e.targetId,e),Km(n)?Ym(n):Ao(n).b_()&&Qm(n,e))}function Gm(a,e){const n=qe(a),i=Ao(n);n._a.delete(e),i.b_()&&aE(n,e),n._a.size===0&&(i.b_()?i.v_():hs(n)&&n.la.set("Unknown"))}function Qm(a,e){if(a.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Be.min())>0){const n=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ao(a).U_(e)}function aE(a,e){a.ha.Ke(e),Ao(a).K_(e)}function Ym(a){a.ha=new wx({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>a._a.get(e)||null,Pt:()=>a.datastore.serializer.databaseId}),Ao(a).start(),a.la.ta()}function Km(a){return hs(a)&&!Ao(a).w_()&&a._a.size>0}function hs(a){return qe(a).aa.size===0}function iE(a){a.ha=void 0}async function DC(a){a.la.set("Online")}async function OC(a){a._a.forEach((e,n)=>{Qm(a,e)})}async function MC(a,e){iE(a),Km(a)?(a.la.ia(e),Ym(a)):a.la.set("Unknown")}async function NC(a,e,n){if(a.la.set("Online"),e instanceof F0&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const c of u.targetIds)o._a.has(c)&&(await o.remoteSyncer.rejectListen(c,f),o._a.delete(c),o.ha.removeTarget(c))}(a,e)}catch(i){be(os,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Zc(a,i)}else if(e instanceof Ic?a.ha.Xe(e):e instanceof q0?a.ha.ot(e):a.ha.nt(e),!n.isEqual(Be.min()))try{const i=await eE(a.localStore);n.compareTo(i)>=0&&await function(u,f){const c=u.ha.It(f);return c.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=u._a.get(y);E&&u._a.set(y,E.withResumeToken(p.resumeToken,f))}}),c.targetMismatches.forEach((p,y)=>{const E=u._a.get(p);if(!E)return;u._a.set(p,E.withResumeToken(fn.EMPTY_BYTE_STRING,E.snapshotVersion)),aE(u,p);const d=new li(E.target,p,y,E.sequenceNumber);Qm(u,d)}),u.remoteSyncer.applyRemoteEvent(c)}(a,n)}catch(i){be(os,"Failed to raise snapshot:",i),await Zc(a,i)}}async function Zc(a,e,n){if(!wo(e))throw e;a.aa.add(1),await Jl(a),a.la.set("Offline"),n||(n=()=>eE(a.localStore)),a.asyncQueue.enqueueRetryable(async()=>{be(os,"Retrying IndexedDB access"),await n(),a.aa.delete(1),await yf(a)})}function sE(a,e){return e().catch(n=>Zc(a,n,e))}async function vf(a){const e=qe(a),n=Ei(e);let i=e.oa.length>0?e.oa[e.oa.length-1].batchId:Nm;for(;IC(e);)try{const o=await mC(e.localStore,i);if(o===null){e.oa.length===0&&n.v_();break}i=o.batchId,kC(e,o)}catch(o){await Zc(e,o)}oE(e)&&lE(e)}function IC(a){return hs(a)&&a.oa.length<10}function kC(a,e){a.oa.push(e);const n=Ei(a);n.b_()&&n.W_&&n.G_(e.mutations)}function oE(a){return hs(a)&&!Ei(a).w_()&&a.oa.length>0}function lE(a){Ei(a).start()}async function jC(a){Ei(a).H_()}async function VC(a){const e=Ei(a);for(const n of a.oa)e.G_(n.mutations)}async function PC(a,e,n){const i=a.oa.shift(),o=Um.from(i,e,n);await sE(a,()=>a.remoteSyncer.applySuccessfulWrite(o)),await vf(a)}async function LC(a,e){e&&Ei(a).W_&&await async function(i,o){if(function(f){return bx(f)&&f!==de.ABORTED}(o.code)){const u=i.oa.shift();Ei(i).D_(),await sE(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,o)),await vf(i)}}(a,e),oE(a)&&lE(a)}async function Y_(a,e){const n=qe(a);n.asyncQueue.verifyOperationInProgress(),be(os,"RemoteStore received new credentials");const i=hs(n);n.aa.add(3),await Jl(n),i&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.aa.delete(3),await yf(n)}async function UC(a,e){const n=qe(a);e?(n.aa.delete(2),await yf(n)):e||(n.aa.add(2),await Jl(n),n.la.set("Unknown"))}function Ao(a){return a.Pa||(a.Pa=function(n,i,o){const u=qe(n);return u.Y_(),new AC(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(a.datastore,a.asyncQueue,{jo:DC.bind(null,a),Jo:OC.bind(null,a),Zo:MC.bind(null,a),Q_:NC.bind(null,a)}),a.ua.push(async e=>{e?(a.Pa.D_(),Km(a)?Ym(a):a.la.set("Unknown")):(await a.Pa.stop(),iE(a))})),a.Pa}function Ei(a){return a.Ta||(a.Ta=function(n,i,o){const u=qe(n);return u.Y_(),new TC(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(a.datastore,a.asyncQueue,{jo:()=>Promise.resolve(),Jo:jC.bind(null,a),Zo:LC.bind(null,a),z_:VC.bind(null,a),j_:PC.bind(null,a)}),a.ua.push(async e=>{e?(a.Ta.D_(),await vf(a)):(await a.Ta.stop(),a.oa.length>0&&(be(os,`Stopping write stream with ${a.oa.length} pending writes`),a.oa=[]))})),a.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e,n,i,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=u,this.deferred=new hi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,o,u){const f=Date.now()+i,c=new Xm(e,n,f,o,u);return c.start(i),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Oe(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wm(a,e){if(Ra("AsyncQueue",`${e}: ${a}`),wo(a))return new Oe(de.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{static emptySet(e){return new lo(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Ne.comparator(n.key,i.key):(n,i)=>Ne.comparator(n.key,i.key),this.keyedMap=Ml(),this.sortedSet=new Ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof lo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=i.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new lo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(){this.Ia=new Ot(Ne.comparator)}track(e){const n=e.doc.key,i=this.Ia.get(n);i?e.type!==0&&i.type===3?this.Ia=this.Ia.insert(n,e):e.type===3&&i.type!==1?this.Ia=this.Ia.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Ia=this.Ia.remove(n):e.type===1&&i.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):Le(63341,{Vt:e,Ea:i}):this.Ia=this.Ia.insert(n,e)}da(){const e=[];return this.Ia.inorderTraversal((n,i)=>{e.push(i)}),e}}class go{constructor(e,n,i,o,u,f,c,p,y){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=c,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,i,o,u){const f=[];return n.forEach(c=>{f.push({type:0,doc:c})}),new go(e,n,lo.emptySet(n),f,i,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ff(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class BC{constructor(){this.queries=X_(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,i){const o=qe(n),u=o.queries;o.queries=X_(),u.forEach((f,c)=>{for(const p of c.Ra)p.onError(i)})})(this,new Oe(de.ABORTED,"Firestore shutting down"))}}function X_(){return new fs(a=>D0(a),ff)}async function qC(a,e){const n=qe(a);let i=3;const o=e.query;let u=n.queries.get(o);u?!u.Va()&&e.ma()&&(i=2):(u=new zC,i=e.ma()?0:1);try{switch(i){case 0:u.Aa=await n.onListen(o,!0);break;case 1:u.Aa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const c=Wm(f,`Initialization of query '${ro(e.query)}' failed`);return void e.onError(c)}n.queries.set(o,u),u.Ra.push(e),e.ga(n.onlineState),u.Aa&&e.pa(u.Aa)&&Zm(n)}async function FC(a,e){const n=qe(a),i=e.query;let o=3;const u=n.queries.get(i);if(u){const f=u.Ra.indexOf(e);f>=0&&(u.Ra.splice(f,1),u.Ra.length===0?o=e.ma()?0:1:!u.Va()&&e.ma()&&(o=2))}switch(o){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function HC(a,e){const n=qe(a);let i=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const c of f.Ra)c.pa(o)&&(i=!0);f.Aa=o}}i&&Zm(n)}function $C(a,e,n){const i=qe(a),o=i.queries.get(e);if(o)for(const u of o.Ra)u.onError(n);i.queries.delete(e)}function Zm(a){a.fa.forEach(e=>{e.next()})}var hm,W_;(W_=hm||(hm={})).ya="default",W_.Cache="cache";class GC{constructor(e,n,i){this.query=e,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=i||{}}pa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new go(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ba?this.Da(e)&&(this.wa.next(e),n=!0):this.va(e,this.onlineState)&&(this.Ca(e),n=!0),this.Sa=e,n}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),n=!0),n}va(e,n){if(!e.fromCache||!this.ma())return!0;const i=n!=="Offline";return(!this.options.Fa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const n=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(e){e=go.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==hm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(e){this.key=e}}class cE{constructor(e){this.key=e}}class QC{constructor(e,n){this.query=e,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Je(),this.mutatedKeys=Je(),this.Ua=O0(e),this.Ka=new lo(this.Ua)}get Wa(){return this.qa}Ga(e,n){const i=n?n.za:new K_,o=n?n.Ka:this.Ka;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,c=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,d)=>{const g=o.get(E),b=hf(this.query,d)?d:null,v=!!g&&this.mutatedKeys.has(g.key),_=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let R=!1;g&&b?g.data.isEqual(b.data)?v!==_&&(i.track({type:3,doc:b}),R=!0):this.ja(g,b)||(i.track({type:2,doc:b}),R=!0,(p&&this.Ua(b,p)>0||y&&this.Ua(b,y)<0)&&(c=!0)):!g&&b?(i.track({type:0,doc:b}),R=!0):g&&!b&&(i.track({type:1,doc:g}),R=!0,(p||y)&&(c=!0)),R&&(b?(f=f.add(b),u=_?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),i.track({type:1,doc:E})}return{Ka:f,za:i,ys:c,mutatedKeys:u}}ja(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,o){const u=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const f=e.za.da();f.sort((E,d)=>function(b,v){const _=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Le(20277,{Vt:R})}};return _(b)-_(v)}(E.type,d.type)||this.Ua(E.doc,d.doc)),this.Ha(i),o=o!=null&&o;const c=n&&!o?this.Ja():[],p=this.$a.size===0&&this.current&&!o?1:0,y=p!==this.Qa;return this.Qa=p,f.length!==0||y?{snapshot:new go(this.query,e.Ka,u,f,e.mutatedKeys,p===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ya:c}:{Ya:c}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new K_,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=Je(),this.Ka.forEach(i=>{this.Za(i.key)&&(this.$a=this.$a.add(i.key))});const n=[];return e.forEach(i=>{this.$a.has(i)||n.push(new cE(i))}),this.$a.forEach(i=>{e.has(i)||n.push(new uE(i))}),n}Xa(e){this.qa=e.Ns,this.$a=Je();const n=this.Ga(e.documents);return this.applyChanges(n,!0)}eu(){return go.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Jm="SyncEngine";class YC{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class KC{constructor(e){this.key=e,this.tu=!1}}class XC{constructor(e,n,i,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.nu={},this.ru=new fs(c=>D0(c),ff),this.iu=new Map,this.su=new Set,this.ou=new Ot(Ne.comparator),this._u=new Map,this.au=new qm,this.uu={},this.cu=new Map,this.lu=po.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function WC(a,e,n=!0){const i=gE(a);let o;const u=i.ru.get(e);return u?(i.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.eu()):o=await fE(i,e,n,!0),o}async function ZC(a,e){const n=gE(a);await fE(n,e,!0,!1)}async function fE(a,e,n,i){const o=await pC(a.localStore,Xr(e)),u=o.targetId,f=a.sharedClientState.addLocalQueryTarget(u,n);let c;return i&&(c=await JC(a,e,u,f==="current",o.resumeToken)),a.isPrimaryClient&&n&&rE(a.remoteStore,o),c}async function JC(a,e,n,i,o){a.Pu=(d,g,b)=>async function(_,R,w,T){let C=R.view.Ga(w);C.ys&&(C=await F_(_.localStore,R.query,!1).then(({documents:M})=>R.view.Ga(M,C)));const I=T&&T.targetChanges.get(R.targetId),V=T&&T.targetMismatches.get(R.targetId)!=null,j=R.view.applyChanges(C,_.isPrimaryClient,I,V);return J_(_,R.targetId,j.Ya),j.snapshot}(a,d,g,b);const u=await F_(a.localStore,e,!0),f=new QC(e,u.Ns),c=f.Ga(u.documents),p=Zl.createSynthesizedTargetChangeForCurrentChange(n,i&&a.onlineState!=="Offline",o),y=f.applyChanges(c,a.isPrimaryClient,p);J_(a,n,y.Ya);const E=new YC(e,n,f);return a.ru.set(e,E),a.iu.has(n)?a.iu.get(n).push(e):a.iu.set(n,[e]),y.snapshot}async function e2(a,e,n){const i=qe(a),o=i.ru.get(e),u=i.iu.get(o.targetId);if(u.length>1)return i.iu.set(o.targetId,u.filter(f=>!ff(f,e))),void i.ru.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await cm(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),n&&Gm(i.remoteStore,o.targetId),dm(i,o.targetId)}).catch(Eo)):(dm(i,o.targetId),await cm(i.localStore,o.targetId,!0))}async function t2(a,e){const n=qe(a),i=n.ru.get(e),o=n.iu.get(i.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Gm(n.remoteStore,i.targetId))}async function n2(a,e,n){const i=u2(a);try{const o=await function(f,c){const p=qe(f),y=Yt.now(),E=c.reduce((b,v)=>b.add(v.key),Je());let d,g;return p.persistence.runTransaction("Locally write mutations","readwrite",b=>{let v=xa(),_=Je();return p.Cs.getEntries(b,E).next(R=>{v=R,v.forEach((w,T)=>{T.isValidDocument()||(_=_.add(w))})}).next(()=>p.localDocuments.getOverlayedDocuments(b,v)).next(R=>{d=R;const w=[];for(const T of c){const C=px(T,d.get(T.key).overlayedDocument);C!=null&&w.push(new Si(T.key,C,E0(C.value.mapValue),wr.exists(!0)))}return p.mutationQueue.addMutationBatch(b,y,w,c)}).next(R=>{g=R;const w=R.applyToLocalDocumentSet(d,_);return p.documentOverlayCache.saveOverlays(b,R.batchId,w)})}).then(()=>({batchId:g.batchId,changes:N0(d)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(f,c,p){let y=f.uu[f.currentUser.toKey()];y||(y=new Ot(Ge)),y=y.insert(c,p),f.uu[f.currentUser.toKey()]=y}(i,o.batchId,n),await eu(i,o.changes),await vf(i.remoteStore)}catch(o){const u=Wm(o,"Failed to persist write");n.reject(u)}}async function hE(a,e){const n=qe(a);try{const i=await hC(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n._u.get(u);f&&(ht(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.tu=!0:o.modifiedDocuments.size>0?ht(f.tu,14607):o.removedDocuments.size>0&&(ht(f.tu,42227),f.tu=!1))}),await eu(n,i,e)}catch(i){await Eo(i)}}function Z_(a,e,n){const i=qe(a);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const o=[];i.ru.forEach((u,f)=>{const c=f.view.ga(e);c.snapshot&&o.push(c.snapshot)}),function(f,c){const p=qe(f);p.onlineState=c;let y=!1;p.queries.forEach((E,d)=>{for(const g of d.Ra)g.ga(c)&&(y=!0)}),y&&Zm(p)}(i.eventManager,e),o.length&&i.nu.Q_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function r2(a,e,n){const i=qe(a);i.sharedClientState.updateQueryState(e,"rejected",n);const o=i._u.get(e),u=o&&o.key;if(u){let f=new Ot(Ne.comparator);f=f.insert(u,_n.newNoDocument(u,Be.min()));const c=Je().add(u),p=new pf(Be.min(),new Map,new Ot(Ge),f,c);await hE(i,p),i.ou=i.ou.remove(u),i._u.delete(e),ep(i)}else await cm(i.localStore,e,!1).then(()=>dm(i,e,n)).catch(Eo)}async function a2(a,e){const n=qe(a),i=e.batch.batchId;try{const o=await fC(n.localStore,e);mE(n,i,null),dE(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await eu(n,o)}catch(o){await Eo(o)}}async function i2(a,e,n){const i=qe(a);try{const o=await function(f,c){const p=qe(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return p.mutationQueue.lookupMutationBatch(y,c).next(d=>(ht(d!==null,37113),E=d.keys(),p.mutationQueue.removeMutationBatch(y,d))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,c)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>p.localDocuments.getDocuments(y,E))})}(i.localStore,e);mE(i,e,n),dE(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await eu(i,o)}catch(o){await Eo(o)}}function dE(a,e){(a.cu.get(e)||[]).forEach(n=>{n.resolve()}),a.cu.delete(e)}function mE(a,e,n){const i=qe(a);let o=i.uu[i.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),i.uu[i.currentUser.toKey()]=o}}function dm(a,e,n=null){a.sharedClientState.removeLocalQueryTarget(e);for(const i of a.iu.get(e))a.ru.delete(i),n&&a.nu.Tu(i,n);a.iu.delete(e),a.isPrimaryClient&&a.au.Ur(e).forEach(i=>{a.au.containsKey(i)||pE(a,i)})}function pE(a,e){a.su.delete(e.path.canonicalString());const n=a.ou.get(e);n!==null&&(Gm(a.remoteStore,n),a.ou=a.ou.remove(e),a._u.delete(n),ep(a))}function J_(a,e,n){for(const i of n)i instanceof uE?(a.au.addReference(i.key,e),s2(a,i)):i instanceof cE?(be(Jm,"Document no longer in limbo: "+i.key),a.au.removeReference(i.key,e),a.au.containsKey(i.key)||pE(a,i.key)):Le(19791,{Iu:i})}function s2(a,e){const n=e.key,i=n.path.canonicalString();a.ou.get(n)||a.su.has(i)||(be(Jm,"New document in limbo: "+n),a.su.add(i),ep(a))}function ep(a){for(;a.su.size>0&&a.ou.size<a.maxConcurrentLimboResolutions;){const e=a.su.values().next().value;a.su.delete(e);const n=new Ne(xt.fromString(e)),i=a.lu.next();a._u.set(i,new KC(n)),a.ou=a.ou.insert(n,i),rE(a.remoteStore,new li(Xr(C0(n.path)),i,"TargetPurposeLimboResolution",of.le))}}async function eu(a,e,n){const i=qe(a),o=[],u=[],f=[];i.ru.isEmpty()||(i.ru.forEach((c,p)=>{f.push(i.Pu(p,e,n).then(y=>{var E;if((y||n)&&i.isPrimaryClient){const d=y?!y.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;i.sharedClientState.updateQueryState(p.targetId,d?"current":"not-current")}if(y){o.push(y);const d=Hm.Ps(p.targetId,y);u.push(d)}}))}),await Promise.all(f),i.nu.Q_(o),await async function(p,y){const E=qe(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>fe.forEach(y,g=>fe.forEach(g.ls,b=>E.persistence.referenceDelegate.addReference(d,g.targetId,b)).next(()=>fe.forEach(g.hs,b=>E.persistence.referenceDelegate.removeReference(d,g.targetId,b)))))}catch(d){if(!wo(d))throw d;be($m,"Failed to update sequence numbers: "+d)}for(const d of y){const g=d.targetId;if(!d.fromCache){const b=E.Ss.get(g),v=b.snapshotVersion,_=b.withLastLimboFreeSnapshotVersion(v);E.Ss=E.Ss.insert(g,_)}}}(i.localStore,u))}async function o2(a,e){const n=qe(a);if(!n.currentUser.isEqual(e)){be(Jm,"User change. New user:",e.toKey());const i=await J0(n.localStore,e);n.currentUser=e,function(u,f){u.cu.forEach(c=>{c.forEach(p=>{p.reject(new Oe(de.CANCELLED,f))})}),u.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await eu(n,i.Ms)}}function l2(a,e){const n=qe(a),i=n._u.get(e);if(i&&i.tu)return Je().add(i.key);{let o=Je();const u=n.iu.get(e);if(!u)return o;for(const f of u){const c=n.ru.get(f);o=o.unionWith(c.view.Wa)}return o}}function gE(a){const e=qe(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=hE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=l2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=r2.bind(null,e),e.nu.Q_=HC.bind(null,e.eventManager),e.nu.Tu=$C.bind(null,e.eventManager),e}function u2(a){const e=qe(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=a2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=i2.bind(null,e),e}class Jc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=gf(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,n){return null}fu(e,n){return null}Vu(e){return cC(this.persistence,new oC,e.initialUser,this.serializer)}Ru(e){return new Z0(Fm.Ei,this.serializer)}Au(e){return new yC}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jc.provider={build:()=>new Jc};class c2 extends Jc{constructor(e){super(),this.cacheSizeBytes=e}mu(e,n){ht(this.persistence.referenceDelegate instanceof Wc,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new Gx(i,e.asyncQueue,n)}Ru(e){const n=this.cacheSizeBytes!==void 0?Nn.withCacheSize(this.cacheSizeBytes):Nn.DEFAULT;return new Z0(i=>Wc.Ei(i,n),this.serializer)}}class mm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Z_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=o2.bind(null,this.syncEngine),await UC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new BC}()}createDatastore(e){const n=gf(e.databaseInfo.databaseId),i=function(u){return new wC(u)}(e.databaseInfo);return function(u,f,c,p){return new RC(u,f,c,p)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,o,u,f,c){return new CC(i,o,u,f,c)}(this.localStore,this.datastore,e.asyncQueue,n=>Z_(this.syncEngine,n,0),function(){return G_.C()?new G_:new vC}())}createSyncEngine(e,n){return function(o,u,f,c,p,y,E){const d=new XC(o,u,f,c,p,y);return E&&(d.hu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=qe(o);be(os,"RemoteStore shutting down."),u.aa.add(5),await Jl(u),u.ca.shutdown(),u.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}mm.provider={build:()=>new mm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Ra("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wi="FirestoreClient";class h2{constructor(e,n,i,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=o,this.user=vn.UNAUTHENTICATED,this.clientId=f0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(i,async f=>{be(wi,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(i,f=>(be(wi,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Wm(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Bd(a,e){a.asyncQueue.verifyOperationInProgress(),be(wi,"Initializing OfflineComponentProvider");const n=a.configuration;await e.initialize(n);let i=n.initialUser;a.setCredentialChangeListener(async o=>{i.isEqual(o)||(await J0(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=e}async function eb(a,e){a.asyncQueue.verifyOperationInProgress();const n=await d2(a);be(wi,"Initializing OnlineComponentProvider"),await e.initialize(n,a.configuration),a.setCredentialChangeListener(i=>Y_(e.remoteStore,i)),a.setAppCheckTokenChangeListener((i,o)=>Y_(e.remoteStore,o)),a._onlineComponents=e}async function d2(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){be(wi,"Using user provided OfflineComponentProvider");try{await Bd(a,a._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===de.FAILED_PRECONDITION||o.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;co("Error using user provided cache. Falling back to memory cache: "+n),await Bd(a,new Jc)}}else be(wi,"Using default OfflineComponentProvider"),await Bd(a,new c2(void 0));return a._offlineComponents}async function yE(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(be(wi,"Using user provided OnlineComponentProvider"),await eb(a,a._uninitializedComponentsProvider._online)):(be(wi,"Using default OnlineComponentProvider"),await eb(a,new mm))),a._onlineComponents}function m2(a){return yE(a).then(e=>e.syncEngine)}async function p2(a){const e=await yE(a),n=e.eventManager;return n.onListen=WC.bind(null,e.syncEngine),n.onUnlisten=e2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=ZC.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=t2.bind(null,e.syncEngine),n}function g2(a,e,n={}){const i=new hi;return a.asyncQueue.enqueueAndForget(async()=>function(u,f,c,p,y){const E=new f2({next:g=>{E.yu(),f.enqueueAndForget(()=>FC(u,d)),g.fromCache&&p.source==="server"?y.reject(new Oe(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(g)},error:g=>y.reject(g)}),d=new GC(c,E,{includeMetadataChanges:!0,Fa:!0});return qC(u,d)}(await p2(a),a.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vE(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _E(a,e,n){if(!n)throw new Oe(de.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function y2(a,e,n,i){if(e===!0&&i===!0)throw new Oe(de.INVALID_ARGUMENT,`${a} and ${n} cannot be used together.`)}function nb(a){if(!Ne.isDocumentKey(a))throw new Oe(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function rb(a){if(Ne.isDocumentKey(a))throw new Oe(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function tp(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":Le(12329,{type:typeof a})}function ls(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new Oe(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=tp(a);throw new Oe(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE="firestore.googleapis.com",ab=!0;class ib{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Oe(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=bE,this.ssl=ab}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:ab;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=W0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Hx)throw new Oe(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}y2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vE((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new Oe(de.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new Oe(de.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new Oe(de.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _f{constructor(e,n,i,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ib({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Oe(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Oe(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ib(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new bR;switch(i.type){case"firstParty":return new TR(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Oe(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,Yb("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=tb.get(n);i&&(be("ComponentProvider","Removing Datastore"),tb.delete(n),i.terminate())}(this),Promise.resolve()}}function v2(a,e,n,i={}){var o;a=ls(a,_f);const u=Dm(e),f=a._getSettings(),c=Object.assign(Object.assign({},f),{emulatorOptions:a._getEmulatorOptions()}),p=`${e}:${n}`;f.host!==bE&&f.host!==p&&co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},f),{host:p,ssl:u,emulatorOptions:i});if(!zc(y,c)&&(a._setSettings(y),u&&(XT(`https://${p}`),Yb("Firestore",!0)),i.mockUserToken)){let E,d;if(typeof i.mockUserToken=="string")E=i.mockUserToken,d=vn.MOCK_USER;else{E=WT(i.mockUserToken,(o=a._app)===null||o===void 0?void 0:o.options.projectId);const g=i.mockUserToken.sub||i.mockUserToken.user_id;if(!g)throw new Oe(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new vn(g)}a._authCredentials=new ER(new u0(E,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new bf(this.firestore,e,this._query)}}class dr{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new di(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dr(this.firestore,e,this._key)}}class di extends bf{constructor(e,n,i){super(e,n,C0(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dr(this.firestore,null,new Ne(e))}withConverter(e){return new di(this.firestore,e,this._path)}}function sb(a,e,...n){if(a=gi(a),_E("collection","path",e),a instanceof _f){const i=xt.fromString(e,...n);return rb(i),new di(a,null,i)}{if(!(a instanceof dr||a instanceof di))throw new Oe(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=a._path.child(xt.fromString(e,...n));return rb(i),new di(a.firestore,null,i)}}function pm(a,e,...n){if(a=gi(a),arguments.length===1&&(e=f0.newId()),_E("doc","path",e),a instanceof _f){const i=xt.fromString(e,...n);return nb(i),new dr(a,null,new Ne(i))}{if(!(a instanceof dr||a instanceof di))throw new Oe(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=a._path.child(xt.fromString(e,...n));return nb(i),new dr(a.firestore,a instanceof di?a.converter:null,new Ne(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob="AsyncQueue";class lb{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new tE(this,"async_queue_retry"),this.ju=()=>{const i=zd();i&&be(ob,"Visibility state changed to "+i.visibilityState),this.y_.A_()},this.Hu=e;const n=zd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const n=zd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new hi;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!wo(e))throw e;be(ob,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const n=this.Hu.then(()=>(this.Wu=!0,e().catch(i=>{throw this.Ku=i,this.Wu=!1,Ra("INTERNAL UNHANDLED ERROR: ",ub(i)),i}).then(i=>(this.Wu=!1,i))));return this.Hu=n,n}enqueueAfterDelay(e,n,i){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);const o=Xm.createAndSchedule(this,e,n,i,u=>this.Xu(u));return this.Uu.push(o),o}Ju(){this.Ku&&Le(47125,{ec:ub(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const n=this.Uu.indexOf(e);this.Uu.splice(n,1)}}function ub(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}class tu extends _f{constructor(e,n,i,o){super(e,n,i,o),this.type="firestore",this._queue=new lb,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new lb(e),this._firestoreClient=void 0,await e}}}function _2(a,e){const n=typeof a=="object"?a:uR(),i=typeof a=="string"?a:Hc,o=aR(n,"firestore").getImmediate({identifier:i});if(!o._initialized){const u=YT("firestore");u&&v2(o,...u)}return o}function EE(a){if(a._terminated)throw new Oe(de.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||b2(a),a._firestoreClient}function b2(a){var e,n,i;const o=a._freezeSettings(),u=function(c,p,y,E){return new UR(c,p,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,vE(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(a._databaseId,((e=a._app)===null||e===void 0?void 0:e.options.appId)||"",a._persistenceKey,o);a._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(a._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),a._firestoreClient=new h2(a._authCredentials,a._appCheckCredentials,a._queue,u,a._componentsProvider&&function(c){const p=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(p),_online:p}}(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yo(fn.fromBase64String(e))}catch(n){throw new Oe(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new yo(fn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Oe(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Oe(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Oe(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let u=0;u<i.length;++u)if(i[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2=/^__.*__$/;class w2{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Si(e,this.data,this.fieldMask,n,this.fieldTransforms):new Wl(e,this.data,n,this.fieldTransforms)}}class wE{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Si(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function AE(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Le(40011,{oc:a})}}class ip{constructor(e,n,i,o,u,f){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=o,u===void 0&&this._c(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new ip(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ac({path:i,cc:!1});return o.lc(e),o}hc(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ac({path:i,cc:!1});return o._c(),o}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return ef(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(AE(this.oc)&&E2.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class A2{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||gf(e)}dc(e,n,i,o=!1){return new ip({oc:e,methodName:n,Ec:i,path:cn.emptyPath(),cc:!1,Ic:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function TE(a){const e=a._freezeSettings(),n=gf(a._databaseId);return new A2(a._databaseId,!!e.ignoreUndefinedProperties,n)}function T2(a,e,n,i,o,u={}){const f=a.dc(u.merge||u.mergeFields?2:0,e,n,o);sp("Data must be an object, but it was:",f,i);const c=SE(i,f);let p,y;if(u.merge)p=new Qn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const d of u.mergeFields){const g=gm(e,d,n);if(!f.contains(g))throw new Oe(de.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);xE(E,g)||E.push(g)}p=new Qn(E),y=f.fieldTransforms.filter(d=>p.covers(d.field))}else p=null,y=f.fieldTransforms;return new w2(new In(c),p,y)}class wf extends np{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wf}}function S2(a,e,n,i){const o=a.dc(1,e,n);sp("Data must be an object, but it was:",o,i);const u=[],f=In.empty();Ti(i,(p,y)=>{const E=op(e,p,n);y=gi(y);const d=o.hc(E);if(y instanceof wf)u.push(E);else{const g=Af(y,d);g!=null&&(u.push(E),f.set(E,g))}});const c=new Qn(u);return new wE(f,c,o.fieldTransforms)}function R2(a,e,n,i,o,u){const f=a.dc(1,e,n),c=[gm(e,i,n)],p=[o];if(u.length%2!=0)throw new Oe(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<u.length;g+=2)c.push(gm(e,u[g])),p.push(u[g+1]);const y=[],E=In.empty();for(let g=c.length-1;g>=0;--g)if(!xE(y,c[g])){const b=c[g];let v=p[g];v=gi(v);const _=f.hc(b);if(v instanceof wf)y.push(b);else{const R=Af(v,_);R!=null&&(y.push(b),E.set(b,R))}}const d=new Qn(y);return new wE(E,d,f.fieldTransforms)}function Af(a,e){if(RE(a=gi(a)))return sp("Unsupported field value:",e,a),SE(a,e);if(a instanceof np)return function(i,o){if(!AE(o.oc))throw o.Tc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Tc(`${i._methodName}() is not currently supported inside arrays`);const u=i._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(i,o){const u=[];let f=0;for(const c of i){let p=Af(c,o.Pc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(a,e)}return function(i,o){if((i=gi(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return ux(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const u=Yt.fromDate(i);return{timestampValue:Xc(o.serializer,u)}}if(i instanceof Yt){const u=new Yt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Xc(o.serializer,u)}}if(i instanceof rp)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof yo)return{bytesValue:H0(o.serializer,i._byteString)};if(i instanceof dr){const u=o.databaseId,f=i.firestore._databaseId;if(!f.isEqual(u))throw o.Tc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Bm(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof ap)return function(f,c){return{mapValue:{fields:{[_0]:{stringValue:b0},[$c]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw c.Tc("VectorValues must only contain numeric values.");return Pm(c.serializer,y)})}}}}}}(i,o);throw o.Tc(`Unsupported field value: ${tp(i)}`)}(a,e)}function SE(a,e){const n={};return d0(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ti(a,(i,o)=>{const u=Af(o,e.uc(i));u!=null&&(n[i]=u)}),{mapValue:{fields:n}}}function RE(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof Yt||a instanceof rp||a instanceof yo||a instanceof dr||a instanceof np||a instanceof ap)}function sp(a,e,n){if(!RE(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const i=tp(n);throw i==="an object"?e.Tc(a+" a custom object"):e.Tc(a+" "+i)}}function gm(a,e,n){if((e=gi(e))instanceof Ef)return e._internalPath;if(typeof e=="string")return op(a,e);throw ef("Field path arguments must be of type string or ",a,!1,void 0,n)}const x2=new RegExp("[~\\*/\\[\\]]");function op(a,e,n){if(e.search(x2)>=0)throw ef(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,n);try{return new Ef(...e.split("."))._internalPath}catch{throw ef(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,n)}}function ef(a,e,n,i,o){const u=i&&!i.isEmpty(),f=o!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${i}`),f&&(p+=` in document ${o}`),p+=")"),new Oe(de.INVALID_ARGUMENT,c+a+p)}function xE(a,e){return a.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(e,n,i,o,u){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new dr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new C2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(DE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class C2 extends CE{data(){return super.data()}}function DE(a,e){return typeof e=="string"?op(a,e):e instanceof Ef?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new Oe(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class O2{convertValue(e,n="none"){switch(bi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(_i(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Le(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Ti(e,(o,u)=>{i[o]=this.convertValue(u,n)}),i}convertVectorValue(e){var n,i,o;const u=(o=(i=(n=e.fields)===null||n===void 0?void 0:n[$c].arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(f=>jt(f.doubleValue));return new ap(u)}convertGeoPoint(e){return new rp(jt(e.latitude),jt(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=uf(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Fl(e));default:return null}}convertTimestamp(e){const n=vi(e);return new Yt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=xt.fromString(e);ht(X0(i),9688,{name:e});const o=new Hl(i.get(1),i.get(3)),u=new Ne(i.popFirst(5));return o.isEqual(n)||Ra(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(a,e,n){let i;return i=a?a.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class N2 extends CE{constructor(e,n,i,o,u,f){super(e,n,i,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new kc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(DE("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class kc extends N2{data(e={}){return super.data(e)}}class I2{constructor(e,n,i,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Tc(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new kc(this._firestore,this._userDataWriter,i.key,i,new Tc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Oe(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(c=>{const p=new kc(o._firestore,o._userDataWriter,c.doc.key,c.doc,new Tc(o._snapshot.mutatedKeys.has(c.doc.key),o._snapshot.fromCache),o.query.converter);return c.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(c=>u||c.type!==3).map(c=>{const p=new kc(o._firestore,o._userDataWriter,c.doc.key,c.doc,new Tc(o._snapshot.mutatedKeys.has(c.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return c.type!==0&&(y=f.indexOf(c.doc.key),f=f.delete(c.doc.key)),c.type!==1&&(f=f.add(c.doc),E=f.indexOf(c.doc.key)),{type:k2(c.type),doc:p,oldIndex:y,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function k2(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Le(61501,{type:a})}}class j2 extends O2{constructor(e){super(),this.firestore=e}convertBytes(e){return new yo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new dr(this.firestore,null,n)}}function V2(a){a=ls(a,bf);const e=ls(a.firestore,tu),n=EE(e),i=new j2(e);return D2(a._query),g2(n,a._query).then(o=>new I2(e,i,a,o))}function P2(a,e,n,...i){a=ls(a,dr);const o=ls(a.firestore,tu),u=TE(o);let f;return f=typeof(e=gi(e))=="string"||e instanceof Ef?R2(u,"updateDoc",a._key,e,n,i):S2(u,"updateDoc",a._key,e),lp(o,[f.toMutation(a._key,wr.exists(!0))])}function L2(a){return lp(ls(a.firestore,tu),[new Lm(a._key,wr.none())])}function U2(a,e){const n=ls(a.firestore,tu),i=pm(a),o=M2(a.converter,e);return lp(n,[T2(TE(a.firestore),"addDoc",i._key,o,a.converter!==null,{}).toMutation(i._key,wr.exists(!1))]).then(()=>i)}function lp(a,e){return function(i,o){const u=new hi;return i.asyncQueue.enqueueAndForget(async()=>n2(await m2(i),o,u)),u.promise}(EE(a),e)}(function(e,n=!0){(function(o){bo=o})(lR),qc(new zl("firestore",(i,{instanceIdentifier:o,options:u})=>{const f=i.getProvider("app").getImmediate(),c=new tu(new wR(i.getProvider("auth-internal")),new SR(f,i.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new Oe(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hl(y.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),c._setSettings(u),c},"PUBLIC").setMultipleInstances(!0)),oo(d_,m_,e),oo(d_,m_,"esm2017")})();var z2="firebase",B2="11.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */oo(z2,B2,"app");const q2={apiKey:"AIzaSyCSZ8ulVZ5Zq98PQDikIBfPcgu94yvxzJQ",authDomain:"toystore-12b24.firebaseapp.com",projectId:"toystore-12b24",storageBucket:"toystore-12b24.firebasestorage.app",messagingSenderId:"549700752946",appId:"1:549700752946:web:249c38507fbae414398e2b"},F2=Jb(q2),Sc=_2(F2),Tf=xm(a=>({products:[],loading:!1,error:null,fetchProducts:async()=>{a({loading:!0,error:null});try{const n=(await V2(sb(Sc,"products"))).docs.map(i=>({id:i.id,...i.data()}));a({products:n,loading:!1})}catch(e){console.error("Error fetching products:",e),a({error:e.message,loading:!1})}},addProduct:async e=>{a({loading:!0,error:null});try{const i={id:(await U2(sb(Sc,"products"),e)).id,...e};return a(o=>({products:[...o.products,i],loading:!1})),i}catch(n){throw console.error("Error adding product:",n),a({error:n.message,loading:!1}),n}},updateProduct:async e=>{const{id:n,...i}=e;a({loading:!0,error:null});try{const o=pm(Sc,"products",n);return await P2(o,i),a(u=>({products:u.products.map(f=>f.id===n?e:f),loading:!1})),e}catch(o){throw console.error("Error updating product:",o),a({error:o.message,loading:!1}),o}},deleteProduct:async e=>{a({loading:!0,error:null});try{return await L2(pm(Sc,"products",e)),a(n=>({products:n.products.filter(i=>i.id!==e),loading:!1})),e}catch(n){throw console.error("Error deleting product:",n),a({error:n.message,loading:!1}),n}}})),mi=xm(a=>({cart:[],addToCart:e=>a(n=>n.cart.find(o=>o.id===e.id)?{cart:n.cart.map(o=>o.id===e.id?{...o,quantity:o.quantity+1}:o)}:{cart:[...n.cart,{...e,quantity:1}]}),updateQuantity:(e,n)=>a(i=>({cart:i.cart.map(o=>o.id===e?{...o,quantity:o.quantity+n}:o).filter(o=>o.quantity>0)})),removeFromCart:e=>a(n=>({cart:n.cart.filter(i=>i.id!==e)})),clearCart:()=>a({cart:[]})})),OE=({product:a,onAddToCart:e})=>{const n=(c,p)=>{if(!c)return"";if(c[p]!==void 0)return c[p];const y=p.charAt(0).toUpperCase()+p.slice(1);if(c[y]!==void 0)return c[y];const E=p.charAt(0).toLowerCase()+p.slice(1);return c[E]!==void 0?c[E]:""},i=n(a,"name"),o=n(a,"price"),u=n(a,"imageURL"),f=n(a,"stock");return B.jsxs("div",{className:"product-card",children:[B.jsx("div",{className:"product-image",children:u&&B.jsx("img",{src:u,alt:i})}),B.jsxs("div",{className:"product-info",children:[B.jsxs("div",{className:"product-info-content",children:[B.jsx("h3",{children:i}),B.jsxs("p",{className:"product-price",children:[o," kr"]}),B.jsx("p",{className:"product-stock",children:f>0?`${f} i lager`:"Slut i lager"})]}),B.jsx("div",{className:"product-button-container",children:B.jsx("button",{onClick:()=>e(a),disabled:f<=0,className:f<=0?"out-of-stock":"",children:f>0?"Lgg i varukorgen":"Slut i lager"})})]})]})};function H2(){const{products:a,fetchProducts:e}=Tf(),{addToCart:n}=mi();W.useEffect(()=>{e()},[e]);const i=a.slice(0,4);return B.jsxs(W.Fragment,{children:[B.jsxs("div",{className:"page-column",children:[B.jsx("img",{src:CT,alt:"Title highlight",className:"bigPicture"}),B.jsxs("div",{className:"smallPics",children:[B.jsx("img",{src:DT,alt:"Lego highlight"}),B.jsx("img",{src:OT,alt:"Game highlight"})]})]}),B.jsxs("div",{className:"text-content",children:[B.jsx("h1",{children:"Skandinaviens strska leksasbutik"}),B.jsx("h2",{children:"Anvnds av ver 270 000 svenska kunder"}),B.jsx("p",{children:"Hitta din leksak"})]}),B.jsx("div",{children:B.jsxs("div",{className:"icon-container",children:[B.jsx("div",{children:B.jsxs(bn,{to:"/tvspel",children:[B.jsx("img",{src:MT,alt:"Game Icon",className:"icon"}),B.jsx("p",{children:"TV-Spel"})]})}),B.jsx("div",{children:B.jsxs(bn,{to:"/dockor",children:[B.jsx("img",{src:NT,alt:"Doll Icon",className:"icon"}),B.jsx("p",{children:"Dockor"})]})}),B.jsx("div",{children:B.jsxs(bn,{to:"/leksaker",children:[B.jsx("img",{src:IT,alt:"Toy Icon",className:"icon"}),B.jsx("p",{children:"Leksaker"})]})}),B.jsx("div",{children:B.jsxs(bn,{to:"/pyssel",children:[B.jsx("img",{src:kT,alt:"Game Icon",className:"icon"}),B.jsx("p",{children:"Pyssel"})]})})]})}),B.jsx("div",{className:"smalltext-content",children:B.jsx("h2",{children:"Brett utbud - lga priser"})}),B.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"30px",flexWrap:"wrap",gap:"45px"},children:i.map(o=>B.jsx(OE,{product:o,onAddToCart:n},o.id))}),B.jsx(bn,{to:"/collection",className:"all-products",children:B.jsx("p",{children:"Se alla produkter"})})]})}const $2=()=>{const[a,e]=bT(),n=a.get("category"),i=a.get("sort")||"default",{products:o,fetchProducts:u,loading:f}=Tf(),c=mi(T=>T.addToCart),[p,y]=W.useState({category:n||"all",priceRange:[0,1e4]}),[E,d]=W.useState(i);W.useEffect(()=>{n&&y(T=>({...T,category:n})),d(i)},[n,i]),W.useEffect(()=>{u()},[u]);const g=["all","Leksaker","Dockor","Pyssel","TV-Spel"],b=[{value:"default",label:"Standard"},{value:"name-asc",label:"Namn (A-)"},{value:"name-desc",label:"Namn (-A)"},{value:"price-asc",label:"Pris (Lgst frst)"},{value:"price-desc",label:"Pris (Hgst frst)"}],v=(T,C)=>{if(!T)return"";if(T[C]!==void 0)return T[C];const I=C.charAt(0).toUpperCase()+C.slice(1);if(T[I]!==void 0)return T[I];const V=C.charAt(0).toLowerCase()+C.slice(1);return T[V]!==void 0?T[V]:""},R=[...o.filter(T=>{const C=v(T,"category"),I=parseFloat(v(T,"price"));return p.category==="all"?I>=p.priceRange[0]&&I<=p.priceRange[1]:C.toLowerCase()===p.category.toLowerCase()&&I>=p.priceRange[0]&&I<=p.priceRange[1]})].sort((T,C)=>{const I=v(T,"name").toLowerCase(),V=v(C,"name").toLowerCase(),j=parseFloat(v(T,"price")),M=parseFloat(v(C,"price"));switch(E){case"name-asc":return I.localeCompare(V);case"name-desc":return V.localeCompare(I);case"price-asc":return j-M;case"price-desc":return M-j;default:return 0}}),w=T=>{const C=T.target.value;d(C);const I=new URLSearchParams(a);I.set("sort",C),e(I)};return B.jsx(W.Fragment,{children:B.jsxs("div",{className:"collection-container",children:[B.jsx("h1",{className:"collection-title",children:"Produkter"}),B.jsxs("div",{className:"collection-layout",children:[B.jsxs("div",{className:"filter-sidebar",children:[B.jsx("h3",{children:"Filter"}),B.jsxs("div",{className:"filter-section",children:[B.jsx("h4",{children:"Kategori"}),B.jsx("div",{className:"filter-options",children:g.map(T=>B.jsxs("label",{className:"filter-option",children:[B.jsx("input",{type:"radio",name:"category",checked:p.category===T,onChange:()=>y({...p,category:T})}),B.jsx("span",{children:T==="all"?"Alla kategorier":T})]},T))})]}),B.jsxs("div",{className:"filter-section",children:[B.jsx("h4",{children:"Pris"}),B.jsxs("div",{className:"price-range",children:[B.jsx("input",{type:"range",min:"0",max:"10000",step:"100",value:p.priceRange[1],onChange:T=>y({...p,priceRange:[p.priceRange[0],parseInt(T.target.value)]})}),B.jsxs("div",{className:"price-labels",children:[B.jsxs("span",{children:[p.priceRange[0]," kr"]}),B.jsxs("span",{children:[p.priceRange[1]," kr"]})]})]})]}),B.jsx("button",{className:"reset-filter",onClick:()=>y({category:"all",priceRange:[0,1e4]}),children:"terstll filter"})]}),B.jsxs("div",{className:"product-section",children:[B.jsxs("div",{className:"sort-container",children:[B.jsx("label",{htmlFor:"sort-select",children:"Sortera efter: "}),B.jsx("select",{id:"sort-select",value:E,onChange:w,className:"sort-select",children:b.map(T=>B.jsx("option",{value:T.value,children:T.label},T.value))})]}),B.jsx("div",{className:"product-grid",children:f?B.jsx("p",{className:"loading",children:"Laddar produkter..."}):R.length>0?R.map(T=>B.jsx(OE,{product:T,onAddToCart:()=>c(T)},T.id)):B.jsx("div",{className:"no-products",children:"Inga produkter hittades med de valda filtren."})})]})]})]})})},G2=()=>{const a=mi(c=>c.cart),e=mi(c=>c.updateQuantity),n=mi(c=>c.removeFromCart),i=(c,p)=>{e(c,p)},o=a.reduce((c,p)=>c+p.price*p.quantity,0),u=a.reduce((c,p)=>c+p.quantity,0),f=(c,p)=>{if(!c)return"";if(c[p]!==void 0)return c[p];const y=p.charAt(0).toUpperCase()+p.slice(1);if(c[y]!==void 0)return c[y];const E=p.charAt(0).toLowerCase()+p.slice(1);return c[E]!==void 0?c[E]:""};return B.jsx(W.Fragment,{children:B.jsxs("div",{className:"cart-page",children:[B.jsxs("div",{className:"cart-items",children:[B.jsxs("h1",{className:"cart-title",children:["Din varukorg ",u>0&&B.jsxs("span",{children:["(",u,")"]})]}),B.jsxs("div",{className:"cart-header-row",children:[B.jsx("span",{children:"Artikel"}),B.jsx("span",{children:"Delsumma"})]}),B.jsx("div",{className:"cart-items-container",children:a.length===0?B.jsx("div",{className:"cart-empty-message",children:"Varukorgen r tom!"}):a.map(c=>B.jsxs("div",{className:"cart-item-row",children:[B.jsx("div",{className:"item-image",children:f(c,"imageURL")&&B.jsx("img",{src:f(c,"imageURL"),alt:f(c,"name")})}),B.jsxs("div",{className:"item-main",children:[B.jsxs("div",{className:"item-details",children:[B.jsx("span",{className:"item-name",children:f(c,"name")}),B.jsxs("span",{className:"item-price",children:[f(c,"price")," :-"]})]}),B.jsxs("div",{className:"item-controls",children:[B.jsx("button",{onClick:()=>i(c.id,1),children:"+"}),B.jsx("span",{className:"item-qty",children:f(c,"quantity")}),B.jsx("button",{onClick:()=>i(c.id,-1),children:"-"}),B.jsx("button",{className:"remove-button",onClick:()=>n(c.id),children:""})]})]})]},c.id))})]}),B.jsxs("div",{className:"cart-summary",children:[B.jsx("h2",{children:"Summering"}),B.jsx("hr",{className:"summary-divider"}),B.jsx("div",{className:"summary-items",children:a.length===0?B.jsx("div",{className:"cart-empty-message",children:"Varukorgen r tom!"}):a.map(c=>B.jsxs("div",{className:"summary-item-row",children:[B.jsxs("span",{children:["[",c.quantity,"] - ",c.name]}),B.jsxs("span",{children:[c.price," kr"]})]},c.id))}),B.jsx("hr",{className:"summary-divider"}),B.jsxs("div",{className:"summary-item-row",children:[B.jsx("span",{children:"Delsumma:"}),B.jsxs("span",{children:[o," kr"]})]}),B.jsxs("div",{className:"summary-item-row",children:[B.jsx("span",{children:"Leverans:"}),B.jsx("span",{className:"gratis",children:"Gratis"})]}),B.jsx("hr",{className:"summary-divider"}),B.jsxs("div",{className:"summary-item-row ordersumma",children:[B.jsx("span",{children:"Ordersumma Inkl. Moms:"}),B.jsxs("strong",{children:[o," kr"]})]}),B.jsx(bn,{to:"/placeorder",children:B.jsx("button",{className:"checkout-button",children:"G till kassan"})})]})]})})},Q2=()=>{const{productId:a}=EA(),{products:e,fetchProducts:n,loading:i}=Tf(),o=mi(v=>v.addToCart),[u,f]=W.useState(null),c=(v,_)=>{if(!v)return"";if(v[_]!==void 0)return v[_];const R=_.charAt(0).toUpperCase()+_.slice(1);if(v[R]!==void 0)return v[R];const w=_.charAt(0).toLowerCase()+_.slice(1);return v[w]!==void 0?v[w]:""};if(W.useEffect(()=>{n()},[n]),W.useEffect(()=>{if(e.length>0){const v=e.find(_=>_.id===a);f(v)}},[e,a]),i)return B.jsx("div",{className:"loading",children:"Laddar produkt..."});if(!u)return B.jsx("div",{className:"not-found",children:"Produkten kunde inte hittas"});const p=c(u,"name"),y=c(u,"price"),E=c(u,"description")||"Ingen beskrivning tillgnglig.",d=c(u,"imageURL"),g=c(u,"stock")||0,b=c(u,"category");return B.jsxs("div",{className:"product-page",children:[B.jsxs("div",{className:"product-breadcrumbs",children:[B.jsx(bn,{to:"/",children:"Hem"})," >",B.jsx(bn,{to:"/collection",children:"Produkter"})," >",B.jsx("span",{children:p})]}),B.jsxs("div",{className:"product-container",children:[B.jsx("div",{className:"product-image-container",children:d&&B.jsx("img",{src:d,alt:p,className:"product-detail-image"})}),B.jsxs("div",{className:"product-details",children:[B.jsx("h1",{className:"product-title",children:p}),b&&B.jsx("p",{className:"product-category",children:b}),B.jsxs("p",{className:"product-price",children:[y," kr"]}),B.jsx("p",{className:"product-stock",children:g>0?`${g} i lager`:"Slut i lager"}),B.jsx("button",{className:"add-to-cart-btn",disabled:g<=0,onClick:()=>o(u),children:g>0?"Lgg i varukorgen":"Slut i lager"}),B.jsxs("div",{className:"product-description",children:[B.jsx("h2",{children:"Produktbeskrivning"}),B.jsx("p",{children:E})]})]})]})]})},ME=6048e5,Y2=864e5,cb=Symbol.for("constructDateFrom");function Ai(a,e){return typeof a=="function"?a(e):a&&typeof a=="object"&&cb in a?a[cb](e):a instanceof Date?new a.constructor(e):new Date(e)}function Sr(a,e){return Ai(e||a,a)}let K2={};function Sf(){return K2}function Yl(a,e){var c,p,y,E;const n=Sf(),i=(e==null?void 0:e.weekStartsOn)??((p=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:p.weekStartsOn)??n.weekStartsOn??((E=(y=n.locale)==null?void 0:y.options)==null?void 0:E.weekStartsOn)??0,o=Sr(a,e==null?void 0:e.in),u=o.getDay(),f=(u<i?7:0)+u-i;return o.setDate(o.getDate()-f),o.setHours(0,0,0,0),o}function tf(a,e){return Yl(a,{...e,weekStartsOn:1})}function NE(a,e){const n=Sr(a,e==null?void 0:e.in),i=n.getFullYear(),o=Ai(n,0);o.setFullYear(i+1,0,4),o.setHours(0,0,0,0);const u=tf(o),f=Ai(n,0);f.setFullYear(i,0,4),f.setHours(0,0,0,0);const c=tf(f);return n.getTime()>=u.getTime()?i+1:n.getTime()>=c.getTime()?i:i-1}function fb(a){const e=Sr(a),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+a-+n}function X2(a,...e){const n=Ai.bind(null,e.find(i=>typeof i=="object"));return e.map(n)}function hb(a,e){const n=Sr(a,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function W2(a,e,n){const[i,o]=X2(n==null?void 0:n.in,a,e),u=hb(i),f=hb(o),c=+u-fb(u),p=+f-fb(f);return Math.round((c-p)/Y2)}function Z2(a,e){const n=NE(a,e),i=Ai(a,0);return i.setFullYear(n,0,4),i.setHours(0,0,0,0),tf(i)}function J2(a){return a instanceof Date||typeof a=="object"&&Object.prototype.toString.call(a)==="[object Date]"}function eD(a){return!(!J2(a)&&typeof a!="number"||isNaN(+Sr(a)))}function tD(a,e){const n=Sr(a,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const nD={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},rD=(a,e,n)=>{let i;const o=nD[a];return typeof o=="string"?i=o:e===1?i=o.one:i=o.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function uo(a){return(e={})=>{const n=e.width?String(e.width):a.defaultWidth;return a.formats[n]||a.formats[a.defaultWidth]}}const aD={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},iD={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},sD={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},oD={date:uo({formats:aD,defaultWidth:"full"}),time:uo({formats:iD,defaultWidth:"full"}),dateTime:uo({formats:sD,defaultWidth:"full"})},lD={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},uD=(a,e,n,i)=>lD[a];function Qr(a){return(e,n)=>{const i=n!=null&&n.context?String(n.context):"standalone";let o;if(i==="formatting"&&a.formattingValues){const f=a.defaultFormattingWidth||a.defaultWidth,c=n!=null&&n.width?String(n.width):f;o=a.formattingValues[c]||a.formattingValues[f]}else{const f=a.defaultWidth,c=n!=null&&n.width?String(n.width):a.defaultWidth;o=a.values[c]||a.values[f]}const u=a.argumentCallback?a.argumentCallback(e):e;return o[u]}}const cD={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},fD={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},hD={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dD={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},mD={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},pD={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},gD=(a,e)=>{const n=Number(a),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},yD={ordinalNumber:gD,era:Qr({values:cD,defaultWidth:"wide"}),quarter:Qr({values:fD,defaultWidth:"wide",argumentCallback:a=>a-1}),month:Qr({values:hD,defaultWidth:"wide"}),day:Qr({values:dD,defaultWidth:"wide"}),dayPeriod:Qr({values:mD,defaultWidth:"wide",formattingValues:pD,defaultFormattingWidth:"wide"})};function Yr(a){return(e,n={})=>{const i=n.width,o=i&&a.matchPatterns[i]||a.matchPatterns[a.defaultMatchWidth],u=e.match(o);if(!u)return null;const f=u[0],c=i&&a.parsePatterns[i]||a.parsePatterns[a.defaultParseWidth],p=Array.isArray(c)?_D(c,d=>d.test(f)):vD(c,d=>d.test(f));let y;y=a.valueCallback?a.valueCallback(p):p,y=n.valueCallback?n.valueCallback(y):y;const E=e.slice(f.length);return{value:y,rest:E}}}function vD(a,e){for(const n in a)if(Object.prototype.hasOwnProperty.call(a,n)&&e(a[n]))return n}function _D(a,e){for(let n=0;n<a.length;n++)if(e(a[n]))return n}function IE(a){return(e,n={})=>{const i=e.match(a.matchPattern);if(!i)return null;const o=i[0],u=e.match(a.parsePattern);if(!u)return null;let f=a.valueCallback?a.valueCallback(u[0]):u[0];f=n.valueCallback?n.valueCallback(f):f;const c=e.slice(o.length);return{value:f,rest:c}}}const bD=/^(\d+)(th|st|nd|rd)?/i,ED=/\d+/i,wD={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},AD={any:[/^b/i,/^(a|c)/i]},TD={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},SD={any:[/1/i,/2/i,/3/i,/4/i]},RD={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},xD={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},CD={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},DD={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},OD={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},MD={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ND={ordinalNumber:IE({matchPattern:bD,parsePattern:ED,valueCallback:a=>parseInt(a,10)}),era:Yr({matchPatterns:wD,defaultMatchWidth:"wide",parsePatterns:AD,defaultParseWidth:"any"}),quarter:Yr({matchPatterns:TD,defaultMatchWidth:"wide",parsePatterns:SD,defaultParseWidth:"any",valueCallback:a=>a+1}),month:Yr({matchPatterns:RD,defaultMatchWidth:"wide",parsePatterns:xD,defaultParseWidth:"any"}),day:Yr({matchPatterns:CD,defaultMatchWidth:"wide",parsePatterns:DD,defaultParseWidth:"any"}),dayPeriod:Yr({matchPatterns:OD,defaultMatchWidth:"any",parsePatterns:MD,defaultParseWidth:"any"})},ID={code:"en-US",formatDistance:rD,formatLong:oD,formatRelative:uD,localize:yD,match:ND,options:{weekStartsOn:0,firstWeekContainsDate:1}};function kD(a,e){const n=Sr(a,e==null?void 0:e.in);return W2(n,tD(n))+1}function jD(a,e){const n=Sr(a,e==null?void 0:e.in),i=+tf(n)-+Z2(n);return Math.round(i/ME)+1}function kE(a,e){var E,d,g,b;const n=Sr(a,e==null?void 0:e.in),i=n.getFullYear(),o=Sf(),u=(e==null?void 0:e.firstWeekContainsDate)??((d=(E=e==null?void 0:e.locale)==null?void 0:E.options)==null?void 0:d.firstWeekContainsDate)??o.firstWeekContainsDate??((b=(g=o.locale)==null?void 0:g.options)==null?void 0:b.firstWeekContainsDate)??1,f=Ai((e==null?void 0:e.in)||a,0);f.setFullYear(i+1,0,u),f.setHours(0,0,0,0);const c=Yl(f,e),p=Ai((e==null?void 0:e.in)||a,0);p.setFullYear(i,0,u),p.setHours(0,0,0,0);const y=Yl(p,e);return+n>=+c?i+1:+n>=+y?i:i-1}function VD(a,e){var c,p,y,E;const n=Sf(),i=(e==null?void 0:e.firstWeekContainsDate)??((p=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:p.firstWeekContainsDate)??n.firstWeekContainsDate??((E=(y=n.locale)==null?void 0:y.options)==null?void 0:E.firstWeekContainsDate)??1,o=kE(a,e),u=Ai((e==null?void 0:e.in)||a,0);return u.setFullYear(o,0,i),u.setHours(0,0,0,0),Yl(u,e)}function PD(a,e){const n=Sr(a,e==null?void 0:e.in),i=+Yl(n,e)-+VD(n,e);return Math.round(i/ME)+1}function pt(a,e){const n=a<0?"-":"",i=Math.abs(a).toString().padStart(e,"0");return n+i}const ii={y(a,e){const n=a.getFullYear(),i=n>0?n:1-n;return pt(e==="yy"?i%100:i,e.length)},M(a,e){const n=a.getMonth();return e==="M"?String(n+1):pt(n+1,2)},d(a,e){return pt(a.getDate(),e.length)},a(a,e){const n=a.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(a,e){return pt(a.getHours()%12||12,e.length)},H(a,e){return pt(a.getHours(),e.length)},m(a,e){return pt(a.getMinutes(),e.length)},s(a,e){return pt(a.getSeconds(),e.length)},S(a,e){const n=e.length,i=a.getMilliseconds(),o=Math.trunc(i*Math.pow(10,n-3));return pt(o,e.length)}},Js={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},db={G:function(a,e,n){const i=a.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(a,e,n){if(e==="yo"){const i=a.getFullYear(),o=i>0?i:1-i;return n.ordinalNumber(o,{unit:"year"})}return ii.y(a,e)},Y:function(a,e,n,i){const o=kE(a,i),u=o>0?o:1-o;if(e==="YY"){const f=u%100;return pt(f,2)}return e==="Yo"?n.ordinalNumber(u,{unit:"year"}):pt(u,e.length)},R:function(a,e){const n=NE(a);return pt(n,e.length)},u:function(a,e){const n=a.getFullYear();return pt(n,e.length)},Q:function(a,e,n){const i=Math.ceil((a.getMonth()+1)/3);switch(e){case"Q":return String(i);case"QQ":return pt(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(a,e,n){const i=Math.ceil((a.getMonth()+1)/3);switch(e){case"q":return String(i);case"qq":return pt(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(a,e,n){const i=a.getMonth();switch(e){case"M":case"MM":return ii.M(a,e);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(a,e,n){const i=a.getMonth();switch(e){case"L":return String(i+1);case"LL":return pt(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(a,e,n,i){const o=PD(a,i);return e==="wo"?n.ordinalNumber(o,{unit:"week"}):pt(o,e.length)},I:function(a,e,n){const i=jD(a);return e==="Io"?n.ordinalNumber(i,{unit:"week"}):pt(i,e.length)},d:function(a,e,n){return e==="do"?n.ordinalNumber(a.getDate(),{unit:"date"}):ii.d(a,e)},D:function(a,e,n){const i=kD(a);return e==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):pt(i,e.length)},E:function(a,e,n){const i=a.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(a,e,n,i){const o=a.getDay(),u=(o-i.weekStartsOn+8)%7||7;switch(e){case"e":return String(u);case"ee":return pt(u,2);case"eo":return n.ordinalNumber(u,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});case"eeee":default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(a,e,n,i){const o=a.getDay(),u=(o-i.weekStartsOn+8)%7||7;switch(e){case"c":return String(u);case"cc":return pt(u,e.length);case"co":return n.ordinalNumber(u,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});case"cccc":default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(a,e,n){const i=a.getDay(),o=i===0?7:i;switch(e){case"i":return String(o);case"ii":return pt(o,e.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(a,e,n){const o=a.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(a,e,n){const i=a.getHours();let o;switch(i===12?o=Js.noon:i===0?o=Js.midnight:o=i/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(a,e,n){const i=a.getHours();let o;switch(i>=17?o=Js.evening:i>=12?o=Js.afternoon:i>=4?o=Js.morning:o=Js.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(a,e,n){if(e==="ho"){let i=a.getHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return ii.h(a,e)},H:function(a,e,n){return e==="Ho"?n.ordinalNumber(a.getHours(),{unit:"hour"}):ii.H(a,e)},K:function(a,e,n){const i=a.getHours()%12;return e==="Ko"?n.ordinalNumber(i,{unit:"hour"}):pt(i,e.length)},k:function(a,e,n){let i=a.getHours();return i===0&&(i=24),e==="ko"?n.ordinalNumber(i,{unit:"hour"}):pt(i,e.length)},m:function(a,e,n){return e==="mo"?n.ordinalNumber(a.getMinutes(),{unit:"minute"}):ii.m(a,e)},s:function(a,e,n){return e==="so"?n.ordinalNumber(a.getSeconds(),{unit:"second"}):ii.s(a,e)},S:function(a,e){return ii.S(a,e)},X:function(a,e,n){const i=a.getTimezoneOffset();if(i===0)return"Z";switch(e){case"X":return pb(i);case"XXXX":case"XX":return ns(i);case"XXXXX":case"XXX":default:return ns(i,":")}},x:function(a,e,n){const i=a.getTimezoneOffset();switch(e){case"x":return pb(i);case"xxxx":case"xx":return ns(i);case"xxxxx":case"xxx":default:return ns(i,":")}},O:function(a,e,n){const i=a.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+mb(i,":");case"OOOO":default:return"GMT"+ns(i,":")}},z:function(a,e,n){const i=a.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+mb(i,":");case"zzzz":default:return"GMT"+ns(i,":")}},t:function(a,e,n){const i=Math.trunc(+a/1e3);return pt(i,e.length)},T:function(a,e,n){return pt(+a,e.length)}};function mb(a,e=""){const n=a>0?"-":"+",i=Math.abs(a),o=Math.trunc(i/60),u=i%60;return u===0?n+String(o):n+String(o)+e+pt(u,2)}function pb(a,e){return a%60===0?(a>0?"-":"+")+pt(Math.abs(a)/60,2):ns(a,e)}function ns(a,e=""){const n=a>0?"-":"+",i=Math.abs(a),o=pt(Math.trunc(i/60),2),u=pt(i%60,2);return n+o+e+u}const gb=(a,e)=>{switch(a){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},jE=(a,e)=>{switch(a){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},LD=(a,e)=>{const n=a.match(/(P+)(p+)?/)||[],i=n[1],o=n[2];if(!o)return gb(a,e);let u;switch(i){case"P":u=e.dateTime({width:"short"});break;case"PP":u=e.dateTime({width:"medium"});break;case"PPP":u=e.dateTime({width:"long"});break;case"PPPP":default:u=e.dateTime({width:"full"});break}return u.replace("{{date}}",gb(i,e)).replace("{{time}}",jE(o,e))},UD={p:jE,P:LD},zD=/^D+$/,BD=/^Y+$/,qD=["D","DD","YY","YYYY"];function FD(a){return zD.test(a)}function HD(a){return BD.test(a)}function $D(a,e,n){const i=GD(a,e,n);if(console.warn(i),qD.includes(a))throw new RangeError(i)}function GD(a,e,n){const i=a[0]==="Y"?"years":"days of the month";return`Use \`${a.toLowerCase()}\` instead of \`${a}\` (in \`${e}\`) for formatting ${i} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const QD=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,YD=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,KD=/^'([^]*?)'?$/,XD=/''/g,WD=/[a-zA-Z]/;function yb(a,e,n){var E,d,g,b,v,_,R,w;const i=Sf(),o=(n==null?void 0:n.locale)??i.locale??ID,u=(n==null?void 0:n.firstWeekContainsDate)??((d=(E=n==null?void 0:n.locale)==null?void 0:E.options)==null?void 0:d.firstWeekContainsDate)??i.firstWeekContainsDate??((b=(g=i.locale)==null?void 0:g.options)==null?void 0:b.firstWeekContainsDate)??1,f=(n==null?void 0:n.weekStartsOn)??((_=(v=n==null?void 0:n.locale)==null?void 0:v.options)==null?void 0:_.weekStartsOn)??i.weekStartsOn??((w=(R=i.locale)==null?void 0:R.options)==null?void 0:w.weekStartsOn)??0,c=Sr(a,n==null?void 0:n.in);if(!eD(c))throw new RangeError("Invalid time value");let p=e.match(YD).map(T=>{const C=T[0];if(C==="p"||C==="P"){const I=UD[C];return I(T,o.formatLong)}return T}).join("").match(QD).map(T=>{if(T==="''")return{isToken:!1,value:"'"};const C=T[0];if(C==="'")return{isToken:!1,value:ZD(T)};if(db[C])return{isToken:!0,value:T};if(C.match(WD))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");return{isToken:!1,value:T}});o.localize.preprocessor&&(p=o.localize.preprocessor(c,p));const y={firstWeekContainsDate:u,weekStartsOn:f,locale:o};return p.map(T=>{if(!T.isToken)return T.value;const C=T.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&HD(C)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&FD(C))&&$D(C,e,String(a));const I=db[C[0]];return I(c,C,o.localize,y)}).join("")}function ZD(a){const e=a.match(KD);return e?e[1].replace(XD,"'"):a}const JD={lessThanXSeconds:{one:"mindre n en sekund",other:"mindre n {{count}} sekunder"},xSeconds:{one:"en sekund",other:"{{count}} sekunder"},halfAMinute:"en halv minut",lessThanXMinutes:{one:"mindre n en minut",other:"mindre n {{count}} minuter"},xMinutes:{one:"en minut",other:"{{count}} minuter"},aboutXHours:{one:"ungefr en timme",other:"ungefr {{count}} timmar"},xHours:{one:"en timme",other:"{{count}} timmar"},xDays:{one:"en dag",other:"{{count}} dagar"},aboutXWeeks:{one:"ungefr en vecka",other:"ungefr {{count}} veckor"},xWeeks:{one:"en vecka",other:"{{count}} veckor"},aboutXMonths:{one:"ungefr en mnad",other:"ungefr {{count}} mnader"},xMonths:{one:"en mnad",other:"{{count}} mnader"},aboutXYears:{one:"ungefr ett r",other:"ungefr {{count}} r"},xYears:{one:"ett r",other:"{{count}} r"},overXYears:{one:"ver ett r",other:"ver {{count}} r"},almostXYears:{one:"nstan ett r",other:"nstan {{count}} r"}},eO=["noll","en","tv","tre","fyra","fem","sex","sju","tta","nio","tio","elva","tolv"],tO=(a,e,n)=>{let i;const o=JD[a];return typeof o=="string"?i=o:e===1?i=o.one:i=o.other.replace("{{count}}",e<13?eO[e]:String(e)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"om "+i:i+" sedan":i},nO={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"y-MM-dd"},rO={full:"'kl'. HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},aO={full:"{{date}} 'kl.' {{time}}",long:"{{date}} 'kl.' {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},iO={date:uo({formats:nO,defaultWidth:"full"}),time:uo({formats:rO,defaultWidth:"full"}),dateTime:uo({formats:aO,defaultWidth:"full"})},sO={lastWeek:"'i' EEEE's kl.' p",yesterday:"'igr kl.' p",today:"'idag kl.' p",tomorrow:"'imorgon kl.' p",nextWeek:"EEEE 'kl.' p",other:"P"},oO=(a,e,n,i)=>sO[a],lO={narrow:["f.Kr.","e.Kr."],abbreviated:["f.Kr.","e.Kr."],wide:["fre Kristus","efter Kristus"]},uO={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1:a kvartalet","2:a kvartalet","3:e kvartalet","4:e kvartalet"]},cO={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["jan.","feb.","mars","apr.","maj","juni","juli","aug.","sep.","okt.","nov.","dec."],wide:["januari","februari","mars","april","maj","juni","juli","augusti","september","oktober","november","december"]},fO={narrow:["S","M","T","O","T","F","L"],short:["s","m","ti","on","to","fr","l"],abbreviated:["sn","mn","tis","ons","tors","fre","lr"],wide:["sndag","mndag","tisdag","onsdag","torsdag","fredag","lrdag"]},hO={narrow:{am:"fm",pm:"em",midnight:"midnatt",noon:"middag",morning:"morg.",afternoon:"efterm.",evening:"kvll",night:"natt"},abbreviated:{am:"f.m.",pm:"e.m.",midnight:"midnatt",noon:"middag",morning:"morgon",afternoon:"efterm.",evening:"kvll",night:"natt"},wide:{am:"frmiddag",pm:"eftermiddag",midnight:"midnatt",noon:"middag",morning:"morgon",afternoon:"eftermiddag",evening:"kvll",night:"natt"}},dO={narrow:{am:"fm",pm:"em",midnight:"midnatt",noon:"middag",morning:"p morg.",afternoon:"p efterm.",evening:"p kvllen",night:"p natten"},abbreviated:{am:"fm",pm:"em",midnight:"midnatt",noon:"middag",morning:"p morg.",afternoon:"p efterm.",evening:"p kvllen",night:"p natten"},wide:{am:"fm",pm:"em",midnight:"midnatt",noon:"middag",morning:"p morgonen",afternoon:"p eftermiddagen",evening:"p kvllen",night:"p natten"}},mO=(a,e)=>{const n=Number(a),i=n%100;if(i>20||i<10)switch(i%10){case 1:case 2:return n+":a"}return n+":e"},pO={ordinalNumber:mO,era:Qr({values:lO,defaultWidth:"wide"}),quarter:Qr({values:uO,defaultWidth:"wide",argumentCallback:a=>a-1}),month:Qr({values:cO,defaultWidth:"wide"}),day:Qr({values:fO,defaultWidth:"wide"}),dayPeriod:Qr({values:hO,defaultWidth:"wide",formattingValues:dO,defaultFormattingWidth:"wide"})},gO=/^(\d+)(:a|:e)?/i,yO=/\d+/i,vO={narrow:/^(f\.? ?Kr\.?|f\.? ?v\.? ?t\.?|e\.? ?Kr\.?|v\.? ?t\.?)/i,abbreviated:/^(f\.? ?Kr\.?|f\.? ?v\.? ?t\.?|e\.? ?Kr\.?|v\.? ?t\.?)/i,wide:/^(fre Kristus|fre vr tid|efter Kristus|vr tid)/i},_O={any:[/^f/i,/^[ev]/i]},bO={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](:a|:e)? kvartalet/i},EO={any:[/1/i,/2/i,/3/i,/4/i]},wO={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar[s]?|apr|maj|jun[i]?|jul[i]?|aug|sep|okt|nov|dec)\.?/i,wide:/^(januari|februari|mars|april|maj|juni|juli|augusti|september|oktober|november|december)/i},AO={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^maj/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},TO={narrow:/^[smtofl]/i,short:/^(s|m|ti|on|to|fr|l)/i,abbreviated:/^(sn|mn|tis|ons|tors|fre|lr)/i,wide:/^(sndag|mndag|tisdag|onsdag|torsdag|fredag|lrdag)/i},SO={any:[/^s/i,/^m/i,/^ti/i,/^o/i,/^to/i,/^f/i,/^l/i]},RO={any:/^([fe]\.?\s?m\.?|midn(att)?|midd(ag)?|(p) (morgonen|eftermiddagen|kvllen|natten))/i},xO={any:{am:/^f/i,pm:/^e/i,midnight:/^midn/i,noon:/^midd/i,morning:/morgon/i,afternoon:/eftermiddag/i,evening:/kvll/i,night:/natt/i}},CO={ordinalNumber:IE({matchPattern:gO,parsePattern:yO,valueCallback:a=>parseInt(a,10)}),era:Yr({matchPatterns:vO,defaultMatchWidth:"wide",parsePatterns:_O,defaultParseWidth:"any"}),quarter:Yr({matchPatterns:bO,defaultMatchWidth:"wide",parsePatterns:EO,defaultParseWidth:"any",valueCallback:a=>a+1}),month:Yr({matchPatterns:wO,defaultMatchWidth:"wide",parsePatterns:AO,defaultParseWidth:"any"}),day:Yr({matchPatterns:TO,defaultMatchWidth:"wide",parsePatterns:SO,defaultParseWidth:"any"}),dayPeriod:Yr({matchPatterns:RO,defaultMatchWidth:"any",parsePatterns:xO,defaultParseWidth:"any"})},vb={code:"sv",formatDistance:tO,formatLong:iO,formatRelative:oO,localize:pO,match:CO,options:{weekStartsOn:1,firstWeekContainsDate:4}},DO=()=>{const{cart:a,total:e,clearCart:n}=mi(),i=cs(),[o,u]=W.useState(!1),[f,c]=W.useState(null),[p,y]=W.useState(null),[E,d]=W.useState([]),[g,b]=W.useState(0);console.log("Rendering PlaceOrder:",{cart:a,cartItems:E,total:e,orderTotal:g,orderPlaced:o});const v=w=>!w||w.length===0?0:w.reduce((T,C)=>T+(C.price||0)*(C.quantity||1),0);W.useEffect(()=>{if(a.length===0&&!o)console.log("Cart empty, redirecting to /cart"),i("/cart");else if(!o&&a.length>0){console.log("Saving cart items:",a),d([...a]),b(e||v(a));const w=Math.floor(1e5+Math.random()*9e5);c(w),y(new Date),u(!0),console.log("Clearing cart"),n()}},[a,i,o,e,n]);const _=w=>(w==null?void 0:w.toLocaleString("sv-SE"))+" kr"||"0 kr",R=()=>{window.print()};return o?E.length===0&&o?B.jsx("div",{className:"place-order-container",children:B.jsxs("div",{className:"error-container",children:[B.jsx("h2",{children:"Ngot gick fel"}),B.jsx("p",{children:"Vi kunde inte behandla din order. Vnligen frsk igen."}),B.jsx(bn,{to:"/cart",className:"return-to-cart",children:"Tillbaka till varukorgen"})]})}):B.jsxs("div",{className:"place-order-container",children:[B.jsxs("div",{className:"thank-you-section",children:[B.jsx("h1",{children:"Tack fr din bestllning!"}),B.jsx("p",{children:"Din bestllning har mottagits och bearbetas nu. Ett bekrftelsemail har skickats till din epostadress."})]}),B.jsxs("div",{className:"receipt-container",children:[B.jsxs("div",{className:"receipt-header",children:[B.jsx("h2",{children:"Kvitto"}),B.jsxs("div",{className:"receipt-meta",children:[B.jsxs("p",{children:[B.jsx("strong",{children:"Ordernummer:"})," #",f]}),B.jsxs("p",{children:[B.jsx("strong",{children:"Datum:"})," ",p?yb(p,"d MMMM yyyy",{locale:vb}):"-"]}),B.jsxs("p",{children:[B.jsx("strong",{children:"Tid:"})," ",p?yb(p,"HH:mm",{locale:vb}):"-"]})]})]}),B.jsx("div",{className:"receipt-items",children:B.jsxs("table",{className:"receipt-table",children:[B.jsx("thead",{children:B.jsxs("tr",{children:[B.jsx("th",{children:"Produkt"}),B.jsx("th",{children:"Antal"}),B.jsx("th",{children:"Pris"}),B.jsx("th",{children:"Summa"})]})}),B.jsx("tbody",{children:E.map(w=>B.jsxs("tr",{children:[B.jsx("td",{children:w.name||"Produkt"}),B.jsx("td",{children:w.quantity||1}),B.jsx("td",{children:_(w.price)}),B.jsx("td",{children:_(w.price*(w.quantity||1))})]},w.id))}),B.jsxs("tfoot",{children:[B.jsxs("tr",{children:[B.jsx("td",{colSpan:"3",children:"Delsumma:"}),B.jsx("td",{children:_(g)})]}),B.jsxs("tr",{children:[B.jsx("td",{colSpan:"3",children:"Leverans:"}),B.jsx("td",{children:"Gratis"})]}),B.jsxs("tr",{className:"total-row",children:[B.jsx("td",{colSpan:"3",children:"Totalt inkl. moms:"}),B.jsx("td",{children:_(g)})]})]})]})}),B.jsxs("div",{className:"receipt-footer",children:[B.jsx("p",{children:"Betalningsstt: Kortbetalning"}),B.jsx("p",{children:"KidsGaming | Leksaksgatan 123 | 46161 Trollhttan"}),B.jsx("p",{children:"support@kidsgaming.se | 08-123 45 67"}),B.jsx("p",{className:"receipt-thanks",children:"Tack fr att du handlar hos oss!"})]})]}),B.jsx("div",{className:"receipt-actions",children:B.jsx("button",{onClick:R,className:"print-button",children:"Skriv ut kvitto"})}),B.jsxs("div",{className:"next-actions",children:[B.jsx(bn,{to:"/",className:"continue-shopping",children:"Tillbaka till butiken"}),B.jsx(bn,{to:"/collection",className:"browse-more",children:"Blddra bland fler produkter"})]})]}):B.jsx("div",{className:"place-order-container",children:B.jsx("div",{className:"loading-container",children:"Bearbetar din bestllning..."})})},OO=()=>B.jsx("div",{});function MO(a,e){let n;try{n=a()}catch{return}return{getItem:o=>{var u;const f=p=>p===null?null:JSON.parse(p,void 0),c=(u=n.getItem(o))!=null?u:null;return c instanceof Promise?c.then(f):f(c)},setItem:(o,u)=>n.setItem(o,JSON.stringify(u,void 0)),removeItem:o=>n.removeItem(o)}}const ym=a=>e=>{try{const n=a(e);return n instanceof Promise?n:{then(i){return ym(i)(n)},catch(i){return this}}}catch(n){return{then(i){return this},catch(i){return ym(i)(n)}}}},NO=(a,e)=>(n,i,o)=>{let u={storage:MO(()=>localStorage),partialize:_=>_,version:0,merge:(_,R)=>({...R,..._}),...e},f=!1;const c=new Set,p=new Set;let y=u.storage;if(!y)return a((..._)=>{console.warn(`[zustand persist middleware] Unable to update item '${u.name}', the given storage is currently unavailable.`),n(..._)},i,o);const E=()=>{const _=u.partialize({...i()});return y.setItem(u.name,{state:_,version:u.version})},d=o.setState;o.setState=(_,R)=>{d(_,R),E()};const g=a((..._)=>{n(..._),E()},i,o);o.getInitialState=()=>g;let b;const v=()=>{var _,R;if(!y)return;f=!1,c.forEach(T=>{var C;return T((C=i())!=null?C:g)});const w=((R=u.onRehydrateStorage)==null?void 0:R.call(u,(_=i())!=null?_:g))||void 0;return ym(y.getItem.bind(y))(u.name).then(T=>{if(T)if(typeof T.version=="number"&&T.version!==u.version){if(u.migrate){const C=u.migrate(T.state,T.version);return C instanceof Promise?C.then(I=>[!0,I]):[!0,C]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,T.state];return[!1,void 0]}).then(T=>{var C;const[I,V]=T;if(b=u.merge(V,(C=i())!=null?C:g),n(b,!0),I)return E()}).then(()=>{w==null||w(b,void 0),b=i(),f=!0,p.forEach(T=>T(b))}).catch(T=>{w==null||w(void 0,T)})};return o.persist={setOptions:_=>{u={...u,..._},_.storage&&(y=_.storage)},clearStorage:()=>{y==null||y.removeItem(u.name)},getOptions:()=>u,rehydrate:()=>v(),hasHydrated:()=>f,onHydrate:_=>(c.add(_),()=>{c.delete(_)}),onFinishHydration:_=>(p.add(_),()=>{p.delete(_)})},u.skipHydration||v(),b||g},IO=NO,Rf=xm(IO(a=>({isLoggedIn:!1,user:null,login:(e,n)=>e==="admin"&&n==="admin123"?(a({isLoggedIn:!0,user:{username:e,role:"admin"}}),!0):!1,logout:()=>a({isLoggedIn:!1,user:null}),isAdmin:()=>{var n;const e=Rf.getState();return e.isLoggedIn&&((n=e.user)==null?void 0:n.role)==="admin"}}),{name:"auth-storage"})),kO=()=>{var g,b;const[a,e]=W.useState(""),[n,i]=W.useState(""),[o,u]=W.useState(""),f=cs(),c=Tr(),{login:p,isLoggedIn:y}=Rf(),E=((b=(g=c.state)==null?void 0:g.from)==null?void 0:b.pathname)||"/admin";W.useEffect(()=>{y&&f(E,{replace:!0})},[y,f,E]);const d=v=>{if(v.preventDefault(),u(""),!a||!n){u("Anvndarnamn och lsenord krvs");return}p(a,n)?f(E,{replace:!0}):u("Felaktigt anvndarnamn eller lsenord")};return B.jsx("div",{className:"login-container",children:B.jsxs("div",{className:"login-card",children:[B.jsx("h2",{children:"Logga in fr att fortstta"}),o&&B.jsx("div",{className:"login-error",children:o}),B.jsxs("form",{onSubmit:d,className:"login-form",children:[B.jsxs("div",{className:"form-group",children:[B.jsx("label",{htmlFor:"username",children:"Anvndarnamn"}),B.jsx("input",{type:"text",id:"username",value:a,onChange:v=>e(v.target.value),placeholder:"Ange anvndarnamn"})]}),B.jsxs("div",{className:"form-group",children:[B.jsx("label",{htmlFor:"password",children:"Lsenord"}),B.jsx("input",{type:"password",id:"password",value:n,onChange:v=>i(v.target.value),placeholder:"Ange lsenord"})]}),B.jsx("button",{type:"submit",className:"login-button",children:"Logga in"})]}),B.jsx("div",{className:"login-info",children:B.jsx("p",{})})]})})},jO="/Webbshop-React/assets/Logo-Dn55jzSL.png",VO="/Webbshop-React/assets/Cart-BilMC3CJ.png",PO="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAYCAYAAACfpi8JAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAmSURBVHgB7dUBDQAgDMCw3b9oUEFCnlbENtUJAN6ZvAZgqW8SfwHPAQMBESnKpgAAAABJRU5ErkJggg==",LO=()=>{const[a,e]=W.useState(!1),n=cs(),i=mi(u=>u.cart.reduce((f,c)=>f+c.quantity,0)),o=u=>{n(`/collection?category=${u}`),a&&e(!1)};return B.jsxs("div",{className:"navbar",children:[B.jsxs("div",{className:"Row-1",children:[B.jsx("img",{onClick:()=>e(!a),src:PO,alt:"Menu",className:"nav-btn"}),B.jsx(bn,{to:"/",children:B.jsx("img",{src:jO,alt:"Logo",className:"logo"})}),B.jsxs("div",{className:"desktop-menu",children:[B.jsx("button",{onClick:()=>o("TV-Spel"),className:"nav-link",children:"TV-Spel"}),B.jsx("button",{onClick:()=>o("Leksaker"),className:"nav-link",children:"Leksaker"}),B.jsx("button",{onClick:()=>o("Dockor"),className:"nav-link",children:"Dockor"}),B.jsx("button",{onClick:()=>o("Pyssel"),className:"nav-link",children:"Pyssel"})]}),B.jsxs(bn,{to:"/cart",className:"cart-btn",children:[B.jsx("img",{src:VO,alt:"cart-btn",className:"cart-icon"}),B.jsx("p",{className:"varukorg",children:"Varukorg"}),B.jsx("span",{className:"cart-counter",children:i})]})]}),B.jsxs("div",{className:`mobile-menu${a?" active":""}`,children:[B.jsx("button",{onClick:()=>o("TV-Spel"),className:"nav-link",children:"TV-Spel"}),B.jsx("button",{onClick:()=>o("Leksaker"),className:"nav-link",children:"Leksaker"}),B.jsx("button",{onClick:()=>o("Dockor"),className:"nav-link",children:"Dockor"}),B.jsx("button",{onClick:()=>o("Pyssel"),className:"nav-link",children:"Pyssel"})]})]})},UO="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAYAAACoYAD2AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAQbSURBVHgBxVnNThRBEP6WVVZWEy/Gg0biRaISD2qiVyVKRC7A0YPevIEc0NfwFcQYEh8DOXnwZAIaQ4yQ8CdgQpTg8rP2t1PF9DY9PbOzu1jJt72zXV1VXVVd3dMLNE4FQcnggcEbgzmDLYM9g6q0fP5i8Nagz6DDGts26pD2scGqGHMgqAZg9y/KeFteS0hnP2KwL0gzLGSwjh225DdFRURhXWvSOB8ojxHpQBNepYF9lsBqG6By+w1OoEHigFdovfdCxr5EA4aqgbvHYJwN6ptABkMZ4n60L7xZPNondhxSwfleEMYQVYWPM/9t8MegYvUxPTos2Z0GXQZnkT2cp0Rm1de5imQvaqEeR7Ti8xA9NIo4vEne/AlPaeLMRwIG7iL2VtEZR4PLFk5b3+nBTkehlptKiqEj8JSmtHyBKCTNZOD3YdqRk5afdTMbQHKp4e+jiGelAhoxjqmyYT0XRN6LgF7qGBTe2sdiipKi8H1AnJuNYApxyKsSCVIpZdyK7ckQ4y5iSvI0wa3ztcFzaZcRbwaPEOfyL9Sv2r8p+muLtA/hXWVDhBUSJsC2G0dXI597LF7W33eII6HpsxnQTbt4HKyd90IzWRBhnR4B6pGT0vYaPDW4ZY2Bw1/nIaSn2iSL6x2EScPtFmIKuCqGsJxsIyrCtseL0n/Z4LszXsNfQZju0uUXUpiqCb8zB7+JEuZeCXHItd2WfkZjHfnoIo0sIx+9RzSBm/LsFl4+07O98jyVICfJCUpdFFRMYTqQ1l0Ys9LeQPKhlWNuiyGznj5bfhIVKTztQGHXN5uuSd8nJHuDv3+W79c9fbb8JKpNYgvh1TUvzGXn9zXU555b5PV9SA1Zdvo1zeZT9G/Rk0sIU9JMzxlcQrR6y4hXNaRlkdbVfcXgPPLREo38mMKktc6XFj8Qrd5OMYj18RmiPC0jLk9fcXSye478JKrZx4oe2nE2hdm3fWqIe+DfcbpRvzPZUP51hHec+3oTsYNkqiDeHXwLxM5RliWuYi6SJ4hSQg2GZxKQCYRO7EVlXkWGTR7R6aXZ9x96f1r0FpFtS64xDwaU0+XjiOupHeY8Bmo0mD5jCJ9jB+BEIc1DJE3y6ZxGzjhy0vjriLMaCsyKHqhYvPYezVTgu4zvHacs/faOZB8sQu84Q/DsZFSodz6hUI0hfStNIho87sjz6VmBFWb3vZth2Mmm7/AOku/depzTXLLvIrXYn0F07rTLj0vaZy+oI6SXVP/zBqMfGSJFhgnkX8F5wWg0fGk1gePx6IHoyXRZ5TP0IeIwtCu8bI9cUjVCHMhFsNpiQ+3X4BKaMFBJa9Wwo6CZ0O6LvJb/G6HGcqtacBRn8Rq/s/4NipymvRcinT2Nvmcwiej/Gvt/nH15npN+HgdLyOm5f5RnT8Wr6LhDAAAAAElFTkSuQmCC",zO="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAYAAACoYAD2AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAALaSURBVHgBzVnLbtQwFD3pVNACEhILQOUhvgJWSGVA5bFjJJYIxIYNKyT6PcAKdvQD2LGBDwAWrABVLQgWrYCW6cxwz8S3uKmd2ImnmSOdycSJr0/uta9jB4hHZnhYeE34VPhBuCHcEY7Mkecfhc+FXeGMVXdimDHHW8J1I2ZoOCqhff2rqW/bSwJ9+p5wYFglrEyw1u1Z9huhgzys3xuKc5H2viH3aG2vUmDXMjiaANXudeEsIsEKy0jvvTKxy4gQqgL7ByDOZj9UKEO8hMmFN8SjXaNjF1nhf2ZubBvzwm3kwve4lgVryPtgqhymffqlcEX4U3hIeFy4IHwsPFuow/s/C08VjVGU5sEUYdN8+MjY9+XCV/CHvQeHs1L2LU6L7NsdlGMF5f1zDE2kN82FFKAH3whfo3n/5hQ6jgJ/viCdFynygqNBV8hfVNha04r0ZOoRnXnOPwlPW+UcRFV5cY43LCJXneoVattRRvvvkXs4JnOw3mVWuI+073i+qJxHfGqjrrusdBFp4XvgugPzEkUuYLpxhk/NnFaVz3zQ0Wx7ibZcYd3C/nYyVLc90Iaa8J7DcHHE+oT8CGkjRfo56ijbKZz72jiBagwo8jfaQWgX+0WRq2gHJwPvW6XIt2iGDUfZbMU5cQ5heMcfLvCbLFFd5S4MIurb16/oTsQW0uGP8IijfFN4DPHoMNx/ka9/pxF8Oxtq0n2A3LXTBIb7oTCz51n2mRRrm5ThHutTUTzeQf2XgNRgVJ1rHKpm32y6GPNNDpuB9TlbrXts7O45jtCuSFL3Msew3alPcRXtDSK2y82rDBVdj3PqE/zftT0oT/ZNu9GbVnX6Z6zIoWknSqAtdMkYihEbI1Lt7tukioG+ZXO0hYY/RKR6jzvIc2ggUKGDq2c1MKwpUsWRtzGBrxEq9gb27ngMA0UyEtyR0K8Pjb1XBs1hPC4KnyH/XqPfcVwiKWgeNT33DzO/NAnsl/udAAAAAElFTkSuQmCC",BO="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAYAAACoYAD2AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAALlSURBVHgBzVk9b9RAEH2+QwdBokKiSUcDHR1UiFOIwokqCAoaCn4EoYGK/A8EDb8AUUT00CMCEkUgggQiCogSJUoul3m3O7HjXG7H9jrOSO/Od17PPs/HzngNFJfEoyO4LXgp+Cz4L9gVDPw3f38VvBZMCVqZa2uTlv/uCVY9mT2PwRhkzy8L7ub0RRG9+1k4C/UNxMYR1mvvZfRXEt7tWcFaRXKjQH1//BylrdqGizlVOKgBqndGcAYFhRfMIb71xpGdQwGiSnDnBMhlwfmewECULu6hPvdaLDrleRxIkjtO/MCmZUKwDUf8UFbxjxW4GGxSOP/yqBMky3WwKTePcvt9z+uQuwc4XUKLDmOTmUS203AkQ6t/31/4F676lKkWl4xzUVhC38EPXoLNBfOIIy+QNiPjsKoXtAyDaXqunW3EEep5BlsOsCyjC1tVqUMsHdQ0rfgY4fj4grCUic9vCOt8RJLXEZbQ2skGoYu0sbXKjmHMDSqdNAwMTbwheC/4BNexW1svyw1NUtl5VBctqVcEW4JX/v8YiTbRQryMpagFH8IFfgzdbSqN2VBotr5BvGalz4qzKbiAaqJL1A/BNbgYHU6A6rJBS/40DAytk4zrm4LLgnXE9c4vWvKD4GpgYCdwfgFp5Soiluz+yA92wpaVvw6xlOMuB3YMg+m+5yjxRHeMMOufwlaOh9bmx4qRaKwuaB625uK7EiTuCN4iXCn0ztZQPP44np64iLQvDY3nQ+FCNnB3EXdhjyFDfmo5fj9AcevUJYxV7hUd8SxZc2+m6YcxevR3nlj2mJm+heZEY76NTLOdf+7mXXCTqqlnb3JgEicIhB4zkHsylgelmGADXHjTikRPIj73UGJXLUt0BulCXgdB1csQK7386S4ssy2m+3VbmkXhHCLsn6uC2dwEVVzLG+Y6GP1thJJl9i3lJrZYjcfckeh5PbVWtySDW3DvcRYF/3D0Pc6iP8+Y66Ck5fYB+ptI74haO/YAAAAASUVORK5CYII=",qO=()=>{const a=new Date().getFullYear();return B.jsxs(W.Fragment,{children:[B.jsx("footer",{children:B.jsxs("div",{className:"footer-container",children:[B.jsxs("div",{className:"text-footer",children:[B.jsx("h2",{children:"Om oss"}),B.jsx("p",{children:"Vi r en del av Skandinaviens strsta leksaksbutik p ntet och anvnds redan av ver 250 000 svenska kunder! Vra h r att leverera vlknda varumrken till lga priser, s snabbt som mjligt, och att erbjuda marknadens bsta kundservice."})]}),B.jsxs("div",{className:"media-footer",children:[B.jsx("h2",{children:"Flj oss"}),B.jsxs("a",{href:"https://www.facebook.com/",target:"_blank",rel:"noopener noreferrer",children:[B.jsx("img",{src:zO,alt:"Facebook",className:"social-icon"}),"Facebook"]}),B.jsxs("a",{href:"https://www.instagram.com/",target:"_blank",rel:"noopener noreferrer",children:[B.jsx("img",{src:UO,alt:"Instagram",className:"social-icon"}),"Instagram"]}),B.jsxs("a",{href:"https://www.youtube.com/",target:"_blank",rel:"noopener noreferrer",children:[B.jsx("img",{src:BO,alt:"Youtube",className:"social-icon"}),"Youtube"]})]})]})}),B.jsx("div",{className:"copyright",children:B.jsxs("div",{className:"copyright-content",children:[B.jsxs("p",{children:[" ",a," Leksaksbutiken. Alla rttigheter frbehllna."]}),B.jsx(bn,{to:"/admin",className:"admin-link",children:"Admin"})]})})]})};var qd={exports:{}},_b;function FO(){return _b||(_b=1,function(a,e){(function(n,i){a.exports=i()})(self,()=>{return n={7629:(o,u,f)=>{const c=f(375),p=f(8571),y=f(9474),E=f(1687),d=f(8652),g=f(8160),b=f(3292),v=f(6354),_=f(8901),R=f(9708),w=f(6914),T=f(2294),C=f(6133),I=f(1152),V=f(8863),j=f(2036),M={Base:class{constructor(S){this.type=S,this.$_root=null,this._definition={},this._reset()}_reset(){this._ids=new T.Ids,this._preferences=null,this._refs=new C.Manager,this._cache=null,this._valids=null,this._invalids=null,this._flags={},this._rules=[],this._singleRules=new Map,this.$_terms={},this.$_temp={ruleset:null,whens:{}}}describe(){return c(typeof R.describe=="function","Manifest functionality disabled"),R.describe(this)}allow(...S){return g.verifyFlat(S,"allow"),this._values(S,"_valids")}alter(S){c(S&&typeof S=="object"&&!Array.isArray(S),"Invalid targets argument"),c(!this._inRuleset(),"Cannot set alterations inside a ruleset");const x=this.clone();x.$_terms.alterations=x.$_terms.alterations||[];for(const O in S){const P=S[O];c(typeof P=="function","Alteration adjuster for",O,"must be a function"),x.$_terms.alterations.push({target:O,adjuster:P})}return x.$_temp.ruleset=!1,x}artifact(S){return c(S!==void 0,"Artifact cannot be undefined"),c(!this._cache,"Cannot set an artifact with a rule cache"),this.$_setFlag("artifact",S)}cast(S){return c(S===!1||typeof S=="string","Invalid to value"),c(S===!1||this._definition.cast[S],"Type",this.type,"does not support casting to",S),this.$_setFlag("cast",S===!1?void 0:S)}default(S,x){return this._default("default",S,x)}description(S){return c(S&&typeof S=="string","Description must be a non-empty string"),this.$_setFlag("description",S)}empty(S){const x=this.clone();return S!==void 0&&(S=x.$_compile(S,{override:!1})),x.$_setFlag("empty",S,{clone:!1})}error(S){return c(S,"Missing error"),c(S instanceof Error||typeof S=="function","Must provide a valid Error object or a function"),this.$_setFlag("error",S)}example(S,x={}){return c(S!==void 0,"Missing example"),g.assertOptions(x,["override"]),this._inner("examples",S,{single:!0,override:x.override})}external(S,x){return typeof S=="object"&&(c(!x,"Cannot combine options with description"),x=S.description,S=S.method),c(typeof S=="function","Method must be a function"),c(x===void 0||x&&typeof x=="string","Description must be a non-empty string"),this._inner("externals",{method:S,description:x},{single:!0})}failover(S,x){return this._default("failover",S,x)}forbidden(){return this.presence("forbidden")}id(S){return S?(c(typeof S=="string","id must be a non-empty string"),c(/^[^\.]+$/.test(S),"id cannot contain period character"),this.$_setFlag("id",S)):this.$_setFlag("id",void 0)}invalid(...S){return this._values(S,"_invalids")}label(S){return c(S&&typeof S=="string","Label name must be a non-empty string"),this.$_setFlag("label",S)}meta(S){return c(S!==void 0,"Meta cannot be undefined"),this._inner("metas",S,{single:!0})}note(...S){c(S.length,"Missing notes");for(const x of S)c(x&&typeof x=="string","Notes must be non-empty strings");return this._inner("notes",S)}only(S=!0){return c(typeof S=="boolean","Invalid mode:",S),this.$_setFlag("only",S)}optional(){return this.presence("optional")}prefs(S){c(S,"Missing preferences"),c(S.context===void 0,"Cannot override context"),c(S.externals===void 0,"Cannot override externals"),c(S.warnings===void 0,"Cannot override warnings"),c(S.debug===void 0,"Cannot override debug"),g.checkPreferences(S);const x=this.clone();return x._preferences=g.preferences(x._preferences,S),x}presence(S){return c(["optional","required","forbidden"].includes(S),"Unknown presence mode",S),this.$_setFlag("presence",S)}raw(S=!0){return this.$_setFlag("result",S?"raw":void 0)}result(S){return c(["raw","strip"].includes(S),"Unknown result mode",S),this.$_setFlag("result",S)}required(){return this.presence("required")}strict(S){const x=this.clone(),O=S!==void 0&&!S;return x._preferences=g.preferences(x._preferences,{convert:O}),x}strip(S=!0){return this.$_setFlag("result",S?"strip":void 0)}tag(...S){c(S.length,"Missing tags");for(const x of S)c(x&&typeof x=="string","Tags must be non-empty strings");return this._inner("tags",S)}unit(S){return c(S&&typeof S=="string","Unit name must be a non-empty string"),this.$_setFlag("unit",S)}valid(...S){g.verifyFlat(S,"valid");const x=this.allow(...S);return x.$_setFlag("only",!!x._valids,{clone:!1}),x}when(S,x){const O=this.clone();O.$_terms.whens||(O.$_terms.whens=[]);const P=b.when(O,S,x);if(!["any","link"].includes(O.type)){const q=P.is?[P]:P.switch;for(const U of q)c(!U.then||U.then.type==="any"||U.then.type===O.type,"Cannot combine",O.type,"with",U.then&&U.then.type),c(!U.otherwise||U.otherwise.type==="any"||U.otherwise.type===O.type,"Cannot combine",O.type,"with",U.otherwise&&U.otherwise.type)}return O.$_terms.whens.push(P),O.$_mutateRebuild()}cache(S){c(!this._inRuleset(),"Cannot set caching inside a ruleset"),c(!this._cache,"Cannot override schema cache"),c(this._flags.artifact===void 0,"Cannot cache a rule with an artifact");const x=this.clone();return x._cache=S||d.provider.provision(),x.$_temp.ruleset=!1,x}clone(){const S=Object.create(Object.getPrototypeOf(this));return this._assign(S)}concat(S){c(g.isSchema(S),"Invalid schema object"),c(this.type==="any"||S.type==="any"||S.type===this.type,"Cannot merge type",this.type,"with another type:",S.type),c(!this._inRuleset(),"Cannot concatenate onto a schema with open ruleset"),c(!S._inRuleset(),"Cannot concatenate a schema with open ruleset");let x=this.clone();if(this.type==="any"&&S.type!=="any"){const O=S.clone();for(const P of Object.keys(x))P!=="type"&&(O[P]=x[P]);x=O}x._ids.concat(S._ids),x._refs.register(S,C.toSibling),x._preferences=x._preferences?g.preferences(x._preferences,S._preferences):S._preferences,x._valids=j.merge(x._valids,S._valids,S._invalids),x._invalids=j.merge(x._invalids,S._invalids,S._valids);for(const O of S._singleRules.keys())x._singleRules.has(O)&&(x._rules=x._rules.filter(P=>P.keep||P.name!==O),x._singleRules.delete(O));for(const O of S._rules)S._definition.rules[O.method].multi||x._singleRules.set(O.name,O),x._rules.push(O);if(x._flags.empty&&S._flags.empty){x._flags.empty=x._flags.empty.concat(S._flags.empty);const O=Object.assign({},S._flags);delete O.empty,E(x._flags,O)}else if(S._flags.empty){x._flags.empty=S._flags.empty;const O=Object.assign({},S._flags);delete O.empty,E(x._flags,O)}else E(x._flags,S._flags);for(const O in S.$_terms){const P=S.$_terms[O];P?x.$_terms[O]?x.$_terms[O]=x.$_terms[O].concat(P):x.$_terms[O]=P.slice():x.$_terms[O]||(x.$_terms[O]=P)}return this.$_root._tracer&&this.$_root._tracer._combine(x,[this,S]),x.$_mutateRebuild()}extend(S){return c(!S.base,"Cannot extend type with another base"),_.type(this,S)}extract(S){return S=Array.isArray(S)?S:S.split("."),this._ids.reach(S)}fork(S,x){c(!this._inRuleset(),"Cannot fork inside a ruleset");let O=this;for(let P of[].concat(S))P=Array.isArray(P)?P:P.split("."),O=O._ids.fork(P,x,O);return O.$_temp.ruleset=!1,O}rule(S){const x=this._definition;g.assertOptions(S,Object.keys(x.modifiers)),c(this.$_temp.ruleset!==!1,"Cannot apply rules to empty ruleset or the last rule added does not support rule properties");const O=this.$_temp.ruleset===null?this._rules.length-1:this.$_temp.ruleset;c(O>=0&&O<this._rules.length,"Cannot apply rules to empty ruleset");const P=this.clone();for(let q=O;q<P._rules.length;++q){const U=P._rules[q],he=p(U);for(const pe in S)x.modifiers[pe](he,S[pe]),c(he.name===U.name,"Cannot change rule name");P._rules[q]=he,P._singleRules.get(he.name)===U&&P._singleRules.set(he.name,he)}return P.$_temp.ruleset=!1,P.$_mutateRebuild()}get ruleset(){c(!this._inRuleset(),"Cannot start a new ruleset without closing the previous one");const S=this.clone();return S.$_temp.ruleset=S._rules.length,S}get $(){return this.ruleset}tailor(S){S=[].concat(S),c(!this._inRuleset(),"Cannot tailor inside a ruleset");let x=this;if(this.$_terms.alterations)for(const{target:O,adjuster:P}of this.$_terms.alterations)S.includes(O)&&(x=P(x),c(g.isSchema(x),"Alteration adjuster for",O,"failed to return a schema object"));return x=x.$_modify({each:O=>O.tailor(S),ref:!1}),x.$_temp.ruleset=!1,x.$_mutateRebuild()}tracer(){return I.location?I.location(this):this}validate(S,x){return V.entry(S,this,x)}validateAsync(S,x){return V.entryAsync(S,this,x)}$_addRule(S){typeof S=="string"&&(S={name:S}),c(S&&typeof S=="object","Invalid options"),c(S.name&&typeof S.name=="string","Invalid rule name");for(const U in S)c(U[0]!=="_","Cannot set private rule properties");const x=Object.assign({},S);x._resolve=[],x.method=x.method||x.name;const O=this._definition.rules[x.method],P=x.args;c(O,"Unknown rule",x.method);const q=this.clone();if(P){c(Object.keys(P).length===1||Object.keys(P).length===this._definition.rules[x.name].args.length,"Invalid rule definition for",this.type,x.name);for(const U in P){let he=P[U];if(O.argsByName){const pe=O.argsByName.get(U);if(pe.ref&&g.isResolvable(he))x._resolve.push(U),q.$_mutateRegister(he);else if(pe.normalize&&(he=pe.normalize(he),P[U]=he),pe.assert){const Q=g.validateArg(he,U,pe);c(!Q,Q,"or reference")}}he!==void 0?P[U]=he:delete P[U]}}return O.multi||(q._ruleRemove(x.name,{clone:!1}),q._singleRules.set(x.name,x)),q.$_temp.ruleset===!1&&(q.$_temp.ruleset=null),O.priority?q._rules.unshift(x):q._rules.push(x),q}$_compile(S,x){return b.schema(this.$_root,S,x)}$_createError(S,x,O,P,q,U={}){const he=U.flags!==!1?this._flags:{},pe=U.messages?w.merge(this._definition.messages,U.messages):this._definition.messages;return new v.Report(S,x,O,he,pe,P,q)}$_getFlag(S){return this._flags[S]}$_getRule(S){return this._singleRules.get(S)}$_mapLabels(S){return S=Array.isArray(S)?S:S.split("."),this._ids.labels(S)}$_match(S,x,O,P){(O=Object.assign({},O)).abortEarly=!0,O._externals=!1,x.snapshot();const q=!V.validate(S,this,x,O,P).errors;return x.restore(),q}$_modify(S){return g.assertOptions(S,["each","once","ref","schema"]),T.schema(this,S)||this}$_mutateRebuild(){return c(!this._inRuleset(),"Cannot add this rule inside a ruleset"),this._refs.reset(),this._ids.reset(),this.$_modify({each:(S,{source:x,name:O,path:P,key:q})=>{const U=this._definition[x][O]&&this._definition[x][O].register;U!==!1&&this.$_mutateRegister(S,{family:U,key:q})}}),this._definition.rebuild&&this._definition.rebuild(this),this.$_temp.ruleset=!1,this}$_mutateRegister(S,{family:x,key:O}={}){this._refs.register(S,x),this._ids.register(S,{key:O})}$_property(S){return this._definition.properties[S]}$_reach(S){return this._ids.reach(S)}$_rootReferences(){return this._refs.roots()}$_setFlag(S,x,O={}){c(S[0]==="_"||!this._inRuleset(),"Cannot set flag inside a ruleset");const P=this._definition.flags[S]||{};if(y(x,P.default)&&(x=void 0),y(x,this._flags[S]))return this;const q=O.clone!==!1?this.clone():this;return x!==void 0?(q._flags[S]=x,q.$_mutateRegister(x)):delete q._flags[S],S[0]!=="_"&&(q.$_temp.ruleset=!1),q}$_parent(S,...x){return this[S][g.symbols.parent].call(this,...x)}$_validate(S,x,O){return V.validate(S,this,x,O)}_assign(S){S.type=this.type,S.$_root=this.$_root,S.$_temp=Object.assign({},this.$_temp),S.$_temp.whens={},S._ids=this._ids.clone(),S._preferences=this._preferences,S._valids=this._valids&&this._valids.clone(),S._invalids=this._invalids&&this._invalids.clone(),S._rules=this._rules.slice(),S._singleRules=p(this._singleRules,{shallow:!0}),S._refs=this._refs.clone(),S._flags=Object.assign({},this._flags),S._cache=null,S.$_terms={};for(const x in this.$_terms)S.$_terms[x]=this.$_terms[x]?this.$_terms[x].slice():null;S.$_super={};for(const x in this.$_super)S.$_super[x]=this._super[x].bind(S);return S}_bare(){const S=this.clone();S._reset();const x=S._definition.terms;for(const O in x){const P=x[O];S.$_terms[O]=P.init}return S.$_mutateRebuild()}_default(S,x,O={}){return g.assertOptions(O,"literal"),c(x!==void 0,"Missing",S,"value"),c(typeof x=="function"||!O.literal,"Only function value supports literal option"),typeof x=="function"&&O.literal&&(x={[g.symbols.literal]:!0,literal:x}),this.$_setFlag(S,x)}_generate(S,x,O){if(!this.$_terms.whens)return{schema:this};const P=[],q=[];for(let pe=0;pe<this.$_terms.whens.length;++pe){const Q=this.$_terms.whens[pe];if(Q.concat){P.push(Q.concat),q.push(`${pe}.concat`);continue}const se=Q.ref?Q.ref.resolve(S,x,O):S,ye=Q.is?[Q]:Q.switch,Re=q.length;for(let F=0;F<ye.length;++F){const{is:re,then:me,otherwise:ce}=ye[F],_e=`${pe}${Q.switch?"."+F:""}`;if(re.$_match(se,x.nest(re,`${_e}.is`),O)){if(me){const Pe=x.localize([...x.path,`${_e}.then`],x.ancestors,x.schemas),{schema:xe,id:At}=me._generate(S,Pe,O);P.push(xe),q.push(`${_e}.then${At?`(${At})`:""}`);break}}else if(ce){const Pe=x.localize([...x.path,`${_e}.otherwise`],x.ancestors,x.schemas),{schema:xe,id:At}=ce._generate(S,Pe,O);P.push(xe),q.push(`${_e}.otherwise${At?`(${At})`:""}`);break}}if(Q.break&&q.length>Re)break}const U=q.join(", ");if(x.mainstay.tracer.debug(x,"rule","when",U),!U)return{schema:this};if(!x.mainstay.tracer.active&&this.$_temp.whens[U])return{schema:this.$_temp.whens[U],id:U};let he=this;this._definition.generate&&(he=this._definition.generate(this,S,x,O));for(const pe of P)he=he.concat(pe);return this.$_root._tracer&&this.$_root._tracer._combine(he,[this,...P]),this.$_temp.whens[U]=he,{schema:he,id:U}}_inner(S,x,O={}){c(!this._inRuleset(),`Cannot set ${S} inside a ruleset`);const P=this.clone();return P.$_terms[S]&&!O.override||(P.$_terms[S]=[]),O.single?P.$_terms[S].push(x):P.$_terms[S].push(...x),P.$_temp.ruleset=!1,P}_inRuleset(){return this.$_temp.ruleset!==null&&this.$_temp.ruleset!==!1}_ruleRemove(S,x={}){if(!this._singleRules.has(S))return this;const O=x.clone!==!1?this.clone():this;O._singleRules.delete(S);const P=[];for(let q=0;q<O._rules.length;++q){const U=O._rules[q];U.name!==S||U.keep?P.push(U):O._inRuleset()&&q<O.$_temp.ruleset&&--O.$_temp.ruleset}return O._rules=P,O}_values(S,x){g.verifyFlat(S,x.slice(1,-1));const O=this.clone(),P=S[0]===g.symbols.override;if(P&&(S=S.slice(1)),!O[x]&&S.length?O[x]=new j:P&&(O[x]=S.length?new j:null,O.$_mutateRebuild()),!O[x])return O;P&&O[x].override();for(const q of S){c(q!==void 0,"Cannot call allow/valid/invalid with undefined"),c(q!==g.symbols.override,"Override must be the first value");const U=x==="_invalids"?"_valids":"_invalids";O[U]&&(O[U].remove(q),O[U].length||(c(x==="_valids"||!O._flags.only,"Setting invalid value",q,"leaves schema rejecting all values due to previous valid rule"),O[U]=null)),O[x].add(q,O._refs)}return O}}};M.Base.prototype[g.symbols.any]={version:g.version,compile:b.compile,root:"$_root"},M.Base.prototype.isImmutable=!0,M.Base.prototype.deny=M.Base.prototype.invalid,M.Base.prototype.disallow=M.Base.prototype.invalid,M.Base.prototype.equal=M.Base.prototype.valid,M.Base.prototype.exist=M.Base.prototype.required,M.Base.prototype.not=M.Base.prototype.invalid,M.Base.prototype.options=M.Base.prototype.prefs,M.Base.prototype.preferences=M.Base.prototype.prefs,o.exports=new M.Base},8652:(o,u,f)=>{const c=f(375),p=f(8571),y=f(8160),E={max:1e3,supported:new Set(["undefined","boolean","number","string"])};u.provider={provision:d=>new E.Cache(d)},E.Cache=class{constructor(d={}){y.assertOptions(d,["max"]),c(d.max===void 0||d.max&&d.max>0&&isFinite(d.max),"Invalid max cache size"),this._max=d.max||E.max,this._map=new Map,this._list=new E.List}get length(){return this._map.size}set(d,g){if(d!==null&&!E.supported.has(typeof d))return;let b=this._map.get(d);if(b)return b.value=g,void this._list.first(b);b=this._list.unshift({key:d,value:g}),this._map.set(d,b),this._compact()}get(d){const g=this._map.get(d);if(g)return this._list.first(g),p(g.value)}_compact(){if(this._map.size>this._max){const d=this._list.pop();this._map.delete(d.key)}}},E.List=class{constructor(){this.tail=null,this.head=null}unshift(d){return d.next=null,d.prev=this.head,this.head&&(this.head.next=d),this.head=d,this.tail||(this.tail=d),d}first(d){d!==this.head&&(this._remove(d),this.unshift(d))}pop(){return this._remove(this.tail)}_remove(d){const{next:g,prev:b}=d;return g.prev=b,b&&(b.next=g),d===this.tail&&(this.tail=g),d.prev=null,d.next=null,d}}},8160:(o,u,f)=>{const c=f(375),p=f(7916),y=f(5934);let E,d;const g={isoDate:/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24\:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/};u.version=y.version,u.defaults={abortEarly:!0,allowUnknown:!1,artifacts:!1,cache:!0,context:null,convert:!0,dateFormat:"iso",errors:{escapeHtml:!1,label:"path",language:null,render:!0,stack:!1,wrap:{label:'"',array:"[]"}},externals:!0,messages:{},nonEnumerables:!1,noDefaults:!1,presence:"optional",skipFunctions:!1,stripUnknown:!1,warnings:!1},u.symbols={any:Symbol.for("@hapi/joi/schema"),arraySingle:Symbol("arraySingle"),deepDefault:Symbol("deepDefault"),errors:Symbol("errors"),literal:Symbol("literal"),override:Symbol("override"),parent:Symbol("parent"),prefs:Symbol("prefs"),ref:Symbol("ref"),template:Symbol("template"),values:Symbol("values")},u.assertOptions=function(b,v,_="Options"){c(b&&typeof b=="object"&&!Array.isArray(b),"Options must be of type object");const R=Object.keys(b).filter(w=>!v.includes(w));c(R.length===0,`${_} contain unknown keys: ${R}`)},u.checkPreferences=function(b){d=d||f(3378);const v=d.preferences.validate(b);if(v.error)throw new p([v.error.details[0].message])},u.compare=function(b,v,_){switch(_){case"=":return b===v;case">":return b>v;case"<":return b<v;case">=":return b>=v;case"<=":return b<=v}},u.default=function(b,v){return b===void 0?v:b},u.isIsoDate=function(b){return g.isoDate.test(b)},u.isNumber=function(b){return typeof b=="number"&&!isNaN(b)},u.isResolvable=function(b){return!!b&&(b[u.symbols.ref]||b[u.symbols.template])},u.isSchema=function(b,v={}){const _=b&&b[u.symbols.any];return!!_&&(c(v.legacy||_.version===u.version,"Cannot mix different versions of joi schemas"),!0)},u.isValues=function(b){return b[u.symbols.values]},u.limit=function(b){return Number.isSafeInteger(b)&&b>=0},u.preferences=function(b,v){E=E||f(6914),b=b||{},v=v||{};const _=Object.assign({},b,v);return v.errors&&b.errors&&(_.errors=Object.assign({},b.errors,v.errors),_.errors.wrap=Object.assign({},b.errors.wrap,v.errors.wrap)),v.messages&&(_.messages=E.compile(v.messages,b.messages)),delete _[u.symbols.prefs],_},u.tryWithPath=function(b,v,_={}){try{return b()}catch(R){throw R.path!==void 0?R.path=v+"."+R.path:R.path=v,_.append&&(R.message=`${R.message} (${R.path})`),R}},u.validateArg=function(b,v,{assert:_,message:R}){if(u.isSchema(_)){const w=_.validate(b);return w.error?w.error.message:void 0}if(!_(b))return v?`${v} ${R}`:R},u.verifyFlat=function(b,v){for(const _ of b)c(!Array.isArray(_),"Method no longer accepts array arguments:",v)}},3292:(o,u,f)=>{const c=f(375),p=f(8160),y=f(6133),E={};u.schema=function(d,g,b={}){p.assertOptions(b,["appendPath","override"]);try{return E.schema(d,g,b)}catch(v){throw b.appendPath&&v.path!==void 0&&(v.message=`${v.message} (${v.path})`),v}},E.schema=function(d,g,b){c(g!==void 0,"Invalid undefined schema"),Array.isArray(g)&&(c(g.length,"Invalid empty array schema"),g.length===1&&(g=g[0]));const v=(_,...R)=>b.override!==!1?_.valid(d.override,...R):_.valid(...R);if(E.simple(g))return v(d,g);if(typeof g=="function")return d.custom(g);if(c(typeof g=="object","Invalid schema content:",typeof g),p.isResolvable(g))return v(d,g);if(p.isSchema(g))return g;if(Array.isArray(g)){for(const _ of g)if(!E.simple(_))return d.alternatives().try(...g);return v(d,...g)}return g instanceof RegExp?d.string().regex(g):g instanceof Date?v(d.date(),g):(c(Object.getPrototypeOf(g)===Object.getPrototypeOf({}),"Schema can only contain plain objects"),d.object().keys(g))},u.ref=function(d,g){return y.isRef(d)?d:y.create(d,g)},u.compile=function(d,g,b={}){p.assertOptions(b,["legacy"]);const v=g&&g[p.symbols.any];if(v)return c(b.legacy||v.version===p.version,"Cannot mix different versions of joi schemas:",v.version,p.version),g;if(typeof g!="object"||!b.legacy)return u.schema(d,g,{appendPath:!0});const _=E.walk(g);return _?_.compile(_.root,g):u.schema(d,g,{appendPath:!0})},E.walk=function(d){if(typeof d!="object")return null;if(Array.isArray(d)){for(const b of d){const v=E.walk(b);if(v)return v}return null}const g=d[p.symbols.any];if(g)return{root:d[g.root],compile:g.compile};c(Object.getPrototypeOf(d)===Object.getPrototypeOf({}),"Schema can only contain plain objects");for(const b in d){const v=E.walk(d[b]);if(v)return v}return null},E.simple=function(d){return d===null||["boolean","string","number"].includes(typeof d)},u.when=function(d,g,b){if(b===void 0&&(c(g&&typeof g=="object","Missing options"),b=g,g=y.create(".")),Array.isArray(b)&&(b={switch:b}),p.assertOptions(b,["is","not","then","otherwise","switch","break"]),p.isSchema(g))return c(b.is===void 0,'"is" can not be used with a schema condition'),c(b.not===void 0,'"not" can not be used with a schema condition'),c(b.switch===void 0,'"switch" can not be used with a schema condition'),E.condition(d,{is:g,then:b.then,otherwise:b.otherwise,break:b.break});if(c(y.isRef(g)||typeof g=="string","Invalid condition:",g),c(b.not===void 0||b.is===void 0,'Cannot combine "is" with "not"'),b.switch===void 0){let _=b;b.not!==void 0&&(_={is:b.not,then:b.otherwise,otherwise:b.then,break:b.break});let R=_.is!==void 0?d.$_compile(_.is):d.$_root.invalid(null,!1,0,"").required();return c(_.then!==void 0||_.otherwise!==void 0,'options must have at least one of "then", "otherwise", or "switch"'),c(_.break===void 0||_.then===void 0||_.otherwise===void 0,"Cannot specify then, otherwise, and break all together"),b.is===void 0||y.isRef(b.is)||p.isSchema(b.is)||(R=R.required()),E.condition(d,{ref:u.ref(g),is:R,then:_.then,otherwise:_.otherwise,break:_.break})}c(Array.isArray(b.switch),'"switch" must be an array'),c(b.is===void 0,'Cannot combine "switch" with "is"'),c(b.not===void 0,'Cannot combine "switch" with "not"'),c(b.then===void 0,'Cannot combine "switch" with "then"');const v={ref:u.ref(g),switch:[],break:b.break};for(let _=0;_<b.switch.length;++_){const R=b.switch[_],w=_===b.switch.length-1;p.assertOptions(R,w?["is","then","otherwise"]:["is","then"]),c(R.is!==void 0,'Switch statement missing "is"'),c(R.then!==void 0,'Switch statement missing "then"');const T={is:d.$_compile(R.is),then:d.$_compile(R.then)};if(y.isRef(R.is)||p.isSchema(R.is)||(T.is=T.is.required()),w){c(b.otherwise===void 0||R.otherwise===void 0,'Cannot specify "otherwise" inside and outside a "switch"');const C=b.otherwise!==void 0?b.otherwise:R.otherwise;C!==void 0&&(c(v.break===void 0,"Cannot specify both otherwise and break"),T.otherwise=d.$_compile(C))}v.switch.push(T)}return v},E.condition=function(d,g){for(const b of["then","otherwise"])g[b]===void 0?delete g[b]:g[b]=d.$_compile(g[b]);return g}},6354:(o,u,f)=>{const c=f(5688),p=f(8160),y=f(3328);u.Report=class{constructor(E,d,g,b,v,_,R){if(this.code=E,this.flags=b,this.messages=v,this.path=_.path,this.prefs=R,this.state=_,this.value=d,this.message=null,this.template=null,this.local=g||{},this.local.label=u.label(this.flags,this.state,this.prefs,this.messages),this.value===void 0||this.local.hasOwnProperty("value")||(this.local.value=this.value),this.path.length){const w=this.path[this.path.length-1];typeof w!="object"&&(this.local.key=w)}}_setTemplate(E){if(this.template=E,!this.flags.label&&this.path.length===0){const d=this._template(this.template,"root");d&&(this.local.label=d)}}toString(){if(this.message)return this.message;const E=this.code;if(!this.prefs.errors.render)return this.code;const d=this._template(this.template)||this._template(this.prefs.messages)||this._template(this.messages);return d===void 0?`Error code "${E}" is not defined, your custom type is missing the correct messages definition`:(this.message=d.render(this.value,this.state,this.prefs,this.local,{errors:this.prefs.errors,messages:[this.prefs.messages,this.messages]}),this.prefs.errors.label||(this.message=this.message.replace(/^"" /,"").trim()),this.message)}_template(E,d){return u.template(this.value,E,d||this.code,this.state,this.prefs)}},u.path=function(E){let d="";for(const g of E)typeof g!="object"&&(typeof g=="string"?(d&&(d+="."),d+=g):d+=`[${g}]`);return d},u.template=function(E,d,g,b,v){if(!d)return;if(y.isTemplate(d))return g!=="root"?d:null;let _=v.errors.language;if(p.isResolvable(_)&&(_=_.resolve(E,b,v)),_&&d[_]){if(d[_][g]!==void 0)return d[_][g];if(d[_]["*"]!==void 0)return d[_]["*"]}return d[g]?d[g]:d["*"]},u.label=function(E,d,g,b){if(!g.errors.label)return"";if(E.label)return E.label;let v=d.path;return g.errors.label==="key"&&d.path.length>1&&(v=d.path.slice(-1)),u.path(v)||u.template(null,g.messages,"root",d,g)||b&&u.template(null,b,"root",d,g)||"value"},u.process=function(E,d,g){if(!E)return null;const{override:b,message:v,details:_}=u.details(E);if(b)return b;if(g.errors.stack)return new u.ValidationError(v,_,d);const R=Error.stackTraceLimit;Error.stackTraceLimit=0;const w=new u.ValidationError(v,_,d);return Error.stackTraceLimit=R,w},u.details=function(E,d={}){let g=[];const b=[];for(const v of E){if(v instanceof Error){if(d.override!==!1)return{override:v};const R=v.toString();g.push(R),b.push({message:R,type:"override",context:{error:v}});continue}const _=v.toString();g.push(_),b.push({message:_,path:v.path.filter(R=>typeof R!="object"),type:v.code,context:v.local})}return g.length>1&&(g=[...new Set(g)]),{message:g.join(". "),details:b}},u.ValidationError=class extends Error{constructor(E,d,g){super(E),this._original=g,this.details=d}static isError(E){return E instanceof u.ValidationError}},u.ValidationError.prototype.isJoi=!0,u.ValidationError.prototype.name="ValidationError",u.ValidationError.prototype.annotate=c.error},8901:(o,u,f)=>{const c=f(375),p=f(8571),y=f(8160),E=f(6914),d={};u.type=function(g,b){const v=Object.getPrototypeOf(g),_=p(v),R=g._assign(Object.create(_)),w=Object.assign({},b);delete w.base,_._definition=w;const T=v._definition||{};w.messages=E.merge(T.messages,w.messages),w.properties=Object.assign({},T.properties,w.properties),R.type=w.type,w.flags=Object.assign({},T.flags,w.flags);const C=Object.assign({},T.terms);if(w.terms)for(const M in w.terms){const S=w.terms[M];c(R.$_terms[M]===void 0,"Invalid term override for",w.type,M),R.$_terms[M]=S.init,C[M]=S}w.terms=C,w.args||(w.args=T.args),w.prepare=d.prepare(w.prepare,T.prepare),w.coerce&&(typeof w.coerce=="function"&&(w.coerce={method:w.coerce}),w.coerce.from&&!Array.isArray(w.coerce.from)&&(w.coerce={method:w.coerce.method,from:[].concat(w.coerce.from)})),w.coerce=d.coerce(w.coerce,T.coerce),w.validate=d.validate(w.validate,T.validate);const I=Object.assign({},T.rules);if(w.rules)for(const M in w.rules){const S=w.rules[M];c(typeof S=="object","Invalid rule definition for",w.type,M);let x=S.method;if(x===void 0&&(x=function(){return this.$_addRule(M)}),x&&(c(!_[M],"Rule conflict in",w.type,M),_[M]=x),c(!I[M],"Rule conflict in",w.type,M),I[M]=S,S.alias){const O=[].concat(S.alias);for(const P of O)_[P]=S.method}S.args&&(S.argsByName=new Map,S.args=S.args.map(O=>(typeof O=="string"&&(O={name:O}),c(!S.argsByName.has(O.name),"Duplicated argument name",O.name),y.isSchema(O.assert)&&(O.assert=O.assert.strict().label(O.name)),S.argsByName.set(O.name,O),O)))}w.rules=I;const V=Object.assign({},T.modifiers);if(w.modifiers)for(const M in w.modifiers){c(!_[M],"Rule conflict in",w.type,M);const S=w.modifiers[M];c(typeof S=="function","Invalid modifier definition for",w.type,M);const x=function(O){return this.rule({[M]:O})};_[M]=x,V[M]=S}if(w.modifiers=V,w.overrides){_._super=v,R.$_super={};for(const M in w.overrides)c(v[M],"Cannot override missing",M),w.overrides[M][y.symbols.parent]=v[M],R.$_super[M]=v[M].bind(R);Object.assign(_,w.overrides)}w.cast=Object.assign({},T.cast,w.cast);const j=Object.assign({},T.manifest,w.manifest);return j.build=d.build(w.manifest&&w.manifest.build,T.manifest&&T.manifest.build),w.manifest=j,w.rebuild=d.rebuild(w.rebuild,T.rebuild),R},d.build=function(g,b){return g&&b?function(v,_){return b(g(v,_),_)}:g||b},d.coerce=function(g,b){return g&&b?{from:g.from&&b.from?[...new Set([...g.from,...b.from])]:null,method(v,_){let R;if((!b.from||b.from.includes(typeof v))&&(R=b.method(v,_),R)){if(R.errors||R.value===void 0)return R;v=R.value}if(!g.from||g.from.includes(typeof v)){const w=g.method(v,_);if(w)return w}return R}}:g||b},d.prepare=function(g,b){return g&&b?function(v,_){const R=g(v,_);if(R){if(R.errors||R.value===void 0)return R;v=R.value}return b(v,_)||R}:g||b},d.rebuild=function(g,b){return g&&b?function(v){b(v),g(v)}:g||b},d.validate=function(g,b){return g&&b?function(v,_){const R=b(v,_);if(R){if(R.errors&&(!Array.isArray(R.errors)||R.errors.length))return R;v=R.value}return g(v,_)||R}:g||b}},5107:(o,u,f)=>{const c=f(375),p=f(8571),y=f(8652),E=f(8160),d=f(3292),g=f(6354),b=f(8901),v=f(9708),_=f(6133),R=f(3328),w=f(1152);let T;const C={types:{alternatives:f(4946),any:f(8068),array:f(546),boolean:f(4937),date:f(7500),function:f(390),link:f(8785),number:f(3832),object:f(8966),string:f(7417),symbol:f(8826)},aliases:{alt:"alternatives",bool:"boolean",func:"function"},root:function(){const I={_types:new Set(Object.keys(C.types))};for(const V of I._types)I[V]=function(...j){return c(!j.length||["alternatives","link","object"].includes(V),"The",V,"type does not allow arguments"),C.generate(this,C.types[V],j)};for(const V of["allow","custom","disallow","equal","exist","forbidden","invalid","not","only","optional","options","prefs","preferences","required","strip","valid","when"])I[V]=function(...j){return this.any()[V](...j)};Object.assign(I,C.methods);for(const V in C.aliases){const j=C.aliases[V];I[V]=I[j]}return I.x=I.expression,w.setup&&w.setup(I),I}};C.methods={ValidationError:g.ValidationError,version:E.version,cache:y.provider,assert(I,V,...j){C.assert(I,V,!0,j)},attempt:(I,V,...j)=>C.assert(I,V,!1,j),build(I){return c(typeof v.build=="function","Manifest functionality disabled"),v.build(this,I)},checkPreferences(I){E.checkPreferences(I)},compile(I,V){return d.compile(this,I,V)},defaults(I){c(typeof I=="function","modifier must be a function");const V=Object.assign({},this);for(const j of V._types){const M=I(V[j]());c(E.isSchema(M),"modifier must return a valid schema object"),V[j]=function(...S){return C.generate(this,M,S)}}return V},expression:(...I)=>new R(...I),extend(...I){E.verifyFlat(I,"extend"),T=T||f(3378),c(I.length,"You need to provide at least one extension"),this.assert(I,T.extensions);const V=Object.assign({},this);V._types=new Set(V._types);for(let j of I){typeof j=="function"&&(j=j(V)),this.assert(j,T.extension);const M=C.expandExtension(j,V);for(const S of M){c(V[S.type]===void 0||V._types.has(S.type),"Cannot override name",S.type);const x=S.base||this.any(),O=b.type(x,S);V._types.add(S.type),V[S.type]=function(...P){return C.generate(this,O,P)}}}return V},isError:g.ValidationError.isError,isExpression:R.isTemplate,isRef:_.isRef,isSchema:E.isSchema,in:(...I)=>_.in(...I),override:E.symbols.override,ref:(...I)=>_.create(...I),types(){const I={};for(const V of this._types)I[V]=this[V]();for(const V in C.aliases)I[V]=this[V]();return I}},C.assert=function(I,V,j,M){const S=M[0]instanceof Error||typeof M[0]=="string"?M[0]:null,x=S!==null?M[1]:M[0],O=V.validate(I,E.preferences({errors:{stack:!0}},x||{}));let P=O.error;if(!P)return O.value;if(S instanceof Error)throw S;const q=j&&typeof P.annotate=="function"?P.annotate():P.message;throw P instanceof g.ValidationError==0&&(P=p(P)),P.message=S?`${S} ${q}`:q,P},C.generate=function(I,V,j){return c(I,"Must be invoked on a Joi instance."),V.$_root=I,V._definition.args&&j.length?V._definition.args(V,...j):V},C.expandExtension=function(I,V){if(typeof I.type=="string")return[I];const j=[];for(const M of V._types)if(I.type.test(M)){const S=Object.assign({},I);S.type=M,S.base=V[M](),j.push(S)}return j},o.exports=C.root()},6914:(o,u,f)=>{const c=f(375),p=f(8571),y=f(3328);u.compile=function(E,d){if(typeof E=="string")return c(!d,"Cannot set single message string"),new y(E);if(y.isTemplate(E))return c(!d,"Cannot set single message template"),E;c(typeof E=="object"&&!Array.isArray(E),"Invalid message options"),d=d?p(d):{};for(let g in E){const b=E[g];if(g==="root"||y.isTemplate(b)){d[g]=b;continue}if(typeof b=="string"){d[g]=new y(b);continue}c(typeof b=="object"&&!Array.isArray(b),"Invalid message for",g);const v=g;for(g in d[v]=d[v]||{},b){const _=b[g];g==="root"||y.isTemplate(_)?d[v][g]=_:(c(typeof _=="string","Invalid message for",g,"in",v),d[v][g]=new y(_))}}return d},u.decompile=function(E){const d={};for(let g in E){const b=E[g];if(g==="root"){d.root=b;continue}if(y.isTemplate(b)){d[g]=b.describe({compact:!0});continue}const v=g;for(g in d[v]={},b){const _=b[g];g!=="root"?d[v][g]=_.describe({compact:!0}):d[v].root=_}}return d},u.merge=function(E,d){if(!E)return u.compile(d);if(!d)return E;if(typeof d=="string")return new y(d);if(y.isTemplate(d))return d;const g=p(E);for(let b in d){const v=d[b];if(b==="root"||y.isTemplate(v)){g[b]=v;continue}if(typeof v=="string"){g[b]=new y(v);continue}c(typeof v=="object"&&!Array.isArray(v),"Invalid message for",b);const _=b;for(b in g[_]=g[_]||{},v){const R=v[b];b==="root"||y.isTemplate(R)?g[_][b]=R:(c(typeof R=="string","Invalid message for",b,"in",_),g[_][b]=new y(R))}}return g}},2294:(o,u,f)=>{const c=f(375),p=f(8160),y=f(6133),E={};u.Ids=E.Ids=class{constructor(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}clone(){const d=new E.Ids;return d._byId=new Map(this._byId),d._byKey=new Map(this._byKey),d._schemaChain=this._schemaChain,d}concat(d){d._schemaChain&&(this._schemaChain=!0);for(const[g,b]of d._byId.entries())c(!this._byKey.has(g),"Schema id conflicts with existing key:",g),this._byId.set(g,b);for(const[g,b]of d._byKey.entries())c(!this._byId.has(g),"Schema key conflicts with existing id:",g),this._byKey.set(g,b)}fork(d,g,b){const v=this._collect(d);v.push({schema:b});const _=v.shift();let R={id:_.id,schema:g(_.schema)};c(p.isSchema(R.schema),"adjuster function failed to return a joi schema type");for(const w of v)R={id:w.id,schema:E.fork(w.schema,R.id,R.schema)};return R.schema}labels(d,g=[]){const b=d[0],v=this._get(b);if(!v)return[...g,...d].join(".");const _=d.slice(1);return g=[...g,v.schema._flags.label||b],_.length?v.schema._ids.labels(_,g):g.join(".")}reach(d,g=[]){const b=d[0],v=this._get(b);c(v,"Schema does not contain path",[...g,...d].join("."));const _=d.slice(1);return _.length?v.schema._ids.reach(_,[...g,b]):v.schema}register(d,{key:g}={}){if(!d||!p.isSchema(d))return;(d.$_property("schemaChain")||d._ids._schemaChain)&&(this._schemaChain=!0);const b=d._flags.id;if(b){const v=this._byId.get(b);c(!v||v.schema===d,"Cannot add different schemas with the same id:",b),c(!this._byKey.has(b),"Schema id conflicts with existing key:",b),this._byId.set(b,{schema:d,id:b})}g&&(c(!this._byKey.has(g),"Schema already contains key:",g),c(!this._byId.has(g),"Schema key conflicts with existing id:",g),this._byKey.set(g,{schema:d,id:g}))}reset(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}_collect(d,g=[],b=[]){const v=d[0],_=this._get(v);c(_,"Schema does not contain path",[...g,...d].join(".")),b=[_,...b];const R=d.slice(1);return R.length?_.schema._ids._collect(R,[...g,v],b):b}_get(d){return this._byId.get(d)||this._byKey.get(d)}},E.fork=function(d,g,b){const v=u.schema(d,{each:(_,{key:R})=>{if(g===(_._flags.id||R))return b},ref:!1});return v?v.$_mutateRebuild():d},u.schema=function(d,g){let b;for(const v in d._flags){if(v[0]==="_")continue;const _=E.scan(d._flags[v],{source:"flags",name:v},g);_!==void 0&&(b=b||d.clone(),b._flags[v]=_)}for(let v=0;v<d._rules.length;++v){const _=d._rules[v],R=E.scan(_.args,{source:"rules",name:_.name},g);if(R!==void 0){b=b||d.clone();const w=Object.assign({},_);w.args=R,b._rules[v]=w,b._singleRules.get(_.name)===_&&b._singleRules.set(_.name,w)}}for(const v in d.$_terms){if(v[0]==="_")continue;const _=E.scan(d.$_terms[v],{source:"terms",name:v},g);_!==void 0&&(b=b||d.clone(),b.$_terms[v]=_)}return b},E.scan=function(d,g,b,v,_){const R=v||[];if(d===null||typeof d!="object")return;let w;if(Array.isArray(d)){for(let T=0;T<d.length;++T){const C=g.source==="terms"&&g.name==="keys"&&d[T].key,I=E.scan(d[T],g,b,[T,...R],C);I!==void 0&&(w=w||d.slice(),w[T]=I)}return w}if(b.schema!==!1&&p.isSchema(d)||b.ref!==!1&&y.isRef(d)){const T=b.each(d,{...g,path:R,key:_});return T===d?void 0:T}for(const T in d){if(T[0]==="_")continue;const C=E.scan(d[T],g,b,[T,...R],_);C!==void 0&&(w=w||Object.assign({},d),w[T]=C)}return w}},6133:(o,u,f)=>{const c=f(375),p=f(8571),y=f(9621),E=f(8160);let d;const g={symbol:Symbol("ref"),defaults:{adjust:null,in:!1,iterables:null,map:null,separator:".",type:"value"}};u.create=function(b,v={}){c(typeof b=="string","Invalid reference key:",b),E.assertOptions(v,["adjust","ancestor","in","iterables","map","prefix","render","separator"]),c(!v.prefix||typeof v.prefix=="object","options.prefix must be of type object");const _=Object.assign({},g.defaults,v);delete _.prefix;const R=_.separator,w=g.context(b,R,v.prefix);if(_.type=w.type,b=w.key,_.type==="value")if(w.root&&(c(!R||b[0]!==R,"Cannot specify relative path with root prefix"),_.ancestor="root",b||(b=null)),R&&R===b)b=null,_.ancestor=0;else if(_.ancestor!==void 0)c(!R||!b||b[0]!==R,"Cannot combine prefix with ancestor option");else{const[T,C]=g.ancestor(b,R);C&&(b=b.slice(C))===""&&(b=null),_.ancestor=T}return _.path=R?b===null?[]:b.split(R):[b],new g.Ref(_)},u.in=function(b,v={}){return u.create(b,{...v,in:!0})},u.isRef=function(b){return!!b&&!!b[E.symbols.ref]},g.Ref=class{constructor(b){c(typeof b=="object","Invalid reference construction"),E.assertOptions(b,["adjust","ancestor","in","iterables","map","path","render","separator","type","depth","key","root","display"]),c([!1,void 0].includes(b.separator)||typeof b.separator=="string"&&b.separator.length===1,"Invalid separator"),c(!b.adjust||typeof b.adjust=="function","options.adjust must be a function"),c(!b.map||Array.isArray(b.map),"options.map must be an array"),c(!b.map||!b.adjust,"Cannot set both map and adjust options"),Object.assign(this,g.defaults,b),c(this.type==="value"||this.ancestor===void 0,"Non-value references cannot reference ancestors"),Array.isArray(this.map)&&(this.map=new Map(this.map)),this.depth=this.path.length,this.key=this.path.length?this.path.join(this.separator):null,this.root=this.path[0],this.updateDisplay()}resolve(b,v,_,R,w={}){return c(!this.in||w.in,"Invalid in() reference usage"),this.type==="global"?this._resolve(_.context,v,w):this.type==="local"?this._resolve(R,v,w):this.ancestor?this.ancestor==="root"?this._resolve(v.ancestors[v.ancestors.length-1],v,w):(c(this.ancestor<=v.ancestors.length,"Invalid reference exceeds the schema root:",this.display),this._resolve(v.ancestors[this.ancestor-1],v,w)):this._resolve(b,v,w)}_resolve(b,v,_){let R;if(this.type==="value"&&v.mainstay.shadow&&_.shadow!==!1&&(R=v.mainstay.shadow.get(this.absolute(v))),R===void 0&&(R=y(b,this.path,{iterables:this.iterables,functions:!0})),this.adjust&&(R=this.adjust(R)),this.map){const w=this.map.get(R);w!==void 0&&(R=w)}return v.mainstay&&v.mainstay.tracer.resolve(v,this,R),R}toString(){return this.display}absolute(b){return[...b.path.slice(0,-this.ancestor),...this.path]}clone(){return new g.Ref(this)}describe(){const b={path:this.path};this.type!=="value"&&(b.type=this.type),this.separator!=="."&&(b.separator=this.separator),this.type==="value"&&this.ancestor!==1&&(b.ancestor=this.ancestor),this.map&&(b.map=[...this.map]);for(const v of["adjust","iterables","render"])this[v]!==null&&this[v]!==void 0&&(b[v]=this[v]);return this.in!==!1&&(b.in=!0),{ref:b}}updateDisplay(){const b=this.key!==null?this.key:"";if(this.type!=="value")return void(this.display=`ref:${this.type}:${b}`);if(!this.separator)return void(this.display=`ref:${b}`);if(!this.ancestor)return void(this.display=`ref:${this.separator}${b}`);if(this.ancestor==="root")return void(this.display=`ref:root:${b}`);if(this.ancestor===1)return void(this.display=`ref:${b||".."}`);const v=new Array(this.ancestor+1).fill(this.separator).join("");this.display=`ref:${v}${b||""}`}},g.Ref.prototype[E.symbols.ref]=!0,u.build=function(b){return(b=Object.assign({},g.defaults,b)).type==="value"&&b.ancestor===void 0&&(b.ancestor=1),new g.Ref(b)},g.context=function(b,v,_={}){if(b=b.trim(),_){const R=_.global===void 0?"$":_.global;if(R!==v&&b.startsWith(R))return{key:b.slice(R.length),type:"global"};const w=_.local===void 0?"#":_.local;if(w!==v&&b.startsWith(w))return{key:b.slice(w.length),type:"local"};const T=_.root===void 0?"/":_.root;if(T!==v&&b.startsWith(T))return{key:b.slice(T.length),type:"value",root:!0}}return{key:b,type:"value"}},g.ancestor=function(b,v){if(!v)return[1,0];if(b[0]!==v)return[1,0];if(b[1]!==v)return[0,1];let _=2;for(;b[_]===v;)++_;return[_-1,_]},u.toSibling=0,u.toParent=1,u.Manager=class{constructor(){this.refs=[]}register(b,v){if(b)if(v=v===void 0?u.toParent:v,Array.isArray(b))for(const _ of b)this.register(_,v);else if(E.isSchema(b))for(const _ of b._refs.refs)_.ancestor-v>=0&&this.refs.push({ancestor:_.ancestor-v,root:_.root});else u.isRef(b)&&b.type==="value"&&b.ancestor-v>=0&&this.refs.push({ancestor:b.ancestor-v,root:b.root}),d=d||f(3328),d.isTemplate(b)&&this.register(b.refs(),v)}get length(){return this.refs.length}clone(){const b=new u.Manager;return b.refs=p(this.refs),b}reset(){this.refs=[]}roots(){return this.refs.filter(b=>!b.ancestor).map(b=>b.root)}}},3378:(o,u,f)=>{const c=f(5107),p={};p.wrap=c.string().min(1).max(2).allow(!1),u.preferences=c.object({allowUnknown:c.boolean(),abortEarly:c.boolean(),artifacts:c.boolean(),cache:c.boolean(),context:c.object(),convert:c.boolean(),dateFormat:c.valid("date","iso","string","time","utc"),debug:c.boolean(),errors:{escapeHtml:c.boolean(),label:c.valid("path","key",!1),language:[c.string(),c.object().ref()],render:c.boolean(),stack:c.boolean(),wrap:{label:p.wrap,array:p.wrap,string:p.wrap}},externals:c.boolean(),messages:c.object(),noDefaults:c.boolean(),nonEnumerables:c.boolean(),presence:c.valid("required","optional","forbidden"),skipFunctions:c.boolean(),stripUnknown:c.object({arrays:c.boolean(),objects:c.boolean()}).or("arrays","objects").allow(!0,!1),warnings:c.boolean()}).strict(),p.nameRx=/^[a-zA-Z0-9]\w*$/,p.rule=c.object({alias:c.array().items(c.string().pattern(p.nameRx)).single(),args:c.array().items(c.string(),c.object({name:c.string().pattern(p.nameRx).required(),ref:c.boolean(),assert:c.alternatives([c.function(),c.object().schema()]).conditional("ref",{is:!0,then:c.required()}),normalize:c.function(),message:c.string().when("assert",{is:c.function(),then:c.required()})})),convert:c.boolean(),manifest:c.boolean(),method:c.function().allow(!1),multi:c.boolean(),validate:c.function()}),u.extension=c.object({type:c.alternatives([c.string(),c.object().regex()]).required(),args:c.function(),cast:c.object().pattern(p.nameRx,c.object({from:c.function().maxArity(1).required(),to:c.function().minArity(1).maxArity(2).required()})),base:c.object().schema().when("type",{is:c.object().regex(),then:c.forbidden()}),coerce:[c.function().maxArity(3),c.object({method:c.function().maxArity(3).required(),from:c.array().items(c.string()).single()})],flags:c.object().pattern(p.nameRx,c.object({setter:c.string(),default:c.any()})),manifest:{build:c.function().arity(2)},messages:[c.object(),c.string()],modifiers:c.object().pattern(p.nameRx,c.function().minArity(1).maxArity(2)),overrides:c.object().pattern(p.nameRx,c.function()),prepare:c.function().maxArity(3),rebuild:c.function().arity(1),rules:c.object().pattern(p.nameRx,p.rule),terms:c.object().pattern(p.nameRx,c.object({init:c.array().allow(null).required(),manifest:c.object().pattern(/.+/,[c.valid("schema","single"),c.object({mapped:c.object({from:c.string().required(),to:c.string().required()}).required()})])})),validate:c.function().maxArity(3)}).strict(),u.extensions=c.array().items(c.object(),c.function().arity(1)).strict(),p.desc={buffer:c.object({buffer:c.string()}),func:c.object({function:c.function().required(),options:{literal:!0}}),override:c.object({override:!0}),ref:c.object({ref:c.object({type:c.valid("value","global","local"),path:c.array().required(),separator:c.string().length(1).allow(!1),ancestor:c.number().min(0).integer().allow("root"),map:c.array().items(c.array().length(2)).min(1),adjust:c.function(),iterables:c.boolean(),in:c.boolean(),render:c.boolean()}).required()}),regex:c.object({regex:c.string().min(3)}),special:c.object({special:c.valid("deep").required()}),template:c.object({template:c.string().required(),options:c.object()}),value:c.object({value:c.alternatives([c.object(),c.array()]).required()})},p.desc.entity=c.alternatives([c.array().items(c.link("...")),c.boolean(),c.function(),c.number(),c.string(),p.desc.buffer,p.desc.func,p.desc.ref,p.desc.regex,p.desc.special,p.desc.template,p.desc.value,c.link("/")]),p.desc.values=c.array().items(null,c.boolean(),c.function(),c.number().allow(1/0,-1/0),c.string().allow(""),c.symbol(),p.desc.buffer,p.desc.func,p.desc.override,p.desc.ref,p.desc.regex,p.desc.template,p.desc.value),p.desc.messages=c.object().pattern(/.+/,[c.string(),p.desc.template,c.object().pattern(/.+/,[c.string(),p.desc.template])]),u.description=c.object({type:c.string().required(),flags:c.object({cast:c.string(),default:c.any(),description:c.string(),empty:c.link("/"),failover:p.desc.entity,id:c.string(),label:c.string(),only:!0,presence:["optional","required","forbidden"],result:["raw","strip"],strip:c.boolean(),unit:c.string()}).unknown(),preferences:{allowUnknown:c.boolean(),abortEarly:c.boolean(),artifacts:c.boolean(),cache:c.boolean(),convert:c.boolean(),dateFormat:["date","iso","string","time","utc"],errors:{escapeHtml:c.boolean(),label:["path","key"],language:[c.string(),p.desc.ref],wrap:{label:p.wrap,array:p.wrap}},externals:c.boolean(),messages:p.desc.messages,noDefaults:c.boolean(),nonEnumerables:c.boolean(),presence:["required","optional","forbidden"],skipFunctions:c.boolean(),stripUnknown:c.object({arrays:c.boolean(),objects:c.boolean()}).or("arrays","objects").allow(!0,!1),warnings:c.boolean()},allow:p.desc.values,invalid:p.desc.values,rules:c.array().min(1).items({name:c.string().required(),args:c.object().min(1),keep:c.boolean(),message:[c.string(),p.desc.messages],warn:c.boolean()}),keys:c.object().pattern(/.*/,c.link("/")),link:p.desc.ref}).pattern(/^[a-z]\w*$/,c.any())},493:(o,u,f)=>{const c=f(8571),p=f(9621),y=f(8160),E={value:Symbol("value")};o.exports=E.State=class{constructor(d,g,b){this.path=d,this.ancestors=g,this.mainstay=b.mainstay,this.schemas=b.schemas,this.debug=null}localize(d,g=null,b=null){const v=new E.State(d,g,this);return b&&v.schemas&&(v.schemas=[E.schemas(b),...v.schemas]),v}nest(d,g){const b=new E.State(this.path,this.ancestors,this);return b.schemas=b.schemas&&[E.schemas(d),...b.schemas],b.debug=g,b}shadow(d,g){this.mainstay.shadow=this.mainstay.shadow||new E.Shadow,this.mainstay.shadow.set(this.path,d,g)}snapshot(){this.mainstay.shadow&&(this._snapshot=c(this.mainstay.shadow.node(this.path))),this.mainstay.snapshot()}restore(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this._snapshot),this._snapshot=void 0),this.mainstay.restore()}commit(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this._snapshot),this._snapshot=void 0),this.mainstay.commit()}},E.schemas=function(d){return y.isSchema(d)?{schema:d}:d},E.Shadow=class{constructor(){this._values=null}set(d,g,b){if(!d.length||b==="strip"&&typeof d[d.length-1]=="number")return;this._values=this._values||new Map;let v=this._values;for(let _=0;_<d.length;++_){const R=d[_];let w=v.get(R);w||(w=new Map,v.set(R,w)),v=w}v[E.value]=g}get(d){const g=this.node(d);if(g)return g[E.value]}node(d){if(this._values)return p(this._values,d,{iterables:!0})}override(d,g){if(!this._values)return;const b=d.slice(0,-1),v=d[d.length-1],_=p(this._values,b,{iterables:!0});g?_.set(v,g):_&&_.delete(v)}}},3328:(o,u,f)=>{const c=f(375),p=f(8571),y=f(5277),E=f(1447),d=f(8160),g=f(6354),b=f(6133),v={symbol:Symbol("template"),opens:new Array(1e3).join("\0"),closes:new Array(1e3).join(""),dateFormat:{date:Date.prototype.toDateString,iso:Date.prototype.toISOString,string:Date.prototype.toString,time:Date.prototype.toTimeString,utc:Date.prototype.toUTCString}};o.exports=v.Template=class{constructor(_,R){if(c(typeof _=="string","Template source must be a string"),c(!_.includes("\0")&&!_.includes(""),"Template source cannot contain reserved control characters"),this.source=_,this.rendered=_,this._template=null,R){const{functions:w,...T}=R;this._settings=Object.keys(T).length?p(T):void 0,this._functions=w,this._functions&&(c(Object.keys(this._functions).every(C=>typeof C=="string"),"Functions keys must be strings"),c(Object.values(this._functions).every(C=>typeof C=="function"),"Functions values must be functions"))}else this._settings=void 0,this._functions=void 0;this._parse()}_parse(){if(!this.source.includes("{"))return;const _=v.encode(this.source),R=v.split(_);let w=!1;const T=[],C=R.shift();C&&T.push(C);for(const I of R){const V=I[0]!=="{",j=V?"}":"}}",M=I.indexOf(j);if(M===-1||I[1]==="{"){T.push(`{${v.decode(I)}`);continue}let S=I.slice(V?0:1,M);const x=S[0]===":";x&&(S=S.slice(1));const O=this._ref(v.decode(S),{raw:V,wrapped:x});T.push(O),typeof O!="string"&&(w=!0);const P=I.slice(M+j.length);P&&T.push(v.decode(P))}w?this._template=T:this.rendered=T.join("")}static date(_,R){return v.dateFormat[R.dateFormat].call(_)}describe(_={}){if(!this._settings&&_.compact)return this.source;const R={template:this.source};return this._settings&&(R.options=this._settings),this._functions&&(R.functions=this._functions),R}static build(_){return new v.Template(_.template,_.options||_.functions?{..._.options,functions:_.functions}:void 0)}isDynamic(){return!!this._template}static isTemplate(_){return!!_&&!!_[d.symbols.template]}refs(){if(!this._template)return;const _=[];for(const R of this._template)typeof R!="string"&&_.push(...R.refs);return _}resolve(_,R,w,T){return this._template&&this._template.length===1?this._part(this._template[0],_,R,w,T,{}):this.render(_,R,w,T)}_part(_,...R){return _.ref?_.ref.resolve(...R):_.formula.evaluate(R)}render(_,R,w,T,C={}){if(!this.isDynamic())return this.rendered;const I=[];for(const V of this._template)if(typeof V=="string")I.push(V);else{const j=this._part(V,_,R,w,T,C),M=v.stringify(j,_,R,w,T,C);if(M!==void 0){const S=V.raw||(C.errors&&C.errors.escapeHtml)===!1?M:y(M);I.push(v.wrap(S,V.wrapped&&w.errors.wrap.label))}}return I.join("")}_ref(_,{raw:R,wrapped:w}){const T=[],C=V=>{const j=b.create(V,this._settings);return T.push(j),M=>{const S=j.resolve(...M);return S!==void 0?S:null}};try{const V=this._functions?{...v.functions,...this._functions}:v.functions;var I=new E.Parser(_,{reference:C,functions:V,constants:v.constants})}catch(V){throw V.message=`Invalid template variable "${_}" fails due to: ${V.message}`,V}if(I.single){if(I.single.type==="reference"){const V=T[0];return{ref:V,raw:R,refs:T,wrapped:w||V.type==="local"&&V.key==="label"}}return v.stringify(I.single.value)}return{formula:I,raw:R,refs:T}}toString(){return this.source}},v.Template.prototype[d.symbols.template]=!0,v.Template.prototype.isImmutable=!0,v.encode=function(_){return _.replace(/\\(\{+)/g,(R,w)=>v.opens.slice(0,w.length)).replace(/\\(\}+)/g,(R,w)=>v.closes.slice(0,w.length))},v.decode=function(_){return _.replace(/\u0000/g,"{").replace(/\u0001/g,"}")},v.split=function(_){const R=[];let w="";for(let T=0;T<_.length;++T){const C=_[T];if(C==="{"){let I="";for(;T+1<_.length&&_[T+1]==="{";)I+="{",++T;R.push(w),w=I}else w+=C}return R.push(w),R},v.wrap=function(_,R){return R?R.length===1?`${R}${_}${R}`:`${R[0]}${_}${R[1]}`:_},v.stringify=function(_,R,w,T,C,I={}){const V=typeof _,j=T&&T.errors&&T.errors.wrap||{};let M=!1;if(b.isRef(_)&&_.render&&(M=_.in,_=_.resolve(R,w,T,C,{in:_.in,...I})),_===null)return"null";if(V==="string")return v.wrap(_,I.arrayItems&&j.string);if(V==="number"||V==="function"||V==="symbol")return _.toString();if(V!=="object")return JSON.stringify(_);if(_ instanceof Date)return v.Template.date(_,T);if(_ instanceof Map){const x=[];for(const[O,P]of _.entries())x.push(`${O.toString()} -> ${P.toString()}`);_=x}if(!Array.isArray(_))return _.toString();const S=[];for(const x of _)S.push(v.stringify(x,R,w,T,C,{arrayItems:!0,...I}));return v.wrap(S.join(", "),!M&&j.array)},v.constants={true:!0,false:!1,null:null,second:1e3,minute:6e4,hour:36e5,day:864e5},v.functions={if:(_,R,w)=>_?R:w,length:_=>typeof _=="string"?_.length:_&&typeof _=="object"?Array.isArray(_)?_.length:Object.keys(_).length:null,msg(_){const[R,w,T,C,I]=this,V=I.messages;if(!V)return"";const j=g.template(R,V[0],_,w,T)||g.template(R,V[1],_,w,T);return j?j.render(R,w,T,C,I):""},number:_=>typeof _=="number"?_:typeof _=="string"?parseFloat(_):typeof _=="boolean"?_?1:0:_ instanceof Date?_.getTime():null}},4946:(o,u,f)=>{const c=f(375),p=f(1687),y=f(8068),E=f(8160),d=f(3292),g=f(6354),b=f(6133),v={};o.exports=y.extend({type:"alternatives",flags:{match:{default:"any"}},terms:{matches:{init:[],register:b.toSibling}},args:(_,...R)=>R.length===1&&Array.isArray(R[0])?_.try(...R[0]):_.try(...R),validate(_,R){const{schema:w,error:T,state:C,prefs:I}=R;if(w._flags.match){const j=[],M=[];for(let x=0;x<w.$_terms.matches.length;++x){const O=w.$_terms.matches[x],P=C.nest(O.schema,`match.${x}`);P.snapshot();const q=O.schema.$_validate(_,P,I);q.errors?(M.push(q.errors),P.restore()):(j.push(q.value),P.commit())}if(j.length===0)return{errors:T("alternatives.any",{details:M.map(x=>g.details(x,{override:!1}))})};if(w._flags.match==="one")return j.length===1?{value:j[0]}:{errors:T("alternatives.one")};if(j.length!==w.$_terms.matches.length)return{errors:T("alternatives.all",{details:M.map(x=>g.details(x,{override:!1}))})};const S=x=>x.$_terms.matches.some(O=>O.schema.type==="object"||O.schema.type==="alternatives"&&S(O.schema));return S(w)?{value:j.reduce((x,O)=>p(x,O,{mergeArrays:!1}))}:{value:j[j.length-1]}}const V=[];for(let j=0;j<w.$_terms.matches.length;++j){const M=w.$_terms.matches[j];if(M.schema){const O=C.nest(M.schema,`match.${j}`);O.snapshot();const P=M.schema.$_validate(_,O,I);if(!P.errors)return O.commit(),P;O.restore(),V.push({schema:M.schema,reports:P.errors});continue}const S=M.ref?M.ref.resolve(_,C,I):_,x=M.is?[M]:M.switch;for(let O=0;O<x.length;++O){const P=x[O],{is:q,then:U,otherwise:he}=P,pe=`match.${j}${M.switch?"."+O:""}`;if(q.$_match(S,C.nest(q,`${pe}.is`),I)){if(U)return U.$_validate(_,C.nest(U,`${pe}.then`),I)}else if(he)return he.$_validate(_,C.nest(he,`${pe}.otherwise`),I)}}return v.errors(V,R)},rules:{conditional:{method(_,R){c(!this._flags._endedSwitch,"Unreachable condition"),c(!this._flags.match,"Cannot combine match mode",this._flags.match,"with conditional rule"),c(R.break===void 0,"Cannot use break option with alternatives conditional");const w=this.clone(),T=d.when(w,_,R),C=T.is?[T]:T.switch;for(const I of C)if(I.then&&I.otherwise){w.$_setFlag("_endedSwitch",!0,{clone:!1});break}return w.$_terms.matches.push(T),w.$_mutateRebuild()}},match:{method(_){if(c(["any","one","all"].includes(_),"Invalid alternatives match mode",_),_!=="any")for(const R of this.$_terms.matches)c(R.schema,"Cannot combine match mode",_,"with conditional rules");return this.$_setFlag("match",_)}},try:{method(..._){c(_.length,"Missing alternative schemas"),E.verifyFlat(_,"try"),c(!this._flags._endedSwitch,"Unreachable condition");const R=this.clone();for(const w of _)R.$_terms.matches.push({schema:R.$_compile(w)});return R.$_mutateRebuild()}}},overrides:{label(_){return this.$_parent("label",_).$_modify({each:(R,w)=>w.path[0]!=="is"&&typeof R._flags.label!="string"?R.label(_):void 0,ref:!1})}},rebuild(_){_.$_modify({each:R=>{E.isSchema(R)&&R.type==="array"&&_.$_setFlag("_arrayItems",!0,{clone:!1})}})},manifest:{build(_,R){if(R.matches)for(const w of R.matches){const{schema:T,ref:C,is:I,not:V,then:j,otherwise:M}=w;_=T?_.try(T):C?_.conditional(C,{is:I,then:j,not:V,otherwise:M,switch:w.switch}):_.conditional(I,{then:j,otherwise:M})}return _}},messages:{"alternatives.all":"{{#label}} does not match all of the required types","alternatives.any":"{{#label}} does not match any of the allowed types","alternatives.match":"{{#label}} does not match any of the allowed types","alternatives.one":"{{#label}} matches more than one allowed type","alternatives.types":"{{#label}} must be one of {{#types}}"}}),v.errors=function(_,{error:R,state:w}){if(!_.length)return{errors:R("alternatives.any")};if(_.length===1)return{errors:_[0].reports};const T=new Set,C=[];for(const{reports:I,schema:V}of _){if(I.length>1)return v.unmatched(_,R);const j=I[0];if(j instanceof g.Report==0)return v.unmatched(_,R);if(j.state.path.length!==w.path.length){C.push({type:V.type,report:j});continue}if(j.code==="any.only"){for(const x of j.local.valids)T.add(x);continue}const[M,S]=j.code.split(".");S!=="base"?C.push({type:V.type,report:j}):j.code==="object.base"?T.add(j.local.type):T.add(M)}return C.length?C.length===1?{errors:C[0].report}:v.unmatched(_,R):{errors:R("alternatives.types",{types:[...T]})}},v.unmatched=function(_,R){const w=[];for(const T of _)w.push(...T.reports);return{errors:R("alternatives.match",g.details(w,{override:!1}))}}},8068:(o,u,f)=>{const c=f(375),p=f(7629),y=f(8160),E=f(6914);o.exports=p.extend({type:"any",flags:{only:{default:!1}},terms:{alterations:{init:null},examples:{init:null},externals:{init:null},metas:{init:[]},notes:{init:[]},shared:{init:null},tags:{init:[]},whens:{init:null}},rules:{custom:{method(d,g){return c(typeof d=="function","Method must be a function"),c(g===void 0||g&&typeof g=="string","Description must be a non-empty string"),this.$_addRule({name:"custom",args:{method:d,description:g}})},validate(d,g,{method:b}){try{return b(d,g)}catch(v){return g.error("any.custom",{error:v})}},args:["method","description"],multi:!0},messages:{method(d){return this.prefs({messages:d})}},shared:{method(d){c(y.isSchema(d)&&d._flags.id,"Schema must be a schema with an id");const g=this.clone();return g.$_terms.shared=g.$_terms.shared||[],g.$_terms.shared.push(d),g.$_mutateRegister(d),g}},warning:{method(d,g){return c(d&&typeof d=="string","Invalid warning code"),this.$_addRule({name:"warning",args:{code:d,local:g},warn:!0})},validate:(d,g,{code:b,local:v})=>g.error(b,v),args:["code","local"],multi:!0}},modifiers:{keep(d,g=!0){d.keep=g},message(d,g){d.message=E.compile(g)},warn(d,g=!0){d.warn=g}},manifest:{build(d,g){for(const b in g){const v=g[b];if(["examples","externals","metas","notes","tags"].includes(b))for(const _ of v)d=d[b.slice(0,-1)](_);else if(b!=="alterations")if(b!=="whens"){if(b==="shared")for(const _ of v)d=d.shared(_)}else for(const _ of v){const{ref:R,is:w,not:T,then:C,otherwise:I,concat:V}=_;d=V?d.concat(V):R?d.when(R,{is:w,not:T,then:C,otherwise:I,switch:_.switch,break:_.break}):d.when(w,{then:C,otherwise:I,break:_.break})}else{const _={};for(const{target:R,adjuster:w}of v)_[R]=w;d=d.alter(_)}}return d}},messages:{"any.custom":"{{#label}} failed custom validation because {{#error.message}}","any.default":"{{#label}} threw an error when running default method","any.failover":"{{#label}} threw an error when running failover method","any.invalid":"{{#label}} contains an invalid value","any.only":'{{#label}} must be {if(#valids.length == 1, "", "one of ")}{{#valids}}',"any.ref":"{{#label}} {{#arg}} references {{:#ref}} which {{#reason}}","any.required":"{{#label}} is required","any.unknown":"{{#label}} is not allowed"}})},546:(o,u,f)=>{const c=f(375),p=f(9474),y=f(9621),E=f(8068),d=f(8160),g=f(3292),b={};o.exports=E.extend({type:"array",flags:{single:{default:!1},sparse:{default:!1}},terms:{items:{init:[],manifest:"schema"},ordered:{init:[],manifest:"schema"},_exclusions:{init:[]},_inclusions:{init:[]},_requireds:{init:[]}},coerce:{from:"object",method(v,{schema:_,state:R,prefs:w}){if(!Array.isArray(v))return;const T=_.$_getRule("sort");return T?b.sort(_,v,T.args.options,R,w):void 0}},validate(v,{schema:_,error:R}){if(!Array.isArray(v)){if(_._flags.single){const w=[v];return w[d.symbols.arraySingle]=!0,{value:w}}return{errors:R("array.base")}}if(_.$_getRule("items")||_.$_terms.externals)return{value:v.slice()}},rules:{has:{method(v){v=this.$_compile(v,{appendPath:!0});const _=this.$_addRule({name:"has",args:{schema:v}});return _.$_mutateRegister(v),_},validate(v,{state:_,prefs:R,error:w},{schema:T}){const C=[v,..._.ancestors];for(let V=0;V<v.length;++V){const j=_.localize([..._.path,V],C,T);if(T.$_match(v[V],j,R))return v}const I=T._flags.label;return I?w("array.hasKnown",{patternLabel:I}):w("array.hasUnknown",null)},multi:!0},items:{method(...v){d.verifyFlat(v,"items");const _=this.$_addRule("items");for(let R=0;R<v.length;++R){const w=d.tryWithPath(()=>this.$_compile(v[R]),R,{append:!0});_.$_terms.items.push(w)}return _.$_mutateRebuild()},validate(v,{schema:_,error:R,state:w,prefs:T,errorsArray:C}){const I=_.$_terms._requireds.slice(),V=_.$_terms.ordered.slice(),j=[..._.$_terms._inclusions,...I],M=!v[d.symbols.arraySingle];delete v[d.symbols.arraySingle];const S=C();let x=v.length;for(let O=0;O<x;++O){const P=v[O];let q=!1,U=!1;const he=M?O:new Number(O),pe=[...w.path,he];if(!_._flags.sparse&&P===void 0){if(S.push(R("array.sparse",{key:he,path:pe,pos:O,value:void 0},w.localize(pe))),T.abortEarly)return S;V.shift();continue}const Q=[v,...w.ancestors];for(const F of _.$_terms._exclusions)if(F.$_match(P,w.localize(pe,Q,F),T,{presence:"ignore"})){if(S.push(R("array.excludes",{pos:O,value:P},w.localize(pe))),T.abortEarly)return S;q=!0,V.shift();break}if(q)continue;if(_.$_terms.ordered.length){if(V.length){const F=V.shift(),re=F.$_validate(P,w.localize(pe,Q,F),T);if(re.errors){if(S.push(...re.errors),T.abortEarly)return S}else if(F._flags.result==="strip")b.fastSplice(v,O),--O,--x;else{if(!_._flags.sparse&&re.value===void 0){if(S.push(R("array.sparse",{key:he,path:pe,pos:O,value:void 0},w.localize(pe))),T.abortEarly)return S;continue}v[O]=re.value}continue}if(!_.$_terms.items.length){if(S.push(R("array.orderedLength",{pos:O,limit:_.$_terms.ordered.length})),T.abortEarly)return S;break}}const se=[];let ye=I.length;for(let F=0;F<ye;++F){const re=w.localize(pe,Q,I[F]);re.snapshot();const me=I[F].$_validate(P,re,T);if(se[F]=me,!me.errors){if(re.commit(),v[O]=me.value,U=!0,b.fastSplice(I,F),--F,--ye,!_._flags.sparse&&me.value===void 0&&(S.push(R("array.sparse",{key:he,path:pe,pos:O,value:void 0},w.localize(pe))),T.abortEarly))return S;break}re.restore()}if(U)continue;const Re=T.stripUnknown&&!!T.stripUnknown.arrays||!1;ye=j.length;for(const F of j){let re;const me=I.indexOf(F);if(me!==-1)re=se[me];else{const ce=w.localize(pe,Q,F);if(ce.snapshot(),re=F.$_validate(P,ce,T),!re.errors){ce.commit(),F._flags.result==="strip"?(b.fastSplice(v,O),--O,--x):_._flags.sparse||re.value!==void 0?v[O]=re.value:(S.push(R("array.sparse",{key:he,path:pe,pos:O,value:void 0},w.localize(pe))),q=!0),U=!0;break}ce.restore()}if(ye===1){if(Re){b.fastSplice(v,O),--O,--x,U=!0;break}if(S.push(...re.errors),T.abortEarly)return S;q=!0;break}}if(!q&&(_.$_terms._inclusions.length||_.$_terms._requireds.length)&&!U){if(Re){b.fastSplice(v,O),--O,--x;continue}if(S.push(R("array.includes",{pos:O,value:P},w.localize(pe))),T.abortEarly)return S}}return I.length&&b.fillMissedErrors(_,S,I,v,w,T),V.length&&(b.fillOrderedErrors(_,S,V,v,w,T),S.length||b.fillDefault(V,v,w,T)),S.length?S:v},priority:!0,manifest:!1},length:{method(v){return this.$_addRule({name:"length",args:{limit:v},operator:"="})},validate:(v,_,{limit:R},{name:w,operator:T,args:C})=>d.compare(v.length,R,T)?v:_.error("array."+w,{limit:C.limit,value:v}),args:[{name:"limit",ref:!0,assert:d.limit,message:"must be a positive integer"}]},max:{method(v){return this.$_addRule({name:"max",method:"length",args:{limit:v},operator:"<="})}},min:{method(v){return this.$_addRule({name:"min",method:"length",args:{limit:v},operator:">="})}},ordered:{method(...v){d.verifyFlat(v,"ordered");const _=this.$_addRule("items");for(let R=0;R<v.length;++R){const w=d.tryWithPath(()=>this.$_compile(v[R]),R,{append:!0});b.validateSingle(w,_),_.$_mutateRegister(w),_.$_terms.ordered.push(w)}return _.$_mutateRebuild()}},single:{method(v){const _=v===void 0||!!v;return c(!_||!this._flags._arrayItems,"Cannot specify single rule when array has array items"),this.$_setFlag("single",_)}},sort:{method(v={}){d.assertOptions(v,["by","order"]);const _={order:v.order||"ascending"};return v.by&&(_.by=g.ref(v.by,{ancestor:0}),c(!_.by.ancestor,"Cannot sort by ancestor")),this.$_addRule({name:"sort",args:{options:_}})},validate(v,{error:_,state:R,prefs:w,schema:T},{options:C}){const{value:I,errors:V}=b.sort(T,v,C,R,w);if(V)return V;for(let j=0;j<v.length;++j)if(v[j]!==I[j])return _("array.sort",{order:C.order,by:C.by?C.by.key:"value"});return v},convert:!0},sparse:{method(v){const _=v===void 0||!!v;return this._flags.sparse===_?this:(_?this.clone():this.$_addRule("items")).$_setFlag("sparse",_,{clone:!1})}},unique:{method(v,_={}){c(!v||typeof v=="function"||typeof v=="string","comparator must be a function or a string"),d.assertOptions(_,["ignoreUndefined","separator"]);const R={name:"unique",args:{options:_,comparator:v}};if(v)if(typeof v=="string"){const w=d.default(_.separator,".");R.path=w?v.split(w):[v]}else R.comparator=v;return this.$_addRule(R)},validate(v,{state:_,error:R,schema:w},{comparator:T,options:C},{comparator:I,path:V}){const j={string:Object.create(null),number:Object.create(null),undefined:Object.create(null),boolean:Object.create(null),bigint:Object.create(null),object:new Map,function:new Map,custom:new Map},M=I||p,S=C.ignoreUndefined;for(let x=0;x<v.length;++x){const O=V?y(v[x],V):v[x],P=I?j.custom:j[typeof O];if(c(P,"Failed to find unique map container for type",typeof O),P instanceof Map){const q=P.entries();let U;for(;!(U=q.next()).done;)if(M(U.value[0],O)){const he=_.localize([..._.path,x],[v,..._.ancestors]),pe={pos:x,value:v[x],dupePos:U.value[1],dupeValue:v[U.value[1]]};return V&&(pe.path=T),R("array.unique",pe,he)}P.set(O,x)}else{if((!S||O!==void 0)&&P[O]!==void 0){const q={pos:x,value:v[x],dupePos:P[O],dupeValue:v[P[O]]};return V&&(q.path=T),R("array.unique",q,_.localize([..._.path,x],[v,..._.ancestors]))}P[O]=x}}return v},args:["comparator","options"],multi:!0}},cast:{set:{from:Array.isArray,to:(v,_)=>new Set(v)}},rebuild(v){v.$_terms._inclusions=[],v.$_terms._exclusions=[],v.$_terms._requireds=[];for(const _ of v.$_terms.items)b.validateSingle(_,v),_._flags.presence==="required"?v.$_terms._requireds.push(_):_._flags.presence==="forbidden"?v.$_terms._exclusions.push(_):v.$_terms._inclusions.push(_);for(const _ of v.$_terms.ordered)b.validateSingle(_,v)},manifest:{build:(v,_)=>(_.items&&(v=v.items(..._.items)),_.ordered&&(v=v.ordered(..._.ordered)),v)},messages:{"array.base":"{{#label}} must be an array","array.excludes":"{{#label}} contains an excluded value","array.hasKnown":"{{#label}} does not contain at least one required match for type {:#patternLabel}","array.hasUnknown":"{{#label}} does not contain at least one required match","array.includes":"{{#label}} does not match any of the allowed types","array.includesRequiredBoth":"{{#label}} does not contain {{#knownMisses}} and {{#unknownMisses}} other required value(s)","array.includesRequiredKnowns":"{{#label}} does not contain {{#knownMisses}}","array.includesRequiredUnknowns":"{{#label}} does not contain {{#unknownMisses}} required value(s)","array.length":"{{#label}} must contain {{#limit}} items","array.max":"{{#label}} must contain less than or equal to {{#limit}} items","array.min":"{{#label}} must contain at least {{#limit}} items","array.orderedLength":"{{#label}} must contain at most {{#limit}} items","array.sort":"{{#label}} must be sorted in {#order} order by {{#by}}","array.sort.mismatching":"{{#label}} cannot be sorted due to mismatching types","array.sort.unsupported":"{{#label}} cannot be sorted due to unsupported type {#type}","array.sparse":"{{#label}} must not be a sparse array item","array.unique":"{{#label}} contains a duplicate value"}}),b.fillMissedErrors=function(v,_,R,w,T,C){const I=[];let V=0;for(const j of R){const M=j._flags.label;M?I.push(M):++V}I.length?V?_.push(v.$_createError("array.includesRequiredBoth",w,{knownMisses:I,unknownMisses:V},T,C)):_.push(v.$_createError("array.includesRequiredKnowns",w,{knownMisses:I},T,C)):_.push(v.$_createError("array.includesRequiredUnknowns",w,{unknownMisses:V},T,C))},b.fillOrderedErrors=function(v,_,R,w,T,C){const I=[];for(const V of R)V._flags.presence==="required"&&I.push(V);I.length&&b.fillMissedErrors(v,_,I,w,T,C)},b.fillDefault=function(v,_,R,w){const T=[];let C=!0;for(let I=v.length-1;I>=0;--I){const V=v[I],j=[_,...R.ancestors],M=V.$_validate(void 0,R.localize(R.path,j,V),w).value;if(C){if(M===void 0)continue;C=!1}T.unshift(M)}T.length&&_.push(...T)},b.fastSplice=function(v,_){let R=_;for(;R<v.length;)v[R++]=v[R];--v.length},b.validateSingle=function(v,_){(v.type==="array"||v._flags._arrayItems)&&(c(!_._flags.single,"Cannot specify array item with single rule enabled"),_.$_setFlag("_arrayItems",!0,{clone:!1}))},b.sort=function(v,_,R,w,T){const C=R.order==="ascending"?1:-1,I=-1*C,V=C,j=(M,S)=>{let x=b.compare(M,S,I,V);if(x!==null||(R.by&&(M=R.by.resolve(M,w,T),S=R.by.resolve(S,w,T)),x=b.compare(M,S,I,V),x!==null))return x;const O=typeof M;if(O!==typeof S)throw v.$_createError("array.sort.mismatching",_,null,w,T);if(O!=="number"&&O!=="string")throw v.$_createError("array.sort.unsupported",_,{type:O},w,T);return O==="number"?(M-S)*C:M<S?I:V};try{return{value:_.slice().sort(j)}}catch(M){return{errors:M}}},b.compare=function(v,_,R,w){return v===_?0:v===void 0?1:_===void 0?-1:v===null?w:_===null?R:null}},4937:(o,u,f)=>{const c=f(375),p=f(8068),y=f(8160),E=f(2036),d={isBool:function(g){return typeof g=="boolean"}};o.exports=p.extend({type:"boolean",flags:{sensitive:{default:!1}},terms:{falsy:{init:null,manifest:"values"},truthy:{init:null,manifest:"values"}},coerce(g,{schema:b}){if(typeof g!="boolean"){if(typeof g=="string"){const v=b._flags.sensitive?g:g.toLowerCase();g=v==="true"||v!=="false"&&g}return typeof g!="boolean"&&(g=b.$_terms.truthy&&b.$_terms.truthy.has(g,null,null,!b._flags.sensitive)||(!b.$_terms.falsy||!b.$_terms.falsy.has(g,null,null,!b._flags.sensitive))&&g),{value:g}}},validate(g,{error:b}){if(typeof g!="boolean")return{value:g,errors:b("boolean.base")}},rules:{truthy:{method(...g){y.verifyFlat(g,"truthy");const b=this.clone();b.$_terms.truthy=b.$_terms.truthy||new E;for(let v=0;v<g.length;++v){const _=g[v];c(_!==void 0,"Cannot call truthy with undefined"),b.$_terms.truthy.add(_)}return b}},falsy:{method(...g){y.verifyFlat(g,"falsy");const b=this.clone();b.$_terms.falsy=b.$_terms.falsy||new E;for(let v=0;v<g.length;++v){const _=g[v];c(_!==void 0,"Cannot call falsy with undefined"),b.$_terms.falsy.add(_)}return b}},sensitive:{method(g=!0){return this.$_setFlag("sensitive",g)}}},cast:{number:{from:d.isBool,to:(g,b)=>g?1:0},string:{from:d.isBool,to:(g,b)=>g?"true":"false"}},manifest:{build:(g,b)=>(b.truthy&&(g=g.truthy(...b.truthy)),b.falsy&&(g=g.falsy(...b.falsy)),g)},messages:{"boolean.base":"{{#label}} must be a boolean"}})},7500:(o,u,f)=>{const c=f(375),p=f(8068),y=f(8160),E=f(3328),d={isDate:function(g){return g instanceof Date}};o.exports=p.extend({type:"date",coerce:{from:["number","string"],method:(g,{schema:b})=>({value:d.parse(g,b._flags.format)||g})},validate(g,{schema:b,error:v,prefs:_}){if(g instanceof Date&&!isNaN(g.getTime()))return;const R=b._flags.format;return _.convert&&R&&typeof g=="string"?{value:g,errors:v("date.format",{format:R})}:{value:g,errors:v("date.base")}},rules:{compare:{method:!1,validate(g,b,{date:v},{name:_,operator:R,args:w}){const T=v==="now"?Date.now():v.getTime();return y.compare(g.getTime(),T,R)?g:b.error("date."+_,{limit:w.date,value:g})},args:[{name:"date",ref:!0,normalize:g=>g==="now"?g:d.parse(g),assert:g=>g!==null,message:"must have a valid date format"}]},format:{method(g){return c(["iso","javascript","unix"].includes(g),"Unknown date format",g),this.$_setFlag("format",g)}},greater:{method(g){return this.$_addRule({name:"greater",method:"compare",args:{date:g},operator:">"})}},iso:{method(){return this.format("iso")}},less:{method(g){return this.$_addRule({name:"less",method:"compare",args:{date:g},operator:"<"})}},max:{method(g){return this.$_addRule({name:"max",method:"compare",args:{date:g},operator:"<="})}},min:{method(g){return this.$_addRule({name:"min",method:"compare",args:{date:g},operator:">="})}},timestamp:{method(g="javascript"){return c(["javascript","unix"].includes(g),'"type" must be one of "javascript, unix"'),this.format(g)}}},cast:{number:{from:d.isDate,to:(g,b)=>g.getTime()},string:{from:d.isDate,to:(g,{prefs:b})=>E.date(g,b)}},messages:{"date.base":"{{#label}} must be a valid date","date.format":'{{#label}} must be in {msg("date.format." + #format) || #format} format',"date.greater":"{{#label}} must be greater than {{:#limit}}","date.less":"{{#label}} must be less than {{:#limit}}","date.max":"{{#label}} must be less than or equal to {{:#limit}}","date.min":"{{#label}} must be greater than or equal to {{:#limit}}","date.format.iso":"ISO 8601 date","date.format.javascript":"timestamp or number of milliseconds","date.format.unix":"timestamp or number of seconds"}}),d.parse=function(g,b){if(g instanceof Date)return g;if(typeof g!="string"&&(isNaN(g)||!isFinite(g))||/^\s*$/.test(g))return null;if(b==="iso")return y.isIsoDate(g)?d.date(g.toString()):null;const v=g;if(typeof g=="string"&&/^[+-]?\d+(\.\d+)?$/.test(g)&&(g=parseFloat(g)),b){if(b==="javascript")return d.date(1*g);if(b==="unix")return d.date(1e3*g);if(typeof v=="string")return null}return d.date(g)},d.date=function(g){const b=new Date(g);return isNaN(b.getTime())?null:b}},390:(o,u,f)=>{const c=f(375),p=f(7824);o.exports=p.extend({type:"function",properties:{typeof:"function"},rules:{arity:{method(y){return c(Number.isSafeInteger(y)&&y>=0,"n must be a positive integer"),this.$_addRule({name:"arity",args:{n:y}})},validate:(y,E,{n:d})=>y.length===d?y:E.error("function.arity",{n:d})},class:{method(){return this.$_addRule("class")},validate:(y,E)=>/^\s*class\s/.test(y.toString())?y:E.error("function.class",{value:y})},minArity:{method(y){return c(Number.isSafeInteger(y)&&y>0,"n must be a strict positive integer"),this.$_addRule({name:"minArity",args:{n:y}})},validate:(y,E,{n:d})=>y.length>=d?y:E.error("function.minArity",{n:d})},maxArity:{method(y){return c(Number.isSafeInteger(y)&&y>=0,"n must be a positive integer"),this.$_addRule({name:"maxArity",args:{n:y}})},validate:(y,E,{n:d})=>y.length<=d?y:E.error("function.maxArity",{n:d})}},messages:{"function.arity":"{{#label}} must have an arity of {{#n}}","function.class":"{{#label}} must be a class","function.maxArity":"{{#label}} must have an arity lesser or equal to {{#n}}","function.minArity":"{{#label}} must have an arity greater or equal to {{#n}}"}})},7824:(o,u,f)=>{const c=f(978),p=f(375),y=f(8571),E=f(3652),d=f(8068),g=f(8160),b=f(3292),v=f(6354),_=f(6133),R=f(3328),w={renameDefaults:{alias:!1,multiple:!1,override:!1}};o.exports=d.extend({type:"_keys",properties:{typeof:"object"},flags:{unknown:{default:void 0}},terms:{dependencies:{init:null},keys:{init:null,manifest:{mapped:{from:"schema",to:"key"}}},patterns:{init:null},renames:{init:null}},args:(T,C)=>T.keys(C),validate(T,{schema:C,error:I,state:V,prefs:j}){if(!T||typeof T!==C.$_property("typeof")||Array.isArray(T))return{value:T,errors:I("object.base",{type:C.$_property("typeof")})};if(!(C.$_terms.renames||C.$_terms.dependencies||C.$_terms.keys||C.$_terms.patterns||C.$_terms.externals))return;T=w.clone(T,j);const M=[];if(C.$_terms.renames&&!w.rename(C,T,V,j,M))return{value:T,errors:M};if(!C.$_terms.keys&&!C.$_terms.patterns&&!C.$_terms.dependencies)return{value:T,errors:M};const S=new Set(Object.keys(T));if(C.$_terms.keys){const x=[T,...V.ancestors];for(const O of C.$_terms.keys){const P=O.key,q=T[P];S.delete(P);const U=V.localize([...V.path,P],x,O),he=O.schema.$_validate(q,U,j);if(he.errors){if(j.abortEarly)return{value:T,errors:he.errors};he.value!==void 0&&(T[P]=he.value),M.push(...he.errors)}else O.schema._flags.result==="strip"||he.value===void 0&&q!==void 0?delete T[P]:he.value!==void 0&&(T[P]=he.value)}}if(S.size||C._flags._hasPatternMatch){const x=w.unknown(C,T,S,M,V,j);if(x)return x}if(C.$_terms.dependencies)for(const x of C.$_terms.dependencies){if(x.key!==null&&w.isPresent(x.options)(x.key.resolve(T,V,j,null,{shadow:!1}))===!1)continue;const O=w.dependencies[x.rel](C,x,T,V,j);if(O){const P=C.$_createError(O.code,T,O.context,V,j);if(j.abortEarly)return{value:T,errors:P};M.push(P)}}return{value:T,errors:M}},rules:{and:{method(...T){return g.verifyFlat(T,"and"),w.dependency(this,"and",null,T)}},append:{method(T){return T==null||Object.keys(T).length===0?this:this.keys(T)}},assert:{method(T,C,I){R.isTemplate(T)||(T=b.ref(T)),p(I===void 0||typeof I=="string","Message must be a string"),C=this.$_compile(C,{appendPath:!0});const V=this.$_addRule({name:"assert",args:{subject:T,schema:C,message:I}});return V.$_mutateRegister(T),V.$_mutateRegister(C),V},validate(T,{error:C,prefs:I,state:V},{subject:j,schema:M,message:S}){const x=j.resolve(T,V,I),O=_.isRef(j)?j.absolute(V):[];return M.$_match(x,V.localize(O,[T,...V.ancestors],M),I)?T:C("object.assert",{subject:j,message:S})},args:["subject","schema","message"],multi:!0},instance:{method(T,C){return p(typeof T=="function","constructor must be a function"),C=C||T.name,this.$_addRule({name:"instance",args:{constructor:T,name:C}})},validate:(T,C,{constructor:I,name:V})=>T instanceof I?T:C.error("object.instance",{type:V,value:T}),args:["constructor","name"]},keys:{method(T){p(T===void 0||typeof T=="object","Object schema must be a valid object"),p(!g.isSchema(T),"Object schema cannot be a joi schema");const C=this.clone();if(T)if(Object.keys(T).length){C.$_terms.keys=C.$_terms.keys?C.$_terms.keys.filter(I=>!T.hasOwnProperty(I.key)):new w.Keys;for(const I in T)g.tryWithPath(()=>C.$_terms.keys.push({key:I,schema:this.$_compile(T[I])}),I)}else C.$_terms.keys=new w.Keys;else C.$_terms.keys=null;return C.$_mutateRebuild()}},length:{method(T){return this.$_addRule({name:"length",args:{limit:T},operator:"="})},validate:(T,C,{limit:I},{name:V,operator:j,args:M})=>g.compare(Object.keys(T).length,I,j)?T:C.error("object."+V,{limit:M.limit,value:T}),args:[{name:"limit",ref:!0,assert:g.limit,message:"must be a positive integer"}]},max:{method(T){return this.$_addRule({name:"max",method:"length",args:{limit:T},operator:"<="})}},min:{method(T){return this.$_addRule({name:"min",method:"length",args:{limit:T},operator:">="})}},nand:{method(...T){return g.verifyFlat(T,"nand"),w.dependency(this,"nand",null,T)}},or:{method(...T){return g.verifyFlat(T,"or"),w.dependency(this,"or",null,T)}},oxor:{method(...T){return w.dependency(this,"oxor",null,T)}},pattern:{method(T,C,I={}){const V=T instanceof RegExp;V||(T=this.$_compile(T,{appendPath:!0})),p(C!==void 0,"Invalid rule"),g.assertOptions(I,["fallthrough","matches"]),V&&p(!T.flags.includes("g")&&!T.flags.includes("y"),"pattern should not use global or sticky mode"),C=this.$_compile(C,{appendPath:!0});const j=this.clone();j.$_terms.patterns=j.$_terms.patterns||[];const M={[V?"regex":"schema"]:T,rule:C};return I.matches&&(M.matches=this.$_compile(I.matches),M.matches.type!=="array"&&(M.matches=M.matches.$_root.array().items(M.matches)),j.$_mutateRegister(M.matches),j.$_setFlag("_hasPatternMatch",!0,{clone:!1})),I.fallthrough&&(M.fallthrough=!0),j.$_terms.patterns.push(M),j.$_mutateRegister(C),j}},ref:{method(){return this.$_addRule("ref")},validate:(T,C)=>_.isRef(T)?T:C.error("object.refType",{value:T})},regex:{method(){return this.$_addRule("regex")},validate:(T,C)=>T instanceof RegExp?T:C.error("object.regex",{value:T})},rename:{method(T,C,I={}){p(typeof T=="string"||T instanceof RegExp,"Rename missing the from argument"),p(typeof C=="string"||C instanceof R,"Invalid rename to argument"),p(C!==T,"Cannot rename key to same name:",T),g.assertOptions(I,["alias","ignoreUndefined","override","multiple"]);const V=this.clone();V.$_terms.renames=V.$_terms.renames||[];for(const j of V.$_terms.renames)p(j.from!==T,"Cannot rename the same key multiple times");return C instanceof R&&V.$_mutateRegister(C),V.$_terms.renames.push({from:T,to:C,options:c(w.renameDefaults,I)}),V}},schema:{method(T="any"){return this.$_addRule({name:"schema",args:{type:T}})},validate:(T,C,{type:I})=>!g.isSchema(T)||I!=="any"&&T.type!==I?C.error("object.schema",{type:I}):T},unknown:{method(T){return this.$_setFlag("unknown",T!==!1)}},with:{method(T,C,I={}){return w.dependency(this,"with",T,C,I)}},without:{method(T,C,I={}){return w.dependency(this,"without",T,C,I)}},xor:{method(...T){return g.verifyFlat(T,"xor"),w.dependency(this,"xor",null,T)}}},overrides:{default(T,C){return T===void 0&&(T=g.symbols.deepDefault),this.$_parent("default",T,C)}},rebuild(T){if(T.$_terms.keys){const C=new E.Sorter;for(const I of T.$_terms.keys)g.tryWithPath(()=>C.add(I,{after:I.schema.$_rootReferences(),group:I.key}),I.key);T.$_terms.keys=new w.Keys(...C.nodes)}},manifest:{build(T,C){if(C.keys&&(T=T.keys(C.keys)),C.dependencies)for(const{rel:I,key:V=null,peers:j,options:M}of C.dependencies)T=w.dependency(T,I,V,j,M);if(C.patterns)for(const{regex:I,schema:V,rule:j,fallthrough:M,matches:S}of C.patterns)T=T.pattern(I||V,j,{fallthrough:M,matches:S});if(C.renames)for(const{from:I,to:V,options:j}of C.renames)T=T.rename(I,V,j);return T}},messages:{"object.and":"{{#label}} contains {{#presentWithLabels}} without its required peers {{#missingWithLabels}}","object.assert":'{{#label}} is invalid because {if(#subject.key, `"` + #subject.key + `" failed to ` + (#message || "pass the assertion test"), #message || "the assertion failed")}',"object.base":"{{#label}} must be of type {{#type}}","object.instance":"{{#label}} must be an instance of {{:#type}}","object.length":'{{#label}} must have {{#limit}} key{if(#limit == 1, "", "s")}',"object.max":'{{#label}} must have less than or equal to {{#limit}} key{if(#limit == 1, "", "s")}',"object.min":'{{#label}} must have at least {{#limit}} key{if(#limit == 1, "", "s")}',"object.missing":"{{#label}} must contain at least one of {{#peersWithLabels}}","object.nand":"{{:#mainWithLabel}} must not exist simultaneously with {{#peersWithLabels}}","object.oxor":"{{#label}} contains a conflict between optional exclusive peers {{#peersWithLabels}}","object.pattern.match":"{{#label}} keys failed to match pattern requirements","object.refType":"{{#label}} must be a Joi reference","object.regex":"{{#label}} must be a RegExp object","object.rename.multiple":"{{#label}} cannot rename {{:#from}} because multiple renames are disabled and another key was already renamed to {{:#to}}","object.rename.override":"{{#label}} cannot rename {{:#from}} because override is disabled and target {{:#to}} exists","object.schema":"{{#label}} must be a Joi schema of {{#type}} type","object.unknown":"{{#label}} is not allowed","object.with":"{{:#mainWithLabel}} missing required peer {{:#peerWithLabel}}","object.without":"{{:#mainWithLabel}} conflict with forbidden peer {{:#peerWithLabel}}","object.xor":"{{#label}} contains a conflict between exclusive peers {{#peersWithLabels}}"}}),w.clone=function(T,C){if(typeof T=="object"){if(C.nonEnumerables)return y(T,{shallow:!0});const V=Object.create(Object.getPrototypeOf(T));return Object.assign(V,T),V}const I=function(...V){return T.apply(this,V)};return I.prototype=y(T.prototype),Object.defineProperty(I,"name",{value:T.name,writable:!1}),Object.defineProperty(I,"length",{value:T.length,writable:!1}),Object.assign(I,T),I},w.dependency=function(T,C,I,V,j){p(I===null||typeof I=="string",C,"key must be a strings"),j||(j=V.length>1&&typeof V[V.length-1]=="object"?V.pop():{}),g.assertOptions(j,["separator","isPresent"]),V=[].concat(V);const M=g.default(j.separator,"."),S=[];for(const O of V)p(typeof O=="string",C,"peers must be strings"),S.push(b.ref(O,{separator:M,ancestor:0,prefix:!1}));I!==null&&(I=b.ref(I,{separator:M,ancestor:0,prefix:!1}));const x=T.clone();return x.$_terms.dependencies=x.$_terms.dependencies||[],x.$_terms.dependencies.push(new w.Dependency(C,I,S,V,j)),x},w.dependencies={and(T,C,I,V,j){const M=[],S=[],x=C.peers.length,O=w.isPresent(C.options);for(const P of C.peers)O(P.resolve(I,V,j,null,{shadow:!1}))===!1?M.push(P.key):S.push(P.key);if(M.length!==x&&S.length!==x)return{code:"object.and",context:{present:S,presentWithLabels:w.keysToLabels(T,S),missing:M,missingWithLabels:w.keysToLabels(T,M)}}},nand(T,C,I,V,j){const M=[],S=w.isPresent(C.options);for(const P of C.peers)S(P.resolve(I,V,j,null,{shadow:!1}))&&M.push(P.key);if(M.length!==C.peers.length)return;const x=C.paths[0],O=C.paths.slice(1);return{code:"object.nand",context:{main:x,mainWithLabel:w.keysToLabels(T,x),peers:O,peersWithLabels:w.keysToLabels(T,O)}}},or(T,C,I,V,j){const M=w.isPresent(C.options);for(const S of C.peers)if(M(S.resolve(I,V,j,null,{shadow:!1})))return;return{code:"object.missing",context:{peers:C.paths,peersWithLabels:w.keysToLabels(T,C.paths)}}},oxor(T,C,I,V,j){const M=[],S=w.isPresent(C.options);for(const O of C.peers)S(O.resolve(I,V,j,null,{shadow:!1}))&&M.push(O.key);if(!M.length||M.length===1)return;const x={peers:C.paths,peersWithLabels:w.keysToLabels(T,C.paths)};return x.present=M,x.presentWithLabels=w.keysToLabels(T,M),{code:"object.oxor",context:x}},with(T,C,I,V,j){const M=w.isPresent(C.options);for(const S of C.peers)if(M(S.resolve(I,V,j,null,{shadow:!1}))===!1)return{code:"object.with",context:{main:C.key.key,mainWithLabel:w.keysToLabels(T,C.key.key),peer:S.key,peerWithLabel:w.keysToLabels(T,S.key)}}},without(T,C,I,V,j){const M=w.isPresent(C.options);for(const S of C.peers)if(M(S.resolve(I,V,j,null,{shadow:!1})))return{code:"object.without",context:{main:C.key.key,mainWithLabel:w.keysToLabels(T,C.key.key),peer:S.key,peerWithLabel:w.keysToLabels(T,S.key)}}},xor(T,C,I,V,j){const M=[],S=w.isPresent(C.options);for(const O of C.peers)S(O.resolve(I,V,j,null,{shadow:!1}))&&M.push(O.key);if(M.length===1)return;const x={peers:C.paths,peersWithLabels:w.keysToLabels(T,C.paths)};return M.length===0?{code:"object.missing",context:x}:(x.present=M,x.presentWithLabels=w.keysToLabels(T,M),{code:"object.xor",context:x})}},w.keysToLabels=function(T,C){return Array.isArray(C)?C.map(I=>T.$_mapLabels(I)):T.$_mapLabels(C)},w.isPresent=function(T){return typeof T.isPresent=="function"?T.isPresent:C=>C!==void 0},w.rename=function(T,C,I,V,j){const M={};for(const S of T.$_terms.renames){const x=[],O=typeof S.from!="string";if(O)for(const P in C){if(C[P]===void 0&&S.options.ignoreUndefined||P===S.to)continue;const q=S.from.exec(P);q&&x.push({from:P,to:S.to,match:q})}else!Object.prototype.hasOwnProperty.call(C,S.from)||C[S.from]===void 0&&S.options.ignoreUndefined||x.push(S);for(const P of x){const q=P.from;let U=P.to;if(U instanceof R&&(U=U.render(C,I,V,P.match)),q!==U){if(!S.options.multiple&&M[U]&&(j.push(T.$_createError("object.rename.multiple",C,{from:q,to:U,pattern:O},I,V)),V.abortEarly)||Object.prototype.hasOwnProperty.call(C,U)&&!S.options.override&&!M[U]&&(j.push(T.$_createError("object.rename.override",C,{from:q,to:U,pattern:O},I,V)),V.abortEarly))return!1;C[q]===void 0?delete C[U]:C[U]=C[q],M[U]=!0,S.options.alias||delete C[q]}}}return!0},w.unknown=function(T,C,I,V,j,M){if(T.$_terms.patterns){let S=!1;const x=T.$_terms.patterns.map(P=>{if(P.matches)return S=!0,[]}),O=[C,...j.ancestors];for(const P of I){const q=C[P],U=[...j.path,P];for(let he=0;he<T.$_terms.patterns.length;++he){const pe=T.$_terms.patterns[he];if(pe.regex){const ye=pe.regex.test(P);if(j.mainstay.tracer.debug(j,"rule",`pattern.${he}`,ye?"pass":"error"),!ye)continue}else if(!pe.schema.$_match(P,j.nest(pe.schema,`pattern.${he}`),M))continue;I.delete(P);const Q=j.localize(U,O,{schema:pe.rule,key:P}),se=pe.rule.$_validate(q,Q,M);if(se.errors){if(M.abortEarly)return{value:C,errors:se.errors};V.push(...se.errors)}if(pe.matches&&x[he].push(P),C[P]=se.value,!pe.fallthrough)break}}if(S)for(let P=0;P<x.length;++P){const q=x[P];if(!q)continue;const U=T.$_terms.patterns[P].matches,he=j.localize(j.path,O,U),pe=U.$_validate(q,he,M);if(pe.errors){const Q=v.details(pe.errors,{override:!1});Q.matches=q;const se=T.$_createError("object.pattern.match",C,Q,j,M);if(M.abortEarly)return{value:C,errors:se};V.push(se)}}}if(I.size&&(T.$_terms.keys||T.$_terms.patterns)){if(M.stripUnknown&&T._flags.unknown===void 0||M.skipFunctions){const S=!(!M.stripUnknown||M.stripUnknown!==!0&&!M.stripUnknown.objects);for(const x of I)S?(delete C[x],I.delete(x)):typeof C[x]=="function"&&I.delete(x)}if(!g.default(T._flags.unknown,M.allowUnknown))for(const S of I){const x=j.localize([...j.path,S],[]),O=T.$_createError("object.unknown",C[S],{child:S},x,M,{flags:!1});if(M.abortEarly)return{value:C,errors:O};V.push(O)}}},w.Dependency=class{constructor(T,C,I,V,j){this.rel=T,this.key=C,this.peers=I,this.paths=V,this.options=j}describe(){const T={rel:this.rel,peers:this.paths};return this.key!==null&&(T.key=this.key.key),this.peers[0].separator!=="."&&(T.options={...T.options,separator:this.peers[0].separator}),this.options.isPresent&&(T.options={...T.options,isPresent:this.options.isPresent}),T}},w.Keys=class extends Array{concat(T){const C=this.slice(),I=new Map;for(let V=0;V<C.length;++V)I.set(C[V].key,V);for(const V of T){const j=V.key,M=I.get(j);M!==void 0?C[M]={key:j,schema:C[M].schema.concat(V.schema)}:C.push(V)}return C}}},8785:(o,u,f)=>{const c=f(375),p=f(8068),y=f(8160),E=f(3292),d=f(6354),g={};o.exports=p.extend({type:"link",properties:{schemaChain:!0},terms:{link:{init:null,manifest:"single",register:!1}},args:(b,v)=>b.ref(v),validate(b,{schema:v,state:_,prefs:R}){c(v.$_terms.link,"Uninitialized link schema");const w=g.generate(v,b,_,R),T=v.$_terms.link[0].ref;return w.$_validate(b,_.nest(w,`link:${T.display}:${w.type}`),R)},generate:(b,v,_,R)=>g.generate(b,v,_,R),rules:{ref:{method(b){c(!this.$_terms.link,"Cannot reinitialize schema"),b=E.ref(b),c(b.type==="value"||b.type==="local","Invalid reference type:",b.type),c(b.type==="local"||b.ancestor==="root"||b.ancestor>0,"Link cannot reference itself");const v=this.clone();return v.$_terms.link=[{ref:b}],v}},relative:{method(b=!0){return this.$_setFlag("relative",b)}}},overrides:{concat(b){c(this.$_terms.link,"Uninitialized link schema"),c(y.isSchema(b),"Invalid schema object"),c(b.type!=="link","Cannot merge type link with another link");const v=this.clone();return v.$_terms.whens||(v.$_terms.whens=[]),v.$_terms.whens.push({concat:b}),v.$_mutateRebuild()}},manifest:{build:(b,v)=>(c(v.link,"Invalid link description missing link"),b.ref(v.link))}}),g.generate=function(b,v,_,R){let w=_.mainstay.links.get(b);if(w)return w._generate(v,_,R).schema;const T=b.$_terms.link[0].ref,{perspective:C,path:I}=g.perspective(T,_);g.assert(C,"which is outside of schema boundaries",T,b,_,R);try{w=I.length?C.$_reach(I):C}catch{g.assert(!1,"to non-existing schema",T,b,_,R)}return g.assert(w.type!=="link","which is another link",T,b,_,R),b._flags.relative||_.mainstay.links.set(b,w),w._generate(v,_,R).schema},g.perspective=function(b,v){if(b.type==="local"){for(const{schema:_,key:R}of v.schemas){if((_._flags.id||R)===b.path[0])return{perspective:_,path:b.path.slice(1)};if(_.$_terms.shared){for(const w of _.$_terms.shared)if(w._flags.id===b.path[0])return{perspective:w,path:b.path.slice(1)}}}return{perspective:null,path:null}}return b.ancestor==="root"?{perspective:v.schemas[v.schemas.length-1].schema,path:b.path}:{perspective:v.schemas[b.ancestor]&&v.schemas[b.ancestor].schema,path:b.path}},g.assert=function(b,v,_,R,w,T){b||c(!1,`"${d.label(R._flags,w,T)}" contains link reference "${_.display}" ${v}`)}},3832:(o,u,f)=>{const c=f(375),p=f(8068),y=f(8160),E={numberRx:/^\s*[+-]?(?:(?:\d+(?:\.\d*)?)|(?:\.\d+))(?:e([+-]?\d+))?\s*$/i,precisionRx:/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/,exponentialPartRegex:/[eE][+-]?\d+$/,leadingSignAndZerosRegex:/^[+-]?(0*)?/,dotRegex:/\./,trailingZerosRegex:/0+$/,decimalPlaces(d){const g=d.toString(),b=g.indexOf("."),v=g.indexOf("e");return(b<0?0:(v<0?g.length:v)-b-1)+(v<0?0:Math.max(0,-parseInt(g.slice(v+1))))}};o.exports=p.extend({type:"number",flags:{unsafe:{default:!1}},coerce:{from:"string",method(d,{schema:g,error:b}){if(!d.match(E.numberRx))return;d=d.trim();const v={value:parseFloat(d)};if(v.value===0&&(v.value=0),!g._flags.unsafe)if(d.match(/e/i)){if(E.extractSignificantDigits(d)!==E.extractSignificantDigits(String(v.value)))return v.errors=b("number.unsafe"),v}else{const _=v.value.toString();if(_.match(/e/i))return v;if(_!==E.normalizeDecimal(d))return v.errors=b("number.unsafe"),v}return v}},validate(d,{schema:g,error:b,prefs:v}){if(d===1/0||d===-1/0)return{value:d,errors:b("number.infinity")};if(!y.isNumber(d))return{value:d,errors:b("number.base")};const _={value:d};if(v.convert){const R=g.$_getRule("precision");if(R){const w=Math.pow(10,R.args.limit);_.value=Math.round(_.value*w)/w}}return _.value===0&&(_.value=0),!g._flags.unsafe&&(d>Number.MAX_SAFE_INTEGER||d<Number.MIN_SAFE_INTEGER)&&(_.errors=b("number.unsafe")),_},rules:{compare:{method:!1,validate:(d,g,{limit:b},{name:v,operator:_,args:R})=>y.compare(d,b,_)?d:g.error("number."+v,{limit:R.limit,value:d}),args:[{name:"limit",ref:!0,assert:y.isNumber,message:"must be a number"}]},greater:{method(d){return this.$_addRule({name:"greater",method:"compare",args:{limit:d},operator:">"})}},integer:{method(){return this.$_addRule("integer")},validate:(d,g)=>Math.trunc(d)-d==0?d:g.error("number.integer")},less:{method(d){return this.$_addRule({name:"less",method:"compare",args:{limit:d},operator:"<"})}},max:{method(d){return this.$_addRule({name:"max",method:"compare",args:{limit:d},operator:"<="})}},min:{method(d){return this.$_addRule({name:"min",method:"compare",args:{limit:d},operator:">="})}},multiple:{method(d){const g=typeof d=="number"?E.decimalPlaces(d):null,b=Math.pow(10,g);return this.$_addRule({name:"multiple",args:{base:d,baseDecimalPlace:g,pfactor:b}})},validate:(d,g,{base:b,baseDecimalPlace:v,pfactor:_},R)=>E.decimalPlaces(d)>v?g.error("number.multiple",{multiple:R.args.base,value:d}):Math.round(_*d)%Math.round(_*b)==0?d:g.error("number.multiple",{multiple:R.args.base,value:d}),args:[{name:"base",ref:!0,assert:d=>typeof d=="number"&&isFinite(d)&&d>0,message:"must be a positive number"},"baseDecimalPlace","pfactor"],multi:!0},negative:{method(){return this.sign("negative")}},port:{method(){return this.$_addRule("port")},validate:(d,g)=>Number.isSafeInteger(d)&&d>=0&&d<=65535?d:g.error("number.port")},positive:{method(){return this.sign("positive")}},precision:{method(d){return c(Number.isSafeInteger(d),"limit must be an integer"),this.$_addRule({name:"precision",args:{limit:d}})},validate(d,g,{limit:b}){const v=d.toString().match(E.precisionRx);return Math.max((v[1]?v[1].length:0)-(v[2]?parseInt(v[2],10):0),0)<=b?d:g.error("number.precision",{limit:b,value:d})},convert:!0},sign:{method(d){return c(["negative","positive"].includes(d),"Invalid sign",d),this.$_addRule({name:"sign",args:{sign:d}})},validate:(d,g,{sign:b})=>b==="negative"&&d<0||b==="positive"&&d>0?d:g.error(`number.${b}`)},unsafe:{method(d=!0){return c(typeof d=="boolean","enabled must be a boolean"),this.$_setFlag("unsafe",d)}}},cast:{string:{from:d=>typeof d=="number",to:(d,g)=>d.toString()}},messages:{"number.base":"{{#label}} must be a number","number.greater":"{{#label}} must be greater than {{#limit}}","number.infinity":"{{#label}} cannot be infinity","number.integer":"{{#label}} must be an integer","number.less":"{{#label}} must be less than {{#limit}}","number.max":"{{#label}} must be less than or equal to {{#limit}}","number.min":"{{#label}} must be greater than or equal to {{#limit}}","number.multiple":"{{#label}} must be a multiple of {{#multiple}}","number.negative":"{{#label}} must be a negative number","number.port":"{{#label}} must be a valid port","number.positive":"{{#label}} must be a positive number","number.precision":"{{#label}} must have no more than {{#limit}} decimal places","number.unsafe":"{{#label}} must be a safe number"}}),E.extractSignificantDigits=function(d){return d.replace(E.exponentialPartRegex,"").replace(E.dotRegex,"").replace(E.trailingZerosRegex,"").replace(E.leadingSignAndZerosRegex,"")},E.normalizeDecimal=function(d){return(d=d.replace(/^\+/,"").replace(/\.0*$/,"").replace(/^(-?)\.([^\.]*)$/,"$10.$2").replace(/^(-?)0+([0-9])/,"$1$2")).includes(".")&&d.endsWith("0")&&(d=d.replace(/0+$/,"")),d==="-0"?"0":d}},8966:(o,u,f)=>{const c=f(7824);o.exports=c.extend({type:"object",cast:{map:{from:p=>p&&typeof p=="object",to:(p,y)=>new Map(Object.entries(p))}}})},7417:(o,u,f)=>{const c=f(375),p=f(5380),y=f(1745),E=f(9959),d=f(6064),g=f(9926),b=f(5752),v=f(8068),_=f(8160),R={tlds:g instanceof Set&&{tlds:{allow:g,deny:null}},base64Regex:{true:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}==|[\w\-]{3}=)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/},false:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}(==)?|[\w\-]{3}=?)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}(==)?|[A-Za-z0-9+\/]{3}=?)?$/}},dataUriRegex:/^data:[\w+.-]+\/[\w+.-]+;((charset=[\w-]+|base64),)?(.*)$/,hexRegex:{withPrefix:/^0x[0-9a-f]+$/i,withOptionalPrefix:/^(?:0x)?[0-9a-f]+$/i,withoutPrefix:/^[0-9a-f]+$/i},ipRegex:E.regex({cidr:"forbidden"}).regex,isoDurationRegex:/^P(?!$)(\d+Y)?(\d+M)?(\d+W)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?$/,guidBrackets:{"{":"}","[":"]","(":")","":""},guidVersions:{uuidv1:"1",uuidv2:"2",uuidv3:"3",uuidv4:"4",uuidv5:"5",uuidv6:"6",uuidv7:"7",uuidv8:"8"},guidSeparators:new Set([void 0,!0,!1,"-",":"]),normalizationForms:["NFC","NFD","NFKC","NFKD"]};o.exports=v.extend({type:"string",flags:{insensitive:{default:!1},truncate:{default:!1}},terms:{replacements:{init:null}},coerce:{from:"string",method(w,{schema:T,state:C,prefs:I}){const V=T.$_getRule("normalize");V&&(w=w.normalize(V.args.form));const j=T.$_getRule("case");j&&(w=j.args.direction==="upper"?w.toLocaleUpperCase():w.toLocaleLowerCase());const M=T.$_getRule("trim");if(M&&M.args.enabled&&(w=w.trim()),T.$_terms.replacements)for(const x of T.$_terms.replacements)w=w.replace(x.pattern,x.replacement);const S=T.$_getRule("hex");if(S&&S.args.options.byteAligned&&w.length%2!=0&&(w=`0${w}`),T.$_getRule("isoDate")){const x=R.isoDate(w);x&&(w=x)}if(T._flags.truncate){const x=T.$_getRule("max");if(x){let O=x.args.limit;if(_.isResolvable(O)&&(O=O.resolve(w,C,I),!_.limit(O)))return{value:w,errors:T.$_createError("any.ref",O,{ref:x.args.limit,arg:"limit",reason:"must be a positive integer"},C,I)};w=w.slice(0,O)}}return{value:w}}},validate(w,{schema:T,error:C}){if(typeof w!="string")return{value:w,errors:C("string.base")};if(w===""){const I=T.$_getRule("min");return I&&I.args.limit===0?void 0:{value:w,errors:C("string.empty")}}},rules:{alphanum:{method(){return this.$_addRule("alphanum")},validate:(w,T)=>/^[a-zA-Z0-9]+$/.test(w)?w:T.error("string.alphanum")},base64:{method(w={}){return _.assertOptions(w,["paddingRequired","urlSafe"]),w={urlSafe:!1,paddingRequired:!0,...w},c(typeof w.paddingRequired=="boolean","paddingRequired must be boolean"),c(typeof w.urlSafe=="boolean","urlSafe must be boolean"),this.$_addRule({name:"base64",args:{options:w}})},validate:(w,T,{options:C})=>R.base64Regex[C.paddingRequired][C.urlSafe].test(w)?w:T.error("string.base64")},case:{method(w){return c(["lower","upper"].includes(w),"Invalid case:",w),this.$_addRule({name:"case",args:{direction:w}})},validate:(w,T,{direction:C})=>C==="lower"&&w===w.toLocaleLowerCase()||C==="upper"&&w===w.toLocaleUpperCase()?w:T.error(`string.${C}case`),convert:!0},creditCard:{method(){return this.$_addRule("creditCard")},validate(w,T){let C=w.length,I=0,V=1;for(;C--;){const j=w.charAt(C)*V;I+=j-9*(j>9),V^=3}return I>0&&I%10==0?w:T.error("string.creditCard")}},dataUri:{method(w={}){return _.assertOptions(w,["paddingRequired"]),w={paddingRequired:!0,...w},c(typeof w.paddingRequired=="boolean","paddingRequired must be boolean"),this.$_addRule({name:"dataUri",args:{options:w}})},validate(w,T,{options:C}){const I=w.match(R.dataUriRegex);return I&&(!I[2]||I[2]!=="base64"||R.base64Regex[C.paddingRequired].false.test(I[3]))?w:T.error("string.dataUri")}},domain:{method(w){w&&_.assertOptions(w,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);const T=R.addressOptions(w);return this.$_addRule({name:"domain",args:{options:w},address:T})},validate:(w,T,C,{address:I})=>p.isValid(w,I)?w:T.error("string.domain")},email:{method(w={}){_.assertOptions(w,["allowFullyQualified","allowUnicode","ignoreLength","maxDomainSegments","minDomainSegments","multiple","separator","tlds"]),c(w.multiple===void 0||typeof w.multiple=="boolean","multiple option must be an boolean");const T=R.addressOptions(w),C=new RegExp(`\\s*[${w.separator?d(w.separator):","}]\\s*`);return this.$_addRule({name:"email",args:{options:w},regex:C,address:T})},validate(w,T,{options:C},{regex:I,address:V}){const j=C.multiple?w.split(I):[w],M=[];for(const S of j)y.isValid(S,V)||M.push(S);return M.length?T.error("string.email",{value:w,invalids:M}):w}},guid:{alias:"uuid",method(w={}){_.assertOptions(w,["version","separator"]);let T="";if(w.version){const V=[].concat(w.version);c(V.length>=1,"version must have at least 1 valid version specified");const j=new Set;for(let M=0;M<V.length;++M){const S=V[M];c(typeof S=="string","version at position "+M+" must be a string");const x=R.guidVersions[S.toLowerCase()];c(x,"version at position "+M+" must be one of "+Object.keys(R.guidVersions).join(", ")),c(!j.has(x),"version at position "+M+" must not be a duplicate"),T+=x,j.add(x)}}c(R.guidSeparators.has(w.separator),'separator must be one of true, false, "-", or ":"');const C=w.separator===void 0?"[:-]?":w.separator===!0?"[:-]":w.separator===!1?"[]?":`\\${w.separator}`,I=new RegExp(`^([\\[{\\(]?)[0-9A-F]{8}(${C})[0-9A-F]{4}\\2?[${T||"0-9A-F"}][0-9A-F]{3}\\2?[${T?"89AB":"0-9A-F"}][0-9A-F]{3}\\2?[0-9A-F]{12}([\\]}\\)]?)$`,"i");return this.$_addRule({name:"guid",args:{options:w},regex:I})},validate(w,T,C,{regex:I}){const V=I.exec(w);return V?R.guidBrackets[V[1]]!==V[V.length-1]?T.error("string.guid"):w:T.error("string.guid")}},hex:{method(w={}){return _.assertOptions(w,["byteAligned","prefix"]),w={byteAligned:!1,prefix:!1,...w},c(typeof w.byteAligned=="boolean","byteAligned must be boolean"),c(typeof w.prefix=="boolean"||w.prefix==="optional",'prefix must be boolean or "optional"'),this.$_addRule({name:"hex",args:{options:w}})},validate:(w,T,{options:C})=>(C.prefix==="optional"?R.hexRegex.withOptionalPrefix:C.prefix===!0?R.hexRegex.withPrefix:R.hexRegex.withoutPrefix).test(w)?C.byteAligned&&w.length%2!=0?T.error("string.hexAlign"):w:T.error("string.hex")},hostname:{method(){return this.$_addRule("hostname")},validate:(w,T)=>p.isValid(w,{minDomainSegments:1})||R.ipRegex.test(w)?w:T.error("string.hostname")},insensitive:{method(){return this.$_setFlag("insensitive",!0)}},ip:{method(w={}){_.assertOptions(w,["cidr","version"]);const{cidr:T,versions:C,regex:I}=E.regex(w),V=w.version?C:void 0;return this.$_addRule({name:"ip",args:{options:{cidr:T,version:V}},regex:I})},validate:(w,T,{options:C},{regex:I})=>I.test(w)?w:C.version?T.error("string.ipVersion",{value:w,cidr:C.cidr,version:C.version}):T.error("string.ip",{value:w,cidr:C.cidr})},isoDate:{method(){return this.$_addRule("isoDate")},validate:(w,{error:T})=>R.isoDate(w)?w:T("string.isoDate")},isoDuration:{method(){return this.$_addRule("isoDuration")},validate:(w,T)=>R.isoDurationRegex.test(w)?w:T.error("string.isoDuration")},length:{method(w,T){return R.length(this,"length",w,"=",T)},validate(w,T,{limit:C,encoding:I},{name:V,operator:j,args:M}){const S=!I&&w.length;return _.compare(S,C,j)?w:T.error("string."+V,{limit:M.limit,value:w,encoding:I})},args:[{name:"limit",ref:!0,assert:_.limit,message:"must be a positive integer"},"encoding"]},lowercase:{method(){return this.case("lower")}},max:{method(w,T){return R.length(this,"max",w,"<=",T)},args:["limit","encoding"]},min:{method(w,T){return R.length(this,"min",w,">=",T)},args:["limit","encoding"]},normalize:{method(w="NFC"){return c(R.normalizationForms.includes(w),"normalization form must be one of "+R.normalizationForms.join(", ")),this.$_addRule({name:"normalize",args:{form:w}})},validate:(w,{error:T},{form:C})=>w===w.normalize(C)?w:T("string.normalize",{value:w,form:C}),convert:!0},pattern:{alias:"regex",method(w,T={}){c(w instanceof RegExp,"regex must be a RegExp"),c(!w.flags.includes("g")&&!w.flags.includes("y"),"regex should not use global or sticky mode"),typeof T=="string"&&(T={name:T}),_.assertOptions(T,["invert","name"]);const C=["string.pattern",T.invert?".invert":"",T.name?".name":".base"].join("");return this.$_addRule({name:"pattern",args:{regex:w,options:T},errorCode:C})},validate:(w,T,{regex:C,options:I},{errorCode:V})=>C.test(w)^I.invert?w:T.error(V,{name:I.name,regex:C,value:w}),args:["regex","options"],multi:!0},replace:{method(w,T){typeof w=="string"&&(w=new RegExp(d(w),"g")),c(w instanceof RegExp,"pattern must be a RegExp"),c(typeof T=="string","replacement must be a String");const C=this.clone();return C.$_terms.replacements||(C.$_terms.replacements=[]),C.$_terms.replacements.push({pattern:w,replacement:T}),C}},token:{method(){return this.$_addRule("token")},validate:(w,T)=>/^\w+$/.test(w)?w:T.error("string.token")},trim:{method(w=!0){return c(typeof w=="boolean","enabled must be a boolean"),this.$_addRule({name:"trim",args:{enabled:w}})},validate:(w,T,{enabled:C})=>C&&w!==w.trim()?T.error("string.trim"):w,convert:!0},truncate:{method(w=!0){return c(typeof w=="boolean","enabled must be a boolean"),this.$_setFlag("truncate",w)}},uppercase:{method(){return this.case("upper")}},uri:{method(w={}){_.assertOptions(w,["allowRelative","allowQuerySquareBrackets","domain","relativeOnly","scheme","encodeUri"]),w.domain&&_.assertOptions(w.domain,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);const{regex:T,scheme:C}=b.regex(w),I=w.domain?R.addressOptions(w.domain):null;return this.$_addRule({name:"uri",args:{options:w},regex:T,domain:I,scheme:C})},validate(w,T,{options:C},{regex:I,domain:V,scheme:j}){if(["http:/","https:/"].includes(w))return T.error("string.uri");let M=I.exec(w);if(!M&&T.prefs.convert&&C.encodeUri){const S=encodeURI(w);M=I.exec(S),M&&(w=S)}if(M){const S=M[1]||M[2];return!V||C.allowRelative&&!S||p.isValid(S,V)?w:T.error("string.domain",{value:S})}return C.relativeOnly?T.error("string.uriRelativeOnly"):C.scheme?T.error("string.uriCustomScheme",{scheme:j,value:w}):T.error("string.uri")}}},manifest:{build(w,T){if(T.replacements)for(const{pattern:C,replacement:I}of T.replacements)w=w.replace(C,I);return w}},messages:{"string.alphanum":"{{#label}} must only contain alpha-numeric characters","string.base":"{{#label}} must be a string","string.base64":"{{#label}} must be a valid base64 string","string.creditCard":"{{#label}} must be a credit card","string.dataUri":"{{#label}} must be a valid dataUri string","string.domain":"{{#label}} must contain a valid domain name","string.email":"{{#label}} must be a valid email","string.empty":"{{#label}} is not allowed to be empty","string.guid":"{{#label}} must be a valid GUID","string.hex":"{{#label}} must only contain hexadecimal characters","string.hexAlign":"{{#label}} hex decoded representation must be byte aligned","string.hostname":"{{#label}} must be a valid hostname","string.ip":"{{#label}} must be a valid ip address with a {{#cidr}} CIDR","string.ipVersion":"{{#label}} must be a valid ip address of one of the following versions {{#version}} with a {{#cidr}} CIDR","string.isoDate":"{{#label}} must be in iso format","string.isoDuration":"{{#label}} must be a valid ISO 8601 duration","string.length":"{{#label}} length must be {{#limit}} characters long","string.lowercase":"{{#label}} must only contain lowercase characters","string.max":"{{#label}} length must be less than or equal to {{#limit}} characters long","string.min":"{{#label}} length must be at least {{#limit}} characters long","string.normalize":"{{#label}} must be unicode normalized in the {{#form}} form","string.token":"{{#label}} must only contain alpha-numeric and underscore characters","string.pattern.base":"{{#label}} with value {:[.]} fails to match the required pattern: {{#regex}}","string.pattern.name":"{{#label}} with value {:[.]} fails to match the {{#name}} pattern","string.pattern.invert.base":"{{#label}} with value {:[.]} matches the inverted pattern: {{#regex}}","string.pattern.invert.name":"{{#label}} with value {:[.]} matches the inverted {{#name}} pattern","string.trim":"{{#label}} must not have leading or trailing whitespace","string.uri":"{{#label}} must be a valid uri","string.uriCustomScheme":"{{#label}} must be a valid uri with a scheme matching the {{#scheme}} pattern","string.uriRelativeOnly":"{{#label}} must be a valid relative uri","string.uppercase":"{{#label}} must only contain uppercase characters"}}),R.addressOptions=function(w){if(!w)return R.tlds||w;if(c(w.minDomainSegments===void 0||Number.isSafeInteger(w.minDomainSegments)&&w.minDomainSegments>0,"minDomainSegments must be a positive integer"),c(w.maxDomainSegments===void 0||Number.isSafeInteger(w.maxDomainSegments)&&w.maxDomainSegments>0,"maxDomainSegments must be a positive integer"),w.tlds===!1)return w;if(w.tlds===!0||w.tlds===void 0)return c(R.tlds,"Built-in TLD list disabled"),Object.assign({},w,R.tlds);c(typeof w.tlds=="object","tlds must be true, false, or an object");const T=w.tlds.deny;if(T)return Array.isArray(T)&&(w=Object.assign({},w,{tlds:{deny:new Set(T)}})),c(w.tlds.deny instanceof Set,"tlds.deny must be an array, Set, or boolean"),c(!w.tlds.allow,"Cannot specify both tlds.allow and tlds.deny lists"),R.validateTlds(w.tlds.deny,"tlds.deny"),w;const C=w.tlds.allow;return C?C===!0?(c(R.tlds,"Built-in TLD list disabled"),Object.assign({},w,R.tlds)):(Array.isArray(C)&&(w=Object.assign({},w,{tlds:{allow:new Set(C)}})),c(w.tlds.allow instanceof Set,"tlds.allow must be an array, Set, or boolean"),R.validateTlds(w.tlds.allow,"tlds.allow"),w):w},R.validateTlds=function(w,T){for(const C of w)c(p.isValid(C,{minDomainSegments:1,maxDomainSegments:1}),`${T} must contain valid top level domain names`)},R.isoDate=function(w){if(!_.isIsoDate(w))return null;/.*T.*[+-]\d\d$/.test(w)&&(w+="00");const T=new Date(w);return isNaN(T.getTime())?null:T.toISOString()},R.length=function(w,T,C,I,V){return c(!V||!1,"Invalid encoding:",V),w.$_addRule({name:T,method:"length",args:{limit:C,encoding:V},operator:I})}},8826:(o,u,f)=>{const c=f(375),p=f(8068),y={};y.Map=class extends Map{slice(){return new y.Map(this)}},o.exports=p.extend({type:"symbol",terms:{map:{init:new y.Map}},coerce:{method(E,{schema:d,error:g}){const b=d.$_terms.map.get(E);return b&&(E=b),d._flags.only&&typeof E!="symbol"?{value:E,errors:g("symbol.map",{map:d.$_terms.map})}:{value:E}}},validate(E,{error:d}){if(typeof E!="symbol")return{value:E,errors:d("symbol.base")}},rules:{map:{method(E){E&&!E[Symbol.iterator]&&typeof E=="object"&&(E=Object.entries(E)),c(E&&E[Symbol.iterator],"Iterable must be an iterable or object");const d=this.clone(),g=[];for(const b of E){c(b&&b[Symbol.iterator],"Entry must be an iterable");const[v,_]=b;c(typeof v!="object"&&typeof v!="function"&&typeof v!="symbol","Key must not be of type object, function, or Symbol"),c(typeof _=="symbol","Value must be a Symbol"),d.$_terms.map.set(v,_),g.push(_)}return d.valid(...g)}}},manifest:{build:(E,d)=>(d.map&&(E=E.map(d.map)),E)},messages:{"symbol.base":"{{#label}} must be a symbol","symbol.map":"{{#label}} must be one of {{#map}}"}})},8863:(o,u,f)=>{const c=f(375),p=f(8571),y=f(738),E=f(9621),d=f(8160),g=f(6354),b=f(493),v={result:Symbol("result")};u.entry=function(_,R,w){let T=d.defaults;w&&(c(w.warnings===void 0,"Cannot override warnings preference in synchronous validation"),c(w.artifacts===void 0,"Cannot override artifacts preference in synchronous validation"),T=d.preferences(d.defaults,w));const C=v.entry(_,R,T);c(!C.mainstay.externals.length,"Schema with external rules must use validateAsync()");const I={value:C.value};return C.error&&(I.error=C.error),C.mainstay.warnings.length&&(I.warning=g.details(C.mainstay.warnings)),C.mainstay.debug&&(I.debug=C.mainstay.debug),C.mainstay.artifacts&&(I.artifacts=C.mainstay.artifacts),I},u.entryAsync=async function(_,R,w){let T=d.defaults;w&&(T=d.preferences(d.defaults,w));const C=v.entry(_,R,T),I=C.mainstay;if(C.error)throw I.debug&&(C.error.debug=I.debug),C.error;if(I.externals.length){let j=C.value;const M=[];for(const S of I.externals){const x=S.state.path,O=S.schema.type==="link"?I.links.get(S.schema):null;let P,q,U=j;const he=x.length?[j]:[],pe=x.length?E(_,x):_;if(x.length){P=x[x.length-1];let Q=j;for(const se of x.slice(0,-1))Q=Q[se],he.unshift(Q);q=he[0],U=q[P]}try{const Q=(ye,Re)=>(O||S.schema).$_createError(ye,U,Re,S.state,T),se=await S.method(U,{schema:S.schema,linked:O,state:S.state,prefs:w,original:pe,error:Q,errorsArray:v.errorsArray,warn:(ye,Re)=>I.warnings.push((O||S.schema).$_createError(ye,U,Re,S.state,T)),message:(ye,Re)=>(O||S.schema).$_createError("external",U,Re,S.state,T,{messages:ye})});if(se===void 0||se===U)continue;if(se instanceof g.Report){if(I.tracer.log(S.schema,S.state,"rule","external","error"),M.push(se),T.abortEarly)break;continue}if(Array.isArray(se)&&se[d.symbols.errors]){if(I.tracer.log(S.schema,S.state,"rule","external","error"),M.push(...se),T.abortEarly)break;continue}q?(I.tracer.value(S.state,"rule",U,se,"external"),q[P]=se):(I.tracer.value(S.state,"rule",j,se,"external"),j=se)}catch(Q){throw T.errors.label&&(Q.message+=` (${S.label})`),Q}}if(C.value=j,M.length)throw C.error=g.process(M,_,T),I.debug&&(C.error.debug=I.debug),C.error}if(!T.warnings&&!T.debug&&!T.artifacts)return C.value;const V={value:C.value};return I.warnings.length&&(V.warning=g.details(I.warnings)),I.debug&&(V.debug=I.debug),I.artifacts&&(V.artifacts=I.artifacts),V},v.Mainstay=class{constructor(_,R,w){this.externals=[],this.warnings=[],this.tracer=_,this.debug=R,this.links=w,this.shadow=null,this.artifacts=null,this._snapshots=[]}snapshot(){this._snapshots.push({externals:this.externals.slice(),warnings:this.warnings.slice()})}restore(){const _=this._snapshots.pop();this.externals=_.externals,this.warnings=_.warnings}commit(){this._snapshots.pop()}},v.entry=function(_,R,w){const{tracer:T,cleanup:C}=v.tracer(R,w),I=w.debug?[]:null,V=R._ids._schemaChain?new Map:null,j=new v.Mainstay(T,I,V),M=R._ids._schemaChain?[{schema:R}]:null,S=new b([],[],{mainstay:j,schemas:M}),x=u.validate(_,R,S,w);C&&R.$_root.untrace();const O=g.process(x.errors,_,w);return{value:x.value,error:O,mainstay:j}},v.tracer=function(_,R){return _.$_root._tracer?{tracer:_.$_root._tracer._register(_)}:R.debug?(c(_.$_root.trace,"Debug mode not supported"),{tracer:_.$_root.trace()._register(_),cleanup:!0}):{tracer:v.ignore}},u.validate=function(_,R,w,T,C={}){if(R.$_terms.whens&&(R=R._generate(_,w,T).schema),R._preferences&&(T=v.prefs(R,T)),R._cache&&T.cache){const O=R._cache.get(_);if(w.mainstay.tracer.debug(w,"validate","cached",!!O),O)return O}const I=(O,P,q)=>R.$_createError(O,_,P,q||w,T),V={original:_,prefs:T,schema:R,state:w,error:I,errorsArray:v.errorsArray,warn:(O,P,q)=>w.mainstay.warnings.push(I(O,P,q)),message:(O,P)=>R.$_createError("custom",_,P,w,T,{messages:O})};w.mainstay.tracer.entry(R,w);const j=R._definition;if(j.prepare&&_!==void 0&&T.convert){const O=j.prepare(_,V);if(O){if(w.mainstay.tracer.value(w,"prepare",_,O.value),O.errors)return v.finalize(O.value,[].concat(O.errors),V);_=O.value}}if(j.coerce&&_!==void 0&&T.convert&&(!j.coerce.from||j.coerce.from.includes(typeof _))){const O=j.coerce.method(_,V);if(O){if(w.mainstay.tracer.value(w,"coerced",_,O.value),O.errors)return v.finalize(O.value,[].concat(O.errors),V);_=O.value}}const M=R._flags.empty;M&&M.$_match(v.trim(_,R),w.nest(M),d.defaults)&&(w.mainstay.tracer.value(w,"empty",_,void 0),_=void 0);const S=C.presence||R._flags.presence||(R._flags._endedSwitch?null:T.presence);if(_===void 0){if(S==="forbidden")return v.finalize(_,null,V);if(S==="required")return v.finalize(_,[R.$_createError("any.required",_,null,w,T)],V);if(S==="optional"){if(R._flags.default!==d.symbols.deepDefault)return v.finalize(_,null,V);w.mainstay.tracer.value(w,"default",_,{}),_={}}}else if(S==="forbidden")return v.finalize(_,[R.$_createError("any.unknown",_,null,w,T)],V);const x=[];if(R._valids){const O=R._valids.get(_,w,T,R._flags.insensitive);if(O)return T.convert&&(w.mainstay.tracer.value(w,"valids",_,O.value),_=O.value),w.mainstay.tracer.filter(R,w,"valid",O),v.finalize(_,null,V);if(R._flags.only){const P=R.$_createError("any.only",_,{valids:R._valids.values({display:!0})},w,T);if(T.abortEarly)return v.finalize(_,[P],V);x.push(P)}}if(R._invalids){const O=R._invalids.get(_,w,T,R._flags.insensitive);if(O){w.mainstay.tracer.filter(R,w,"invalid",O);const P=R.$_createError("any.invalid",_,{invalids:R._invalids.values({display:!0})},w,T);if(T.abortEarly)return v.finalize(_,[P],V);x.push(P)}}if(j.validate){const O=j.validate(_,V);if(O&&(w.mainstay.tracer.value(w,"base",_,O.value),_=O.value,O.errors)){if(!Array.isArray(O.errors))return x.push(O.errors),v.finalize(_,x,V);if(O.errors.length)return x.push(...O.errors),v.finalize(_,x,V)}}return R._rules.length?v.rules(_,x,V):v.finalize(_,x,V)},v.rules=function(_,R,w){const{schema:T,state:C,prefs:I}=w;for(const V of T._rules){const j=T._definition.rules[V.method];if(j.convert&&I.convert){C.mainstay.tracer.log(T,C,"rule",V.name,"full");continue}let M,S=V.args;if(V._resolve.length){S=Object.assign({},S);for(const O of V._resolve){const P=j.argsByName.get(O),q=S[O].resolve(_,C,I),U=P.normalize?P.normalize(q):q,he=d.validateArg(U,null,P);if(he){M=T.$_createError("any.ref",q,{arg:O,ref:S[O],reason:he},C,I);break}S[O]=U}}M=M||j.validate(_,w,S,V);const x=v.rule(M,V);if(x.errors){if(C.mainstay.tracer.log(T,C,"rule",V.name,"error"),V.warn){C.mainstay.warnings.push(...x.errors);continue}if(I.abortEarly)return v.finalize(_,x.errors,w);R.push(...x.errors)}else C.mainstay.tracer.log(T,C,"rule",V.name,"pass"),C.mainstay.tracer.value(C,"rule",_,x.value,V.name),_=x.value}return v.finalize(_,R,w)},v.rule=function(_,R){return _ instanceof g.Report?(v.error(_,R),{errors:[_],value:null}):Array.isArray(_)&&_[d.symbols.errors]?(_.forEach(w=>v.error(w,R)),{errors:_,value:null}):{errors:null,value:_}},v.error=function(_,R){return R.message&&_._setTemplate(R.message),_},v.finalize=function(_,R,w){R=R||[];const{schema:T,state:C,prefs:I}=w;if(R.length){const j=v.default("failover",void 0,R,w);j!==void 0&&(C.mainstay.tracer.value(C,"failover",_,j),_=j,R=[])}if(R.length&&T._flags.error)if(typeof T._flags.error=="function"){R=T._flags.error(R),Array.isArray(R)||(R=[R]);for(const j of R)c(j instanceof Error||j instanceof g.Report,"error() must return an Error object")}else R=[T._flags.error];if(_===void 0){const j=v.default("default",_,R,w);C.mainstay.tracer.value(C,"default",_,j),_=j}if(T._flags.cast&&_!==void 0){const j=T._definition.cast[T._flags.cast];if(j.from(_)){const M=j.to(_,w);C.mainstay.tracer.value(C,"cast",_,M,T._flags.cast),_=M}}if(T.$_terms.externals&&I.externals&&I._externals!==!1)for(const{method:j}of T.$_terms.externals)C.mainstay.externals.push({method:j,schema:T,state:C,label:g.label(T._flags,C,I)});const V={value:_,errors:R.length?R:null};return T._flags.result&&(V.value=T._flags.result==="strip"?void 0:w.original,C.mainstay.tracer.value(C,T._flags.result,_,V.value),C.shadow(_,T._flags.result)),T._cache&&I.cache!==!1&&!T._refs.length&&T._cache.set(w.original,V),_===void 0||V.errors||T._flags.artifact===void 0||(C.mainstay.artifacts=C.mainstay.artifacts||new Map,C.mainstay.artifacts.has(T._flags.artifact)||C.mainstay.artifacts.set(T._flags.artifact,[]),C.mainstay.artifacts.get(T._flags.artifact).push(C.path)),V},v.prefs=function(_,R){const w=R===d.defaults;return w&&_._preferences[d.symbols.prefs]?_._preferences[d.symbols.prefs]:(R=d.preferences(R,_._preferences),w&&(_._preferences[d.symbols.prefs]=R),R)},v.default=function(_,R,w,T){const{schema:C,state:I,prefs:V}=T,j=C._flags[_];if(V.noDefaults||j===void 0)return R;if(I.mainstay.tracer.log(C,I,"rule",_,"full"),!j)return j;if(typeof j=="function"){const M=j.length?[p(I.ancestors[0]),T]:[];try{return j(...M)}catch(S){return void w.push(C.$_createError(`any.${_}`,null,{error:S},I,V))}}return typeof j!="object"?j:j[d.symbols.literal]?j.literal:d.isResolvable(j)?j.resolve(R,I,V):p(j)},v.trim=function(_,R){if(typeof _!="string")return _;const w=R.$_getRule("trim");return w&&w.args.enabled?_.trim():_},v.ignore={active:!1,debug:y,entry:y,filter:y,log:y,resolve:y,value:y},v.errorsArray=function(){const _=[];return _[d.symbols.errors]=!0,_}},2036:(o,u,f)=>{const c=f(375),p=f(9474),y=f(8160),E={};o.exports=E.Values=class{constructor(d,g){this._values=new Set(d),this._refs=new Set(g),this._lowercase=E.lowercases(d),this._override=!1}get length(){return this._values.size+this._refs.size}add(d,g){y.isResolvable(d)?this._refs.has(d)||(this._refs.add(d),g&&g.register(d)):this.has(d,null,null,!1)||(this._values.add(d),typeof d=="string"&&this._lowercase.set(d.toLowerCase(),d))}static merge(d,g,b){if(d=d||new E.Values,g){if(g._override)return g.clone();for(const v of[...g._values,...g._refs])d.add(v)}if(b)for(const v of[...b._values,...b._refs])d.remove(v);return d.length?d:null}remove(d){y.isResolvable(d)?this._refs.delete(d):(this._values.delete(d),typeof d=="string"&&this._lowercase.delete(d.toLowerCase()))}has(d,g,b,v){return!!this.get(d,g,b,v)}get(d,g,b,v){if(!this.length)return!1;if(this._values.has(d))return{value:d};if(typeof d=="string"&&d&&v){const _=this._lowercase.get(d.toLowerCase());if(_)return{value:_}}if(!this._refs.size&&typeof d!="object")return!1;if(typeof d=="object"){for(const _ of this._values)if(p(_,d))return{value:_}}if(g)for(const _ of this._refs){const R=_.resolve(d,g,b,null,{in:!0});if(R===void 0)continue;const w=_.in&&typeof R=="object"?Array.isArray(R)?R:Object.keys(R):[R];for(const T of w)if(typeof T==typeof d){if(v&&d&&typeof d=="string"){if(T.toLowerCase()===d.toLowerCase())return{value:T,ref:_}}else if(p(T,d))return{value:T,ref:_}}}return!1}override(){this._override=!0}values(d){if(d&&d.display){const g=[];for(const b of[...this._values,...this._refs])b!==void 0&&g.push(b);return g}return Array.from([...this._values,...this._refs])}clone(){const d=new E.Values(this._values,this._refs);return d._override=this._override,d}concat(d){c(!d._override,"Cannot concat override set of values");const g=new E.Values([...this._values,...d._values],[...this._refs,...d._refs]);return g._override=this._override,g}describe(){const d=[];this._override&&d.push({override:!0});for(const g of this._values.values())d.push(g&&typeof g=="object"?{value:g}:g);for(const g of this._refs.values())d.push(g.describe());return d}},E.Values.prototype[y.symbols.values]=!0,E.Values.prototype.slice=E.Values.prototype.clone,E.lowercases=function(d){const g=new Map;if(d)for(const b of d)typeof b=="string"&&g.set(b.toLowerCase(),b);return g}},978:(o,u,f)=>{const c=f(375),p=f(8571),y=f(1687),E=f(9621),d={};o.exports=function(g,b,v={}){if(c(g&&typeof g=="object","Invalid defaults value: must be an object"),c(!b||b===!0||typeof b=="object","Invalid source value: must be true, falsy or an object"),c(typeof v=="object","Invalid options: must be an object"),!b)return null;if(v.shallow)return d.applyToDefaultsWithShallow(g,b,v);const _=p(g);if(b===!0)return _;const R=v.nullOverride!==void 0&&v.nullOverride;return y(_,b,{nullOverride:R,mergeArrays:!1})},d.applyToDefaultsWithShallow=function(g,b,v){const _=v.shallow;c(Array.isArray(_),"Invalid keys");const R=new Map,w=b===!0?null:new Set;for(let I of _){I=Array.isArray(I)?I:I.split(".");const V=E(g,I);V&&typeof V=="object"?R.set(V,w&&E(b,I)||V):w&&w.add(I)}const T=p(g,{},R);if(!w)return T;for(const I of w)d.reachCopy(T,b,I);const C=v.nullOverride!==void 0&&v.nullOverride;return y(T,b,{nullOverride:C,mergeArrays:!1})},d.reachCopy=function(g,b,v){for(const w of v){if(!(w in b))return;const T=b[w];if(typeof T!="object"||T===null)return;b=T}const _=b;let R=g;for(let w=0;w<v.length-1;++w){const T=v[w];typeof R[T]!="object"&&(R[T]={}),R=R[T]}R[v[v.length-1]]=_}},375:(o,u,f)=>{const c=f(7916);o.exports=function(p,...y){if(!p)throw y.length===1&&y[0]instanceof Error?y[0]:new c(y)}},8571:(o,u,f)=>{const c=f(9621),p=f(4277),y=f(7043),E={needsProtoHack:new Set([p.set,p.map,p.weakSet,p.weakMap])};o.exports=E.clone=function(d,g={},b=null){if(typeof d!="object"||d===null)return d;let v=E.clone,_=b;if(g.shallow){if(g.shallow!==!0)return E.cloneWithShallow(d,g);v=C=>C}else if(_){const C=_.get(d);if(C)return C}else _=new Map;const R=p.getInternalProto(d);if(R===p.buffer)return!1;if(R===p.date)return new Date(d.getTime());if(R===p.regex)return new RegExp(d);const w=E.base(d,R,g);if(w===d)return d;if(_&&_.set(d,w),R===p.set)for(const C of d)w.add(v(C,g,_));else if(R===p.map)for(const[C,I]of d)w.set(C,v(I,g,_));const T=y.keys(d,g);for(const C of T){if(C==="__proto__")continue;if(R===p.array&&C==="length"){w.length=d.length;continue}const I=Object.getOwnPropertyDescriptor(d,C);I?I.get||I.set?Object.defineProperty(w,C,I):I.enumerable?w[C]=v(d[C],g,_):Object.defineProperty(w,C,{enumerable:!1,writable:!0,configurable:!0,value:v(d[C],g,_)}):Object.defineProperty(w,C,{enumerable:!0,writable:!0,configurable:!0,value:v(d[C],g,_)})}return w},E.cloneWithShallow=function(d,g){const b=g.shallow;(g=Object.assign({},g)).shallow=!1;const v=new Map;for(const _ of b){const R=c(d,_);typeof R!="object"&&typeof R!="function"||v.set(R,R)}return E.clone(d,g,v)},E.base=function(d,g,b){if(b.prototype===!1)return E.needsProtoHack.has(g)?new g.constructor:g===p.array?[]:{};const v=Object.getPrototypeOf(d);if(v&&v.isImmutable)return d;if(g===p.array){const _=[];return v!==g&&Object.setPrototypeOf(_,v),_}if(E.needsProtoHack.has(g)){const _=new v.constructor;return v!==g&&Object.setPrototypeOf(_,v),_}return Object.create(v)}},9474:(o,u,f)=>{const c=f(4277),p={mismatched:null};o.exports=function(y,E,d){return d=Object.assign({prototype:!0},d),!!p.isDeepEqual(y,E,d,[])},p.isDeepEqual=function(y,E,d,g){if(y===E)return y!==0||1/y==1/E;const b=typeof y;if(b!==typeof E||y===null||E===null)return!1;if(b==="function"){if(!d.deepFunction||y.toString()!==E.toString())return!1}else if(b!=="object")return y!=y&&E!=E;const v=p.getSharedType(y,E,!!d.prototype);switch(v){case c.buffer:return!1;case c.promise:return y===E;case c.regex:return y.toString()===E.toString();case p.mismatched:return!1}for(let _=g.length-1;_>=0;--_)if(g[_].isSame(y,E))return!0;g.push(new p.SeenEntry(y,E));try{return!!p.isDeepEqualObj(v,y,E,d,g)}finally{g.pop()}},p.getSharedType=function(y,E,d){if(d)return Object.getPrototypeOf(y)!==Object.getPrototypeOf(E)?p.mismatched:c.getInternalProto(y);const g=c.getInternalProto(y);return g!==c.getInternalProto(E)?p.mismatched:g},p.valueOf=function(y){const E=y.valueOf;if(E===void 0)return y;try{return E.call(y)}catch(d){return d}},p.hasOwnEnumerableProperty=function(y,E){return Object.prototype.propertyIsEnumerable.call(y,E)},p.isSetSimpleEqual=function(y,E){for(const d of Set.prototype.values.call(y))if(!Set.prototype.has.call(E,d))return!1;return!0},p.isDeepEqualObj=function(y,E,d,g,b){const{isDeepEqual:v,valueOf:_,hasOwnEnumerableProperty:R}=p,{keys:w,getOwnPropertySymbols:T}=Object;if(y===c.array){if(!g.part){if(E.length!==d.length)return!1;for(let M=0;M<E.length;++M)if(!v(E[M],d[M],g,b))return!1;return!0}for(const M of E)for(const S of d)if(v(M,S,g,b))return!0}else if(y===c.set){if(E.size!==d.size)return!1;if(!p.isSetSimpleEqual(E,d)){const M=new Set(Set.prototype.values.call(d));for(const S of Set.prototype.values.call(E)){if(M.delete(S))continue;let x=!1;for(const O of M)if(v(S,O,g,b)){M.delete(O),x=!0;break}if(!x)return!1}}}else if(y===c.map){if(E.size!==d.size)return!1;for(const[M,S]of Map.prototype.entries.call(E))if(S===void 0&&!Map.prototype.has.call(d,M)||!v(S,Map.prototype.get.call(d,M),g,b))return!1}else if(y===c.error&&(E.name!==d.name||E.message!==d.message))return!1;const C=_(E),I=_(d);if((E!==C||d!==I)&&!v(C,I,g,b))return!1;const V=w(E);if(!g.part&&V.length!==w(d).length&&!g.skip)return!1;let j=0;for(const M of V)if(g.skip&&g.skip.includes(M))d[M]===void 0&&++j;else if(!R(d,M)||!v(E[M],d[M],g,b))return!1;if(!g.part&&V.length-j!==w(d).length)return!1;if(g.symbols!==!1){const M=T(E),S=new Set(T(d));for(const x of M){if(!g.skip||!g.skip.includes(x)){if(R(E,x)){if(!R(d,x)||!v(E[x],d[x],g,b))return!1}else if(R(d,x))return!1}S.delete(x)}for(const x of S)if(R(d,x))return!1}return!0},p.SeenEntry=class{constructor(y,E){this.obj=y,this.ref=E}isSame(y,E){return this.obj===y&&this.ref===E}}},7916:(o,u,f)=>{const c=f(8761);o.exports=class extends Error{constructor(p){super(p.filter(y=>y!=="").map(y=>typeof y=="string"?y:y instanceof Error?y.message:c(y)).join(" ")||"Unknown error"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,u.assert)}}},5277:o=>{const u={};o.exports=function(f){if(!f)return"";let c="";for(let p=0;p<f.length;++p){const y=f.charCodeAt(p);u.isSafe(y)?c+=f[p]:c+=u.escapeHtmlChar(y)}return c},u.escapeHtmlChar=function(f){return u.namedHtml.get(f)||(f>=256?"&#"+f+";":`&#x${f.toString(16).padStart(2,"0")};`)},u.isSafe=function(f){return u.safeCharCodes.has(f)},u.namedHtml=new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[34,"&quot;"],[160,"&nbsp;"],[162,"&cent;"],[163,"&pound;"],[164,"&curren;"],[169,"&copy;"],[174,"&reg;"]]),u.safeCharCodes=function(){const f=new Set;for(let c=32;c<123;++c)(c>=97||c>=65&&c<=90||c>=48&&c<=57||c===32||c===46||c===44||c===45||c===58||c===95)&&f.add(c);return f}()},6064:o=>{o.exports=function(u){return u.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")}},738:o=>{o.exports=function(){}},1687:(o,u,f)=>{const c=f(375),p=f(8571),y=f(7043),E={};o.exports=E.merge=function(d,g,b){if(c(d&&typeof d=="object","Invalid target value: must be an object"),c(g==null||typeof g=="object","Invalid source value: must be null, undefined, or an object"),!g)return d;if(b=Object.assign({nullOverride:!0,mergeArrays:!0},b),Array.isArray(g)){c(Array.isArray(d),"Cannot merge array onto an object"),b.mergeArrays||(d.length=0);for(let _=0;_<g.length;++_)d.push(p(g[_],{symbols:b.symbols}));return d}const v=y.keys(g,b);for(let _=0;_<v.length;++_){const R=v[_];if(R==="__proto__"||!Object.prototype.propertyIsEnumerable.call(g,R))continue;const w=g[R];if(w&&typeof w=="object"){if(d[R]===w)continue;!d[R]||typeof d[R]!="object"||Array.isArray(d[R])!==Array.isArray(w)||w instanceof Date||w instanceof RegExp?d[R]=p(w,{symbols:b.symbols}):E.merge(d[R],w,b)}else(w!=null||b.nullOverride)&&(d[R]=w)}return d}},9621:(o,u,f)=>{const c=f(375),p={};o.exports=function(y,E,d){if(E===!1||E==null)return y;typeof(d=d||{})=="string"&&(d={separator:d});const g=Array.isArray(E);c(!g||!d.separator,"Separator option is not valid for array-based chain");const b=g?E:E.split(d.separator||".");let v=y;for(let _=0;_<b.length;++_){let R=b[_];const w=d.iterables&&p.iterables(v);if(Array.isArray(v)||w==="set"){const T=Number(R);Number.isInteger(T)&&(R=T<0?v.length+T:T)}if(!v||typeof v=="function"&&d.functions===!1||!w&&v[R]===void 0){c(!d.strict||_+1===b.length,"Missing segment",R,"in reach path ",E),c(typeof v=="object"||d.functions===!0||typeof v!="function","Invalid segment",R,"in reach path ",E),v=d.default;break}v=w?w==="set"?[...v][R]:v.get(R):v[R]}return v},p.iterables=function(y){return y instanceof Set?"set":y instanceof Map?"map":void 0}},8761:o=>{o.exports=function(...u){try{return JSON.stringify(...u)}catch(f){return"[Cannot display object: "+f.message+"]"}}},4277:(o,u)=>{const f={};u=o.exports={array:Array.prototype,buffer:!1,date:Date.prototype,error:Error.prototype,generic:Object.prototype,map:Map.prototype,promise:Promise.prototype,regex:RegExp.prototype,set:Set.prototype,weakMap:WeakMap.prototype,weakSet:WeakSet.prototype},f.typeMap=new Map([["[object Error]",u.error],["[object Map]",u.map],["[object Promise]",u.promise],["[object Set]",u.set],["[object WeakMap]",u.weakMap],["[object WeakSet]",u.weakSet]]),u.getInternalProto=function(c){if(Array.isArray(c))return u.array;if(c instanceof Date)return u.date;if(c instanceof RegExp)return u.regex;if(c instanceof Error)return u.error;const p=Object.prototype.toString.call(c);return f.typeMap.get(p)||u.generic}},7043:(o,u)=>{u.keys=function(f,c={}){return c.symbols!==!1?Reflect.ownKeys(f):Object.getOwnPropertyNames(f)}},3652:(o,u,f)=>{const c=f(375),p={};u.Sorter=class{constructor(){this._items=[],this.nodes=[]}add(y,E){const d=[].concat((E=E||{}).before||[]),g=[].concat(E.after||[]),b=E.group||"?",v=E.sort||0;c(!d.includes(b),`Item cannot come before itself: ${b}`),c(!d.includes("?"),"Item cannot come before unassociated items"),c(!g.includes(b),`Item cannot come after itself: ${b}`),c(!g.includes("?"),"Item cannot come after unassociated items"),Array.isArray(y)||(y=[y]);for(const _ of y){const R={seq:this._items.length,sort:v,before:d,after:g,group:b,node:_};this._items.push(R)}if(!E.manual){const _=this._sort();c(_,"item",b!=="?"?`added into group ${b}`:"","created a dependencies error")}return this.nodes}merge(y){Array.isArray(y)||(y=[y]);for(const d of y)if(d)for(const g of d._items)this._items.push(Object.assign({},g));this._items.sort(p.mergeSort);for(let d=0;d<this._items.length;++d)this._items[d].seq=d;const E=this._sort();return c(E,"merge created a dependencies error"),this.nodes}sort(){const y=this._sort();return c(y,"sort created a dependencies error"),this.nodes}_sort(){const y={},E=Object.create(null),d=Object.create(null);for(const R of this._items){const w=R.seq,T=R.group;d[T]=d[T]||[],d[T].push(w),y[w]=R.before;for(const C of R.after)E[C]=E[C]||[],E[C].push(w)}for(const R in y){const w=[];for(const T in y[R]){const C=y[R][T];d[C]=d[C]||[],w.push(...d[C])}y[R]=w}for(const R in E)if(d[R])for(const w of d[R])y[w].push(...E[R]);const g={};for(const R in y){const w=y[R];for(const T of w)g[T]=g[T]||[],g[T].push(R)}const b={},v=[];for(let R=0;R<this._items.length;++R){let w=R;if(g[R]){w=null;for(let T=0;T<this._items.length;++T){if(b[T]===!0)continue;g[T]||(g[T]=[]);const C=g[T].length;let I=0;for(let V=0;V<C;++V)b[g[T][V]]&&++I;if(I===C){w=T;break}}}w!==null&&(b[w]=!0,v.push(w))}if(v.length!==this._items.length)return!1;const _={};for(const R of this._items)_[R.seq]=R;this._items=[],this.nodes=[];for(const R of v){const w=_[R];this.nodes.push(w.node),this._items.push(w)}return!0}},p.mergeSort=(y,E)=>y.sort===E.sort?0:y.sort<E.sort?-1:1},5380:(o,u,f)=>{const c=f(443),p=f(2178),y={minDomainSegments:2,nonAsciiRx:/[^\x00-\x7f]/,domainControlRx:/[\x00-\x20@\:\/\\#!\$&\'\(\)\*\+,;=\?]/,tldSegmentRx:/^[a-zA-Z](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,domainSegmentRx:/^[a-zA-Z0-9](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,URL:c.URL||URL};u.analyze=function(E,d={}){if(!E)return p.code("DOMAIN_NON_EMPTY_STRING");if(typeof E!="string")throw new Error("Invalid input: domain must be a string");if(E.length>256)return p.code("DOMAIN_TOO_LONG");if(y.nonAsciiRx.test(E)){if(d.allowUnicode===!1)return p.code("DOMAIN_INVALID_UNICODE_CHARS");E=E.normalize("NFC")}if(y.domainControlRx.test(E))return p.code("DOMAIN_INVALID_CHARS");E=y.punycode(E),d.allowFullyQualified&&E[E.length-1]==="."&&(E=E.slice(0,-1));const g=d.minDomainSegments||y.minDomainSegments,b=E.split(".");if(b.length<g)return p.code("DOMAIN_SEGMENTS_COUNT");if(d.maxDomainSegments&&b.length>d.maxDomainSegments)return p.code("DOMAIN_SEGMENTS_COUNT_MAX");const v=d.tlds;if(v){const _=b[b.length-1].toLowerCase();if(v.deny&&v.deny.has(_)||v.allow&&!v.allow.has(_))return p.code("DOMAIN_FORBIDDEN_TLDS")}for(let _=0;_<b.length;++_){const R=b[_];if(!R.length)return p.code("DOMAIN_EMPTY_SEGMENT");if(R.length>63)return p.code("DOMAIN_LONG_SEGMENT");if(_<b.length-1){if(!y.domainSegmentRx.test(R))return p.code("DOMAIN_INVALID_CHARS")}else if(!y.tldSegmentRx.test(R))return p.code("DOMAIN_INVALID_TLDS_CHARS")}return null},u.isValid=function(E,d){return!u.analyze(E,d)},y.punycode=function(E){E.includes("%")&&(E=E.replace(/%/g,"%25"));try{return new y.URL(`http://${E}`).host}catch{return E}}},1745:(o,u,f)=>{const c=f(9848),p=f(5380),y=f(2178),E={nonAsciiRx:/[^\x00-\x7f]/,encoder:new(c.TextEncoder||TextEncoder)};u.analyze=function(d,g){return E.email(d,g)},u.isValid=function(d,g){return!E.email(d,g)},E.email=function(d,g={}){if(typeof d!="string")throw new Error("Invalid input: email must be a string");if(!d)return y.code("EMPTY_STRING");const b=!E.nonAsciiRx.test(d);if(!b){if(g.allowUnicode===!1)return y.code("FORBIDDEN_UNICODE");d=d.normalize("NFC")}const v=d.split("@");if(v.length!==2)return v.length>2?y.code("MULTIPLE_AT_CHAR"):y.code("MISSING_AT_CHAR");const[_,R]=v;if(!_)return y.code("EMPTY_LOCAL");if(!g.ignoreLength){if(d.length>254)return y.code("ADDRESS_TOO_LONG");if(E.encoder.encode(_).length>64)return y.code("LOCAL_TOO_LONG")}return E.local(_,b)||p.analyze(R,g)},E.local=function(d,g){const b=d.split(".");for(const v of b){if(!v.length)return y.code("EMPTY_LOCAL_SEGMENT");if(g){if(!E.atextRx.test(v))return y.code("INVALID_LOCAL_CHARS")}else for(const _ of v){if(E.atextRx.test(_))continue;const R=E.binary(_);if(!E.atomRx.test(R))return y.code("INVALID_LOCAL_CHARS")}}},E.binary=function(d){return Array.from(E.encoder.encode(d)).map(g=>String.fromCharCode(g)).join("")},E.atextRx=/^[\w!#\$%&'\*\+\-/=\?\^`\{\|\}~]+$/,E.atomRx=new RegExp(["(?:[\\xc2-\\xdf][\\x80-\\xbf])","(?:\\xe0[\\xa0-\\xbf][\\x80-\\xbf])|(?:[\\xe1-\\xec][\\x80-\\xbf]{2})|(?:\\xed[\\x80-\\x9f][\\x80-\\xbf])|(?:[\\xee-\\xef][\\x80-\\xbf]{2})","(?:\\xf0[\\x90-\\xbf][\\x80-\\xbf]{2})|(?:[\\xf1-\\xf3][\\x80-\\xbf]{3})|(?:\\xf4[\\x80-\\x8f][\\x80-\\xbf]{2})"].join("|"))},2178:(o,u)=>{u.codes={EMPTY_STRING:"Address must be a non-empty string",FORBIDDEN_UNICODE:"Address contains forbidden Unicode characters",MULTIPLE_AT_CHAR:"Address cannot contain more than one @ character",MISSING_AT_CHAR:"Address must contain one @ character",EMPTY_LOCAL:"Address local part cannot be empty",ADDRESS_TOO_LONG:"Address too long",LOCAL_TOO_LONG:"Address local part too long",EMPTY_LOCAL_SEGMENT:"Address local part contains empty dot-separated segment",INVALID_LOCAL_CHARS:"Address local part contains invalid character",DOMAIN_NON_EMPTY_STRING:"Domain must be a non-empty string",DOMAIN_TOO_LONG:"Domain too long",DOMAIN_INVALID_UNICODE_CHARS:"Domain contains forbidden Unicode characters",DOMAIN_INVALID_CHARS:"Domain contains invalid character",DOMAIN_INVALID_TLDS_CHARS:"Domain contains invalid tld character",DOMAIN_SEGMENTS_COUNT:"Domain lacks the minimum required number of segments",DOMAIN_SEGMENTS_COUNT_MAX:"Domain contains too many segments",DOMAIN_FORBIDDEN_TLDS:"Domain uses forbidden TLD",DOMAIN_EMPTY_SEGMENT:"Domain contains empty dot-separated segment",DOMAIN_LONG_SEGMENT:"Domain contains dot-separated segment that is too long"},u.code=function(f){return{code:f,error:u.codes[f]}}},9959:(o,u,f)=>{const c=f(375),p=f(5752);u.regex=function(y={}){c(y.cidr===void 0||typeof y.cidr=="string","options.cidr must be a string");const E=y.cidr?y.cidr.toLowerCase():"optional";c(["required","optional","forbidden"].includes(E),"options.cidr must be one of required, optional, forbidden"),c(y.version===void 0||typeof y.version=="string"||Array.isArray(y.version),"options.version must be a string or an array of string");let d=y.version||["ipv4","ipv6","ipvfuture"];Array.isArray(d)||(d=[d]),c(d.length>=1,"options.version must have at least 1 version specified");for(let v=0;v<d.length;++v)c(typeof d[v]=="string","options.version must only contain strings"),d[v]=d[v].toLowerCase(),c(["ipv4","ipv6","ipvfuture"].includes(d[v]),"options.version contains unknown version "+d[v]+" - must be one of ipv4, ipv6, ipvfuture");d=Array.from(new Set(d));const g=`(?:${d.map(v=>{if(E==="forbidden")return p.ip[v];const _=`\\/${v==="ipv4"?p.ip.v4Cidr:p.ip.v6Cidr}`;return E==="required"?`${p.ip[v]}${_}`:`${p.ip[v]}(?:${_})?`}).join("|")})`,b=new RegExp(`^${g}$`);return{cidr:E,versions:d,regex:b,raw:g}}},5752:(o,u,f)=>{const c=f(375),p=f(6064),y={generate:function(){const E={},d="\\dA-Fa-f",g="["+d+"]",b="\\w-\\.~",v="!\\$&'\\(\\)\\*\\+,;=",_="%"+d,R=b+_+v+":@",w="["+R+"]",T="(?:0{0,2}\\d|0?[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])";E.ipv4address="(?:"+T+"\\.){3}"+T;const C=g+"{1,4}",I="(?:"+C+":"+C+"|"+E.ipv4address+")",V="(?:"+C+":){6}"+I,j="::(?:"+C+":){5}"+I,M="(?:"+C+")?::(?:"+C+":){4}"+I,S="(?:(?:"+C+":){0,1}"+C+")?::(?:"+C+":){3}"+I,x="(?:(?:"+C+":){0,2}"+C+")?::(?:"+C+":){2}"+I,O="(?:(?:"+C+":){0,3}"+C+")?::"+C+":"+I,P="(?:(?:"+C+":){0,4}"+C+")?::"+I,q="(?:(?:"+C+":){0,5}"+C+")?::"+C,U="(?:(?:"+C+":){0,6}"+C+")?::";E.ipv4Cidr="(?:\\d|[1-2]\\d|3[0-2])",E.ipv6Cidr="(?:0{0,2}\\d|0?[1-9]\\d|1[01]\\d|12[0-8])",E.ipv6address="(?:"+V+"|"+j+"|"+M+"|"+S+"|"+x+"|"+O+"|"+P+"|"+q+"|"+U+")",E.ipvFuture="v"+g+"+\\.["+b+v+":]+",E.scheme="[a-zA-Z][a-zA-Z\\d+-\\.]*",E.schemeRegex=new RegExp(E.scheme);const he="["+b+_+v+":]*",pe="["+b+_+v+"]{1,255}",Q="(?:\\[(?:"+E.ipv6address+"|"+E.ipvFuture+")\\]|"+E.ipv4address+"|"+pe+")",se="(?:"+he+"@)?"+Q+"(?::\\d*)?",ye="(?:"+he+"@)?("+Q+")(?::\\d*)?",Re=w+"*",F=w+"+",re="(?:\\/"+Re+")*",me="\\/(?:"+F+re+")?",ce=F+re,_e="["+b+_+v+"@]+"+re,Pe="(?:\\/\\/\\/"+Re+re+")";return E.hierPart="(?:(?:\\/\\/"+se+re+")|"+me+"|"+ce+"|"+Pe+")",E.hierPartCapture="(?:(?:\\/\\/"+ye+re+")|"+me+"|"+ce+")",E.relativeRef="(?:(?:\\/\\/"+se+re+")|"+me+"|"+_e+"|)",E.relativeRefCapture="(?:(?:\\/\\/"+ye+re+")|"+me+"|"+_e+"|)",E.query="["+R+"\\/\\?]*(?=#|$)",E.queryWithSquareBrackets="["+R+"\\[\\]\\/\\?]*(?=#|$)",E.fragment="["+R+"\\/\\?]*",E}};y.rfc3986=y.generate(),u.ip={v4Cidr:y.rfc3986.ipv4Cidr,v6Cidr:y.rfc3986.ipv6Cidr,ipv4:y.rfc3986.ipv4address,ipv6:y.rfc3986.ipv6address,ipvfuture:y.rfc3986.ipvFuture},y.createRegex=function(E){const d=y.rfc3986,g="(?:\\?"+(E.allowQuerySquareBrackets?d.queryWithSquareBrackets:d.query)+")?(?:#"+d.fragment+")?",b=E.domain?d.relativeRefCapture:d.relativeRef;if(E.relativeOnly)return y.wrap(b+g);let v="";if(E.scheme){c(E.scheme instanceof RegExp||typeof E.scheme=="string"||Array.isArray(E.scheme),"scheme must be a RegExp, String, or Array");const w=[].concat(E.scheme);c(w.length>=1,"scheme must have at least 1 scheme specified");const T=[];for(let C=0;C<w.length;++C){const I=w[C];c(I instanceof RegExp||typeof I=="string","scheme at position "+C+" must be a RegExp or String"),I instanceof RegExp?T.push(I.source.toString()):(c(d.schemeRegex.test(I),"scheme at position "+C+" must be a valid scheme"),T.push(p(I)))}v=T.join("|")}const _="(?:"+(v?"(?:"+v+")":d.scheme)+":"+(E.domain?d.hierPartCapture:d.hierPart)+")",R=E.allowRelative?"(?:"+_+"|"+b+")":_;return y.wrap(R+g,v)},y.wrap=function(E,d){return{raw:E=`(?=.)(?!https?:/(?:$|[^/]))(?!https?:///)(?!https?:[^/])${E}`,regex:new RegExp(`^${E}$`),scheme:d}},y.uriRegex=y.createRegex({}),u.regex=function(E={}){return E.scheme||E.allowRelative||E.relativeOnly||E.allowQuerySquareBrackets||E.domain?y.createRegex(E):y.uriRegex}},1447:(o,u)=>{const f={operators:["!","^","*","/","%","+","-","<","<=",">",">=","==","!=","&&","||","??"],operatorCharacters:["!","^","*","/","%","+","-","<","=",">","&","|","?"],operatorsOrder:[["^"],["*","/","%"],["+","-"],["<","<=",">",">="],["==","!="],["&&"],["||","??"]],operatorsPrefix:["!","n"],literals:{'"':'"',"`":"`","'":"'","[":"]"},numberRx:/^(?:[0-9]*(\.[0-9]*)?){1}$/,tokenRx:/^[\w\$\#\.\@\:\{\}]+$/,symbol:Symbol("formula"),settings:Symbol("settings")};u.Parser=class{constructor(c,p={}){if(!p[f.settings]&&p.constants)for(const y in p.constants){const E=p.constants[y];if(E!==null&&!["boolean","number","string"].includes(typeof E))throw new Error(`Formula constant ${y} contains invalid ${typeof E} value type`)}this.settings=p[f.settings]?p:Object.assign({[f.settings]:!0,constants:{},functions:{}},p),this.single=null,this._parts=null,this._parse(c)}_parse(c){let p=[],y="",E=0,d=!1;const g=v=>{if(E)throw new Error("Formula missing closing parenthesis");const _=p.length?p[p.length-1]:null;if(d||y||v){if(_&&_.type==="reference"&&v===")")return _.type="function",_.value=this._subFormula(y,_.value),void(y="");if(v===")"){const R=new u.Parser(y,this.settings);p.push({type:"segment",value:R})}else if(d){if(d==="]")return p.push({type:"reference",value:y}),void(y="");p.push({type:"literal",value:y})}else if(f.operatorCharacters.includes(y))_&&_.type==="operator"&&f.operators.includes(_.value+y)?_.value+=y:p.push({type:"operator",value:y});else if(y.match(f.numberRx))p.push({type:"constant",value:parseFloat(y)});else if(this.settings.constants[y]!==void 0)p.push({type:"constant",value:this.settings.constants[y]});else{if(!y.match(f.tokenRx))throw new Error(`Formula contains invalid token: ${y}`);p.push({type:"reference",value:y})}y=""}};for(const v of c)d?v===d?(g(),d=!1):y+=v:E?v==="("?(y+=v,++E):v===")"?(--E,E?y+=v:g(v)):y+=v:v in f.literals?d=f.literals[v]:v==="("?(g(),++E):f.operatorCharacters.includes(v)?(g(),y=v,g()):v!==" "?y+=v:g();g(),p=p.map((v,_)=>v.type!=="operator"||v.value!=="-"||_&&p[_-1].type!=="operator"?v:{type:"operator",value:"n"});let b=!1;for(const v of p){if(v.type==="operator"){if(f.operatorsPrefix.includes(v.value))continue;if(!b)throw new Error("Formula contains an operator in invalid position");if(!f.operators.includes(v.value))throw new Error(`Formula contains an unknown operator ${v.value}`)}else if(b)throw new Error("Formula missing expected operator");b=!b}if(!b)throw new Error("Formula contains invalid trailing operator");p.length===1&&["reference","literal","constant"].includes(p[0].type)&&(this.single={type:p[0].type==="reference"?"reference":"value",value:p[0].value}),this._parts=p.map(v=>{if(v.type==="operator")return f.operatorsPrefix.includes(v.value)?v:v.value;if(v.type!=="reference")return v.value;if(this.settings.tokenRx&&!this.settings.tokenRx.test(v.value))throw new Error(`Formula contains invalid reference ${v.value}`);return this.settings.reference?this.settings.reference(v.value):f.reference(v.value)})}_subFormula(c,p){const y=this.settings.functions[p];if(typeof y!="function")throw new Error(`Formula contains unknown function ${p}`);let E=[];if(c){let d="",g=0,b=!1;const v=()=>{if(!d)throw new Error(`Formula contains function ${p} with invalid arguments ${c}`);E.push(d),d=""};for(let _=0;_<c.length;++_){const R=c[_];b?(d+=R,R===b&&(b=!1)):R in f.literals&&!g?(d+=R,b=f.literals[R]):R!==","||g?(d+=R,R==="("?++g:R===")"&&--g):v()}v()}return E=E.map(d=>new u.Parser(d,this.settings)),function(d){const g=[];for(const b of E)g.push(b.evaluate(d));return y.call(d,...g)}}evaluate(c){const p=this._parts.slice();for(let y=p.length-2;y>=0;--y){const E=p[y];if(E&&E.type==="operator"){const d=p[y+1];p.splice(y+1,1);const g=f.evaluate(d,c);p[y]=f.single(E.value,g)}}return f.operatorsOrder.forEach(y=>{for(let E=1;E<p.length-1;)if(y.includes(p[E])){const d=p[E],g=f.evaluate(p[E-1],c),b=f.evaluate(p[E+1],c);p.splice(E,2);const v=f.calculate(d,g,b);p[E-1]=v===0?0:v}else E+=2}),f.evaluate(p[0],c)}},u.Parser.prototype[f.symbol]=!0,f.reference=function(c){return function(p){return p&&p[c]!==void 0?p[c]:null}},f.evaluate=function(c,p){return c===null?null:typeof c=="function"?c(p):c[f.symbol]?c.evaluate(p):c},f.single=function(c,p){if(c==="!")return!p;const y=-p;return y===0?0:y},f.calculate=function(c,p,y){if(c==="??")return f.exists(p)?p:y;if(typeof p=="string"||typeof y=="string"){if(c==="+")return(p=f.exists(p)?p:"")+(f.exists(y)?y:"")}else switch(c){case"^":return Math.pow(p,y);case"*":return p*y;case"/":return p/y;case"%":return p%y;case"+":return p+y;case"-":return p-y}switch(c){case"<":return p<y;case"<=":return p<=y;case">":return p>y;case">=":return p>=y;case"==":return p===y;case"!=":return p!==y;case"&&":return p&&y;case"||":return p||y}return null},f.exists=function(c){return c!=null}},9926:()=>{},5688:()=>{},9708:()=>{},1152:()=>{},443:()=>{},9848:()=>{},5934:o=>{o.exports=JSON.parse('{"version":"17.13.3"}')}},i={},function o(u){var f=i[u];if(f!==void 0)return f.exports;var c=i[u]={exports:{}};return n[u](c,c.exports,o),c.exports}(5107);var n,i})}(qd)),qd.exports}var HO=FO();const eo=bb(HO),$O=()=>{const{products:a,addProduct:e,updateProduct:n,deleteProduct:i,fetchProducts:o}=Tf(),{logout:u}=Rf(),f=cs(),[c,p]=W.useState({name:"",price:"",category:"",stock:"",imageURL:""}),[y,E]=W.useState(!1),[d,g]=W.useState(null),[b,v]=W.useState({text:"",type:""}),_=["TV-Spel","Leksaker","Dockor","Pyssel"];W.useEffect(()=>{o()},[o]);const R=S=>{if(!S)return!0;try{return new URL(S),S.match(/\.(jpeg|jpg|gif|png|webp)$/i)!==null}catch{return!1}},w=S=>{const{name:x,value:O}=S.target;p(x==="price"||x==="stock"?{...c,[x]:O.replace(/[^0-9]/g,"")}:{...c,[x]:O})},T=eo.object({name:eo.string().required().min(2).max(100).messages({"string.empty":"Produktnamn r obligatoriskt","string.min":"Produktnamn mste vara minst {#limit} tecken","string.max":"Produktnamn fr max vara {#limit} tecken"}),price:eo.number().required().min(1).max(1e5).messages({"number.base":"Pris mste vara ett nummer","number.empty":"Pris r obligatoriskt","number.min":"Pris mste vara minst {#limit} kr","number.max":"Pris fr inte verstiga {#limit} kr"}),category:eo.string().required().valid(..._).messages({"string.empty":"Kategori r obligatoriskt","any.only":"Vlj en giltig kategori"}),stock:eo.number().required().min(0).max(1e4).messages({"number.base":"Lagersaldo mste vara ett nummer","number.empty":"Lagersaldo r obligatoriskt","number.min":"Lagersaldo kan inte vara negativt","number.max":"Lagersaldo fr inte verstiga {#limit}"}),imageURL:eo.string().allow("").uri().messages({"string.uri":"Ogiltig URL-format fr bild"})}),C=async S=>{S.preventDefault();const x={...c,price:c.price?Number(c.price):"",stock:c.stock?Number(c.stock):""},{error:O}=T.validate(x,{abortEarly:!1});if(O){const P=O.details.map(q=>q.message).join(`
`);v({text:P,type:"error"});return}if(c.imageURL&&!R(c.imageURL)){v({text:"Ogiltig bild URL. Anvnd en lnk till en jpg, png, gif eller webp-fil",type:"error"});return}try{v({text:"Sparar...",type:"info"});const P={name:c.name,price:Number(c.price),category:c.category,stock:Number(c.stock),imageURL:c.imageURL||"https://via.placeholder.com/150"};y&&d?(await n({...P,id:d}),v({text:"Produkt uppdaterad i databasen!",type:"success"})):(await e(P),v({text:"Produkt tillagd i databasen!",type:"success"})),I()}catch(P){console.error("Error saving product:",P),v({text:`Ett fel uppstod: ${P.message}`,type:"error"})}},I=()=>{p({name:"",price:"",category:"",stock:"",imageURL:""}),E(!1),g(null),setTimeout(()=>{v({text:"",type:""})},3e3)},V=S=>{var x,O;p({name:S.name||"",price:((x=S.price)==null?void 0:x.toString())||"",category:S.category||"",stock:((O=S.stock)==null?void 0:O.toString())||"",imageURL:S.imageURL||""}),E(!0),g(S.id),requestAnimationFrame(()=>{const P=document.querySelector(".product-form");if(P){const he=P.getBoundingClientRect().top+window.pageYOffset-100;window.scrollTo({top:he,behavior:"smooth"}),P.classList.add("highlight-form"),setTimeout(()=>{P.classList.remove("highlight-form")},1500)}})},j=async S=>{if(window.confirm("r du sker p att du vill ta bort denna produkt? Den kommer tas bort frn databasen."))try{v({text:"Tar bort produkt...",type:"info"}),await i(S),v({text:"Produkt borttagen frn databasen!",type:"success"}),setTimeout(()=>{v({text:"",type:""})},3e3)}catch(x){v({text:`Ett fel uppstod vid borttagning: ${x.message}`,type:"error"})}},M=()=>{u(),f("/login")};return B.jsxs("div",{className:"admin-panel",children:[B.jsxs("div",{className:"admin-header",children:[B.jsx("h2",{className:"admin-panel-title",children:y?"Redigera produkt":"Lgg till ny produkt"}),B.jsx("button",{onClick:M,className:"logout-btn",children:"Logga ut"})]}),b.text&&B.jsx("div",{className:`message ${b.type}`,children:b.text}),B.jsxs("form",{className:"product-form",onSubmit:C,children:[B.jsxs("div",{className:"form-row",children:[B.jsxs("div",{className:"form-group",children:[B.jsx("label",{htmlFor:"name",children:"Produktnamn *"}),B.jsx("input",{type:"text",id:"name",name:"name",value:c.name,onChange:w,required:!0})]}),B.jsxs("div",{className:"form-group",children:[B.jsx("label",{htmlFor:"price",children:"Pris (kr) *"}),B.jsx("input",{type:"text",id:"price",name:"price",value:c.price,onChange:w,required:!0})]})]}),B.jsxs("div",{className:"form-row",children:[B.jsxs("div",{className:"form-group",children:[B.jsx("label",{htmlFor:"category",children:"Kategori *"}),B.jsxs("select",{id:"category",name:"category",value:c.category,onChange:w,required:!0,children:[B.jsx("option",{value:"",disabled:!0,children:"Vlj kategori"}),_.map(S=>B.jsx("option",{value:S,children:S},S))]})]}),B.jsxs("div",{className:"form-group",children:[B.jsx("label",{htmlFor:"stock",children:"Lagersaldo *"}),B.jsx("input",{type:"text",id:"stock",name:"stock",value:c.stock,onChange:w,required:!0})]})]}),B.jsx("div",{className:"form-row",children:B.jsxs("div",{className:"form-group",children:[B.jsx("label",{htmlFor:"imageURL",children:"Bild URL"}),B.jsx("input",{type:"text",id:"imageURL",name:"imageURL",value:c.imageURL,onChange:w,placeholder:"https://example.com/image.jpg"})]})}),B.jsxs("div",{className:"form-buttons",children:[B.jsx("button",{type:"submit",className:"btn-primary",children:y?"Uppdatera produkt":"Lgg till produkt"}),y&&B.jsx("button",{type:"button",className:"btn-secondary",onClick:I,children:"Avbryt redigering"})]})]}),B.jsxs("div",{className:"products-management",children:[B.jsx("h3",{children:"Befintliga produkter"}),B.jsxs("table",{className:"products-table",children:[B.jsx("thead",{children:B.jsxs("tr",{children:[B.jsx("th",{children:"Bild"}),B.jsx("th",{children:"Namn"}),B.jsx("th",{children:"Kategori"}),B.jsx("th",{children:"Pris"}),B.jsx("th",{children:"Lagersaldo"}),B.jsx("th",{children:"tgrder"})]})}),B.jsx("tbody",{children:a.map(S=>B.jsxs("tr",{children:[B.jsx("td",{className:"product-image-cell",children:S.imageURL?B.jsx("img",{src:S.imageURL,alt:S.name,className:"product-thumbnail",onError:x=>{x.target.onerror=null,x.target.src="https://via.placeholder.com/50?text=No+Image"}}):B.jsx("div",{className:"no-image-placeholder",children:"No Image"})}),B.jsx("td",{children:S.name}),B.jsx("td",{children:S.category}),B.jsxs("td",{children:[S.price," kr"]}),B.jsx("td",{children:S.stock}),B.jsxs("td",{className:"action-buttons",children:[B.jsx("button",{className:"edit-btn",onClick:()=>V(S),children:"Redigera"}),B.jsx("button",{className:"delete-btn",onClick:()=>j(S.id),children:"Ta bort"})]})]},S.id))})]})]})]})},GO=({children:a})=>{const{isLoggedIn:e}=Rf(),n=Tr();return e?a:B.jsx(zA,{to:"/login",state:{from:n},replace:!0})};function QO(){return B.jsxs(B.Fragment,{children:[B.jsx(LO,{}),B.jsx("main",{children:B.jsx(BA,{})}),B.jsx(qO,{})]})}const YO=dT([{path:"/",element:B.jsx(QO,{}),children:[{index:!0,element:B.jsx(H2,{})},{path:"/collection",element:B.jsx($2,{})},{path:"/cart",element:B.jsx(G2,{})},{path:"/product/:productId",element:B.jsx(Q2,{})},{path:"/placeorder",element:B.jsx(DO,{})},{path:"/orders",element:B.jsx(OO,{})},{path:"/login",element:B.jsx(kO,{})},{path:"/admin",element:B.jsx(GO,{children:B.jsx($O,{})})}]}],{basename:""});m1.createRoot(document.getElementById("root")).render(B.jsx(W.StrictMode,{children:B.jsx(xT,{router:YO})}));
