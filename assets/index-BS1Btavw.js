(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function r(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(o){if(o.ep)return;o.ep=!0;const u=r(o);fetch(o.href,u)}})();function O_(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var nd={exports:{}},el={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gy;function s1(){if(Gy)return el;Gy=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(i,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var c in o)c!=="key"&&(u[c]=o[c])}else u=o;return o=u.ref,{$$typeof:a,type:i,key:f,ref:o!==void 0?o:null,props:u}}return el.Fragment=e,el.jsx=r,el.jsxs=r,el}var Qy;function o1(){return Qy||(Qy=1,nd.exports=s1()),nd.exports}var L=o1(),rd={exports:{}},De={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yy;function l1(){if(Yy)return De;Yy=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),m=Symbol.iterator;function p($){return $===null||typeof $!="object"?null:($=m&&$[m]||$["@@iterator"],typeof $=="function"?$:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,y={};function R($,te,ue){this.props=$,this.context=te,this.refs=y,this.updater=ue||b}R.prototype.isReactComponent={},R.prototype.setState=function($,te){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,te,"setState")},R.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function E(){}E.prototype=R.prototype;function S($,te,ue){this.props=$,this.context=te,this.refs=y,this.updater=ue||b}var x=S.prototype=new E;x.constructor=S,g(x,R.prototype),x.isPureReactComponent=!0;var M=Array.isArray,j={H:null,A:null,T:null,S:null,V:null},B=Object.prototype.hasOwnProperty;function N($,te,ue,oe,ge,xe){return ue=xe.ref,{$$typeof:a,type:$,key:te,ref:ue!==void 0?ue:null,props:xe}}function T($,te){return N($.type,te,void 0,void 0,void 0,$.props)}function D($){return typeof $=="object"&&$!==null&&$.$$typeof===a}function O($){var te={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(ue){return te[ue]})}var V=/\/+/g;function q($,te){return typeof $=="object"&&$!==null&&$.key!=null?O(""+$.key):te.toString(36)}function U(){}function he($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(U,U):($.status="pending",$.then(function(te){$.status==="pending"&&($.status="fulfilled",$.value=te)},function(te){$.status==="pending"&&($.status="rejected",$.reason=te)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function fe($,te,ue,oe,ge){var xe=typeof $;(xe==="undefined"||xe==="boolean")&&($=null);var Ee=!1;if($===null)Ee=!0;else switch(xe){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch($.$$typeof){case a:case e:Ee=!0;break;case w:return Ee=$._init,fe(Ee($._payload),te,ue,oe,ge)}}if(Ee)return ge=ge($),Ee=oe===""?"."+q($,0):oe,M(ge)?(ue="",Ee!=null&&(ue=Ee.replace(V,"$&/")+"/"),fe(ge,te,ue,"",function(qn){return qn})):ge!=null&&(D(ge)&&(ge=T(ge,ue+(ge.key==null||$&&$.key===ge.key?"":(""+ge.key).replace(V,"$&/")+"/")+Ee)),te.push(ge)),1;Ee=0;var nt=oe===""?".":oe+":";if(M($))for(var et=0;et<$.length;et++)oe=$[et],xe=nt+q(oe,et),Ee+=fe(oe,te,ue,xe,ge);else if(et=p($),typeof et=="function")for($=et.call($),et=0;!(oe=$.next()).done;)oe=oe.value,xe=nt+q(oe,et++),Ee+=fe(oe,te,ue,xe,ge);else if(xe==="object"){if(typeof $.then=="function")return fe(he($),te,ue,oe,ge);throw te=String($),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function X($,te,ue){if($==null)return $;var oe=[],ge=0;return fe($,oe,"","",function(xe){return te.call(ue,xe,ge++)}),oe}function se($){if($._status===-1){var te=$._result;te=te(),te.then(function(ue){($._status===0||$._status===-1)&&($._status=1,$._result=ue)},function(ue){($._status===0||$._status===-1)&&($._status=2,$._result=ue)}),$._status===-1&&($._status=0,$._result=te)}if($._status===1)return $._result.default;throw $._result}var de=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)};function Se(){}return De.Children={map:X,forEach:function($,te,ue){X($,function(){te.apply(this,arguments)},ue)},count:function($){var te=0;return X($,function(){te++}),te},toArray:function($){return X($,function(te){return te})||[]},only:function($){if(!D($))throw Error("React.Children.only expected to receive a single React element child.");return $}},De.Component=R,De.Fragment=r,De.Profiler=o,De.PureComponent=S,De.StrictMode=i,De.Suspense=_,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,De.__COMPILER_RUNTIME={__proto__:null,c:function($){return j.H.useMemoCache($)}},De.cache=function($){return function(){return $.apply(null,arguments)}},De.cloneElement=function($,te,ue){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var oe=g({},$.props),ge=$.key,xe=void 0;if(te!=null)for(Ee in te.ref!==void 0&&(xe=void 0),te.key!==void 0&&(ge=""+te.key),te)!B.call(te,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&te.ref===void 0||(oe[Ee]=te[Ee]);var Ee=arguments.length-2;if(Ee===1)oe.children=ue;else if(1<Ee){for(var nt=Array(Ee),et=0;et<Ee;et++)nt[et]=arguments[et+2];oe.children=nt}return N($.type,ge,void 0,void 0,xe,oe)},De.createContext=function($){return $={$$typeof:f,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:u,_context:$},$},De.createElement=function($,te,ue){var oe,ge={},xe=null;if(te!=null)for(oe in te.key!==void 0&&(xe=""+te.key),te)B.call(te,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(ge[oe]=te[oe]);var Ee=arguments.length-2;if(Ee===1)ge.children=ue;else if(1<Ee){for(var nt=Array(Ee),et=0;et<Ee;et++)nt[et]=arguments[et+2];ge.children=nt}if($&&$.defaultProps)for(oe in Ee=$.defaultProps,Ee)ge[oe]===void 0&&(ge[oe]=Ee[oe]);return N($,xe,void 0,void 0,null,ge)},De.createRef=function(){return{current:null}},De.forwardRef=function($){return{$$typeof:c,render:$}},De.isValidElement=D,De.lazy=function($){return{$$typeof:w,_payload:{_status:-1,_result:$},_init:se}},De.memo=function($,te){return{$$typeof:v,type:$,compare:te===void 0?null:te}},De.startTransition=function($){var te=j.T,ue={};j.T=ue;try{var oe=$(),ge=j.S;ge!==null&&ge(ue,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(Se,de)}catch(xe){de(xe)}finally{j.T=te}},De.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},De.use=function($){return j.H.use($)},De.useActionState=function($,te,ue){return j.H.useActionState($,te,ue)},De.useCallback=function($,te){return j.H.useCallback($,te)},De.useContext=function($){return j.H.useContext($)},De.useDebugValue=function(){},De.useDeferredValue=function($,te){return j.H.useDeferredValue($,te)},De.useEffect=function($,te,ue){var oe=j.H;if(typeof ue=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return oe.useEffect($,te)},De.useId=function(){return j.H.useId()},De.useImperativeHandle=function($,te,ue){return j.H.useImperativeHandle($,te,ue)},De.useInsertionEffect=function($,te){return j.H.useInsertionEffect($,te)},De.useLayoutEffect=function($,te){return j.H.useLayoutEffect($,te)},De.useMemo=function($,te){return j.H.useMemo($,te)},De.useOptimistic=function($,te){return j.H.useOptimistic($,te)},De.useReducer=function($,te,ue){return j.H.useReducer($,te,ue)},De.useRef=function($){return j.H.useRef($)},De.useState=function($){return j.H.useState($)},De.useSyncExternalStore=function($,te,ue){return j.H.useSyncExternalStore($,te,ue)},De.useTransition=function(){return j.H.useTransition()},De.version="19.1.0",De}var Ky;function Gd(){return Ky||(Ky=1,rd.exports=l1()),rd.exports}var J=Gd();const Xy=O_(J);var ad={exports:{}},tl={},id={exports:{}},sd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wy;function u1(){return Wy||(Wy=1,function(a){function e(X,se){var de=X.length;X.push(se);e:for(;0<de;){var Se=de-1>>>1,$=X[Se];if(0<o($,se))X[Se]=se,X[de]=$,de=Se;else break e}}function r(X){return X.length===0?null:X[0]}function i(X){if(X.length===0)return null;var se=X[0],de=X.pop();if(de!==se){X[0]=de;e:for(var Se=0,$=X.length,te=$>>>1;Se<te;){var ue=2*(Se+1)-1,oe=X[ue],ge=ue+1,xe=X[ge];if(0>o(oe,de))ge<$&&0>o(xe,oe)?(X[Se]=xe,X[ge]=de,Se=ge):(X[Se]=oe,X[ue]=de,Se=ue);else if(ge<$&&0>o(xe,de))X[Se]=xe,X[ge]=de,Se=ge;else break e}}return se}function o(X,se){var de=X.sortIndex-se.sortIndex;return de!==0?de:X.id-se.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var f=Date,c=f.now();a.unstable_now=function(){return f.now()-c}}var _=[],v=[],w=1,m=null,p=3,b=!1,g=!1,y=!1,R=!1,E=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;function M(X){for(var se=r(v);se!==null;){if(se.callback===null)i(v);else if(se.startTime<=X)i(v),se.sortIndex=se.expirationTime,e(_,se);else break;se=r(v)}}function j(X){if(y=!1,M(X),!g)if(r(_)!==null)g=!0,B||(B=!0,q());else{var se=r(v);se!==null&&fe(j,se.startTime-X)}}var B=!1,N=-1,T=5,D=-1;function O(){return R?!0:!(a.unstable_now()-D<T)}function V(){if(R=!1,B){var X=a.unstable_now();D=X;var se=!0;try{e:{g=!1,y&&(y=!1,S(N),N=-1),b=!0;var de=p;try{t:{for(M(X),m=r(_);m!==null&&!(m.expirationTime>X&&O());){var Se=m.callback;if(typeof Se=="function"){m.callback=null,p=m.priorityLevel;var $=Se(m.expirationTime<=X);if(X=a.unstable_now(),typeof $=="function"){m.callback=$,M(X),se=!0;break t}m===r(_)&&i(_),M(X)}else i(_);m=r(_)}if(m!==null)se=!0;else{var te=r(v);te!==null&&fe(j,te.startTime-X),se=!1}}break e}finally{m=null,p=de,b=!1}se=void 0}}finally{se?q():B=!1}}}var q;if(typeof x=="function")q=function(){x(V)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,he=U.port2;U.port1.onmessage=V,q=function(){he.postMessage(null)}}else q=function(){E(V,0)};function fe(X,se){N=E(function(){X(a.unstable_now())},se)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(X){X.callback=null},a.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<X?Math.floor(1e3/X):5},a.unstable_getCurrentPriorityLevel=function(){return p},a.unstable_next=function(X){switch(p){case 1:case 2:case 3:var se=3;break;default:se=p}var de=p;p=se;try{return X()}finally{p=de}},a.unstable_requestPaint=function(){R=!0},a.unstable_runWithPriority=function(X,se){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var de=p;p=X;try{return se()}finally{p=de}},a.unstable_scheduleCallback=function(X,se,de){var Se=a.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Se+de:Se):de=Se,X){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=de+$,X={id:w++,callback:se,priorityLevel:X,startTime:de,expirationTime:$,sortIndex:-1},de>Se?(X.sortIndex=de,e(v,X),r(_)===null&&X===r(v)&&(y?(S(N),N=-1):y=!0,fe(j,de-Se))):(X.sortIndex=$,e(_,X),g||b||(g=!0,B||(B=!0,q()))),X},a.unstable_shouldYield=O,a.unstable_wrapCallback=function(X){var se=p;return function(){var de=p;p=se;try{return X.apply(this,arguments)}finally{p=de}}}}(sd)),sd}var Zy;function c1(){return Zy||(Zy=1,id.exports=u1()),id.exports}var od={exports:{}},Ft={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jy;function h1(){if(Jy)return Ft;Jy=1;var a=Gd();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)v+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var i={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(_,v,w){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:m==null?null:""+m,children:_,containerInfo:v,implementation:w}}var f=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Ft.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Ft.createPortal=function(_,v){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return u(_,v,null,w)},Ft.flushSync=function(_){var v=f.T,w=i.p;try{if(f.T=null,i.p=2,_)return _()}finally{f.T=v,i.p=w,i.d.f()}},Ft.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,i.d.C(_,v))},Ft.prefetchDNS=function(_){typeof _=="string"&&i.d.D(_)},Ft.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var w=v.as,m=c(w,v.crossOrigin),p=typeof v.integrity=="string"?v.integrity:void 0,b=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;w==="style"?i.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:m,integrity:p,fetchPriority:b}):w==="script"&&i.d.X(_,{crossOrigin:m,integrity:p,fetchPriority:b,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Ft.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var w=c(v.as,v.crossOrigin);i.d.M(_,{crossOrigin:w,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&i.d.M(_)},Ft.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var w=v.as,m=c(w,v.crossOrigin);i.d.L(_,w,{crossOrigin:m,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Ft.preloadModule=function(_,v){if(typeof _=="string")if(v){var w=c(v.as,v.crossOrigin);i.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:w,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else i.d.m(_)},Ft.requestFormReset=function(_){i.d.r(_)},Ft.unstable_batchedUpdates=function(_,v){return _(v)},Ft.useFormState=function(_,v,w){return f.H.useFormState(_,v,w)},Ft.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ft.version="19.1.0",Ft}var ev;function f1(){if(ev)return od.exports;ev=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),od.exports=h1(),od.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tv;function d1(){if(tv)return tl;tv=1;var a=c1(),e=Gd(),r=f1();function i(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function f(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function c(t){if(u(t)!==t)throw Error(i(188))}function _(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(i(188));return n!==t?null:t}for(var s=t,l=n;;){var d=s.return;if(d===null)break;var A=d.alternate;if(A===null){if(l=d.return,l!==null){s=l;continue}break}if(d.child===A.child){for(A=d.child;A;){if(A===s)return c(d),t;if(A===l)return c(d),n;A=A.sibling}throw Error(i(188))}if(s.return!==l.return)s=d,l=A;else{for(var k=!1,P=d.child;P;){if(P===s){k=!0,s=d,l=A;break}if(P===l){k=!0,l=d,s=A;break}P=P.sibling}if(!k){for(P=A.child;P;){if(P===s){k=!0,s=A,l=d;break}if(P===l){k=!0,l=A,s=d;break}P=P.sibling}if(!k)throw Error(i(189))}}if(s.alternate!==l)throw Error(i(190))}if(s.tag!==3)throw Error(i(188));return s.stateNode.current===s?t:n}function v(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=v(t),n!==null)return n;t=t.sibling}return null}var w=Object.assign,m=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),S=Symbol.for("react.consumer"),x=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function q(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var U=Symbol.for("react.client.reference");function he(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===U?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case g:return"Fragment";case R:return"Profiler";case y:return"StrictMode";case j:return"Suspense";case B:return"SuspenseList";case D:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case b:return"Portal";case x:return(t.displayName||"Context")+".Provider";case S:return(t._context.displayName||"Context")+".Consumer";case M:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:he(t.type)||"Memo";case T:n=t._payload,t=t._init;try{return he(t(n))}catch{}}return null}var fe=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Se=[],$=-1;function te(t){return{current:t}}function ue(t){0>$||(t.current=Se[$],Se[$]=null,$--)}function oe(t,n){$++,Se[$]=t.current,t.current=n}var ge=te(null),xe=te(null),Ee=te(null),nt=te(null);function et(t,n){switch(oe(Ee,n),oe(xe,t),oe(ge,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?by(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=by(n),t=Ey(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ue(ge),oe(ge,t)}function qn(){ue(ge),ue(xe),ue(Ee)}function $r(t){t.memoizedState!==null&&oe(nt,t);var n=ge.current,s=Ey(n,t.type);n!==s&&(oe(xe,t),oe(ge,s))}function dr(t){xe.current===t&&(ue(ge),ue(xe)),nt.current===t&&(ue(nt),Ko._currentValue=de)}var Pa=Object.prototype.hasOwnProperty,La=a.unstable_scheduleCallback,Ua=a.unstable_cancelCallback,Fs=a.unstable_shouldYield,Dl=a.unstable_requestPaint,gn=a.unstable_now,th=a.unstable_getCurrentPriorityLevel,Gs=a.unstable_ImmediatePriority,Di=a.unstable_UserBlockingPriority,za=a.unstable_NormalPriority,nh=a.unstable_LowPriority,Oi=a.unstable_IdlePriority,Qs=a.log,Ol=a.unstable_setDisableYieldValue,ut=null,Fe=null;function sn(t){if(typeof Qs=="function"&&Ol(t),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(ut,t)}catch{}}var Ht=Math.clz32?Math.clz32:Ba,Il=Math.log,rh=Math.LN2;function Ba(t){return t>>>=0,t===0?32:31-(Il(t)/rh|0)|0}var qa=256,Ha=4194304;function In(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ii(t,n,s){var l=t.pendingLanes;if(l===0)return 0;var d=0,A=t.suspendedLanes,k=t.pingedLanes;t=t.warmLanes;var P=l&134217727;return P!==0?(l=P&~A,l!==0?d=In(l):(k&=P,k!==0?d=In(k):s||(s=P&~t,s!==0&&(d=In(s))))):(P=l&~A,P!==0?d=In(P):k!==0?d=In(k):s||(s=l&~t,s!==0&&(d=In(s)))),d===0?0:n!==0&&n!==d&&(n&A)===0&&(A=d&-d,s=n&-n,A>=s||A===32&&(s&4194048)!==0)?n:d}function $a(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ys(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ks(){var t=qa;return qa<<=1,(qa&4194048)===0&&(qa=256),t}function Xs(){var t=Ha;return Ha<<=1,(Ha&62914560)===0&&(Ha=4194304),t}function mr(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function pr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ws(t,n,s,l,d,A){var k=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var P=t.entanglements,H=t.expirationTimes,K=t.hiddenUpdates;for(s=k&~s;0<s;){var ne=31-Ht(s),ae=1<<ne;P[ne]=0,H[ne]=-1;var W=K[ne];if(W!==null)for(K[ne]=null,ne=0;ne<W.length;ne++){var Z=W[ne];Z!==null&&(Z.lane&=-536870913)}s&=~ae}l!==0&&Hn(t,l,0),A!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=A&~(k&~n))}function Hn(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Ht(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|s&4194090}function Zs(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var l=31-Ht(s),d=1<<l;d&n|t[l]&n&&(t[l]|=n),s&=~d}}function Fr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ni(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Gr(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:zy(t.type))}function Nl(t,n){var s=se.p;try{return se.p=t,n()}finally{se.p=s}}var rt=Math.random().toString(36).slice(2),Et="__reactFiber$"+rt,gt="__reactProps$"+rt,yn="__reactContainer$"+rt,Js="__reactEvents$"+rt,ah="__reactListeners$"+rt,Qr="__reactHandles$"+rt,kl="__reactResources$"+rt,Fa="__reactMarker$"+rt;function Yr(t){delete t[Et],delete t[gt],delete t[Js],delete t[ah],delete t[Qr]}function gr(t){var n=t[Et];if(n)return n;for(var s=t.parentNode;s;){if(n=s[yn]||s[Et]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=Sy(t);t!==null;){if(s=t[Et])return s;t=Sy(t)}return n}t=s,s=t.parentNode}return null}function $n(t){if(t=t[Et]||t[yn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Fn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(i(33))}function Xt(t){var n=t[kl];return n||(n=t[kl]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ft(t){t[Fa]=!0}var eo=new Set,ki={};function Nn(t,n){yr(t,n),yr(t+"Capture",n)}function yr(t,n){for(ki[t]=n,t=0;t<n.length;t++)eo.add(n[t])}var Ml=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vl={},Ga={};function jl(t){return Pa.call(Ga,t)?!0:Pa.call(Vl,t)?!1:Ml.test(t)?Ga[t]=!0:(Vl[t]=!0,!1)}function Kr(t,n,s){if(jl(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function Gn(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function Vt(t,n,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+l)}}var Qa,Pl;function vr(t){if(Qa===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Qa=n&&n[1]||"",Pl=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qa+t+Pl}var Mi=!1;function Vi(t,n){if(!t||Mi)return"";Mi=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(Z){var W=Z}Reflect.construct(t,[],ae)}else{try{ae.call()}catch(Z){W=Z}t.call(ae.prototype)}}else{try{throw Error()}catch(Z){W=Z}(ae=t())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(Z){if(Z&&W&&typeof Z.stack=="string")return[Z.stack,W.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var A=l.DetermineComponentFrameRoot(),k=A[0],P=A[1];if(k&&P){var H=k.split(`
`),K=P.split(`
`);for(d=l=0;l<H.length&&!H[l].includes("DetermineComponentFrameRoot");)l++;for(;d<K.length&&!K[d].includes("DetermineComponentFrameRoot");)d++;if(l===H.length||d===K.length)for(l=H.length-1,d=K.length-1;1<=l&&0<=d&&H[l]!==K[d];)d--;for(;1<=l&&0<=d;l--,d--)if(H[l]!==K[d]){if(l!==1||d!==1)do if(l--,d--,0>d||H[l]!==K[d]){var ne=`
`+H[l].replace(" at new "," at ");return t.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",t.displayName)),ne}while(1<=l&&0<=d);break}}}finally{Mi=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?vr(s):""}function to(t){switch(t.tag){case 26:case 27:case 5:return vr(t.type);case 16:return vr("Lazy");case 13:return vr("Suspense");case 19:return vr("SuspenseList");case 0:case 15:return Vi(t.type,!1);case 11:return Vi(t.type.render,!1);case 1:return Vi(t.type,!0);case 31:return vr("Activity");default:return""}}function ji(t){try{var n="";do n+=to(t),t=t.return;while(t);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function Wt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function no(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ih(t){var n=no(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var d=s.get,A=s.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return d.call(this)},set:function(k){l=""+k,A.call(this,k)}}),Object.defineProperty(t,n,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(k){l=""+k},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Pi(t){t._valueTracker||(t._valueTracker=ih(t))}function ro(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return t&&(l=no(t)?t.checked?"true":"false":t.value),t=l,t!==s?(n.setValue(t),!0):!1}function Ya(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var sh=/[\n"\\]/g;function yt(t){return t.replace(sh,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function on(t,n,s,l,d,A,k,P){t.name="",k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?t.type=k:t.removeAttribute("type"),n!=null?k==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Wt(n)):t.value!==""+Wt(n)&&(t.value=""+Wt(n)):k!=="submit"&&k!=="reset"||t.removeAttribute("value"),n!=null?Xr(t,k,Wt(n)):s!=null?Xr(t,k,Wt(s)):l!=null&&t.removeAttribute("value"),d==null&&A!=null&&(t.defaultChecked=!!A),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?t.name=""+Wt(P):t.removeAttribute("name")}function Ka(t,n,s,l,d,A,k,P){if(A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(t.type=A),n!=null||s!=null){if(!(A!=="submit"&&A!=="reset"||n!=null))return;s=s!=null?""+Wt(s):"",n=n!=null?""+Wt(n):s,P||n===t.value||(t.value=n),t.defaultValue=n}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=P?t.checked:!!l,t.defaultChecked=!!l,k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(t.name=k)}function Xr(t,n,s){n==="number"&&Ya(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function _r(t,n,s,l){if(t=t.options,n){n={};for(var d=0;d<s.length;d++)n["$"+s[d]]=!0;for(s=0;s<t.length;s++)d=n.hasOwnProperty("$"+t[s].value),t[s].selected!==d&&(t[s].selected=d),d&&l&&(t[s].defaultSelected=!0)}else{for(s=""+Wt(s),n=null,d=0;d<t.length;d++){if(t[d].value===s){t[d].selected=!0,l&&(t[d].defaultSelected=!0);return}n!==null||t[d].disabled||(n=t[d])}n!==null&&(n.selected=!0)}}function Ke(t,n,s){if(n!=null&&(n=""+Wt(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+Wt(s):""}function Xa(t,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(i(92));if(fe(l)){if(1<l.length)throw Error(i(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=Wt(n),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l)}function vn(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var Wa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ll(t,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,s):typeof s!="number"||s===0||Wa.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function ao(t,n,s){if(n!=null&&typeof n!="object")throw Error(i(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var d in n)l=n[d],n.hasOwnProperty(d)&&s[d]!==l&&Ll(t,d,l)}else for(var A in n)n.hasOwnProperty(A)&&Ll(t,A,n[A])}function io(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Li(t){return lh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var br=null;function _n(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Er=null,Ar=null;function so(t){var n=$n(t);if(n&&(t=n.stateNode)){var s=t[gt]||null;e:switch(t=n.stateNode,n.type){case"input":if(on(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+yt(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==t&&l.form===t.form){var d=l[gt]||null;if(!d)throw Error(i(90));on(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===t.form&&ro(l)}break e;case"textarea":Ke(t,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&_r(t,!!s.multiple,n,!1)}}}var Qn=!1;function Ul(t,n,s){if(Qn)return t(n,s);Qn=!0;try{var l=t(n);return l}finally{if(Qn=!1,(Er!==null||Ar!==null)&&(Nu(),Er&&(n=Er,t=Ar,Ar=Er=null,so(n),t)))for(n=0;n<t.length;n++)so(t[n])}}function Za(t,n){var s=t.stateNode;if(s===null)return null;var l=s[gt]||null;if(l===null)return null;s=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(i(231,n,typeof s));return s}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bn=!1;if(kn)try{var Ja={};Object.defineProperty(Ja,"passive",{get:function(){bn=!0}}),window.addEventListener("test",Ja,Ja),window.removeEventListener("test",Ja,Ja)}catch{bn=!1}var Yn=null,Wr=null,wr=null;function oo(){if(wr)return wr;var t,n=Wr,s=n.length,l,d="value"in Yn?Yn.value:Yn.textContent,A=d.length;for(t=0;t<s&&n[t]===d[t];t++);var k=s-t;for(l=1;l<=k&&n[s-l]===d[A-l];l++);return wr=d.slice(t,1<l?1-l:void 0)}function Kn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Xn(){return!0}function lo(){return!1}function Dt(t){function n(s,l,d,A,k){this._reactName=s,this._targetInst=d,this.type=l,this.nativeEvent=A,this.target=k,this.currentTarget=null;for(var P in t)t.hasOwnProperty(P)&&(s=t[P],this[P]=s?s(A):A[P]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?Xn:lo,this.isPropagationStopped=lo,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Xn)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Xn)},persist:function(){},isPersistent:Xn}),n}var He={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ui=Dt(He),ei=w({},He,{view:0,detail:0}),zl=Dt(ei),zi,Bi,Wn,ti=w({},ei,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ai,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Wn&&(Wn&&t.type==="mousemove"?(zi=t.screenX-Wn.screenX,Bi=t.screenY-Wn.screenY):Bi=zi=0,Wn=t),zi)},movementY:function(t){return"movementY"in t?t.movementY:Bi}}),En=Dt(ti),Bl=w({},ti,{dataTransfer:0}),uh=Dt(Bl),ni=w({},ei,{relatedTarget:0}),qi=Dt(ni),uo=w({},He,{animationName:0,elapsedTime:0,pseudoElement:0}),Hi=Dt(uo),ql=w({},He,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),$i=Dt(ql),ch=w({},He,{data:0}),co=Dt(ch),ri={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$l={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ho(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=$l[t])?!!n[t]:!1}function ai(){return ho}var Fl=w({},ei,{key:function(t){if(t.key){var n=ri[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Kn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Hl[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ai,charCode:function(t){return t.type==="keypress"?Kn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Kn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Fi=Dt(Fl),Gl=w({},ti,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fo=Dt(Gl),Tr=w({},ei,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ai}),Ql=Dt(Tr),Yl=w({},He,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kl=Dt(Yl),Xl=w({},ti,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Gi=Dt(Xl),Zt=w({},He,{newState:0,oldState:0}),Wl=Dt(Zt),Zl=[9,13,27,32],Zn=kn&&"CompositionEvent"in window,h=null;kn&&"documentMode"in document&&(h=document.documentMode);var C=kn&&"TextEvent"in window&&!h,I=kn&&(!Zn||h&&8<h&&11>=h),z=" ",Q=!1;function ee(t,n){switch(t){case"keyup":return Zl.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ce(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var je=!1;function At(t,n){switch(t){case"compositionend":return ce(n);case"keypress":return n.which!==32?null:(Q=!0,z);case"textInput":return t=n.data,t===z&&Q?null:t;default:return null}}function Pe(t,n){if(je)return t==="compositionend"||!Zn&&ee(t,n)?(t=oo(),wr=Wr=Yn=null,je=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return I&&n.locale!=="ko"?null:n.data;default:return null}}var Ot={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wt(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ot[t.type]:n==="textarea"}function Sr(t,n,s,l){Er?Ar?Ar.push(l):Ar=[l]:Er=l,n=Lu(n,"onChange"),0<n.length&&(s=new Ui("onChange","change",null,s,l),t.push({event:s,listeners:n}))}var jt=null,Jn=null;function mo(t){py(t,0)}function Jl(t){var n=Fn(t);if(ro(n))return t}function jm(t,n){if(t==="change")return n}var Pm=!1;if(kn){var hh;if(kn){var fh="oninput"in document;if(!fh){var Lm=document.createElement("div");Lm.setAttribute("oninput","return;"),fh=typeof Lm.oninput=="function"}hh=fh}else hh=!1;Pm=hh&&(!document.documentMode||9<document.documentMode)}function Um(){jt&&(jt.detachEvent("onpropertychange",zm),Jn=jt=null)}function zm(t){if(t.propertyName==="value"&&Jl(Jn)){var n=[];Sr(n,Jn,t,_n(t)),Ul(mo,n)}}function j0(t,n,s){t==="focusin"?(Um(),jt=n,Jn=s,jt.attachEvent("onpropertychange",zm)):t==="focusout"&&Um()}function P0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Jl(Jn)}function L0(t,n){if(t==="click")return Jl(n)}function U0(t,n){if(t==="input"||t==="change")return Jl(n)}function z0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var ln=typeof Object.is=="function"?Object.is:z0;function po(t,n){if(ln(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var d=s[l];if(!Pa.call(n,d)||!ln(t[d],n[d]))return!1}return!0}function Bm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function qm(t,n){var s=Bm(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=n&&l>=n)return{node:s,offset:n-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Bm(s)}}function Hm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Hm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function $m(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ya(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=Ya(t.document)}return n}function dh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var B0=kn&&"documentMode"in document&&11>=document.documentMode,Qi=null,mh=null,go=null,ph=!1;function Fm(t,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;ph||Qi==null||Qi!==Ya(l)||(l=Qi,"selectionStart"in l&&dh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),go&&po(go,l)||(go=l,l=Lu(mh,"onSelect"),0<l.length&&(n=new Ui("onSelect","select",null,n,s),t.push({event:n,listeners:l}),n.target=Qi)))}function ii(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var Yi={animationend:ii("Animation","AnimationEnd"),animationiteration:ii("Animation","AnimationIteration"),animationstart:ii("Animation","AnimationStart"),transitionrun:ii("Transition","TransitionRun"),transitionstart:ii("Transition","TransitionStart"),transitioncancel:ii("Transition","TransitionCancel"),transitionend:ii("Transition","TransitionEnd")},gh={},Gm={};kn&&(Gm=document.createElement("div").style,"AnimationEvent"in window||(delete Yi.animationend.animation,delete Yi.animationiteration.animation,delete Yi.animationstart.animation),"TransitionEvent"in window||delete Yi.transitionend.transition);function si(t){if(gh[t])return gh[t];if(!Yi[t])return t;var n=Yi[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in Gm)return gh[t]=n[s];return t}var Qm=si("animationend"),Ym=si("animationiteration"),Km=si("animationstart"),q0=si("transitionrun"),H0=si("transitionstart"),$0=si("transitioncancel"),Xm=si("transitionend"),Wm=new Map,yh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yh.push("scrollEnd");function Mn(t,n){Wm.set(t,n),Nn(n,[t])}var Zm=new WeakMap;function An(t,n){if(typeof t=="object"&&t!==null){var s=Zm.get(t);return s!==void 0?s:(n={value:t,source:n,stack:ji(n)},Zm.set(t,n),n)}return{value:t,source:n,stack:ji(n)}}var wn=[],Ki=0,vh=0;function eu(){for(var t=Ki,n=vh=Ki=0;n<t;){var s=wn[n];wn[n++]=null;var l=wn[n];wn[n++]=null;var d=wn[n];wn[n++]=null;var A=wn[n];if(wn[n++]=null,l!==null&&d!==null){var k=l.pending;k===null?d.next=d:(d.next=k.next,k.next=d),l.pending=d}A!==0&&Jm(s,d,A)}}function tu(t,n,s,l){wn[Ki++]=t,wn[Ki++]=n,wn[Ki++]=s,wn[Ki++]=l,vh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function _h(t,n,s,l){return tu(t,n,s,l),nu(t)}function Xi(t,n){return tu(t,null,null,n),nu(t)}function Jm(t,n,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var d=!1,A=t.return;A!==null;)A.childLanes|=s,l=A.alternate,l!==null&&(l.childLanes|=s),A.tag===22&&(t=A.stateNode,t===null||t._visibility&1||(d=!0)),t=A,A=A.return;return t.tag===3?(A=t.stateNode,d&&n!==null&&(d=31-Ht(s),t=A.hiddenUpdates,l=t[d],l===null?t[d]=[n]:l.push(n),n.lane=s|536870912),A):null}function nu(t){if(50<Bo)throw Bo=0,Rf=null,Error(i(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Wi={};function F0(t,n,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(t,n,s,l){return new F0(t,n,s,l)}function bh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Rr(t,n){var s=t.alternate;return s===null?(s=un(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function ep(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function ru(t,n,s,l,d,A){var k=0;if(l=t,typeof t=="function")bh(t)&&(k=1);else if(typeof t=="string")k=QE(t,s,ge.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case D:return t=un(31,s,n,d),t.elementType=D,t.lanes=A,t;case g:return oi(s.children,d,A,n);case y:k=8,d|=24;break;case R:return t=un(12,s,n,d|2),t.elementType=R,t.lanes=A,t;case j:return t=un(13,s,n,d),t.elementType=j,t.lanes=A,t;case B:return t=un(19,s,n,d),t.elementType=B,t.lanes=A,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case E:case x:k=10;break e;case S:k=9;break e;case M:k=11;break e;case N:k=14;break e;case T:k=16,l=null;break e}k=29,s=Error(i(130,t===null?"null":typeof t,"")),l=null}return n=un(k,s,n,d),n.elementType=t,n.type=l,n.lanes=A,n}function oi(t,n,s,l){return t=un(7,t,l,n),t.lanes=s,t}function Eh(t,n,s){return t=un(6,t,null,n),t.lanes=s,t}function Ah(t,n,s){return n=un(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Zi=[],Ji=0,au=null,iu=0,Tn=[],Sn=0,li=null,xr=1,Cr="";function ui(t,n){Zi[Ji++]=iu,Zi[Ji++]=au,au=t,iu=n}function tp(t,n,s){Tn[Sn++]=xr,Tn[Sn++]=Cr,Tn[Sn++]=li,li=t;var l=xr;t=Cr;var d=32-Ht(l)-1;l&=~(1<<d),s+=1;var A=32-Ht(n)+d;if(30<A){var k=d-d%5;A=(l&(1<<k)-1).toString(32),l>>=k,d-=k,xr=1<<32-Ht(n)+d|s<<d|l,Cr=A+t}else xr=1<<A|s<<d|l,Cr=t}function wh(t){t.return!==null&&(ui(t,1),tp(t,1,0))}function Th(t){for(;t===au;)au=Zi[--Ji],Zi[Ji]=null,iu=Zi[--Ji],Zi[Ji]=null;for(;t===li;)li=Tn[--Sn],Tn[Sn]=null,Cr=Tn[--Sn],Tn[Sn]=null,xr=Tn[--Sn],Tn[Sn]=null}var Jt=null,ct=null,qe=!1,ci=null,er=!1,Sh=Error(i(519));function hi(t){var n=Error(i(418,""));throw _o(An(n,t)),Sh}function np(t){var n=t.stateNode,s=t.type,l=t.memoizedProps;switch(n[Et]=t,n[gt]=l,s){case"dialog":Me("cancel",n),Me("close",n);break;case"iframe":case"object":case"embed":Me("load",n);break;case"video":case"audio":for(s=0;s<Ho.length;s++)Me(Ho[s],n);break;case"source":Me("error",n);break;case"img":case"image":case"link":Me("error",n),Me("load",n);break;case"details":Me("toggle",n);break;case"input":Me("invalid",n),Ka(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Pi(n);break;case"select":Me("invalid",n);break;case"textarea":Me("invalid",n),Xa(n,l.value,l.defaultValue,l.children),Pi(n)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||_y(n.textContent,s)?(l.popover!=null&&(Me("beforetoggle",n),Me("toggle",n)),l.onScroll!=null&&Me("scroll",n),l.onScrollEnd!=null&&Me("scrollend",n),l.onClick!=null&&(n.onclick=Uu),n=!0):n=!1,n||hi(t)}function rp(t){for(Jt=t.return;Jt;)switch(Jt.tag){case 5:case 13:er=!1;return;case 27:case 3:er=!0;return;default:Jt=Jt.return}}function yo(t){if(t!==Jt)return!1;if(!qe)return rp(t),qe=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||qf(t.type,t.memoizedProps)),s=!s),s&&ct&&hi(t),rp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(n===0){ct=jn(t.nextSibling);break e}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++;t=t.nextSibling}ct=null}}else n===27?(n=ct,da(t.type)?(t=Gf,Gf=null,ct=t):ct=n):ct=Jt?jn(t.stateNode.nextSibling):null;return!0}function vo(){ct=Jt=null,qe=!1}function ap(){var t=ci;return t!==null&&(nn===null?nn=t:nn.push.apply(nn,t),ci=null),t}function _o(t){ci===null?ci=[t]:ci.push(t)}var Rh=te(null),fi=null,Dr=null;function Zr(t,n,s){oe(Rh,n._currentValue),n._currentValue=s}function Or(t){t._currentValue=Rh.current,ue(Rh)}function xh(t,n,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===s)break;t=t.return}}function Ch(t,n,s,l){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var A=d.dependencies;if(A!==null){var k=d.child;A=A.firstContext;e:for(;A!==null;){var P=A;A=d;for(var H=0;H<n.length;H++)if(P.context===n[H]){A.lanes|=s,P=A.alternate,P!==null&&(P.lanes|=s),xh(A.return,s,t),l||(k=null);break e}A=P.next}}else if(d.tag===18){if(k=d.return,k===null)throw Error(i(341));k.lanes|=s,A=k.alternate,A!==null&&(A.lanes|=s),xh(k,s,t),k=null}else k=d.child;if(k!==null)k.return=d;else for(k=d;k!==null;){if(k===t){k=null;break}if(d=k.sibling,d!==null){d.return=k.return,k=d;break}k=k.return}d=k}}function bo(t,n,s,l){t=null;for(var d=n,A=!1;d!==null;){if(!A){if((d.flags&524288)!==0)A=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var k=d.alternate;if(k===null)throw Error(i(387));if(k=k.memoizedProps,k!==null){var P=d.type;ln(d.pendingProps.value,k.value)||(t!==null?t.push(P):t=[P])}}else if(d===nt.current){if(k=d.alternate,k===null)throw Error(i(387));k.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(Ko):t=[Ko])}d=d.return}t!==null&&Ch(n,t,s,l),n.flags|=262144}function su(t){for(t=t.firstContext;t!==null;){if(!ln(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function di(t){fi=t,Dr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function $t(t){return ip(fi,t)}function ou(t,n){return fi===null&&di(t),ip(t,n)}function ip(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Dr===null){if(t===null)throw Error(i(308));Dr=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Dr=Dr.next=n;return s}var G0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},Q0=a.unstable_scheduleCallback,Y0=a.unstable_NormalPriority,Tt={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Dh(){return{controller:new G0,data:new Map,refCount:0}}function Eo(t){t.refCount--,t.refCount===0&&Q0(Y0,function(){t.controller.abort()})}var Ao=null,Oh=0,es=0,ts=null;function K0(t,n){if(Ao===null){var s=Ao=[];Oh=0,es=kf(),ts={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Oh++,n.then(sp,sp),n}function sp(){if(--Oh===0&&Ao!==null){ts!==null&&(ts.status="fulfilled");var t=Ao;Ao=null,es=0,ts=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function X0(t,n){var s=[],l={status:"pending",value:null,reason:null,then:function(d){s.push(d)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var d=0;d<s.length;d++)(0,s[d])(n)},function(d){for(l.status="rejected",l.reason=d,d=0;d<s.length;d++)(0,s[d])(void 0)}),l}var op=X.S;X.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&K0(t,n),op!==null&&op(t,n)};var mi=te(null);function Ih(){var t=mi.current;return t!==null?t:tt.pooledCache}function lu(t,n){n===null?oe(mi,mi.current):oe(mi,n.pool)}function lp(){var t=Ih();return t===null?null:{parent:Tt._currentValue,pool:t}}var wo=Error(i(460)),up=Error(i(474)),uu=Error(i(542)),Nh={then:function(){}};function cp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function cu(){}function hp(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(cu,cu),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,dp(t),t;default:if(typeof n.status=="string")n.then(cu,cu);else{if(t=tt,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var d=n;d.status="fulfilled",d.value=l}},function(l){if(n.status==="pending"){var d=n;d.status="rejected",d.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,dp(t),t}throw To=n,wo}}var To=null;function fp(){if(To===null)throw Error(i(459));var t=To;return To=null,t}function dp(t){if(t===wo||t===uu)throw Error(i(483))}var Jr=!1;function kh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ea(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ta(t,n,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var d=l.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),l.pending=n,n=nu(t),Jm(t,null,s),n}return tu(t,l,n,s),nu(t)}function So(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,Zs(t,s)}}function Vh(t,n){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var d=null,A=null;if(s=s.firstBaseUpdate,s!==null){do{var k={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};A===null?d=A=k:A=A.next=k,s=s.next}while(s!==null);A===null?d=A=n:A=A.next=n}else d=A=n;s={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:A,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var jh=!1;function Ro(){if(jh){var t=ts;if(t!==null)throw t}}function xo(t,n,s,l){jh=!1;var d=t.updateQueue;Jr=!1;var A=d.firstBaseUpdate,k=d.lastBaseUpdate,P=d.shared.pending;if(P!==null){d.shared.pending=null;var H=P,K=H.next;H.next=null,k===null?A=K:k.next=K,k=H;var ne=t.alternate;ne!==null&&(ne=ne.updateQueue,P=ne.lastBaseUpdate,P!==k&&(P===null?ne.firstBaseUpdate=K:P.next=K,ne.lastBaseUpdate=H))}if(A!==null){var ae=d.baseState;k=0,ne=K=H=null,P=A;do{var W=P.lane&-536870913,Z=W!==P.lane;if(Z?(Le&W)===W:(l&W)===W){W!==0&&W===es&&(jh=!0),ne!==null&&(ne=ne.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});e:{var Te=t,be=P;W=n;var Ze=s;switch(be.tag){case 1:if(Te=be.payload,typeof Te=="function"){ae=Te.call(Ze,ae,W);break e}ae=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=be.payload,W=typeof Te=="function"?Te.call(Ze,ae,W):Te,W==null)break e;ae=w({},ae,W);break e;case 2:Jr=!0}}W=P.callback,W!==null&&(t.flags|=64,Z&&(t.flags|=8192),Z=d.callbacks,Z===null?d.callbacks=[W]:Z.push(W))}else Z={lane:W,tag:P.tag,payload:P.payload,callback:P.callback,next:null},ne===null?(K=ne=Z,H=ae):ne=ne.next=Z,k|=W;if(P=P.next,P===null){if(P=d.shared.pending,P===null)break;Z=P,P=Z.next,Z.next=null,d.lastBaseUpdate=Z,d.shared.pending=null}}while(!0);ne===null&&(H=ae),d.baseState=H,d.firstBaseUpdate=K,d.lastBaseUpdate=ne,A===null&&(d.shared.lanes=0),ua|=k,t.lanes=k,t.memoizedState=ae}}function mp(t,n){if(typeof t!="function")throw Error(i(191,t));t.call(n)}function pp(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)mp(s[t],n)}var ns=te(null),hu=te(0);function gp(t,n){t=Pr,oe(hu,t),oe(ns,n),Pr=t|n.baseLanes}function Ph(){oe(hu,Pr),oe(ns,ns.current)}function Lh(){Pr=hu.current,ue(ns),ue(hu)}var na=0,Oe=null,Xe=null,vt=null,fu=!1,rs=!1,pi=!1,du=0,Co=0,as=null,W0=0;function dt(){throw Error(i(321))}function Uh(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!ln(t[s],n[s]))return!1;return!0}function zh(t,n,s,l,d,A){return na=A,Oe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,X.H=t===null||t.memoizedState===null?Jp:eg,pi=!1,A=s(l,d),pi=!1,rs&&(A=vp(n,s,l,d)),yp(t),A}function yp(t){X.H=_u;var n=Xe!==null&&Xe.next!==null;if(na=0,vt=Xe=Oe=null,fu=!1,Co=0,as=null,n)throw Error(i(300));t===null||It||(t=t.dependencies,t!==null&&su(t)&&(It=!0))}function vp(t,n,s,l){Oe=t;var d=0;do{if(rs&&(as=null),Co=0,rs=!1,25<=d)throw Error(i(301));if(d+=1,vt=Xe=null,t.updateQueue!=null){var A=t.updateQueue;A.lastEffect=null,A.events=null,A.stores=null,A.memoCache!=null&&(A.memoCache.index=0)}X.H=aE,A=n(s,l)}while(rs);return A}function Z0(){var t=X.H,n=t.useState()[0];return n=typeof n.then=="function"?Do(n):n,t=t.useState()[0],(Xe!==null?Xe.memoizedState:null)!==t&&(Oe.flags|=1024),n}function Bh(){var t=du!==0;return du=0,t}function qh(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function Hh(t){if(fu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}fu=!1}na=0,vt=Xe=Oe=null,rs=!1,Co=du=0,as=null}function en(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Oe.memoizedState=vt=t:vt=vt.next=t,vt}function _t(){if(Xe===null){var t=Oe.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var n=vt===null?Oe.memoizedState:vt.next;if(n!==null)vt=n,Xe=t;else{if(t===null)throw Oe.alternate===null?Error(i(467)):Error(i(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},vt===null?Oe.memoizedState=vt=t:vt=vt.next=t}return vt}function $h(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Do(t){var n=Co;return Co+=1,as===null&&(as=[]),t=hp(as,t,n),n=Oe,(vt===null?n.memoizedState:vt.next)===null&&(n=n.alternate,X.H=n===null||n.memoizedState===null?Jp:eg),t}function mu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Do(t);if(t.$$typeof===x)return $t(t)}throw Error(i(438,String(t)))}function Fh(t){var n=null,s=Oe.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=Oe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(d){return d.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=$h(),Oe.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),l=0;l<t;l++)s[l]=O;return n.index++,s}function Ir(t,n){return typeof n=="function"?n(t):n}function pu(t){var n=_t();return Gh(n,Xe,t)}function Gh(t,n,s){var l=t.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var d=t.baseQueue,A=l.pending;if(A!==null){if(d!==null){var k=d.next;d.next=A.next,A.next=k}n.baseQueue=d=A,l.pending=null}if(A=t.baseState,d===null)t.memoizedState=A;else{n=d.next;var P=k=null,H=null,K=n,ne=!1;do{var ae=K.lane&-536870913;if(ae!==K.lane?(Le&ae)===ae:(na&ae)===ae){var W=K.revertLane;if(W===0)H!==null&&(H=H.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),ae===es&&(ne=!0);else if((na&W)===W){K=K.next,W===es&&(ne=!0);continue}else ae={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},H===null?(P=H=ae,k=A):H=H.next=ae,Oe.lanes|=W,ua|=W;ae=K.action,pi&&s(A,ae),A=K.hasEagerState?K.eagerState:s(A,ae)}else W={lane:ae,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},H===null?(P=H=W,k=A):H=H.next=W,Oe.lanes|=ae,ua|=ae;K=K.next}while(K!==null&&K!==n);if(H===null?k=A:H.next=P,!ln(A,t.memoizedState)&&(It=!0,ne&&(s=ts,s!==null)))throw s;t.memoizedState=A,t.baseState=k,t.baseQueue=H,l.lastRenderedState=A}return d===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Qh(t){var n=_t(),s=n.queue;if(s===null)throw Error(i(311));s.lastRenderedReducer=t;var l=s.dispatch,d=s.pending,A=n.memoizedState;if(d!==null){s.pending=null;var k=d=d.next;do A=t(A,k.action),k=k.next;while(k!==d);ln(A,n.memoizedState)||(It=!0),n.memoizedState=A,n.baseQueue===null&&(n.baseState=A),s.lastRenderedState=A}return[A,l]}function _p(t,n,s){var l=Oe,d=_t(),A=qe;if(A){if(s===void 0)throw Error(i(407));s=s()}else s=n();var k=!ln((Xe||d).memoizedState,s);k&&(d.memoizedState=s,It=!0),d=d.queue;var P=Ap.bind(null,l,d,t);if(Oo(2048,8,P,[t]),d.getSnapshot!==n||k||vt!==null&&vt.memoizedState.tag&1){if(l.flags|=2048,is(9,gu(),Ep.bind(null,l,d,s,n),null),tt===null)throw Error(i(349));A||(na&124)!==0||bp(l,n,s)}return s}function bp(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Oe.updateQueue,n===null?(n=$h(),Oe.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function Ep(t,n,s,l){n.value=s,n.getSnapshot=l,wp(n)&&Tp(t)}function Ap(t,n,s){return s(function(){wp(n)&&Tp(t)})}function wp(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!ln(t,s)}catch{return!0}}function Tp(t){var n=Xi(t,2);n!==null&&mn(n,t,2)}function Yh(t){var n=en();if(typeof t=="function"){var s=t;if(t=s(),pi){sn(!0);try{s()}finally{sn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ir,lastRenderedState:t},n}function Sp(t,n,s,l){return t.baseState=s,Gh(t,Xe,typeof l=="function"?l:Ir)}function J0(t,n,s,l,d){if(vu(t))throw Error(i(485));if(t=n.action,t!==null){var A={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){A.listeners.push(k)}};X.T!==null?s(!0):A.isTransition=!1,l(A),s=n.pending,s===null?(A.next=n.pending=A,Rp(n,A)):(A.next=s.next,n.pending=s.next=A)}}function Rp(t,n){var s=n.action,l=n.payload,d=t.state;if(n.isTransition){var A=X.T,k={};X.T=k;try{var P=s(d,l),H=X.S;H!==null&&H(k,P),xp(t,n,P)}catch(K){Kh(t,n,K)}finally{X.T=A}}else try{A=s(d,l),xp(t,n,A)}catch(K){Kh(t,n,K)}}function xp(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Cp(t,n,l)},function(l){return Kh(t,n,l)}):Cp(t,n,s)}function Cp(t,n,s){n.status="fulfilled",n.value=s,Dp(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,Rp(t,s)))}function Kh(t,n,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,Dp(n),n=n.next;while(n!==l)}t.action=null}function Dp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Op(t,n){return n}function Ip(t,n){if(qe){var s=tt.formState;if(s!==null){e:{var l=Oe;if(qe){if(ct){t:{for(var d=ct,A=er;d.nodeType!==8;){if(!A){d=null;break t}if(d=jn(d.nextSibling),d===null){d=null;break t}}A=d.data,d=A==="F!"||A==="F"?d:null}if(d){ct=jn(d.nextSibling),l=d.data==="F!";break e}}hi(l)}l=!1}l&&(n=s[0])}}return s=en(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Op,lastRenderedState:n},s.queue=l,s=Xp.bind(null,Oe,l),l.dispatch=s,l=Yh(!1),A=ef.bind(null,Oe,!1,l.queue),l=en(),d={state:n,dispatch:null,action:t,pending:null},l.queue=d,s=J0.bind(null,Oe,d,A,s),d.dispatch=s,l.memoizedState=t,[n,s,!1]}function Np(t){var n=_t();return kp(n,Xe,t)}function kp(t,n,s){if(n=Gh(t,n,Op)[0],t=pu(Ir)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Do(n)}catch(k){throw k===wo?uu:k}else l=n;n=_t();var d=n.queue,A=d.dispatch;return s!==n.memoizedState&&(Oe.flags|=2048,is(9,gu(),eE.bind(null,d,s),null)),[l,A,t]}function eE(t,n){t.action=n}function Mp(t){var n=_t(),s=Xe;if(s!==null)return kp(n,s,t);_t(),n=n.memoizedState,s=_t();var l=s.queue.dispatch;return s.memoizedState=t,[n,l,!1]}function is(t,n,s,l){return t={tag:t,create:s,deps:l,inst:n,next:null},n=Oe.updateQueue,n===null&&(n=$h(),Oe.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,n.lastEffect=t),t}function gu(){return{destroy:void 0,resource:void 0}}function Vp(){return _t().memoizedState}function yu(t,n,s,l){var d=en();l=l===void 0?null:l,Oe.flags|=t,d.memoizedState=is(1|n,gu(),s,l)}function Oo(t,n,s,l){var d=_t();l=l===void 0?null:l;var A=d.memoizedState.inst;Xe!==null&&l!==null&&Uh(l,Xe.memoizedState.deps)?d.memoizedState=is(n,A,s,l):(Oe.flags|=t,d.memoizedState=is(1|n,A,s,l))}function jp(t,n){yu(8390656,8,t,n)}function Pp(t,n){Oo(2048,8,t,n)}function Lp(t,n){return Oo(4,2,t,n)}function Up(t,n){return Oo(4,4,t,n)}function zp(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Bp(t,n,s){s=s!=null?s.concat([t]):null,Oo(4,4,zp.bind(null,n,t),s)}function Xh(){}function qp(t,n){var s=_t();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&Uh(n,l[1])?l[0]:(s.memoizedState=[t,n],t)}function Hp(t,n){var s=_t();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&Uh(n,l[1]))return l[0];if(l=t(),pi){sn(!0);try{t()}finally{sn(!1)}}return s.memoizedState=[l,n],l}function Wh(t,n,s){return s===void 0||(na&1073741824)!==0?t.memoizedState=n:(t.memoizedState=s,t=Gg(),Oe.lanes|=t,ua|=t,s)}function $p(t,n,s,l){return ln(s,n)?s:ns.current!==null?(t=Wh(t,s,l),ln(t,n)||(It=!0),t):(na&42)===0?(It=!0,t.memoizedState=s):(t=Gg(),Oe.lanes|=t,ua|=t,n)}function Fp(t,n,s,l,d){var A=se.p;se.p=A!==0&&8>A?A:8;var k=X.T,P={};X.T=P,ef(t,!1,n,s);try{var H=d(),K=X.S;if(K!==null&&K(P,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var ne=X0(H,l);Io(t,n,ne,dn(t))}else Io(t,n,l,dn(t))}catch(ae){Io(t,n,{then:function(){},status:"rejected",reason:ae},dn())}finally{se.p=A,X.T=k}}function tE(){}function Zh(t,n,s,l){if(t.tag!==5)throw Error(i(476));var d=Gp(t).queue;Fp(t,d,n,de,s===null?tE:function(){return Qp(t),s(l)})}function Gp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ir,lastRenderedState:de},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ir,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Qp(t){var n=Gp(t).next.queue;Io(t,n,{},dn())}function Jh(){return $t(Ko)}function Yp(){return _t().memoizedState}function Kp(){return _t().memoizedState}function nE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=dn();t=ea(s);var l=ta(n,t,s);l!==null&&(mn(l,n,s),So(l,n,s)),n={cache:Dh()},t.payload=n;return}n=n.return}}function rE(t,n,s){var l=dn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},vu(t)?Wp(n,s):(s=_h(t,n,s,l),s!==null&&(mn(s,t,l),Zp(s,n,l)))}function Xp(t,n,s){var l=dn();Io(t,n,s,l)}function Io(t,n,s,l){var d={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(vu(t))Wp(n,d);else{var A=t.alternate;if(t.lanes===0&&(A===null||A.lanes===0)&&(A=n.lastRenderedReducer,A!==null))try{var k=n.lastRenderedState,P=A(k,s);if(d.hasEagerState=!0,d.eagerState=P,ln(P,k))return tu(t,n,d,0),tt===null&&eu(),!1}catch{}finally{}if(s=_h(t,n,d,l),s!==null)return mn(s,t,l),Zp(s,n,l),!0}return!1}function ef(t,n,s,l){if(l={lane:2,revertLane:kf(),action:l,hasEagerState:!1,eagerState:null,next:null},vu(t)){if(n)throw Error(i(479))}else n=_h(t,s,l,2),n!==null&&mn(n,t,2)}function vu(t){var n=t.alternate;return t===Oe||n!==null&&n===Oe}function Wp(t,n){rs=fu=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function Zp(t,n,s){if((s&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,Zs(t,s)}}var _u={readContext:$t,use:mu,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt},Jp={readContext:$t,use:mu,useCallback:function(t,n){return en().memoizedState=[t,n===void 0?null:n],t},useContext:$t,useEffect:jp,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,yu(4194308,4,zp.bind(null,n,t),s)},useLayoutEffect:function(t,n){return yu(4194308,4,t,n)},useInsertionEffect:function(t,n){yu(4,2,t,n)},useMemo:function(t,n){var s=en();n=n===void 0?null:n;var l=t();if(pi){sn(!0);try{t()}finally{sn(!1)}}return s.memoizedState=[l,n],l},useReducer:function(t,n,s){var l=en();if(s!==void 0){var d=s(n);if(pi){sn(!0);try{s(n)}finally{sn(!1)}}}else d=n;return l.memoizedState=l.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},l.queue=t,t=t.dispatch=rE.bind(null,Oe,t),[l.memoizedState,t]},useRef:function(t){var n=en();return t={current:t},n.memoizedState=t},useState:function(t){t=Yh(t);var n=t.queue,s=Xp.bind(null,Oe,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:Xh,useDeferredValue:function(t,n){var s=en();return Wh(s,t,n)},useTransition:function(){var t=Yh(!1);return t=Fp.bind(null,Oe,t.queue,!0,!1),en().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var l=Oe,d=en();if(qe){if(s===void 0)throw Error(i(407));s=s()}else{if(s=n(),tt===null)throw Error(i(349));(Le&124)!==0||bp(l,n,s)}d.memoizedState=s;var A={value:s,getSnapshot:n};return d.queue=A,jp(Ap.bind(null,l,A,t),[t]),l.flags|=2048,is(9,gu(),Ep.bind(null,l,A,s,n),null),s},useId:function(){var t=en(),n=tt.identifierPrefix;if(qe){var s=Cr,l=xr;s=(l&~(1<<32-Ht(l)-1)).toString(32)+s,n="«"+n+"R"+s,s=du++,0<s&&(n+="H"+s.toString(32)),n+="»"}else s=W0++,n="«"+n+"r"+s.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:Jh,useFormState:Ip,useActionState:Ip,useOptimistic:function(t){var n=en();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=ef.bind(null,Oe,!0,s),s.dispatch=n,[t,n]},useMemoCache:Fh,useCacheRefresh:function(){return en().memoizedState=nE.bind(null,Oe)}},eg={readContext:$t,use:mu,useCallback:qp,useContext:$t,useEffect:Pp,useImperativeHandle:Bp,useInsertionEffect:Lp,useLayoutEffect:Up,useMemo:Hp,useReducer:pu,useRef:Vp,useState:function(){return pu(Ir)},useDebugValue:Xh,useDeferredValue:function(t,n){var s=_t();return $p(s,Xe.memoizedState,t,n)},useTransition:function(){var t=pu(Ir)[0],n=_t().memoizedState;return[typeof t=="boolean"?t:Do(t),n]},useSyncExternalStore:_p,useId:Yp,useHostTransitionStatus:Jh,useFormState:Np,useActionState:Np,useOptimistic:function(t,n){var s=_t();return Sp(s,Xe,t,n)},useMemoCache:Fh,useCacheRefresh:Kp},aE={readContext:$t,use:mu,useCallback:qp,useContext:$t,useEffect:Pp,useImperativeHandle:Bp,useInsertionEffect:Lp,useLayoutEffect:Up,useMemo:Hp,useReducer:Qh,useRef:Vp,useState:function(){return Qh(Ir)},useDebugValue:Xh,useDeferredValue:function(t,n){var s=_t();return Xe===null?Wh(s,t,n):$p(s,Xe.memoizedState,t,n)},useTransition:function(){var t=Qh(Ir)[0],n=_t().memoizedState;return[typeof t=="boolean"?t:Do(t),n]},useSyncExternalStore:_p,useId:Yp,useHostTransitionStatus:Jh,useFormState:Mp,useActionState:Mp,useOptimistic:function(t,n){var s=_t();return Xe!==null?Sp(s,Xe,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Fh,useCacheRefresh:Kp},ss=null,No=0;function bu(t){var n=No;return No+=1,ss===null&&(ss=[]),hp(ss,t,n)}function ko(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Eu(t,n){throw n.$$typeof===m?Error(i(525)):(t=Object.prototype.toString.call(n),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function tg(t){var n=t._init;return n(t._payload)}function ng(t){function n(G,F){if(t){var Y=G.deletions;Y===null?(G.deletions=[F],G.flags|=16):Y.push(F)}}function s(G,F){if(!t)return null;for(;F!==null;)n(G,F),F=F.sibling;return null}function l(G){for(var F=new Map;G!==null;)G.key!==null?F.set(G.key,G):F.set(G.index,G),G=G.sibling;return F}function d(G,F){return G=Rr(G,F),G.index=0,G.sibling=null,G}function A(G,F,Y){return G.index=Y,t?(Y=G.alternate,Y!==null?(Y=Y.index,Y<F?(G.flags|=67108866,F):Y):(G.flags|=67108866,F)):(G.flags|=1048576,F)}function k(G){return t&&G.alternate===null&&(G.flags|=67108866),G}function P(G,F,Y,re){return F===null||F.tag!==6?(F=Eh(Y,G.mode,re),F.return=G,F):(F=d(F,Y),F.return=G,F)}function H(G,F,Y,re){var pe=Y.type;return pe===g?ne(G,F,Y.props.children,re,Y.key):F!==null&&(F.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===T&&tg(pe)===F.type)?(F=d(F,Y.props),ko(F,Y),F.return=G,F):(F=ru(Y.type,Y.key,Y.props,null,G.mode,re),ko(F,Y),F.return=G,F)}function K(G,F,Y,re){return F===null||F.tag!==4||F.stateNode.containerInfo!==Y.containerInfo||F.stateNode.implementation!==Y.implementation?(F=Ah(Y,G.mode,re),F.return=G,F):(F=d(F,Y.children||[]),F.return=G,F)}function ne(G,F,Y,re,pe){return F===null||F.tag!==7?(F=oi(Y,G.mode,re,pe),F.return=G,F):(F=d(F,Y),F.return=G,F)}function ae(G,F,Y){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=Eh(""+F,G.mode,Y),F.return=G,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case p:return Y=ru(F.type,F.key,F.props,null,G.mode,Y),ko(Y,F),Y.return=G,Y;case b:return F=Ah(F,G.mode,Y),F.return=G,F;case T:var re=F._init;return F=re(F._payload),ae(G,F,Y)}if(fe(F)||q(F))return F=oi(F,G.mode,Y,null),F.return=G,F;if(typeof F.then=="function")return ae(G,bu(F),Y);if(F.$$typeof===x)return ae(G,ou(G,F),Y);Eu(G,F)}return null}function W(G,F,Y,re){var pe=F!==null?F.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return pe!==null?null:P(G,F,""+Y,re);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case p:return Y.key===pe?H(G,F,Y,re):null;case b:return Y.key===pe?K(G,F,Y,re):null;case T:return pe=Y._init,Y=pe(Y._payload),W(G,F,Y,re)}if(fe(Y)||q(Y))return pe!==null?null:ne(G,F,Y,re,null);if(typeof Y.then=="function")return W(G,F,bu(Y),re);if(Y.$$typeof===x)return W(G,F,ou(G,Y),re);Eu(G,Y)}return null}function Z(G,F,Y,re,pe){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return G=G.get(Y)||null,P(F,G,""+re,pe);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case p:return G=G.get(re.key===null?Y:re.key)||null,H(F,G,re,pe);case b:return G=G.get(re.key===null?Y:re.key)||null,K(F,G,re,pe);case T:var Ne=re._init;return re=Ne(re._payload),Z(G,F,Y,re,pe)}if(fe(re)||q(re))return G=G.get(Y)||null,ne(F,G,re,pe,null);if(typeof re.then=="function")return Z(G,F,Y,bu(re),pe);if(re.$$typeof===x)return Z(G,F,Y,ou(F,re),pe);Eu(F,re)}return null}function Te(G,F,Y,re){for(var pe=null,Ne=null,ye=F,Ae=F=0,kt=null;ye!==null&&Ae<Y.length;Ae++){ye.index>Ae?(kt=ye,ye=null):kt=ye.sibling;var Be=W(G,ye,Y[Ae],re);if(Be===null){ye===null&&(ye=kt);break}t&&ye&&Be.alternate===null&&n(G,ye),F=A(Be,F,Ae),Ne===null?pe=Be:Ne.sibling=Be,Ne=Be,ye=kt}if(Ae===Y.length)return s(G,ye),qe&&ui(G,Ae),pe;if(ye===null){for(;Ae<Y.length;Ae++)ye=ae(G,Y[Ae],re),ye!==null&&(F=A(ye,F,Ae),Ne===null?pe=ye:Ne.sibling=ye,Ne=ye);return qe&&ui(G,Ae),pe}for(ye=l(ye);Ae<Y.length;Ae++)kt=Z(ye,G,Ae,Y[Ae],re),kt!==null&&(t&&kt.alternate!==null&&ye.delete(kt.key===null?Ae:kt.key),F=A(kt,F,Ae),Ne===null?pe=kt:Ne.sibling=kt,Ne=kt);return t&&ye.forEach(function(va){return n(G,va)}),qe&&ui(G,Ae),pe}function be(G,F,Y,re){if(Y==null)throw Error(i(151));for(var pe=null,Ne=null,ye=F,Ae=F=0,kt=null,Be=Y.next();ye!==null&&!Be.done;Ae++,Be=Y.next()){ye.index>Ae?(kt=ye,ye=null):kt=ye.sibling;var va=W(G,ye,Be.value,re);if(va===null){ye===null&&(ye=kt);break}t&&ye&&va.alternate===null&&n(G,ye),F=A(va,F,Ae),Ne===null?pe=va:Ne.sibling=va,Ne=va,ye=kt}if(Be.done)return s(G,ye),qe&&ui(G,Ae),pe;if(ye===null){for(;!Be.done;Ae++,Be=Y.next())Be=ae(G,Be.value,re),Be!==null&&(F=A(Be,F,Ae),Ne===null?pe=Be:Ne.sibling=Be,Ne=Be);return qe&&ui(G,Ae),pe}for(ye=l(ye);!Be.done;Ae++,Be=Y.next())Be=Z(ye,G,Ae,Be.value,re),Be!==null&&(t&&Be.alternate!==null&&ye.delete(Be.key===null?Ae:Be.key),F=A(Be,F,Ae),Ne===null?pe=Be:Ne.sibling=Be,Ne=Be);return t&&ye.forEach(function(i1){return n(G,i1)}),qe&&ui(G,Ae),pe}function Ze(G,F,Y,re){if(typeof Y=="object"&&Y!==null&&Y.type===g&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case p:e:{for(var pe=Y.key;F!==null;){if(F.key===pe){if(pe=Y.type,pe===g){if(F.tag===7){s(G,F.sibling),re=d(F,Y.props.children),re.return=G,G=re;break e}}else if(F.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===T&&tg(pe)===F.type){s(G,F.sibling),re=d(F,Y.props),ko(re,Y),re.return=G,G=re;break e}s(G,F);break}else n(G,F);F=F.sibling}Y.type===g?(re=oi(Y.props.children,G.mode,re,Y.key),re.return=G,G=re):(re=ru(Y.type,Y.key,Y.props,null,G.mode,re),ko(re,Y),re.return=G,G=re)}return k(G);case b:e:{for(pe=Y.key;F!==null;){if(F.key===pe)if(F.tag===4&&F.stateNode.containerInfo===Y.containerInfo&&F.stateNode.implementation===Y.implementation){s(G,F.sibling),re=d(F,Y.children||[]),re.return=G,G=re;break e}else{s(G,F);break}else n(G,F);F=F.sibling}re=Ah(Y,G.mode,re),re.return=G,G=re}return k(G);case T:return pe=Y._init,Y=pe(Y._payload),Ze(G,F,Y,re)}if(fe(Y))return Te(G,F,Y,re);if(q(Y)){if(pe=q(Y),typeof pe!="function")throw Error(i(150));return Y=pe.call(Y),be(G,F,Y,re)}if(typeof Y.then=="function")return Ze(G,F,bu(Y),re);if(Y.$$typeof===x)return Ze(G,F,ou(G,Y),re);Eu(G,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,F!==null&&F.tag===6?(s(G,F.sibling),re=d(F,Y),re.return=G,G=re):(s(G,F),re=Eh(Y,G.mode,re),re.return=G,G=re),k(G)):s(G,F)}return function(G,F,Y,re){try{No=0;var pe=Ze(G,F,Y,re);return ss=null,pe}catch(ye){if(ye===wo||ye===uu)throw ye;var Ne=un(29,ye,null,G.mode);return Ne.lanes=re,Ne.return=G,Ne}finally{}}}var os=ng(!0),rg=ng(!1),Rn=te(null),tr=null;function ra(t){var n=t.alternate;oe(St,St.current&1),oe(Rn,t),tr===null&&(n===null||ns.current!==null||n.memoizedState!==null)&&(tr=t)}function ag(t){if(t.tag===22){if(oe(St,St.current),oe(Rn,t),tr===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(tr=t)}}else aa()}function aa(){oe(St,St.current),oe(Rn,Rn.current)}function Nr(t){ue(Rn),tr===t&&(tr=null),ue(St)}var St=te(0);function Au(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||Ff(s)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function tf(t,n,s,l){n=t.memoizedState,s=s(l,n),s=s==null?n:w({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var nf={enqueueSetState:function(t,n,s){t=t._reactInternals;var l=dn(),d=ea(l);d.payload=n,s!=null&&(d.callback=s),n=ta(t,d,l),n!==null&&(mn(n,t,l),So(n,t,l))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var l=dn(),d=ea(l);d.tag=1,d.payload=n,s!=null&&(d.callback=s),n=ta(t,d,l),n!==null&&(mn(n,t,l),So(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=dn(),l=ea(s);l.tag=2,n!=null&&(l.callback=n),n=ta(t,l,s),n!==null&&(mn(n,t,s),So(n,t,s))}};function ig(t,n,s,l,d,A,k){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,A,k):n.prototype&&n.prototype.isPureReactComponent?!po(s,l)||!po(d,A):!0}function sg(t,n,s,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==t&&nf.enqueueReplaceState(n,n.state,null)}function gi(t,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(t=t.defaultProps){s===n&&(s=w({},s));for(var d in t)s[d]===void 0&&(s[d]=t[d])}return s}var wu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function og(t){wu(t)}function lg(t){console.error(t)}function ug(t){wu(t)}function Tu(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function cg(t,n,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function rf(t,n,s){return s=ea(s),s.tag=3,s.payload={element:null},s.callback=function(){Tu(t,n)},s}function hg(t){return t=ea(t),t.tag=3,t}function fg(t,n,s,l){var d=s.type.getDerivedStateFromError;if(typeof d=="function"){var A=l.value;t.payload=function(){return d(A)},t.callback=function(){cg(n,s,l)}}var k=s.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(t.callback=function(){cg(n,s,l),typeof d!="function"&&(ca===null?ca=new Set([this]):ca.add(this));var P=l.stack;this.componentDidCatch(l.value,{componentStack:P!==null?P:""})})}function iE(t,n,s,l,d){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&bo(n,s,d,!0),s=Rn.current,s!==null){switch(s.tag){case 13:return tr===null?Cf():s.alternate===null&&ht===0&&(ht=3),s.flags&=-257,s.flags|=65536,s.lanes=d,l===Nh?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),Of(t,l,d)),!1;case 22:return s.flags|=65536,l===Nh?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),Of(t,l,d)),!1}throw Error(i(435,s.tag))}return Of(t,l,d),Cf(),!1}if(qe)return n=Rn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=d,l!==Sh&&(t=Error(i(422),{cause:l}),_o(An(t,s)))):(l!==Sh&&(n=Error(i(423),{cause:l}),_o(An(n,s))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,l=An(l,s),d=rf(t.stateNode,l,d),Vh(t,d),ht!==4&&(ht=2)),!1;var A=Error(i(520),{cause:l});if(A=An(A,s),zo===null?zo=[A]:zo.push(A),ht!==4&&(ht=2),n===null)return!0;l=An(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=d&-d,s.lanes|=t,t=rf(s.stateNode,l,t),Vh(s,t),!1;case 1:if(n=s.type,A=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(ca===null||!ca.has(A))))return s.flags|=65536,d&=-d,s.lanes|=d,d=hg(d),fg(d,t,s,l),Vh(s,d),!1}s=s.return}while(s!==null);return!1}var dg=Error(i(461)),It=!1;function Pt(t,n,s,l){n.child=t===null?rg(n,null,s,l):os(n,t.child,s,l)}function mg(t,n,s,l,d){s=s.render;var A=n.ref;if("ref"in l){var k={};for(var P in l)P!=="ref"&&(k[P]=l[P])}else k=l;return di(n),l=zh(t,n,s,k,A,d),P=Bh(),t!==null&&!It?(qh(t,n,d),kr(t,n,d)):(qe&&P&&wh(n),n.flags|=1,Pt(t,n,l,d),n.child)}function pg(t,n,s,l,d){if(t===null){var A=s.type;return typeof A=="function"&&!bh(A)&&A.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=A,gg(t,n,A,l,d)):(t=ru(s.type,null,l,n,n.mode,d),t.ref=n.ref,t.return=n,n.child=t)}if(A=t.child,!ff(t,d)){var k=A.memoizedProps;if(s=s.compare,s=s!==null?s:po,s(k,l)&&t.ref===n.ref)return kr(t,n,d)}return n.flags|=1,t=Rr(A,l),t.ref=n.ref,t.return=n,n.child=t}function gg(t,n,s,l,d){if(t!==null){var A=t.memoizedProps;if(po(A,l)&&t.ref===n.ref)if(It=!1,n.pendingProps=l=A,ff(t,d))(t.flags&131072)!==0&&(It=!0);else return n.lanes=t.lanes,kr(t,n,d)}return af(t,n,s,l,d)}function yg(t,n,s){var l=n.pendingProps,d=l.children,A=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=A!==null?A.baseLanes|s:s,t!==null){for(d=n.child=t.child,A=0;d!==null;)A=A|d.lanes|d.childLanes,d=d.sibling;n.childLanes=A&~l}else n.childLanes=0,n.child=null;return vg(t,n,l,s)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&lu(n,A!==null?A.cachePool:null),A!==null?gp(n,A):Ph(),ag(n);else return n.lanes=n.childLanes=536870912,vg(t,n,A!==null?A.baseLanes|s:s,s)}else A!==null?(lu(n,A.cachePool),gp(n,A),aa(),n.memoizedState=null):(t!==null&&lu(n,null),Ph(),aa());return Pt(t,n,d,s),n.child}function vg(t,n,s,l){var d=Ih();return d=d===null?null:{parent:Tt._currentValue,pool:d},n.memoizedState={baseLanes:s,cachePool:d},t!==null&&lu(n,null),Ph(),ag(n),t!==null&&bo(t,n,l,!0),null}function Su(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(i(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function af(t,n,s,l,d){return di(n),s=zh(t,n,s,l,void 0,d),l=Bh(),t!==null&&!It?(qh(t,n,d),kr(t,n,d)):(qe&&l&&wh(n),n.flags|=1,Pt(t,n,s,d),n.child)}function _g(t,n,s,l,d,A){return di(n),n.updateQueue=null,s=vp(n,l,s,d),yp(t),l=Bh(),t!==null&&!It?(qh(t,n,A),kr(t,n,A)):(qe&&l&&wh(n),n.flags|=1,Pt(t,n,s,A),n.child)}function bg(t,n,s,l,d){if(di(n),n.stateNode===null){var A=Wi,k=s.contextType;typeof k=="object"&&k!==null&&(A=$t(k)),A=new s(l,A),n.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,A.updater=nf,n.stateNode=A,A._reactInternals=n,A=n.stateNode,A.props=l,A.state=n.memoizedState,A.refs={},kh(n),k=s.contextType,A.context=typeof k=="object"&&k!==null?$t(k):Wi,A.state=n.memoizedState,k=s.getDerivedStateFromProps,typeof k=="function"&&(tf(n,s,k,l),A.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(k=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),k!==A.state&&nf.enqueueReplaceState(A,A.state,null),xo(n,l,A,d),Ro(),A.state=n.memoizedState),typeof A.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){A=n.stateNode;var P=n.memoizedProps,H=gi(s,P);A.props=H;var K=A.context,ne=s.contextType;k=Wi,typeof ne=="object"&&ne!==null&&(k=$t(ne));var ae=s.getDerivedStateFromProps;ne=typeof ae=="function"||typeof A.getSnapshotBeforeUpdate=="function",P=n.pendingProps!==P,ne||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(P||K!==k)&&sg(n,A,l,k),Jr=!1;var W=n.memoizedState;A.state=W,xo(n,l,A,d),Ro(),K=n.memoizedState,P||W!==K||Jr?(typeof ae=="function"&&(tf(n,s,ae,l),K=n.memoizedState),(H=Jr||ig(n,s,H,l,W,K,k))?(ne||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(n.flags|=4194308)):(typeof A.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=K),A.props=l,A.state=K,A.context=k,l=H):(typeof A.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{A=n.stateNode,Mh(t,n),k=n.memoizedProps,ne=gi(s,k),A.props=ne,ae=n.pendingProps,W=A.context,K=s.contextType,H=Wi,typeof K=="object"&&K!==null&&(H=$t(K)),P=s.getDerivedStateFromProps,(K=typeof P=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(k!==ae||W!==H)&&sg(n,A,l,H),Jr=!1,W=n.memoizedState,A.state=W,xo(n,l,A,d),Ro();var Z=n.memoizedState;k!==ae||W!==Z||Jr||t!==null&&t.dependencies!==null&&su(t.dependencies)?(typeof P=="function"&&(tf(n,s,P,l),Z=n.memoizedState),(ne=Jr||ig(n,s,ne,l,W,Z,H)||t!==null&&t.dependencies!==null&&su(t.dependencies))?(K||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(l,Z,H),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(l,Z,H)),typeof A.componentDidUpdate=="function"&&(n.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof A.componentDidUpdate!="function"||k===t.memoizedProps&&W===t.memoizedState||(n.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||k===t.memoizedProps&&W===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=Z),A.props=l,A.state=Z,A.context=H,l=ne):(typeof A.componentDidUpdate!="function"||k===t.memoizedProps&&W===t.memoizedState||(n.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||k===t.memoizedProps&&W===t.memoizedState||(n.flags|=1024),l=!1)}return A=l,Su(t,n),l=(n.flags&128)!==0,A||l?(A=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:A.render(),n.flags|=1,t!==null&&l?(n.child=os(n,t.child,null,d),n.child=os(n,null,s,d)):Pt(t,n,s,d),n.memoizedState=A.state,t=n.child):t=kr(t,n,d),t}function Eg(t,n,s,l){return vo(),n.flags|=256,Pt(t,n,s,l),n.child}var sf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function of(t){return{baseLanes:t,cachePool:lp()}}function lf(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=xn),t}function Ag(t,n,s){var l=n.pendingProps,d=!1,A=(n.flags&128)!==0,k;if((k=A)||(k=t!==null&&t.memoizedState===null?!1:(St.current&2)!==0),k&&(d=!0,n.flags&=-129),k=(n.flags&32)!==0,n.flags&=-33,t===null){if(qe){if(d?ra(n):aa(),qe){var P=ct,H;if(H=P){e:{for(H=P,P=er;H.nodeType!==8;){if(!P){P=null;break e}if(H=jn(H.nextSibling),H===null){P=null;break e}}P=H}P!==null?(n.memoizedState={dehydrated:P,treeContext:li!==null?{id:xr,overflow:Cr}:null,retryLane:536870912,hydrationErrors:null},H=un(18,null,null,0),H.stateNode=P,H.return=n,n.child=H,Jt=n,ct=null,H=!0):H=!1}H||hi(n)}if(P=n.memoizedState,P!==null&&(P=P.dehydrated,P!==null))return Ff(P)?n.lanes=32:n.lanes=536870912,null;Nr(n)}return P=l.children,l=l.fallback,d?(aa(),d=n.mode,P=Ru({mode:"hidden",children:P},d),l=oi(l,d,s,null),P.return=n,l.return=n,P.sibling=l,n.child=P,d=n.child,d.memoizedState=of(s),d.childLanes=lf(t,k,s),n.memoizedState=sf,l):(ra(n),uf(n,P))}if(H=t.memoizedState,H!==null&&(P=H.dehydrated,P!==null)){if(A)n.flags&256?(ra(n),n.flags&=-257,n=cf(t,n,s)):n.memoizedState!==null?(aa(),n.child=t.child,n.flags|=128,n=null):(aa(),d=l.fallback,P=n.mode,l=Ru({mode:"visible",children:l.children},P),d=oi(d,P,s,null),d.flags|=2,l.return=n,d.return=n,l.sibling=d,n.child=l,os(n,t.child,null,s),l=n.child,l.memoizedState=of(s),l.childLanes=lf(t,k,s),n.memoizedState=sf,n=d);else if(ra(n),Ff(P)){if(k=P.nextSibling&&P.nextSibling.dataset,k)var K=k.dgst;k=K,l=Error(i(419)),l.stack="",l.digest=k,_o({value:l,source:null,stack:null}),n=cf(t,n,s)}else if(It||bo(t,n,s,!1),k=(s&t.childLanes)!==0,It||k){if(k=tt,k!==null&&(l=s&-s,l=(l&42)!==0?1:Fr(l),l=(l&(k.suspendedLanes|s))!==0?0:l,l!==0&&l!==H.retryLane))throw H.retryLane=l,Xi(t,l),mn(k,t,l),dg;P.data==="$?"||Cf(),n=cf(t,n,s)}else P.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=H.treeContext,ct=jn(P.nextSibling),Jt=n,qe=!0,ci=null,er=!1,t!==null&&(Tn[Sn++]=xr,Tn[Sn++]=Cr,Tn[Sn++]=li,xr=t.id,Cr=t.overflow,li=n),n=uf(n,l.children),n.flags|=4096);return n}return d?(aa(),d=l.fallback,P=n.mode,H=t.child,K=H.sibling,l=Rr(H,{mode:"hidden",children:l.children}),l.subtreeFlags=H.subtreeFlags&65011712,K!==null?d=Rr(K,d):(d=oi(d,P,s,null),d.flags|=2),d.return=n,l.return=n,l.sibling=d,n.child=l,l=d,d=n.child,P=t.child.memoizedState,P===null?P=of(s):(H=P.cachePool,H!==null?(K=Tt._currentValue,H=H.parent!==K?{parent:K,pool:K}:H):H=lp(),P={baseLanes:P.baseLanes|s,cachePool:H}),d.memoizedState=P,d.childLanes=lf(t,k,s),n.memoizedState=sf,l):(ra(n),s=t.child,t=s.sibling,s=Rr(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,t!==null&&(k=n.deletions,k===null?(n.deletions=[t],n.flags|=16):k.push(t)),n.child=s,n.memoizedState=null,s)}function uf(t,n){return n=Ru({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Ru(t,n){return t=un(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function cf(t,n,s){return os(n,t.child,null,s),t=uf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function wg(t,n,s){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),xh(t.return,n,s)}function hf(t,n,s,l,d){var A=t.memoizedState;A===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:d}:(A.isBackwards=n,A.rendering=null,A.renderingStartTime=0,A.last=l,A.tail=s,A.tailMode=d)}function Tg(t,n,s){var l=n.pendingProps,d=l.revealOrder,A=l.tail;if(Pt(t,n,l.children,s),l=St.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wg(t,s,n);else if(t.tag===19)wg(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(oe(St,l),d){case"forwards":for(s=n.child,d=null;s!==null;)t=s.alternate,t!==null&&Au(t)===null&&(d=s),s=s.sibling;s=d,s===null?(d=n.child,n.child=null):(d=s.sibling,s.sibling=null),hf(n,!1,d,s,A);break;case"backwards":for(s=null,d=n.child,n.child=null;d!==null;){if(t=d.alternate,t!==null&&Au(t)===null){n.child=d;break}t=d.sibling,d.sibling=s,s=d,d=t}hf(n,!0,s,null,A);break;case"together":hf(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function kr(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),ua|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(bo(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(i(153));if(n.child!==null){for(t=n.child,s=Rr(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=Rr(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function ff(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&su(t)))}function sE(t,n,s){switch(n.tag){case 3:et(n,n.stateNode.containerInfo),Zr(n,Tt,t.memoizedState.cache),vo();break;case 27:case 5:$r(n);break;case 4:et(n,n.stateNode.containerInfo);break;case 10:Zr(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ra(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Ag(t,n,s):(ra(n),t=kr(t,n,s),t!==null?t.sibling:null);ra(n);break;case 19:var d=(t.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(bo(t,n,s,!1),l=(s&n.childLanes)!==0),d){if(l)return Tg(t,n,s);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),oe(St,St.current),l)break;return null;case 22:case 23:return n.lanes=0,yg(t,n,s);case 24:Zr(n,Tt,t.memoizedState.cache)}return kr(t,n,s)}function Sg(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)It=!0;else{if(!ff(t,s)&&(n.flags&128)===0)return It=!1,sE(t,n,s);It=(t.flags&131072)!==0}else It=!1,qe&&(n.flags&1048576)!==0&&tp(n,iu,n.index);switch(n.lanes=0,n.tag){case 16:e:{t=n.pendingProps;var l=n.elementType,d=l._init;if(l=d(l._payload),n.type=l,typeof l=="function")bh(l)?(t=gi(l,t),n.tag=1,n=bg(null,n,l,t,s)):(n.tag=0,n=af(null,n,l,t,s));else{if(l!=null){if(d=l.$$typeof,d===M){n.tag=11,n=mg(null,n,l,t,s);break e}else if(d===N){n.tag=14,n=pg(null,n,l,t,s);break e}}throw n=he(l)||l,Error(i(306,n,""))}}return n;case 0:return af(t,n,n.type,n.pendingProps,s);case 1:return l=n.type,d=gi(l,n.pendingProps),bg(t,n,l,d,s);case 3:e:{if(et(n,n.stateNode.containerInfo),t===null)throw Error(i(387));l=n.pendingProps;var A=n.memoizedState;d=A.element,Mh(t,n),xo(n,l,null,s);var k=n.memoizedState;if(l=k.cache,Zr(n,Tt,l),l!==A.cache&&Ch(n,[Tt],s,!0),Ro(),l=k.element,A.isDehydrated)if(A={element:l,isDehydrated:!1,cache:k.cache},n.updateQueue.baseState=A,n.memoizedState=A,n.flags&256){n=Eg(t,n,l,s);break e}else if(l!==d){d=An(Error(i(424)),n),_o(d),n=Eg(t,n,l,s);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ct=jn(t.firstChild),Jt=n,qe=!0,ci=null,er=!0,s=rg(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(vo(),l===d){n=kr(t,n,s);break e}Pt(t,n,l,s)}n=n.child}return n;case 26:return Su(t,n),t===null?(s=Dy(n.type,null,n.pendingProps,null))?n.memoizedState=s:qe||(s=n.type,t=n.pendingProps,l=zu(Ee.current).createElement(s),l[Et]=n,l[gt]=t,Ut(l,s,t),ft(l),n.stateNode=l):n.memoizedState=Dy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return $r(n),t===null&&qe&&(l=n.stateNode=Ry(n.type,n.pendingProps,Ee.current),Jt=n,er=!0,d=ct,da(n.type)?(Gf=d,ct=jn(l.firstChild)):ct=d),Pt(t,n,n.pendingProps.children,s),Su(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&qe&&((d=l=ct)&&(l=ME(l,n.type,n.pendingProps,er),l!==null?(n.stateNode=l,Jt=n,ct=jn(l.firstChild),er=!1,d=!0):d=!1),d||hi(n)),$r(n),d=n.type,A=n.pendingProps,k=t!==null?t.memoizedProps:null,l=A.children,qf(d,A)?l=null:k!==null&&qf(d,k)&&(n.flags|=32),n.memoizedState!==null&&(d=zh(t,n,Z0,null,null,s),Ko._currentValue=d),Su(t,n),Pt(t,n,l,s),n.child;case 6:return t===null&&qe&&((t=s=ct)&&(s=VE(s,n.pendingProps,er),s!==null?(n.stateNode=s,Jt=n,ct=null,t=!0):t=!1),t||hi(n)),null;case 13:return Ag(t,n,s);case 4:return et(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=os(n,null,l,s):Pt(t,n,l,s),n.child;case 11:return mg(t,n,n.type,n.pendingProps,s);case 7:return Pt(t,n,n.pendingProps,s),n.child;case 8:return Pt(t,n,n.pendingProps.children,s),n.child;case 12:return Pt(t,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,Zr(n,n.type,l.value),Pt(t,n,l.children,s),n.child;case 9:return d=n.type._context,l=n.pendingProps.children,di(n),d=$t(d),l=l(d),n.flags|=1,Pt(t,n,l,s),n.child;case 14:return pg(t,n,n.type,n.pendingProps,s);case 15:return gg(t,n,n.type,n.pendingProps,s);case 19:return Tg(t,n,s);case 31:return l=n.pendingProps,s=n.mode,l={mode:l.mode,children:l.children},t===null?(s=Ru(l,s),s.ref=n.ref,n.child=s,s.return=n,n=s):(s=Rr(t.child,l),s.ref=n.ref,n.child=s,s.return=n,n=s),n;case 22:return yg(t,n,s);case 24:return di(n),l=$t(Tt),t===null?(d=Ih(),d===null&&(d=tt,A=Dh(),d.pooledCache=A,A.refCount++,A!==null&&(d.pooledCacheLanes|=s),d=A),n.memoizedState={parent:l,cache:d},kh(n),Zr(n,Tt,d)):((t.lanes&s)!==0&&(Mh(t,n),xo(n,null,null,s),Ro()),d=t.memoizedState,A=n.memoizedState,d.parent!==l?(d={parent:l,cache:l},n.memoizedState=d,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=d),Zr(n,Tt,l)):(l=A.cache,Zr(n,Tt,l),l!==d.cache&&Ch(n,[Tt],s,!0))),Pt(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(i(156,n.tag))}function Mr(t){t.flags|=4}function Rg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!My(n)){if(n=Rn.current,n!==null&&((Le&4194048)===Le?tr!==null:(Le&62914560)!==Le&&(Le&536870912)===0||n!==tr))throw To=Nh,up;t.flags|=8192}}function xu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Xs():536870912,t.lanes|=n,hs|=n)}function Mo(t,n){if(!qe)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ot(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(n)for(var d=t.child;d!==null;)s|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)s|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=l,t.childLanes=s,n}function oE(t,n,s){var l=n.pendingProps;switch(Th(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(n),null;case 1:return ot(n),null;case 3:return s=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Or(Tt),qn(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(yo(n)?Mr(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,ap())),ot(n),null;case 26:return s=n.memoizedState,t===null?(Mr(n),s!==null?(ot(n),Rg(n,s)):(ot(n),n.flags&=-16777217)):s?s!==t.memoizedState?(Mr(n),ot(n),Rg(n,s)):(ot(n),n.flags&=-16777217):(t.memoizedProps!==l&&Mr(n),ot(n),n.flags&=-16777217),null;case 27:dr(n),s=Ee.current;var d=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Mr(n);else{if(!l){if(n.stateNode===null)throw Error(i(166));return ot(n),null}t=ge.current,yo(n)?np(n):(t=Ry(d,l,s),n.stateNode=t,Mr(n))}return ot(n),null;case 5:if(dr(n),s=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Mr(n);else{if(!l){if(n.stateNode===null)throw Error(i(166));return ot(n),null}if(t=ge.current,yo(n))np(n);else{switch(d=zu(Ee.current),t){case 1:t=d.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=d.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=d.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=d.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=d.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?d.createElement("select",{is:l.is}):d.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?d.createElement(s,{is:l.is}):d.createElement(s)}}t[Et]=n,t[gt]=l;e:for(d=n.child;d!==null;){if(d.tag===5||d.tag===6)t.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}n.stateNode=t;e:switch(Ut(t,s,l),s){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Mr(n)}}return ot(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Mr(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(i(166));if(t=Ee.current,yo(n)){if(t=n.stateNode,s=n.memoizedProps,l=null,d=Jt,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}t[Et]=n,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||_y(t.nodeValue,s)),t||hi(n)}else t=zu(t).createTextNode(l),t[Et]=n,n.stateNode=t}return ot(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=yo(n),l!==null&&l.dehydrated!==null){if(t===null){if(!d)throw Error(i(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[Et]=n}else vo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ot(n),d=!1}else d=ap(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return n.flags&256?(Nr(n),n):(Nr(n),null)}if(Nr(n),(n.flags&128)!==0)return n.lanes=s,n;if(s=l!==null,t=t!==null&&t.memoizedState!==null,s){l=n.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool);var A=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(A=l.memoizedState.cachePool.pool),A!==d&&(l.flags|=2048)}return s!==t&&s&&(n.child.flags|=8192),xu(n,n.updateQueue),ot(n),null;case 4:return qn(),t===null&&Pf(n.stateNode.containerInfo),ot(n),null;case 10:return Or(n.type),ot(n),null;case 19:if(ue(St),d=n.memoizedState,d===null)return ot(n),null;if(l=(n.flags&128)!==0,A=d.rendering,A===null)if(l)Mo(d,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(A=Au(t),A!==null){for(n.flags|=128,Mo(d,!1),t=A.updateQueue,n.updateQueue=t,xu(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)ep(s,t),s=s.sibling;return oe(St,St.current&1|2),n.child}t=t.sibling}d.tail!==null&&gn()>Ou&&(n.flags|=128,l=!0,Mo(d,!1),n.lanes=4194304)}else{if(!l)if(t=Au(A),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,xu(n,t),Mo(d,!0),d.tail===null&&d.tailMode==="hidden"&&!A.alternate&&!qe)return ot(n),null}else 2*gn()-d.renderingStartTime>Ou&&s!==536870912&&(n.flags|=128,l=!0,Mo(d,!1),n.lanes=4194304);d.isBackwards?(A.sibling=n.child,n.child=A):(t=d.last,t!==null?t.sibling=A:n.child=A,d.last=A)}return d.tail!==null?(n=d.tail,d.rendering=n,d.tail=n.sibling,d.renderingStartTime=gn(),n.sibling=null,t=St.current,oe(St,l?t&1|2:t&1),n):(ot(n),null);case 22:case 23:return Nr(n),Lh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(ot(n),n.subtreeFlags&6&&(n.flags|=8192)):ot(n),s=n.updateQueue,s!==null&&xu(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),t!==null&&ue(mi),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Or(Tt),ot(n),null;case 25:return null;case 30:return null}throw Error(i(156,n.tag))}function lE(t,n){switch(Th(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Or(Tt),qn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return dr(n),null;case 13:if(Nr(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(i(340));vo()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return ue(St),null;case 4:return qn(),null;case 10:return Or(n.type),null;case 22:case 23:return Nr(n),Lh(),t!==null&&ue(mi),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Or(Tt),null;case 25:return null;default:return null}}function xg(t,n){switch(Th(n),n.tag){case 3:Or(Tt),qn();break;case 26:case 27:case 5:dr(n);break;case 4:qn();break;case 13:Nr(n);break;case 19:ue(St);break;case 10:Or(n.type);break;case 22:case 23:Nr(n),Lh(),t!==null&&ue(mi);break;case 24:Or(Tt)}}function Vo(t,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var d=l.next;s=d;do{if((s.tag&t)===t){l=void 0;var A=s.create,k=s.inst;l=A(),k.destroy=l}s=s.next}while(s!==d)}}catch(P){Je(n,n.return,P)}}function ia(t,n,s){try{var l=n.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var A=d.next;l=A;do{if((l.tag&t)===t){var k=l.inst,P=k.destroy;if(P!==void 0){k.destroy=void 0,d=n;var H=s,K=P;try{K()}catch(ne){Je(d,H,ne)}}}l=l.next}while(l!==A)}}catch(ne){Je(n,n.return,ne)}}function Cg(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{pp(n,s)}catch(l){Je(t,t.return,l)}}}function Dg(t,n,s){s.props=gi(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){Je(t,n,l)}}function jo(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(d){Je(t,n,d)}}function nr(t,n){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(d){Je(t,n,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(d){Je(t,n,d)}else s.current=null}function Og(t){var n=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(d){Je(t,t.return,d)}}function df(t,n,s){try{var l=t.stateNode;DE(l,t.type,s,n),l[gt]=n}catch(d){Je(t,t.return,d)}}function Ig(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&da(t.type)||t.tag===4}function mf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ig(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&da(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function pf(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Uu));else if(l!==4&&(l===27&&da(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(pf(t,n,s),t=t.sibling;t!==null;)pf(t,n,s),t=t.sibling}function Cu(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(l!==4&&(l===27&&da(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Cu(t,n,s),t=t.sibling;t!==null;)Cu(t,n,s),t=t.sibling}function Ng(t){var n=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,d=n.attributes;d.length;)n.removeAttributeNode(d[0]);Ut(n,l,s),n[Et]=t,n[gt]=s}catch(A){Je(t,t.return,A)}}var Vr=!1,mt=!1,gf=!1,kg=typeof WeakSet=="function"?WeakSet:Set,Nt=null;function uE(t,n){if(t=t.containerInfo,zf=Gu,t=$m(t),dh(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var d=l.anchorOffset,A=l.focusNode;l=l.focusOffset;try{s.nodeType,A.nodeType}catch{s=null;break e}var k=0,P=-1,H=-1,K=0,ne=0,ae=t,W=null;t:for(;;){for(var Z;ae!==s||d!==0&&ae.nodeType!==3||(P=k+d),ae!==A||l!==0&&ae.nodeType!==3||(H=k+l),ae.nodeType===3&&(k+=ae.nodeValue.length),(Z=ae.firstChild)!==null;)W=ae,ae=Z;for(;;){if(ae===t)break t;if(W===s&&++K===d&&(P=k),W===A&&++ne===l&&(H=k),(Z=ae.nextSibling)!==null)break;ae=W,W=ae.parentNode}ae=Z}s=P===-1||H===-1?null:{start:P,end:H}}else s=null}s=s||{start:0,end:0}}else s=null;for(Bf={focusedElem:t,selectionRange:s},Gu=!1,Nt=n;Nt!==null;)if(n=Nt,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Nt=t;else for(;Nt!==null;){switch(n=Nt,A=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&A!==null){t=void 0,s=n,d=A.memoizedProps,A=A.memoizedState,l=s.stateNode;try{var Te=gi(s.type,d,s.elementType===s.type);t=l.getSnapshotBeforeUpdate(Te,A),l.__reactInternalSnapshotBeforeUpdate=t}catch(be){Je(s,s.return,be)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)$f(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":$f(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=n.sibling,t!==null){t.return=n.return,Nt=t;break}Nt=n.return}}function Mg(t,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:sa(t,s),l&4&&Vo(5,s);break;case 1:if(sa(t,s),l&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(k){Je(s,s.return,k)}else{var d=gi(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(d,n,t.__reactInternalSnapshotBeforeUpdate)}catch(k){Je(s,s.return,k)}}l&64&&Cg(s),l&512&&jo(s,s.return);break;case 3:if(sa(t,s),l&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{pp(t,n)}catch(k){Je(s,s.return,k)}}break;case 27:n===null&&l&4&&Ng(s);case 26:case 5:sa(t,s),n===null&&l&4&&Og(s),l&512&&jo(s,s.return);break;case 12:sa(t,s);break;case 13:sa(t,s),l&4&&Pg(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=vE.bind(null,s),jE(t,s))));break;case 22:if(l=s.memoizedState!==null||Vr,!l){n=n!==null&&n.memoizedState!==null||mt,d=Vr;var A=mt;Vr=l,(mt=n)&&!A?oa(t,s,(s.subtreeFlags&8772)!==0):sa(t,s),Vr=d,mt=A}break;case 30:break;default:sa(t,s)}}function Vg(t){var n=t.alternate;n!==null&&(t.alternate=null,Vg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Yr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var at=null,tn=!1;function jr(t,n,s){for(s=s.child;s!==null;)jg(t,n,s),s=s.sibling}function jg(t,n,s){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(ut,s)}catch{}switch(s.tag){case 26:mt||nr(s,n),jr(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:mt||nr(s,n);var l=at,d=tn;da(s.type)&&(at=s.stateNode,tn=!1),jr(t,n,s),Fo(s.stateNode),at=l,tn=d;break;case 5:mt||nr(s,n);case 6:if(l=at,d=tn,at=null,jr(t,n,s),at=l,tn=d,at!==null)if(tn)try{(at.nodeType===9?at.body:at.nodeName==="HTML"?at.ownerDocument.body:at).removeChild(s.stateNode)}catch(A){Je(s,n,A)}else try{at.removeChild(s.stateNode)}catch(A){Je(s,n,A)}break;case 18:at!==null&&(tn?(t=at,Ty(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Jo(t)):Ty(at,s.stateNode));break;case 4:l=at,d=tn,at=s.stateNode.containerInfo,tn=!0,jr(t,n,s),at=l,tn=d;break;case 0:case 11:case 14:case 15:mt||ia(2,s,n),mt||ia(4,s,n),jr(t,n,s);break;case 1:mt||(nr(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Dg(s,n,l)),jr(t,n,s);break;case 21:jr(t,n,s);break;case 22:mt=(l=mt)||s.memoizedState!==null,jr(t,n,s),mt=l;break;default:jr(t,n,s)}}function Pg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Jo(t)}catch(s){Je(n,n.return,s)}}function cE(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new kg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new kg),n;default:throw Error(i(435,t.tag))}}function yf(t,n){var s=cE(t);n.forEach(function(l){var d=_E.bind(null,t,l);s.has(l)||(s.add(l),l.then(d,d))})}function cn(t,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var d=s[l],A=t,k=n,P=k;e:for(;P!==null;){switch(P.tag){case 27:if(da(P.type)){at=P.stateNode,tn=!1;break e}break;case 5:at=P.stateNode,tn=!1;break e;case 3:case 4:at=P.stateNode.containerInfo,tn=!0;break e}P=P.return}if(at===null)throw Error(i(160));jg(A,k,d),at=null,tn=!1,A=d.alternate,A!==null&&(A.return=null),d.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Lg(n,t),n=n.sibling}var Vn=null;function Lg(t,n){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:cn(n,t),hn(t),l&4&&(ia(3,t,t.return),Vo(3,t),ia(5,t,t.return));break;case 1:cn(n,t),hn(t),l&512&&(mt||s===null||nr(s,s.return)),l&64&&Vr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var d=Vn;if(cn(n,t),hn(t),l&512&&(mt||s===null||nr(s,s.return)),l&4){var A=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":A=d.getElementsByTagName("title")[0],(!A||A[Fa]||A[Et]||A.namespaceURI==="http://www.w3.org/2000/svg"||A.hasAttribute("itemprop"))&&(A=d.createElement(l),d.head.insertBefore(A,d.querySelector("head > title"))),Ut(A,l,s),A[Et]=t,ft(A),l=A;break e;case"link":var k=Ny("link","href",d).get(l+(s.href||""));if(k){for(var P=0;P<k.length;P++)if(A=k[P],A.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&A.getAttribute("rel")===(s.rel==null?null:s.rel)&&A.getAttribute("title")===(s.title==null?null:s.title)&&A.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){k.splice(P,1);break t}}A=d.createElement(l),Ut(A,l,s),d.head.appendChild(A);break;case"meta":if(k=Ny("meta","content",d).get(l+(s.content||""))){for(P=0;P<k.length;P++)if(A=k[P],A.getAttribute("content")===(s.content==null?null:""+s.content)&&A.getAttribute("name")===(s.name==null?null:s.name)&&A.getAttribute("property")===(s.property==null?null:s.property)&&A.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&A.getAttribute("charset")===(s.charSet==null?null:s.charSet)){k.splice(P,1);break t}}A=d.createElement(l),Ut(A,l,s),d.head.appendChild(A);break;default:throw Error(i(468,l))}A[Et]=t,ft(A),l=A}t.stateNode=l}else ky(d,t.type,t.stateNode);else t.stateNode=Iy(d,l,t.memoizedProps);else A!==l?(A===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):A.count--,l===null?ky(d,t.type,t.stateNode):Iy(d,l,t.memoizedProps)):l===null&&t.stateNode!==null&&df(t,t.memoizedProps,s.memoizedProps)}break;case 27:cn(n,t),hn(t),l&512&&(mt||s===null||nr(s,s.return)),s!==null&&l&4&&df(t,t.memoizedProps,s.memoizedProps);break;case 5:if(cn(n,t),hn(t),l&512&&(mt||s===null||nr(s,s.return)),t.flags&32){d=t.stateNode;try{vn(d,"")}catch(Z){Je(t,t.return,Z)}}l&4&&t.stateNode!=null&&(d=t.memoizedProps,df(t,d,s!==null?s.memoizedProps:d)),l&1024&&(gf=!0);break;case 6:if(cn(n,t),hn(t),l&4){if(t.stateNode===null)throw Error(i(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(Z){Je(t,t.return,Z)}}break;case 3:if(Hu=null,d=Vn,Vn=Bu(n.containerInfo),cn(n,t),Vn=d,hn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Jo(n.containerInfo)}catch(Z){Je(t,t.return,Z)}gf&&(gf=!1,Ug(t));break;case 4:l=Vn,Vn=Bu(t.stateNode.containerInfo),cn(n,t),hn(t),Vn=l;break;case 12:cn(n,t),hn(t);break;case 13:cn(n,t),hn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(wf=gn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,yf(t,l)));break;case 22:d=t.memoizedState!==null;var H=s!==null&&s.memoizedState!==null,K=Vr,ne=mt;if(Vr=K||d,mt=ne||H,cn(n,t),mt=ne,Vr=K,hn(t),l&8192)e:for(n=t.stateNode,n._visibility=d?n._visibility&-2:n._visibility|1,d&&(s===null||H||Vr||mt||yi(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){H=s=n;try{if(A=H.stateNode,d)k=A.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none";else{P=H.stateNode;var ae=H.memoizedProps.style,W=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;P.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(Z){Je(H,H.return,Z)}}}else if(n.tag===6){if(s===null){H=n;try{H.stateNode.nodeValue=d?"":H.memoizedProps}catch(Z){Je(H,H.return,Z)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,yf(t,s))));break;case 19:cn(n,t),hn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,yf(t,l)));break;case 30:break;case 21:break;default:cn(n,t),hn(t)}}function hn(t){var n=t.flags;if(n&2){try{for(var s,l=t.return;l!==null;){if(Ig(l)){s=l;break}l=l.return}if(s==null)throw Error(i(160));switch(s.tag){case 27:var d=s.stateNode,A=mf(t);Cu(t,A,d);break;case 5:var k=s.stateNode;s.flags&32&&(vn(k,""),s.flags&=-33);var P=mf(t);Cu(t,P,k);break;case 3:case 4:var H=s.stateNode.containerInfo,K=mf(t);pf(t,K,H);break;default:throw Error(i(161))}}catch(ne){Je(t,t.return,ne)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Ug(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Ug(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function sa(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Mg(t,n.alternate,n),n=n.sibling}function yi(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ia(4,n,n.return),yi(n);break;case 1:nr(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Dg(n,n.return,s),yi(n);break;case 27:Fo(n.stateNode);case 26:case 5:nr(n,n.return),yi(n);break;case 22:n.memoizedState===null&&yi(n);break;case 30:yi(n);break;default:yi(n)}t=t.sibling}}function oa(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,d=t,A=n,k=A.flags;switch(A.tag){case 0:case 11:case 15:oa(d,A,s),Vo(4,A);break;case 1:if(oa(d,A,s),l=A,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(K){Je(l,l.return,K)}if(l=A,d=l.updateQueue,d!==null){var P=l.stateNode;try{var H=d.shared.hiddenCallbacks;if(H!==null)for(d.shared.hiddenCallbacks=null,d=0;d<H.length;d++)mp(H[d],P)}catch(K){Je(l,l.return,K)}}s&&k&64&&Cg(A),jo(A,A.return);break;case 27:Ng(A);case 26:case 5:oa(d,A,s),s&&l===null&&k&4&&Og(A),jo(A,A.return);break;case 12:oa(d,A,s);break;case 13:oa(d,A,s),s&&k&4&&Pg(d,A);break;case 22:A.memoizedState===null&&oa(d,A,s),jo(A,A.return);break;case 30:break;default:oa(d,A,s)}n=n.sibling}}function vf(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Eo(s))}function _f(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Eo(t))}function rr(t,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)zg(t,n,s,l),n=n.sibling}function zg(t,n,s,l){var d=n.flags;switch(n.tag){case 0:case 11:case 15:rr(t,n,s,l),d&2048&&Vo(9,n);break;case 1:rr(t,n,s,l);break;case 3:rr(t,n,s,l),d&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Eo(t)));break;case 12:if(d&2048){rr(t,n,s,l),t=n.stateNode;try{var A=n.memoizedProps,k=A.id,P=A.onPostCommit;typeof P=="function"&&P(k,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(H){Je(n,n.return,H)}}else rr(t,n,s,l);break;case 13:rr(t,n,s,l);break;case 23:break;case 22:A=n.stateNode,k=n.alternate,n.memoizedState!==null?A._visibility&2?rr(t,n,s,l):Po(t,n):A._visibility&2?rr(t,n,s,l):(A._visibility|=2,ls(t,n,s,l,(n.subtreeFlags&10256)!==0)),d&2048&&vf(k,n);break;case 24:rr(t,n,s,l),d&2048&&_f(n.alternate,n);break;default:rr(t,n,s,l)}}function ls(t,n,s,l,d){for(d=d&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var A=t,k=n,P=s,H=l,K=k.flags;switch(k.tag){case 0:case 11:case 15:ls(A,k,P,H,d),Vo(8,k);break;case 23:break;case 22:var ne=k.stateNode;k.memoizedState!==null?ne._visibility&2?ls(A,k,P,H,d):Po(A,k):(ne._visibility|=2,ls(A,k,P,H,d)),d&&K&2048&&vf(k.alternate,k);break;case 24:ls(A,k,P,H,d),d&&K&2048&&_f(k.alternate,k);break;default:ls(A,k,P,H,d)}n=n.sibling}}function Po(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,l=n,d=l.flags;switch(l.tag){case 22:Po(s,l),d&2048&&vf(l.alternate,l);break;case 24:Po(s,l),d&2048&&_f(l.alternate,l);break;default:Po(s,l)}n=n.sibling}}var Lo=8192;function us(t){if(t.subtreeFlags&Lo)for(t=t.child;t!==null;)Bg(t),t=t.sibling}function Bg(t){switch(t.tag){case 26:us(t),t.flags&Lo&&t.memoizedState!==null&&KE(Vn,t.memoizedState,t.memoizedProps);break;case 5:us(t);break;case 3:case 4:var n=Vn;Vn=Bu(t.stateNode.containerInfo),us(t),Vn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Lo,Lo=16777216,us(t),Lo=n):us(t));break;default:us(t)}}function qg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Uo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Nt=l,$g(l,t)}qg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Hg(t),t=t.sibling}function Hg(t){switch(t.tag){case 0:case 11:case 15:Uo(t),t.flags&2048&&ia(9,t,t.return);break;case 3:Uo(t);break;case 12:Uo(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Du(t)):Uo(t);break;default:Uo(t)}}function Du(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Nt=l,$g(l,t)}qg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ia(8,n,n.return),Du(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Du(n));break;default:Du(n)}t=t.sibling}}function $g(t,n){for(;Nt!==null;){var s=Nt;switch(s.tag){case 0:case 11:case 15:ia(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Eo(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Nt=l;else e:for(s=t;Nt!==null;){l=Nt;var d=l.sibling,A=l.return;if(Vg(l),l===s){Nt=null;break e}if(d!==null){d.return=A,Nt=d;break e}Nt=A}}}var hE={getCacheForType:function(t){var n=$t(Tt),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s}},fE=typeof WeakMap=="function"?WeakMap:Map,Ge=0,tt=null,ke=null,Le=0,Qe=0,fn=null,la=!1,cs=!1,bf=!1,Pr=0,ht=0,ua=0,vi=0,Ef=0,xn=0,hs=0,zo=null,nn=null,Af=!1,wf=0,Ou=1/0,Iu=null,ca=null,Lt=0,ha=null,fs=null,ds=0,Tf=0,Sf=null,Fg=null,Bo=0,Rf=null;function dn(){if((Ge&2)!==0&&Le!==0)return Le&-Le;if(X.T!==null){var t=es;return t!==0?t:kf()}return Gr()}function Gg(){xn===0&&(xn=(Le&536870912)===0||qe?Ks():536870912);var t=Rn.current;return t!==null&&(t.flags|=32),xn}function mn(t,n,s){(t===tt&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)&&(ms(t,0),fa(t,Le,xn,!1)),pr(t,s),((Ge&2)===0||t!==tt)&&(t===tt&&((Ge&2)===0&&(vi|=s),ht===4&&fa(t,Le,xn,!1)),ar(t))}function Qg(t,n,s){if((Ge&6)!==0)throw Error(i(327));var l=!s&&(n&124)===0&&(n&t.expiredLanes)===0||$a(t,n),d=l?pE(t,n):Df(t,n,!0),A=l;do{if(d===0){cs&&!l&&fa(t,n,0,!1);break}else{if(s=t.current.alternate,A&&!dE(s)){d=Df(t,n,!1),A=!1;continue}if(d===2){if(A=n,t.errorRecoveryDisabledLanes&A)var k=0;else k=t.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){n=k;e:{var P=t;d=zo;var H=P.current.memoizedState.isDehydrated;if(H&&(ms(P,k).flags|=256),k=Df(P,k,!1),k!==2){if(bf&&!H){P.errorRecoveryDisabledLanes|=A,vi|=A,d=4;break e}A=nn,nn=d,A!==null&&(nn===null?nn=A:nn.push.apply(nn,A))}d=k}if(A=!1,d!==2)continue}}if(d===1){ms(t,0),fa(t,n,0,!0);break}e:{switch(l=t,A=d,A){case 0:case 1:throw Error(i(345));case 4:if((n&4194048)!==n)break;case 6:fa(l,n,xn,!la);break e;case 2:nn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((n&62914560)===n&&(d=wf+300-gn(),10<d)){if(fa(l,n,xn,!la),Ii(l,0,!0)!==0)break e;l.timeoutHandle=Ay(Yg.bind(null,l,s,nn,Iu,Af,n,xn,vi,hs,la,A,2,-0,0),d);break e}Yg(l,s,nn,Iu,Af,n,xn,vi,hs,la,A,0,-0,0)}}break}while(!0);ar(t)}function Yg(t,n,s,l,d,A,k,P,H,K,ne,ae,W,Z){if(t.timeoutHandle=-1,ae=n.subtreeFlags,(ae&8192||(ae&16785408)===16785408)&&(Yo={stylesheets:null,count:0,unsuspend:YE},Bg(n),ae=XE(),ae!==null)){t.cancelPendingCommit=ae(ty.bind(null,t,n,A,s,l,d,k,P,H,ne,1,W,Z)),fa(t,A,k,!K);return}ty(t,n,A,s,l,d,k,P,H)}function dE(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var d=s[l],A=d.getSnapshot;d=d.value;try{if(!ln(A(),d))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function fa(t,n,s,l){n&=~Ef,n&=~vi,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var d=n;0<d;){var A=31-Ht(d),k=1<<A;l[A]=-1,d&=~k}s!==0&&Hn(t,s,n)}function Nu(){return(Ge&6)===0?(qo(0),!1):!0}function xf(){if(ke!==null){if(Qe===0)var t=ke.return;else t=ke,Dr=fi=null,Hh(t),ss=null,No=0,t=ke;for(;t!==null;)xg(t.alternate,t),t=t.return;ke=null}}function ms(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,IE(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),xf(),tt=t,ke=s=Rr(t.current,null),Le=n,Qe=0,fn=null,la=!1,cs=$a(t,n),bf=!1,hs=xn=Ef=vi=ua=ht=0,nn=zo=null,Af=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var d=31-Ht(l),A=1<<d;n|=t[d],l&=~A}return Pr=n,eu(),s}function Kg(t,n){Oe=null,X.H=_u,n===wo||n===uu?(n=fp(),Qe=3):n===up?(n=fp(),Qe=4):Qe=n===dg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,fn=n,ke===null&&(ht=1,Tu(t,An(n,t.current)))}function Xg(){var t=X.H;return X.H=_u,t===null?_u:t}function Wg(){var t=X.A;return X.A=hE,t}function Cf(){ht=4,la||(Le&4194048)!==Le&&Rn.current!==null||(cs=!0),(ua&134217727)===0&&(vi&134217727)===0||tt===null||fa(tt,Le,xn,!1)}function Df(t,n,s){var l=Ge;Ge|=2;var d=Xg(),A=Wg();(tt!==t||Le!==n)&&(Iu=null,ms(t,n)),n=!1;var k=ht;e:do try{if(Qe!==0&&ke!==null){var P=ke,H=fn;switch(Qe){case 8:xf(),k=6;break e;case 3:case 2:case 9:case 6:Rn.current===null&&(n=!0);var K=Qe;if(Qe=0,fn=null,ps(t,P,H,K),s&&cs){k=0;break e}break;default:K=Qe,Qe=0,fn=null,ps(t,P,H,K)}}mE(),k=ht;break}catch(ne){Kg(t,ne)}while(!0);return n&&t.shellSuspendCounter++,Dr=fi=null,Ge=l,X.H=d,X.A=A,ke===null&&(tt=null,Le=0,eu()),k}function mE(){for(;ke!==null;)Zg(ke)}function pE(t,n){var s=Ge;Ge|=2;var l=Xg(),d=Wg();tt!==t||Le!==n?(Iu=null,Ou=gn()+500,ms(t,n)):cs=$a(t,n);e:do try{if(Qe!==0&&ke!==null){n=ke;var A=fn;t:switch(Qe){case 1:Qe=0,fn=null,ps(t,n,A,1);break;case 2:case 9:if(cp(A)){Qe=0,fn=null,Jg(n);break}n=function(){Qe!==2&&Qe!==9||tt!==t||(Qe=7),ar(t)},A.then(n,n);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:cp(A)?(Qe=0,fn=null,Jg(n)):(Qe=0,fn=null,ps(t,n,A,7));break;case 5:var k=null;switch(ke.tag){case 26:k=ke.memoizedState;case 5:case 27:var P=ke;if(!k||My(k)){Qe=0,fn=null;var H=P.sibling;if(H!==null)ke=H;else{var K=P.return;K!==null?(ke=K,ku(K)):ke=null}break t}}Qe=0,fn=null,ps(t,n,A,5);break;case 6:Qe=0,fn=null,ps(t,n,A,6);break;case 8:xf(),ht=6;break e;default:throw Error(i(462))}}gE();break}catch(ne){Kg(t,ne)}while(!0);return Dr=fi=null,X.H=l,X.A=d,Ge=s,ke!==null?0:(tt=null,Le=0,eu(),ht)}function gE(){for(;ke!==null&&!Fs();)Zg(ke)}function Zg(t){var n=Sg(t.alternate,t,Pr);t.memoizedProps=t.pendingProps,n===null?ku(t):ke=n}function Jg(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=_g(s,n,n.pendingProps,n.type,void 0,Le);break;case 11:n=_g(s,n,n.pendingProps,n.type.render,n.ref,Le);break;case 5:Hh(n);default:xg(s,n),n=ke=ep(n,Pr),n=Sg(s,n,Pr)}t.memoizedProps=t.pendingProps,n===null?ku(t):ke=n}function ps(t,n,s,l){Dr=fi=null,Hh(n),ss=null,No=0;var d=n.return;try{if(iE(t,d,n,s,Le)){ht=1,Tu(t,An(s,t.current)),ke=null;return}}catch(A){if(d!==null)throw ke=d,A;ht=1,Tu(t,An(s,t.current)),ke=null;return}n.flags&32768?(qe||l===1?t=!0:cs||(Le&536870912)!==0?t=!1:(la=t=!0,(l===2||l===9||l===3||l===6)&&(l=Rn.current,l!==null&&l.tag===13&&(l.flags|=16384))),ey(n,t)):ku(n)}function ku(t){var n=t;do{if((n.flags&32768)!==0){ey(n,la);return}t=n.return;var s=oE(n.alternate,n,Pr);if(s!==null){ke=s;return}if(n=n.sibling,n!==null){ke=n;return}ke=n=t}while(n!==null);ht===0&&(ht=5)}function ey(t,n){do{var s=lE(t.alternate,t);if(s!==null){s.flags&=32767,ke=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){ke=t;return}ke=t=s}while(t!==null);ht=6,ke=null}function ty(t,n,s,l,d,A,k,P,H){t.cancelPendingCommit=null;do Mu();while(Lt!==0);if((Ge&6)!==0)throw Error(i(327));if(n!==null){if(n===t.current)throw Error(i(177));if(A=n.lanes|n.childLanes,A|=vh,Ws(t,s,A,k,P,H),t===tt&&(ke=tt=null,Le=0),fs=n,ha=t,ds=s,Tf=A,Sf=d,Fg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,bE(za,function(){return sy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,d=se.p,se.p=2,k=Ge,Ge|=4;try{uE(t,n,s)}finally{Ge=k,se.p=d,X.T=l}}Lt=1,ny(),ry(),ay()}}function ny(){if(Lt===1){Lt=0;var t=ha,n=fs,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=X.T,X.T=null;var l=se.p;se.p=2;var d=Ge;Ge|=4;try{Lg(n,t);var A=Bf,k=$m(t.containerInfo),P=A.focusedElem,H=A.selectionRange;if(k!==P&&P&&P.ownerDocument&&Hm(P.ownerDocument.documentElement,P)){if(H!==null&&dh(P)){var K=H.start,ne=H.end;if(ne===void 0&&(ne=K),"selectionStart"in P)P.selectionStart=K,P.selectionEnd=Math.min(ne,P.value.length);else{var ae=P.ownerDocument||document,W=ae&&ae.defaultView||window;if(W.getSelection){var Z=W.getSelection(),Te=P.textContent.length,be=Math.min(H.start,Te),Ze=H.end===void 0?be:Math.min(H.end,Te);!Z.extend&&be>Ze&&(k=Ze,Ze=be,be=k);var G=qm(P,be),F=qm(P,Ze);if(G&&F&&(Z.rangeCount!==1||Z.anchorNode!==G.node||Z.anchorOffset!==G.offset||Z.focusNode!==F.node||Z.focusOffset!==F.offset)){var Y=ae.createRange();Y.setStart(G.node,G.offset),Z.removeAllRanges(),be>Ze?(Z.addRange(Y),Z.extend(F.node,F.offset)):(Y.setEnd(F.node,F.offset),Z.addRange(Y))}}}}for(ae=[],Z=P;Z=Z.parentNode;)Z.nodeType===1&&ae.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<ae.length;P++){var re=ae[P];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}Gu=!!zf,Bf=zf=null}finally{Ge=d,se.p=l,X.T=s}}t.current=n,Lt=2}}function ry(){if(Lt===2){Lt=0;var t=ha,n=fs,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=X.T,X.T=null;var l=se.p;se.p=2;var d=Ge;Ge|=4;try{Mg(t,n.alternate,n)}finally{Ge=d,se.p=l,X.T=s}}Lt=3}}function ay(){if(Lt===4||Lt===3){Lt=0,Dl();var t=ha,n=fs,s=ds,l=Fg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Lt=5:(Lt=0,fs=ha=null,iy(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(ca=null),Ni(s),n=n.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(ut,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=X.T,d=se.p,se.p=2,X.T=null;try{for(var A=t.onRecoverableError,k=0;k<l.length;k++){var P=l[k];A(P.value,{componentStack:P.stack})}}finally{X.T=n,se.p=d}}(ds&3)!==0&&Mu(),ar(t),d=t.pendingLanes,(s&4194090)!==0&&(d&42)!==0?t===Rf?Bo++:(Bo=0,Rf=t):Bo=0,qo(0)}}function iy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Eo(n)))}function Mu(t){return ny(),ry(),ay(),sy()}function sy(){if(Lt!==5)return!1;var t=ha,n=Tf;Tf=0;var s=Ni(ds),l=X.T,d=se.p;try{se.p=32>s?32:s,X.T=null,s=Sf,Sf=null;var A=ha,k=ds;if(Lt=0,fs=ha=null,ds=0,(Ge&6)!==0)throw Error(i(331));var P=Ge;if(Ge|=4,Hg(A.current),zg(A,A.current,k,s),Ge=P,qo(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(ut,A)}catch{}return!0}finally{se.p=d,X.T=l,iy(t,n)}}function oy(t,n,s){n=An(s,n),n=rf(t.stateNode,n,2),t=ta(t,n,2),t!==null&&(pr(t,2),ar(t))}function Je(t,n,s){if(t.tag===3)oy(t,t,s);else for(;n!==null;){if(n.tag===3){oy(n,t,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ca===null||!ca.has(l))){t=An(s,t),s=hg(2),l=ta(n,s,2),l!==null&&(fg(s,l,n,t),pr(l,2),ar(l));break}}n=n.return}}function Of(t,n,s){var l=t.pingCache;if(l===null){l=t.pingCache=new fE;var d=new Set;l.set(n,d)}else d=l.get(n),d===void 0&&(d=new Set,l.set(n,d));d.has(s)||(bf=!0,d.add(s),t=yE.bind(null,t,n,s),n.then(t,t))}function yE(t,n,s){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,tt===t&&(Le&s)===s&&(ht===4||ht===3&&(Le&62914560)===Le&&300>gn()-wf?(Ge&2)===0&&ms(t,0):Ef|=s,hs===Le&&(hs=0)),ar(t)}function ly(t,n){n===0&&(n=Xs()),t=Xi(t,n),t!==null&&(pr(t,n),ar(t))}function vE(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),ly(t,s)}function _E(t,n){var s=0;switch(t.tag){case 13:var l=t.stateNode,d=t.memoizedState;d!==null&&(s=d.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(n),ly(t,s)}function bE(t,n){return La(t,n)}var Vu=null,gs=null,If=!1,ju=!1,Nf=!1,_i=0;function ar(t){t!==gs&&t.next===null&&(gs===null?Vu=gs=t:gs=gs.next=t),ju=!0,If||(If=!0,AE())}function qo(t,n){if(!Nf&&ju){Nf=!0;do for(var s=!1,l=Vu;l!==null;){if(t!==0){var d=l.pendingLanes;if(d===0)var A=0;else{var k=l.suspendedLanes,P=l.pingedLanes;A=(1<<31-Ht(42|t)+1)-1,A&=d&~(k&~P),A=A&201326741?A&201326741|1:A?A|2:0}A!==0&&(s=!0,fy(l,A))}else A=Le,A=Ii(l,l===tt?A:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(A&3)===0||$a(l,A)||(s=!0,fy(l,A));l=l.next}while(s);Nf=!1}}function EE(){uy()}function uy(){ju=If=!1;var t=0;_i!==0&&(OE()&&(t=_i),_i=0);for(var n=gn(),s=null,l=Vu;l!==null;){var d=l.next,A=cy(l,n);A===0?(l.next=null,s===null?Vu=d:s.next=d,d===null&&(gs=s)):(s=l,(t!==0||(A&3)!==0)&&(ju=!0)),l=d}qo(t)}function cy(t,n){for(var s=t.suspendedLanes,l=t.pingedLanes,d=t.expirationTimes,A=t.pendingLanes&-62914561;0<A;){var k=31-Ht(A),P=1<<k,H=d[k];H===-1?((P&s)===0||(P&l)!==0)&&(d[k]=Ys(P,n)):H<=n&&(t.expiredLanes|=P),A&=~P}if(n=tt,s=Le,s=Ii(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===n&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ua(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||$a(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(l!==null&&Ua(l),Ni(s)){case 2:case 8:s=Di;break;case 32:s=za;break;case 268435456:s=Oi;break;default:s=za}return l=hy.bind(null,t),s=La(s,l),t.callbackPriority=n,t.callbackNode=s,n}return l!==null&&l!==null&&Ua(l),t.callbackPriority=2,t.callbackNode=null,2}function hy(t,n){if(Lt!==0&&Lt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Mu()&&t.callbackNode!==s)return null;var l=Le;return l=Ii(t,t===tt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Qg(t,l,n),cy(t,gn()),t.callbackNode!=null&&t.callbackNode===s?hy.bind(null,t):null)}function fy(t,n){if(Mu())return null;Qg(t,n,!0)}function AE(){NE(function(){(Ge&6)!==0?La(Gs,EE):uy()})}function kf(){return _i===0&&(_i=Ks()),_i}function dy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Li(""+t)}function my(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function wE(t,n,s,l,d){if(n==="submit"&&s&&s.stateNode===d){var A=dy((d[gt]||null).action),k=l.submitter;k&&(n=(n=k[gt]||null)?dy(n.formAction):k.getAttribute("formAction"),n!==null&&(A=n,k=null));var P=new Ui("action","action",null,l,d);t.push({event:P,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(_i!==0){var H=k?my(d,k):new FormData(d);Zh(s,{pending:!0,data:H,method:d.method,action:A},null,H)}}else typeof A=="function"&&(P.preventDefault(),H=k?my(d,k):new FormData(d),Zh(s,{pending:!0,data:H,method:d.method,action:A},A,H))},currentTarget:d}]})}}for(var Mf=0;Mf<yh.length;Mf++){var Vf=yh[Mf],TE=Vf.toLowerCase(),SE=Vf[0].toUpperCase()+Vf.slice(1);Mn(TE,"on"+SE)}Mn(Qm,"onAnimationEnd"),Mn(Ym,"onAnimationIteration"),Mn(Km,"onAnimationStart"),Mn("dblclick","onDoubleClick"),Mn("focusin","onFocus"),Mn("focusout","onBlur"),Mn(q0,"onTransitionRun"),Mn(H0,"onTransitionStart"),Mn($0,"onTransitionCancel"),Mn(Xm,"onTransitionEnd"),yr("onMouseEnter",["mouseout","mouseover"]),yr("onMouseLeave",["mouseout","mouseover"]),yr("onPointerEnter",["pointerout","pointerover"]),yr("onPointerLeave",["pointerout","pointerover"]),Nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Nn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ho="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ho));function py(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],d=l.event;l=l.listeners;e:{var A=void 0;if(n)for(var k=l.length-1;0<=k;k--){var P=l[k],H=P.instance,K=P.currentTarget;if(P=P.listener,H!==A&&d.isPropagationStopped())break e;A=P,d.currentTarget=K;try{A(d)}catch(ne){wu(ne)}d.currentTarget=null,A=H}else for(k=0;k<l.length;k++){if(P=l[k],H=P.instance,K=P.currentTarget,P=P.listener,H!==A&&d.isPropagationStopped())break e;A=P,d.currentTarget=K;try{A(d)}catch(ne){wu(ne)}d.currentTarget=null,A=H}}}}function Me(t,n){var s=n[Js];s===void 0&&(s=n[Js]=new Set);var l=t+"__bubble";s.has(l)||(gy(n,t,2,!1),s.add(l))}function jf(t,n,s){var l=0;n&&(l|=4),gy(s,t,l,n)}var Pu="_reactListening"+Math.random().toString(36).slice(2);function Pf(t){if(!t[Pu]){t[Pu]=!0,eo.forEach(function(s){s!=="selectionchange"&&(RE.has(s)||jf(s,!1,t),jf(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Pu]||(n[Pu]=!0,jf("selectionchange",!1,n))}}function gy(t,n,s,l){switch(zy(n)){case 2:var d=JE;break;case 8:d=e1;break;default:d=Wf}s=d.bind(null,n,s,t),d=void 0,!bn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),l?d!==void 0?t.addEventListener(n,s,{capture:!0,passive:d}):t.addEventListener(n,s,!0):d!==void 0?t.addEventListener(n,s,{passive:d}):t.addEventListener(n,s,!1)}function Lf(t,n,s,l,d){var A=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var k=l.tag;if(k===3||k===4){var P=l.stateNode.containerInfo;if(P===d)break;if(k===4)for(k=l.return;k!==null;){var H=k.tag;if((H===3||H===4)&&k.stateNode.containerInfo===d)return;k=k.return}for(;P!==null;){if(k=gr(P),k===null)return;if(H=k.tag,H===5||H===6||H===26||H===27){l=A=k;continue e}P=P.parentNode}}l=l.return}Ul(function(){var K=A,ne=_n(s),ae=[];e:{var W=Wm.get(t);if(W!==void 0){var Z=Ui,Te=t;switch(t){case"keypress":if(Kn(s)===0)break e;case"keydown":case"keyup":Z=Fi;break;case"focusin":Te="focus",Z=qi;break;case"focusout":Te="blur",Z=qi;break;case"beforeblur":case"afterblur":Z=qi;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=En;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=uh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=Ql;break;case Qm:case Ym:case Km:Z=Hi;break;case Xm:Z=Kl;break;case"scroll":case"scrollend":Z=zl;break;case"wheel":Z=Gi;break;case"copy":case"cut":case"paste":Z=$i;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=fo;break;case"toggle":case"beforetoggle":Z=Wl}var be=(n&4)!==0,Ze=!be&&(t==="scroll"||t==="scrollend"),G=be?W!==null?W+"Capture":null:W;be=[];for(var F=K,Y;F!==null;){var re=F;if(Y=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||Y===null||G===null||(re=Za(F,G),re!=null&&be.push($o(F,re,Y))),Ze)break;F=F.return}0<be.length&&(W=new Z(W,Te,null,s,ne),ae.push({event:W,listeners:be}))}}if((n&7)===0){e:{if(W=t==="mouseover"||t==="pointerover",Z=t==="mouseout"||t==="pointerout",W&&s!==br&&(Te=s.relatedTarget||s.fromElement)&&(gr(Te)||Te[yn]))break e;if((Z||W)&&(W=ne.window===ne?ne:(W=ne.ownerDocument)?W.defaultView||W.parentWindow:window,Z?(Te=s.relatedTarget||s.toElement,Z=K,Te=Te?gr(Te):null,Te!==null&&(Ze=u(Te),be=Te.tag,Te!==Ze||be!==5&&be!==27&&be!==6)&&(Te=null)):(Z=null,Te=K),Z!==Te)){if(be=En,re="onMouseLeave",G="onMouseEnter",F="mouse",(t==="pointerout"||t==="pointerover")&&(be=fo,re="onPointerLeave",G="onPointerEnter",F="pointer"),Ze=Z==null?W:Fn(Z),Y=Te==null?W:Fn(Te),W=new be(re,F+"leave",Z,s,ne),W.target=Ze,W.relatedTarget=Y,re=null,gr(ne)===K&&(be=new be(G,F+"enter",Te,s,ne),be.target=Y,be.relatedTarget=Ze,re=be),Ze=re,Z&&Te)t:{for(be=Z,G=Te,F=0,Y=be;Y;Y=ys(Y))F++;for(Y=0,re=G;re;re=ys(re))Y++;for(;0<F-Y;)be=ys(be),F--;for(;0<Y-F;)G=ys(G),Y--;for(;F--;){if(be===G||G!==null&&be===G.alternate)break t;be=ys(be),G=ys(G)}be=null}else be=null;Z!==null&&yy(ae,W,Z,be,!1),Te!==null&&Ze!==null&&yy(ae,Ze,Te,be,!0)}}e:{if(W=K?Fn(K):window,Z=W.nodeName&&W.nodeName.toLowerCase(),Z==="select"||Z==="input"&&W.type==="file")var pe=jm;else if(wt(W))if(Pm)pe=U0;else{pe=P0;var Ne=j0}else Z=W.nodeName,!Z||Z.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?K&&io(K.elementType)&&(pe=jm):pe=L0;if(pe&&(pe=pe(t,K))){Sr(ae,pe,s,ne);break e}Ne&&Ne(t,W,K),t==="focusout"&&K&&W.type==="number"&&K.memoizedProps.value!=null&&Xr(W,"number",W.value)}switch(Ne=K?Fn(K):window,t){case"focusin":(wt(Ne)||Ne.contentEditable==="true")&&(Qi=Ne,mh=K,go=null);break;case"focusout":go=mh=Qi=null;break;case"mousedown":ph=!0;break;case"contextmenu":case"mouseup":case"dragend":ph=!1,Fm(ae,s,ne);break;case"selectionchange":if(B0)break;case"keydown":case"keyup":Fm(ae,s,ne)}var ye;if(Zn)e:{switch(t){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else je?ee(t,s)&&(Ae="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Ae="onCompositionStart");Ae&&(I&&s.locale!=="ko"&&(je||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&je&&(ye=oo()):(Yn=ne,Wr="value"in Yn?Yn.value:Yn.textContent,je=!0)),Ne=Lu(K,Ae),0<Ne.length&&(Ae=new co(Ae,t,null,s,ne),ae.push({event:Ae,listeners:Ne}),ye?Ae.data=ye:(ye=ce(s),ye!==null&&(Ae.data=ye)))),(ye=C?At(t,s):Pe(t,s))&&(Ae=Lu(K,"onBeforeInput"),0<Ae.length&&(Ne=new co("onBeforeInput","beforeinput",null,s,ne),ae.push({event:Ne,listeners:Ae}),Ne.data=ye)),wE(ae,t,K,s,ne)}py(ae,n)})}function $o(t,n,s){return{instance:t,listener:n,currentTarget:s}}function Lu(t,n){for(var s=n+"Capture",l=[];t!==null;){var d=t,A=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||A===null||(d=Za(t,s),d!=null&&l.unshift($o(t,d,A)),d=Za(t,n),d!=null&&l.push($o(t,d,A))),t.tag===3)return l;t=t.return}return[]}function ys(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function yy(t,n,s,l,d){for(var A=n._reactName,k=[];s!==null&&s!==l;){var P=s,H=P.alternate,K=P.stateNode;if(P=P.tag,H!==null&&H===l)break;P!==5&&P!==26&&P!==27||K===null||(H=K,d?(K=Za(s,A),K!=null&&k.unshift($o(s,K,H))):d||(K=Za(s,A),K!=null&&k.push($o(s,K,H)))),s=s.return}k.length!==0&&t.push({event:n,listeners:k})}var xE=/\r\n?/g,CE=/\u0000|\uFFFD/g;function vy(t){return(typeof t=="string"?t:""+t).replace(xE,`
`).replace(CE,"")}function _y(t,n){return n=vy(n),vy(t)===n}function Uu(){}function We(t,n,s,l,d,A){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||vn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&vn(t,""+l);break;case"className":Gn(t,"class",l);break;case"tabIndex":Gn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Gn(t,s,l);break;case"style":ao(t,l,A);break;case"data":if(n!=="object"){Gn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Li(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof A=="function"&&(s==="formAction"?(n!=="input"&&We(t,n,"name",d.name,d,null),We(t,n,"formEncType",d.formEncType,d,null),We(t,n,"formMethod",d.formMethod,d,null),We(t,n,"formTarget",d.formTarget,d,null)):(We(t,n,"encType",d.encType,d,null),We(t,n,"method",d.method,d,null),We(t,n,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Li(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=Uu);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(s=l.__html,s!=null){if(d.children!=null)throw Error(i(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=Li(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Me("beforetoggle",t),Me("toggle",t),Kr(t,"popover",l);break;case"xlinkActuate":Vt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Vt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Vt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Vt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Vt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Vt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Kr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=oh.get(s)||s,Kr(t,s,l))}}function Uf(t,n,s,l,d,A){switch(s){case"style":ao(t,l,A);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(s=l.__html,s!=null){if(d.children!=null)throw Error(i(60));t.innerHTML=s}}break;case"children":typeof l=="string"?vn(t,l):(typeof l=="number"||typeof l=="bigint")&&vn(t,""+l);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Uu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ki.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(d=s.endsWith("Capture"),n=s.slice(2,d?s.length-7:void 0),A=t[gt]||null,A=A!=null?A[s]:null,typeof A=="function"&&t.removeEventListener(n,A,d),typeof l=="function")){typeof A!="function"&&A!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,l,d);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):Kr(t,s,l)}}}function Ut(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",t),Me("load",t);var l=!1,d=!1,A;for(A in s)if(s.hasOwnProperty(A)){var k=s[A];if(k!=null)switch(A){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,n));default:We(t,n,A,k,s,null)}}d&&We(t,n,"srcSet",s.srcSet,s,null),l&&We(t,n,"src",s.src,s,null);return;case"input":Me("invalid",t);var P=A=k=d=null,H=null,K=null;for(l in s)if(s.hasOwnProperty(l)){var ne=s[l];if(ne!=null)switch(l){case"name":d=ne;break;case"type":k=ne;break;case"checked":H=ne;break;case"defaultChecked":K=ne;break;case"value":A=ne;break;case"defaultValue":P=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,n));break;default:We(t,n,l,ne,s,null)}}Ka(t,A,P,H,K,k,d,!1),Pi(t);return;case"select":Me("invalid",t),l=k=A=null;for(d in s)if(s.hasOwnProperty(d)&&(P=s[d],P!=null))switch(d){case"value":A=P;break;case"defaultValue":k=P;break;case"multiple":l=P;default:We(t,n,d,P,s,null)}n=A,s=k,t.multiple=!!l,n!=null?_r(t,!!l,n,!1):s!=null&&_r(t,!!l,s,!0);return;case"textarea":Me("invalid",t),A=d=l=null;for(k in s)if(s.hasOwnProperty(k)&&(P=s[k],P!=null))switch(k){case"value":l=P;break;case"defaultValue":d=P;break;case"children":A=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(i(91));break;default:We(t,n,k,P,s,null)}Xa(t,l,d,A),Pi(t);return;case"option":for(H in s)if(s.hasOwnProperty(H)&&(l=s[H],l!=null))switch(H){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:We(t,n,H,l,s,null)}return;case"dialog":Me("beforetoggle",t),Me("toggle",t),Me("cancel",t),Me("close",t);break;case"iframe":case"object":Me("load",t);break;case"video":case"audio":for(l=0;l<Ho.length;l++)Me(Ho[l],t);break;case"image":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"embed":case"source":case"link":Me("error",t),Me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in s)if(s.hasOwnProperty(K)&&(l=s[K],l!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,n));default:We(t,n,K,l,s,null)}return;default:if(io(n)){for(ne in s)s.hasOwnProperty(ne)&&(l=s[ne],l!==void 0&&Uf(t,n,ne,l,s,void 0));return}}for(P in s)s.hasOwnProperty(P)&&(l=s[P],l!=null&&We(t,n,P,l,s,null))}function DE(t,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,A=null,k=null,P=null,H=null,K=null,ne=null;for(Z in s){var ae=s[Z];if(s.hasOwnProperty(Z)&&ae!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":H=ae;default:l.hasOwnProperty(Z)||We(t,n,Z,null,l,ae)}}for(var W in l){var Z=l[W];if(ae=s[W],l.hasOwnProperty(W)&&(Z!=null||ae!=null))switch(W){case"type":A=Z;break;case"name":d=Z;break;case"checked":K=Z;break;case"defaultChecked":ne=Z;break;case"value":k=Z;break;case"defaultValue":P=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,n));break;default:Z!==ae&&We(t,n,W,Z,l,ae)}}on(t,k,P,H,K,ne,A,d);return;case"select":Z=k=P=W=null;for(A in s)if(H=s[A],s.hasOwnProperty(A)&&H!=null)switch(A){case"value":break;case"multiple":Z=H;default:l.hasOwnProperty(A)||We(t,n,A,null,l,H)}for(d in l)if(A=l[d],H=s[d],l.hasOwnProperty(d)&&(A!=null||H!=null))switch(d){case"value":W=A;break;case"defaultValue":P=A;break;case"multiple":k=A;default:A!==H&&We(t,n,d,A,l,H)}n=P,s=k,l=Z,W!=null?_r(t,!!s,W,!1):!!l!=!!s&&(n!=null?_r(t,!!s,n,!0):_r(t,!!s,s?[]:"",!1));return;case"textarea":Z=W=null;for(P in s)if(d=s[P],s.hasOwnProperty(P)&&d!=null&&!l.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:We(t,n,P,null,l,d)}for(k in l)if(d=l[k],A=s[k],l.hasOwnProperty(k)&&(d!=null||A!=null))switch(k){case"value":W=d;break;case"defaultValue":Z=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==A&&We(t,n,k,d,l,A)}Ke(t,W,Z);return;case"option":for(var Te in s)if(W=s[Te],s.hasOwnProperty(Te)&&W!=null&&!l.hasOwnProperty(Te))switch(Te){case"selected":t.selected=!1;break;default:We(t,n,Te,null,l,W)}for(H in l)if(W=l[H],Z=s[H],l.hasOwnProperty(H)&&W!==Z&&(W!=null||Z!=null))switch(H){case"selected":t.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:We(t,n,H,W,l,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in s)W=s[be],s.hasOwnProperty(be)&&W!=null&&!l.hasOwnProperty(be)&&We(t,n,be,null,l,W);for(K in l)if(W=l[K],Z=s[K],l.hasOwnProperty(K)&&W!==Z&&(W!=null||Z!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,n));break;default:We(t,n,K,W,l,Z)}return;default:if(io(n)){for(var Ze in s)W=s[Ze],s.hasOwnProperty(Ze)&&W!==void 0&&!l.hasOwnProperty(Ze)&&Uf(t,n,Ze,void 0,l,W);for(ne in l)W=l[ne],Z=s[ne],!l.hasOwnProperty(ne)||W===Z||W===void 0&&Z===void 0||Uf(t,n,ne,W,l,Z);return}}for(var G in s)W=s[G],s.hasOwnProperty(G)&&W!=null&&!l.hasOwnProperty(G)&&We(t,n,G,null,l,W);for(ae in l)W=l[ae],Z=s[ae],!l.hasOwnProperty(ae)||W===Z||W==null&&Z==null||We(t,n,ae,W,l,Z)}var zf=null,Bf=null;function zu(t){return t.nodeType===9?t:t.ownerDocument}function by(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ey(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function qf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Hf=null;function OE(){var t=window.event;return t&&t.type==="popstate"?t===Hf?!1:(Hf=t,!0):(Hf=null,!1)}var Ay=typeof setTimeout=="function"?setTimeout:void 0,IE=typeof clearTimeout=="function"?clearTimeout:void 0,wy=typeof Promise=="function"?Promise:void 0,NE=typeof queueMicrotask=="function"?queueMicrotask:typeof wy<"u"?function(t){return wy.resolve(null).then(t).catch(kE)}:Ay;function kE(t){setTimeout(function(){throw t})}function da(t){return t==="head"}function Ty(t,n){var s=n,l=0,d=0;do{var A=s.nextSibling;if(t.removeChild(s),A&&A.nodeType===8)if(s=A.data,s==="/$"){if(0<l&&8>l){s=l;var k=t.ownerDocument;if(s&1&&Fo(k.documentElement),s&2&&Fo(k.body),s&4)for(s=k.head,Fo(s),k=s.firstChild;k;){var P=k.nextSibling,H=k.nodeName;k[Fa]||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&k.rel.toLowerCase()==="stylesheet"||s.removeChild(k),k=P}}if(d===0){t.removeChild(A),Jo(n);return}d--}else s==="$"||s==="$?"||s==="$!"?d++:l=s.charCodeAt(0)-48;else l=0;s=A}while(s);Jo(n)}function $f(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":$f(s),Yr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function ME(t,n,s,l){for(;t.nodeType===1;){var d=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Fa])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(A=t.getAttribute("rel"),A==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(A!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(A=t.getAttribute("src"),(A!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&A&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var A=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===A)return t}else return t;if(t=jn(t.nextSibling),t===null)break}return null}function VE(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=jn(t.nextSibling),t===null))return null;return t}function Ff(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function jE(t,n){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function jn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var Gf=null;function Sy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return t;n--}else s==="/$"&&n++}t=t.previousSibling}return null}function Ry(t,n,s){switch(n=zu(s),t){case"html":if(t=n.documentElement,!t)throw Error(i(452));return t;case"head":if(t=n.head,!t)throw Error(i(453));return t;case"body":if(t=n.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function Fo(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Yr(t)}var Cn=new Map,xy=new Set;function Bu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Lr=se.d;se.d={f:PE,r:LE,D:UE,C:zE,L:BE,m:qE,X:$E,S:HE,M:FE};function PE(){var t=Lr.f(),n=Nu();return t||n}function LE(t){var n=$n(t);n!==null&&n.tag===5&&n.type==="form"?Qp(n):Lr.r(t)}var vs=typeof document>"u"?null:document;function Cy(t,n,s){var l=vs;if(l&&typeof n=="string"&&n){var d=yt(n);d='link[rel="'+t+'"][href="'+d+'"]',typeof s=="string"&&(d+='[crossorigin="'+s+'"]'),xy.has(d)||(xy.add(d),t={rel:t,crossOrigin:s,href:n},l.querySelector(d)===null&&(n=l.createElement("link"),Ut(n,"link",t),ft(n),l.head.appendChild(n)))}}function UE(t){Lr.D(t),Cy("dns-prefetch",t,null)}function zE(t,n){Lr.C(t,n),Cy("preconnect",t,n)}function BE(t,n,s){Lr.L(t,n,s);var l=vs;if(l&&t&&n){var d='link[rel="preload"][as="'+yt(n)+'"]';n==="image"&&s&&s.imageSrcSet?(d+='[imagesrcset="'+yt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(d+='[imagesizes="'+yt(s.imageSizes)+'"]')):d+='[href="'+yt(t)+'"]';var A=d;switch(n){case"style":A=_s(t);break;case"script":A=bs(t)}Cn.has(A)||(t=w({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),Cn.set(A,t),l.querySelector(d)!==null||n==="style"&&l.querySelector(Go(A))||n==="script"&&l.querySelector(Qo(A))||(n=l.createElement("link"),Ut(n,"link",t),ft(n),l.head.appendChild(n)))}}function qE(t,n){Lr.m(t,n);var s=vs;if(s&&t){var l=n&&typeof n.as=="string"?n.as:"script",d='link[rel="modulepreload"][as="'+yt(l)+'"][href="'+yt(t)+'"]',A=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":A=bs(t)}if(!Cn.has(A)&&(t=w({rel:"modulepreload",href:t},n),Cn.set(A,t),s.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Qo(A)))return}l=s.createElement("link"),Ut(l,"link",t),ft(l),s.head.appendChild(l)}}}function HE(t,n,s){Lr.S(t,n,s);var l=vs;if(l&&t){var d=Xt(l).hoistableStyles,A=_s(t);n=n||"default";var k=d.get(A);if(!k){var P={loading:0,preload:null};if(k=l.querySelector(Go(A)))P.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":n},s),(s=Cn.get(A))&&Qf(t,s);var H=k=l.createElement("link");ft(H),Ut(H,"link",t),H._p=new Promise(function(K,ne){H.onload=K,H.onerror=ne}),H.addEventListener("load",function(){P.loading|=1}),H.addEventListener("error",function(){P.loading|=2}),P.loading|=4,qu(k,n,l)}k={type:"stylesheet",instance:k,count:1,state:P},d.set(A,k)}}}function $E(t,n){Lr.X(t,n);var s=vs;if(s&&t){var l=Xt(s).hoistableScripts,d=bs(t),A=l.get(d);A||(A=s.querySelector(Qo(d)),A||(t=w({src:t,async:!0},n),(n=Cn.get(d))&&Yf(t,n),A=s.createElement("script"),ft(A),Ut(A,"link",t),s.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},l.set(d,A))}}function FE(t,n){Lr.M(t,n);var s=vs;if(s&&t){var l=Xt(s).hoistableScripts,d=bs(t),A=l.get(d);A||(A=s.querySelector(Qo(d)),A||(t=w({src:t,async:!0,type:"module"},n),(n=Cn.get(d))&&Yf(t,n),A=s.createElement("script"),ft(A),Ut(A,"link",t),s.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},l.set(d,A))}}function Dy(t,n,s,l){var d=(d=Ee.current)?Bu(d):null;if(!d)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=_s(s.href),s=Xt(d).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=_s(s.href);var A=Xt(d).hoistableStyles,k=A.get(t);if(k||(d=d.ownerDocument||d,k={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},A.set(t,k),(A=d.querySelector(Go(t)))&&!A._p&&(k.instance=A,k.state.loading=5),Cn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Cn.set(t,s),A||GE(d,t,s,k.state))),n&&l===null)throw Error(i(528,""));return k}if(n&&l!==null)throw Error(i(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=bs(s),s=Xt(d).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function _s(t){return'href="'+yt(t)+'"'}function Go(t){return'link[rel="stylesheet"]['+t+"]"}function Oy(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function GE(t,n,s,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Ut(n,"link",s),ft(n),t.head.appendChild(n))}function bs(t){return'[src="'+yt(t)+'"]'}function Qo(t){return"script[async]"+t}function Iy(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+yt(s.href)+'"]');if(l)return n.instance=l,ft(l),l;var d=w({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ft(l),Ut(l,"style",d),qu(l,s.precedence,t),n.instance=l;case"stylesheet":d=_s(s.href);var A=t.querySelector(Go(d));if(A)return n.state.loading|=4,n.instance=A,ft(A),A;l=Oy(s),(d=Cn.get(d))&&Qf(l,d),A=(t.ownerDocument||t).createElement("link"),ft(A);var k=A;return k._p=new Promise(function(P,H){k.onload=P,k.onerror=H}),Ut(A,"link",l),n.state.loading|=4,qu(A,s.precedence,t),n.instance=A;case"script":return A=bs(s.src),(d=t.querySelector(Qo(A)))?(n.instance=d,ft(d),d):(l=s,(d=Cn.get(A))&&(l=w({},s),Yf(l,d)),t=t.ownerDocument||t,d=t.createElement("script"),ft(d),Ut(d,"link",l),t.head.appendChild(d),n.instance=d);case"void":return null;default:throw Error(i(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,qu(l,s.precedence,t));return n.instance}function qu(t,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,A=d,k=0;k<l.length;k++){var P=l[k];if(P.dataset.precedence===n)A=P;else if(A!==d)break}A?A.parentNode.insertBefore(t,A.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function Qf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Yf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Hu=null;function Ny(t,n,s){if(Hu===null){var l=new Map,d=Hu=new Map;d.set(s,l)}else d=Hu,l=d.get(s),l||(l=new Map,d.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),d=0;d<s.length;d++){var A=s[d];if(!(A[Fa]||A[Et]||t==="link"&&A.getAttribute("rel")==="stylesheet")&&A.namespaceURI!=="http://www.w3.org/2000/svg"){var k=A.getAttribute(n)||"";k=t+k;var P=l.get(k);P?P.push(A):l.set(k,[A])}}return l}function ky(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function QE(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function My(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Yo=null;function YE(){}function KE(t,n,s){if(Yo===null)throw Error(i(475));var l=Yo;if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var d=_s(s.href),A=t.querySelector(Go(d));if(A){t=A._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=$u.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=A,ft(A);return}A=t.ownerDocument||t,s=Oy(s),(d=Cn.get(d))&&Qf(s,d),A=A.createElement("link"),ft(A);var k=A;k._p=new Promise(function(P,H){k.onload=P,k.onerror=H}),Ut(A,"link",s),n.instance=A}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=$u.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function XE(){if(Yo===null)throw Error(i(475));var t=Yo;return t.stylesheets&&t.count===0&&Kf(t,t.stylesheets),0<t.count?function(n){var s=setTimeout(function(){if(t.stylesheets&&Kf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(s)}}:null}function $u(){if(this.count--,this.count===0){if(this.stylesheets)Kf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Fu=null;function Kf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Fu=new Map,n.forEach(WE,t),Fu=null,$u.call(t))}function WE(t,n){if(!(n.state.loading&4)){var s=Fu.get(t);if(s)var l=s.get(null);else{s=new Map,Fu.set(t,s);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),A=0;A<d.length;A++){var k=d[A];(k.nodeName==="LINK"||k.getAttribute("media")!=="not all")&&(s.set(k.dataset.precedence,k),l=k)}l&&s.set(null,l)}d=n.instance,k=d.getAttribute("data-precedence"),A=s.get(k)||l,A===l&&s.set(null,d),s.set(k,d),this.count++,l=$u.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),A?A.parentNode.insertBefore(d,A.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),n.state.loading|=4}}var Ko={$$typeof:x,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function ZE(t,n,s,l,d,A,k,P){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mr(0),this.hiddenUpdates=mr(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=A,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function Vy(t,n,s,l,d,A,k,P,H,K,ne,ae){return t=new ZE(t,n,s,k,P,H,K,ae),n=1,A===!0&&(n|=24),A=un(3,null,null,n),t.current=A,A.stateNode=t,n=Dh(),n.refCount++,t.pooledCache=n,n.refCount++,A.memoizedState={element:l,isDehydrated:s,cache:n},kh(A),t}function jy(t){return t?(t=Wi,t):Wi}function Py(t,n,s,l,d,A){d=jy(d),l.context===null?l.context=d:l.pendingContext=d,l=ea(n),l.payload={element:s},A=A===void 0?null:A,A!==null&&(l.callback=A),s=ta(t,l,n),s!==null&&(mn(s,t,n),So(s,t,n))}function Ly(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function Xf(t,n){Ly(t,n),(t=t.alternate)&&Ly(t,n)}function Uy(t){if(t.tag===13){var n=Xi(t,67108864);n!==null&&mn(n,t,67108864),Xf(t,67108864)}}var Gu=!0;function JE(t,n,s,l){var d=X.T;X.T=null;var A=se.p;try{se.p=2,Wf(t,n,s,l)}finally{se.p=A,X.T=d}}function e1(t,n,s,l){var d=X.T;X.T=null;var A=se.p;try{se.p=8,Wf(t,n,s,l)}finally{se.p=A,X.T=d}}function Wf(t,n,s,l){if(Gu){var d=Zf(l);if(d===null)Lf(t,n,l,Qu,s),By(t,l);else if(n1(d,t,n,s,l))l.stopPropagation();else if(By(t,l),n&4&&-1<t1.indexOf(t)){for(;d!==null;){var A=$n(d);if(A!==null)switch(A.tag){case 3:if(A=A.stateNode,A.current.memoizedState.isDehydrated){var k=In(A.pendingLanes);if(k!==0){var P=A;for(P.pendingLanes|=2,P.entangledLanes|=2;k;){var H=1<<31-Ht(k);P.entanglements[1]|=H,k&=~H}ar(A),(Ge&6)===0&&(Ou=gn()+500,qo(0))}}break;case 13:P=Xi(A,2),P!==null&&mn(P,A,2),Nu(),Xf(A,2)}if(A=Zf(l),A===null&&Lf(t,n,l,Qu,s),A===d)break;d=A}d!==null&&l.stopPropagation()}else Lf(t,n,l,null,s)}}function Zf(t){return t=_n(t),Jf(t)}var Qu=null;function Jf(t){if(Qu=null,t=gr(t),t!==null){var n=u(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=f(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Qu=t,null}function zy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(th()){case Gs:return 2;case Di:return 8;case za:case nh:return 32;case Oi:return 268435456;default:return 32}default:return 32}}var ed=!1,ma=null,pa=null,ga=null,Xo=new Map,Wo=new Map,ya=[],t1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function By(t,n){switch(t){case"focusin":case"focusout":ma=null;break;case"dragenter":case"dragleave":pa=null;break;case"mouseover":case"mouseout":ga=null;break;case"pointerover":case"pointerout":Xo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wo.delete(n.pointerId)}}function Zo(t,n,s,l,d,A){return t===null||t.nativeEvent!==A?(t={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:A,targetContainers:[d]},n!==null&&(n=$n(n),n!==null&&Uy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),t)}function n1(t,n,s,l,d){switch(n){case"focusin":return ma=Zo(ma,t,n,s,l,d),!0;case"dragenter":return pa=Zo(pa,t,n,s,l,d),!0;case"mouseover":return ga=Zo(ga,t,n,s,l,d),!0;case"pointerover":var A=d.pointerId;return Xo.set(A,Zo(Xo.get(A)||null,t,n,s,l,d)),!0;case"gotpointercapture":return A=d.pointerId,Wo.set(A,Zo(Wo.get(A)||null,t,n,s,l,d)),!0}return!1}function qy(t){var n=gr(t.target);if(n!==null){var s=u(n);if(s!==null){if(n=s.tag,n===13){if(n=f(s),n!==null){t.blockedOn=n,Nl(t.priority,function(){if(s.tag===13){var l=dn();l=Fr(l);var d=Xi(s,l);d!==null&&mn(d,s,l),Xf(s,l)}});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Yu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=Zf(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);br=l,s.target.dispatchEvent(l),br=null}else return n=$n(s),n!==null&&Uy(n),t.blockedOn=s,!1;n.shift()}return!0}function Hy(t,n,s){Yu(t)&&s.delete(n)}function r1(){ed=!1,ma!==null&&Yu(ma)&&(ma=null),pa!==null&&Yu(pa)&&(pa=null),ga!==null&&Yu(ga)&&(ga=null),Xo.forEach(Hy),Wo.forEach(Hy)}function Ku(t,n){t.blockedOn===n&&(t.blockedOn=null,ed||(ed=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,r1)))}var Xu=null;function $y(t){Xu!==t&&(Xu=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Xu===t&&(Xu=null);for(var n=0;n<t.length;n+=3){var s=t[n],l=t[n+1],d=t[n+2];if(typeof l!="function"){if(Jf(l||s)===null)continue;break}var A=$n(s);A!==null&&(t.splice(n,3),n-=3,Zh(A,{pending:!0,data:d,method:s.method,action:l},l,d))}}))}function Jo(t){function n(H){return Ku(H,t)}ma!==null&&Ku(ma,t),pa!==null&&Ku(pa,t),ga!==null&&Ku(ga,t),Xo.forEach(n),Wo.forEach(n);for(var s=0;s<ya.length;s++){var l=ya[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ya.length&&(s=ya[0],s.blockedOn===null);)qy(s),s.blockedOn===null&&ya.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var d=s[l],A=s[l+1],k=d[gt]||null;if(typeof A=="function")k||$y(s);else if(k){var P=null;if(A&&A.hasAttribute("formAction")){if(d=A,k=A[gt]||null)P=k.formAction;else if(Jf(d)!==null)continue}else P=k.action;typeof P=="function"?s[l+1]=P:(s.splice(l,3),l-=3),$y(s)}}}function td(t){this._internalRoot=t}Wu.prototype.render=td.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(i(409));var s=n.current,l=dn();Py(s,l,t,n,null,null)},Wu.prototype.unmount=td.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Py(t.current,2,null,t,null,null),Nu(),n[yn]=null}};function Wu(t){this._internalRoot=t}Wu.prototype.unstable_scheduleHydration=function(t){if(t){var n=Gr();t={blockedOn:null,target:t,priority:n};for(var s=0;s<ya.length&&n!==0&&n<ya[s].priority;s++);ya.splice(s,0,t),s===0&&qy(t)}};var Fy=e.version;if(Fy!=="19.1.0")throw Error(i(527,Fy,"19.1.0"));se.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=_(n),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var a1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zu.isDisabled&&Zu.supportsFiber)try{ut=Zu.inject(a1),Fe=Zu}catch{}}return tl.createRoot=function(t,n){if(!o(t))throw Error(i(299));var s=!1,l="",d=og,A=lg,k=ug,P=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(A=n.onCaughtError),n.onRecoverableError!==void 0&&(k=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(P=n.unstable_transitionCallbacks)),n=Vy(t,1,!1,null,null,s,l,d,A,k,P,null),t[yn]=n.current,Pf(t),new td(n)},tl.hydrateRoot=function(t,n,s){if(!o(t))throw Error(i(299));var l=!1,d="",A=og,k=lg,P=ug,H=null,K=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onUncaughtError!==void 0&&(A=s.onUncaughtError),s.onCaughtError!==void 0&&(k=s.onCaughtError),s.onRecoverableError!==void 0&&(P=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(H=s.unstable_transitionCallbacks),s.formState!==void 0&&(K=s.formState)),n=Vy(t,1,!0,n,s??null,l,d,A,k,P,H,K),n.context=jy(null),s=n.current,l=dn(),l=Fr(l),d=ea(l),d.callback=null,ta(s,d,l),s=l,n.current.lanes=s,pr(n,s),ar(n),t[yn]=n.current,Pf(t),new Wu(n)},tl.version="19.1.0",tl}var nv;function m1(){if(nv)return ad.exports;nv=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),ad.exports=d1(),ad.exports}var p1=m1(),nl={},rv;function g1(){if(rv)return nl;rv=1,Object.defineProperty(nl,"__esModule",{value:!0}),nl.parse=f,nl.serialize=v;const a=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const p=function(){};return p.prototype=Object.create(null),p})();function f(p,b){const g=new u,y=p.length;if(y<2)return g;const R=(b==null?void 0:b.decode)||w;let E=0;do{const S=p.indexOf("=",E);if(S===-1)break;const x=p.indexOf(";",E),M=x===-1?y:x;if(S>M){E=p.lastIndexOf(";",S-1)+1;continue}const j=c(p,E,S),B=_(p,S,j),N=p.slice(j,B);if(g[N]===void 0){let T=c(p,S+1,M),D=_(p,M,T);const O=R(p.slice(T,D));g[N]=O}E=M+1}while(E<y);return g}function c(p,b,g){do{const y=p.charCodeAt(b);if(y!==32&&y!==9)return b}while(++b<g);return g}function _(p,b,g){for(;b>g;){const y=p.charCodeAt(--b);if(y!==32&&y!==9)return b+1}return g}function v(p,b,g){const y=(g==null?void 0:g.encode)||encodeURIComponent;if(!a.test(p))throw new TypeError(`argument name is invalid: ${p}`);const R=y(b);if(!e.test(R))throw new TypeError(`argument val is invalid: ${b}`);let E=p+"="+R;if(!g)return E;if(g.maxAge!==void 0){if(!Number.isInteger(g.maxAge))throw new TypeError(`option maxAge is invalid: ${g.maxAge}`);E+="; Max-Age="+g.maxAge}if(g.domain){if(!r.test(g.domain))throw new TypeError(`option domain is invalid: ${g.domain}`);E+="; Domain="+g.domain}if(g.path){if(!i.test(g.path))throw new TypeError(`option path is invalid: ${g.path}`);E+="; Path="+g.path}if(g.expires){if(!m(g.expires)||!Number.isFinite(g.expires.valueOf()))throw new TypeError(`option expires is invalid: ${g.expires}`);E+="; Expires="+g.expires.toUTCString()}if(g.httpOnly&&(E+="; HttpOnly"),g.secure&&(E+="; Secure"),g.partitioned&&(E+="; Partitioned"),g.priority)switch(typeof g.priority=="string"?g.priority.toLowerCase():void 0){case"low":E+="; Priority=Low";break;case"medium":E+="; Priority=Medium";break;case"high":E+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${g.priority}`)}if(g.sameSite)switch(typeof g.sameSite=="string"?g.sameSite.toLowerCase():g.sameSite){case!0:case"strict":E+="; SameSite=Strict";break;case"lax":E+="; SameSite=Lax";break;case"none":E+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${g.sameSite}`)}return E}function w(p){if(p.indexOf("%")===-1)return p;try{return decodeURIComponent(p)}catch{return p}}function m(p){return o.call(p)==="[object Date]"}return nl}g1();var av="popstate";function y1(a={}){function e(i,o){let{pathname:u,search:f,hash:c}=i.location;return _d("",{pathname:u,search:f,hash:c},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(i,o){return typeof o=="string"?o:fl(o)}return _1(e,r,null,a)}function st(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function On(a,e){if(!a){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function v1(){return Math.random().toString(36).substring(2,10)}function iv(a,e){return{usr:a.state,key:a.key,idx:e}}function _d(a,e,r=null,i){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof e=="string"?Ps(e):e,state:r,key:e&&e.key||i||v1()}}function fl({pathname:a="/",search:e="",hash:r=""}){return e&&e!=="?"&&(a+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(a+=r.charAt(0)==="#"?r:"#"+r),a}function Ps(a){let e={};if(a){let r=a.indexOf("#");r>=0&&(e.hash=a.substring(r),a=a.substring(0,r));let i=a.indexOf("?");i>=0&&(e.search=a.substring(i),a=a.substring(0,i)),a&&(e.pathname=a)}return e}function _1(a,e,r,i={}){let{window:o=document.defaultView,v5Compat:u=!1}=i,f=o.history,c="POP",_=null,v=w();v==null&&(v=0,f.replaceState({...f.state,idx:v},""));function w(){return(f.state||{idx:null}).idx}function m(){c="POP";let R=w(),E=R==null?null:R-v;v=R,_&&_({action:c,location:y.location,delta:E})}function p(R,E){c="PUSH";let S=_d(y.location,R,E);v=w()+1;let x=iv(S,v),M=y.createHref(S);try{f.pushState(x,"",M)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;o.location.assign(M)}u&&_&&_({action:c,location:y.location,delta:1})}function b(R,E){c="REPLACE";let S=_d(y.location,R,E);v=w();let x=iv(S,v),M=y.createHref(S);f.replaceState(x,"",M),u&&_&&_({action:c,location:y.location,delta:0})}function g(R){let E=o.location.origin!=="null"?o.location.origin:o.location.href,S=typeof R=="string"?R:fl(R);return S=S.replace(/ $/,"%20"),st(E,`No window.location.(origin|href) available to create URL for href: ${S}`),new URL(S,E)}let y={get action(){return c},get location(){return a(o,f)},listen(R){if(_)throw new Error("A history only accepts one active listener");return o.addEventListener(av,m),_=R,()=>{o.removeEventListener(av,m),_=null}},createHref(R){return e(o,R)},createURL:g,encodeLocation(R){let E=g(R);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:p,replace:b,go(R){return f.go(R)}};return y}function I_(a,e,r="/"){return b1(a,e,r,!1)}function b1(a,e,r,i){let o=typeof e=="string"?Ps(e):e,u=zr(o.pathname||"/",r);if(u==null)return null;let f=N_(a);E1(f);let c=null;for(let _=0;c==null&&_<f.length;++_){let v=N1(u);c=O1(f[_],v,i)}return c}function N_(a,e=[],r=[],i=""){let o=(u,f,c)=>{let _={relativePath:c===void 0?u.path||"":c,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};_.relativePath.startsWith("/")&&(st(_.relativePath.startsWith(i),`Absolute route path "${_.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(i.length));let v=Ur([i,_.relativePath]),w=r.concat(_);u.children&&u.children.length>0&&(st(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),N_(u.children,e,w,v)),!(u.path==null&&!u.index)&&e.push({path:v,score:C1(v,u.index),routesMeta:w})};return a.forEach((u,f)=>{var c;if(u.path===""||!((c=u.path)!=null&&c.includes("?")))o(u,f);else for(let _ of k_(u.path))o(u,f,_)}),e}function k_(a){let e=a.split("/");if(e.length===0)return[];let[r,...i]=e,o=r.endsWith("?"),u=r.replace(/\?$/,"");if(i.length===0)return o?[u,""]:[u];let f=k_(i.join("/")),c=[];return c.push(...f.map(_=>_===""?u:[u,_].join("/"))),o&&c.push(...f),c.map(_=>a.startsWith("/")&&_===""?"/":_)}function E1(a){a.sort((e,r)=>e.score!==r.score?r.score-e.score:D1(e.routesMeta.map(i=>i.childrenIndex),r.routesMeta.map(i=>i.childrenIndex)))}var A1=/^:[\w-]+$/,w1=3,T1=2,S1=1,R1=10,x1=-2,sv=a=>a==="*";function C1(a,e){let r=a.split("/"),i=r.length;return r.some(sv)&&(i+=x1),e&&(i+=T1),r.filter(o=>!sv(o)).reduce((o,u)=>o+(A1.test(u)?w1:u===""?S1:R1),i)}function D1(a,e){return a.length===e.length&&a.slice(0,-1).every((i,o)=>i===e[o])?a[a.length-1]-e[e.length-1]:0}function O1(a,e,r=!1){let{routesMeta:i}=a,o={},u="/",f=[];for(let c=0;c<i.length;++c){let _=i[c],v=c===i.length-1,w=u==="/"?e:e.slice(u.length)||"/",m=pc({path:_.relativePath,caseSensitive:_.caseSensitive,end:v},w),p=_.route;if(!m&&v&&r&&!i[i.length-1].route.index&&(m=pc({path:_.relativePath,caseSensitive:_.caseSensitive,end:!1},w)),!m)return null;Object.assign(o,m.params),f.push({params:o,pathname:Ur([u,m.pathname]),pathnameBase:j1(Ur([u,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(u=Ur([u,m.pathnameBase]))}return f}function pc(a,e){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[r,i]=I1(a.path,a.caseSensitive,a.end),o=e.match(r);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:i.reduce((v,{paramName:w,isOptional:m},p)=>{if(w==="*"){let g=c[p]||"";f=u.slice(0,u.length-g.length).replace(/(.)\/+$/,"$1")}const b=c[p];return m&&!b?v[w]=void 0:v[w]=(b||"").replace(/%2F/g,"/"),v},{}),pathname:u,pathnameBase:f,pattern:a}}function I1(a,e=!1,r=!0){On(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let i=[],o="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,c,_)=>(i.push({paramName:c,isOptional:_!=null}),_?"/?([^\\/]+)?":"/([^\\/]+)"));return a.endsWith("*")?(i.push({paramName:"*"}),o+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":a!==""&&a!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function N1(a){try{return a.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return On(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),a}}function zr(a,e){if(e==="/")return a;if(!a.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,i=a.charAt(r);return i&&i!=="/"?null:a.slice(r)||"/"}function k1(a,e="/"){let{pathname:r,search:i="",hash:o=""}=typeof a=="string"?Ps(a):a;return{pathname:r?r.startsWith("/")?r:M1(r,e):e,search:P1(i),hash:L1(o)}}function M1(a,e){let r=e.replace(/\/+$/,"").split("/");return a.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function ld(a,e,r,i){return`Cannot include a '${a}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function V1(a){return a.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Qd(a){let e=V1(a);return e.map((r,i)=>i===e.length-1?r.pathname:r.pathnameBase)}function Yd(a,e,r,i=!1){let o;typeof a=="string"?o=Ps(a):(o={...a},st(!o.pathname||!o.pathname.includes("?"),ld("?","pathname","search",o)),st(!o.pathname||!o.pathname.includes("#"),ld("#","pathname","hash",o)),st(!o.search||!o.search.includes("#"),ld("#","search","hash",o)));let u=a===""||o.pathname==="",f=u?"/":o.pathname,c;if(f==null)c=r;else{let m=e.length-1;if(!i&&f.startsWith("..")){let p=f.split("/");for(;p[0]==="..";)p.shift(),m-=1;o.pathname=p.join("/")}c=m>=0?e[m]:"/"}let _=k1(o,c),v=f&&f!=="/"&&f.endsWith("/"),w=(u||f===".")&&r.endsWith("/");return!_.pathname.endsWith("/")&&(v||w)&&(_.pathname+="/"),_}var Ur=a=>a.join("/").replace(/\/\/+/g,"/"),j1=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),P1=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,L1=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function U1(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}var M_=["POST","PUT","PATCH","DELETE"];new Set(M_);var z1=["GET",...M_];new Set(z1);var Ls=J.createContext(null);Ls.displayName="DataRouter";var kc=J.createContext(null);kc.displayName="DataRouterState";var V_=J.createContext({isTransitioning:!1});V_.displayName="ViewTransition";var B1=J.createContext(new Map);B1.displayName="Fetchers";var q1=J.createContext(null);q1.displayName="Await";var Ln=J.createContext(null);Ln.displayName="Navigation";var Al=J.createContext(null);Al.displayName="Location";var Un=J.createContext({outlet:null,matches:[],isDataRoute:!1});Un.displayName="Route";var Kd=J.createContext(null);Kd.displayName="RouteError";function H1(a,{relative:e}={}){st(Us(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:i}=J.useContext(Ln),{hash:o,pathname:u,search:f}=wl(a,{relative:e}),c=u;return r!=="/"&&(c=u==="/"?r:Ur([r,u])),i.createHref({pathname:c,search:f,hash:o})}function Us(){return J.useContext(Al)!=null}function zn(){return st(Us(),"useLocation() may be used only in the context of a <Router> component."),J.useContext(Al).location}var j_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function P_(a){J.useContext(Ln).static||J.useLayoutEffect(a)}function Ri(){let{isDataRoute:a}=J.useContext(Un);return a?rA():$1()}function $1(){st(Us(),"useNavigate() may be used only in the context of a <Router> component.");let a=J.useContext(Ls),{basename:e,navigator:r}=J.useContext(Ln),{matches:i}=J.useContext(Un),{pathname:o}=zn(),u=JSON.stringify(Qd(i)),f=J.useRef(!1);return P_(()=>{f.current=!0}),J.useCallback((_,v={})=>{if(On(f.current,j_),!f.current)return;if(typeof _=="number"){r.go(_);return}let w=Yd(_,JSON.parse(u),o,v.relative==="path");a==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:Ur([e,w.pathname])),(v.replace?r.replace:r.push)(w,v.state,v)},[e,r,u,o,a])}J.createContext(null);function F1(){let{matches:a}=J.useContext(Un),e=a[a.length-1];return e?e.params:{}}function wl(a,{relative:e}={}){let{matches:r}=J.useContext(Un),{pathname:i}=zn(),o=JSON.stringify(Qd(r));return J.useMemo(()=>Yd(a,JSON.parse(o),i,e==="path"),[a,o,i,e])}function G1(a,e){return L_(a,e)}function L_(a,e,r,i){var S;st(Us(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=J.useContext(Ln),{matches:f}=J.useContext(Un),c=f[f.length-1],_=c?c.params:{},v=c?c.pathname:"/",w=c?c.pathnameBase:"/",m=c&&c.route;{let x=m&&m.path||"";U_(v,!m||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let p=zn(),b;if(e){let x=typeof e=="string"?Ps(e):e;st(w==="/"||((S=x.pathname)==null?void 0:S.startsWith(w)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${w}" but pathname "${x.pathname}" was given in the \`location\` prop.`),b=x}else b=p;let g=b.pathname||"/",y=g;if(w!=="/"){let x=w.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(x.length).join("/")}let R=!u&&r&&r.matches&&r.matches.length>0?r.matches:I_(a,{pathname:y});On(m||R!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),On(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=W1(R&&R.map(x=>Object.assign({},x,{params:Object.assign({},_,x.params),pathname:Ur([w,o.encodeLocation?o.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?w:Ur([w,o.encodeLocation?o.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),f,r,i);return e&&E?J.createElement(Al.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},E):E}function Q1(){let a=nA(),e=U1(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),r=a instanceof Error?a.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},u={padding:"2px 4px",backgroundColor:i},f=null;return console.error("Error handled by React Router default ErrorBoundary:",a),f=J.createElement(J.Fragment,null,J.createElement("p",null,"💿 Hey developer 👋"),J.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",J.createElement("code",{style:u},"ErrorBoundary")," or"," ",J.createElement("code",{style:u},"errorElement")," prop on your route.")),J.createElement(J.Fragment,null,J.createElement("h2",null,"Unexpected Application Error!"),J.createElement("h3",{style:{fontStyle:"italic"}},e),r?J.createElement("pre",{style:o},r):null,f)}var Y1=J.createElement(Q1,null),K1=class extends J.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,e){return e.location!==a.location||e.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:e.error,location:e.location,revalidation:a.revalidation||e.revalidation}}componentDidCatch(a,e){console.error("React Router caught the following error during render",a,e)}render(){return this.state.error!==void 0?J.createElement(Un.Provider,{value:this.props.routeContext},J.createElement(Kd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function X1({routeContext:a,match:e,children:r}){let i=J.useContext(Ls);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),J.createElement(Un.Provider,{value:a},r)}function W1(a,e=[],r=null,i=null){if(a==null){if(!r)return null;if(r.errors)a=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)a=r.matches;else return null}let o=a,u=r==null?void 0:r.errors;if(u!=null){let _=o.findIndex(v=>v.route.id&&(u==null?void 0:u[v.route.id])!==void 0);st(_>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,_+1))}let f=!1,c=-1;if(r)for(let _=0;_<o.length;_++){let v=o[_];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(c=_),v.route.id){let{loaderData:w,errors:m}=r,p=v.route.loader&&!w.hasOwnProperty(v.route.id)&&(!m||m[v.route.id]===void 0);if(v.route.lazy||p){f=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((_,v,w)=>{let m,p=!1,b=null,g=null;r&&(m=u&&v.route.id?u[v.route.id]:void 0,b=v.route.errorElement||Y1,f&&(c<0&&w===0?(U_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,g=null):c===w&&(p=!0,g=v.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,w+1)),R=()=>{let E;return m?E=b:p?E=g:v.route.Component?E=J.createElement(v.route.Component,null):v.route.element?E=v.route.element:E=_,J.createElement(X1,{match:v,routeContext:{outlet:_,matches:y,isDataRoute:r!=null},children:E})};return r&&(v.route.ErrorBoundary||v.route.errorElement||w===0)?J.createElement(K1,{location:r.location,revalidation:r.revalidation,component:b,error:m,children:R(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):R()},null)}function Xd(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Z1(a){let e=J.useContext(Ls);return st(e,Xd(a)),e}function J1(a){let e=J.useContext(kc);return st(e,Xd(a)),e}function eA(a){let e=J.useContext(Un);return st(e,Xd(a)),e}function Wd(a){let e=eA(a),r=e.matches[e.matches.length-1];return st(r.route.id,`${a} can only be used on routes that contain a unique "id"`),r.route.id}function tA(){return Wd("useRouteId")}function nA(){var i;let a=J.useContext(Kd),e=J1("useRouteError"),r=Wd("useRouteError");return a!==void 0?a:(i=e.errors)==null?void 0:i[r]}function rA(){let{router:a}=Z1("useNavigate"),e=Wd("useNavigate"),r=J.useRef(!1);return P_(()=>{r.current=!0}),J.useCallback(async(o,u={})=>{On(r.current,j_),r.current&&(typeof o=="number"?a.navigate(o):await a.navigate(o,{fromRouteId:e,...u}))},[a,e])}var ov={};function U_(a,e,r){!e&&!ov[a]&&(ov[a]=!0,On(!1,r))}J.memo(aA);function aA({routes:a,future:e,state:r}){return L_(a,void 0,r,e)}function iA({to:a,replace:e,state:r,relative:i}){st(Us(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=J.useContext(Ln);On(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=J.useContext(Un),{pathname:f}=zn(),c=Ri(),_=Yd(a,Qd(u),f,i==="path"),v=JSON.stringify(_);return J.useEffect(()=>{c(JSON.parse(v),{replace:e,state:r,relative:i})},[c,v,i,e,r]),null}function ir(a){st(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function sA({basename:a="/",children:e=null,location:r,navigationType:i="POP",navigator:o,static:u=!1}){st(!Us(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=a.replace(/^\/*/,"/"),c=J.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof r=="string"&&(r=Ps(r));let{pathname:_="/",search:v="",hash:w="",state:m=null,key:p="default"}=r,b=J.useMemo(()=>{let g=zr(_,f);return g==null?null:{location:{pathname:g,search:v,hash:w,state:m,key:p},navigationType:i}},[f,_,v,w,m,p,i]);return On(b!=null,`<Router basename="${f}"> is not able to match the URL "${_}${v}${w}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:J.createElement(Ln.Provider,{value:c},J.createElement(Al.Provider,{children:e,value:b}))}function oA({children:a,location:e}){return G1(bd(a),e)}function bd(a,e=[]){let r=[];return J.Children.forEach(a,(i,o)=>{if(!J.isValidElement(i))return;let u=[...e,o];if(i.type===J.Fragment){r.push.apply(r,bd(i.props.children,u));return}st(i.type===ir,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),st(!i.props.index||!i.props.children,"An index route cannot have child routes.");let f={id:i.props.id||u.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(f.children=bd(i.props.children,u)),r.push(f)}),r}var oc="get",lc="application/x-www-form-urlencoded";function Mc(a){return a!=null&&typeof a.tagName=="string"}function lA(a){return Mc(a)&&a.tagName.toLowerCase()==="button"}function uA(a){return Mc(a)&&a.tagName.toLowerCase()==="form"}function cA(a){return Mc(a)&&a.tagName.toLowerCase()==="input"}function hA(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function fA(a,e){return a.button===0&&(!e||e==="_self")&&!hA(a)}function Ed(a=""){return new URLSearchParams(typeof a=="string"||Array.isArray(a)||a instanceof URLSearchParams?a:Object.keys(a).reduce((e,r)=>{let i=a[r];return e.concat(Array.isArray(i)?i.map(o=>[r,o]):[[r,i]])},[]))}function dA(a,e){let r=Ed(a);return e&&e.forEach((i,o)=>{r.has(o)||e.getAll(o).forEach(u=>{r.append(o,u)})}),r}var Ju=null;function mA(){if(Ju===null)try{new FormData(document.createElement("form"),0),Ju=!1}catch{Ju=!0}return Ju}var pA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ud(a){return a!=null&&!pA.has(a)?(On(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${lc}"`),null):a}function gA(a,e){let r,i,o,u,f;if(uA(a)){let c=a.getAttribute("action");i=c?zr(c,e):null,r=a.getAttribute("method")||oc,o=ud(a.getAttribute("enctype"))||lc,u=new FormData(a)}else if(lA(a)||cA(a)&&(a.type==="submit"||a.type==="image")){let c=a.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let _=a.getAttribute("formaction")||c.getAttribute("action");if(i=_?zr(_,e):null,r=a.getAttribute("formmethod")||c.getAttribute("method")||oc,o=ud(a.getAttribute("formenctype"))||ud(c.getAttribute("enctype"))||lc,u=new FormData(c,a),!mA()){let{name:v,type:w,value:m}=a;if(w==="image"){let p=v?`${v}.`:"";u.append(`${p}x`,"0"),u.append(`${p}y`,"0")}else v&&u.append(v,m)}}else{if(Mc(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=oc,i=null,o=lc,f=a}return u&&o==="text/plain"&&(f=u,u=void 0),{action:i,method:r.toLowerCase(),encType:o,formData:u,body:f}}function Zd(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}async function yA(a,e){if(a.id in e)return e[a.id];try{let r=await import(a.module);return e[a.id]=r,r}catch(r){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vA(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function _A(a,e,r){let i=await Promise.all(a.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await yA(u,r);return f.links?f.links():[]}return[]}));return wA(i.flat(1).filter(vA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function lv(a,e,r,i,o,u){let f=(_,v)=>r[v]?_.route.id!==r[v].route.id:!0,c=(_,v)=>{var w;return r[v].pathname!==_.pathname||((w=r[v].route.path)==null?void 0:w.endsWith("*"))&&r[v].params["*"]!==_.params["*"]};return u==="assets"?e.filter((_,v)=>f(_,v)||c(_,v)):u==="data"?e.filter((_,v)=>{var m;let w=i.routes[_.route.id];if(!w||!w.hasLoader)return!1;if(f(_,v)||c(_,v))return!0;if(_.route.shouldRevalidate){let p=_.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((m=r[0])==null?void 0:m.params)||{},nextUrl:new URL(a,window.origin),nextParams:_.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function bA(a,e,{includeHydrateFallback:r}={}){return EA(a.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),r&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function EA(a){return[...new Set(a)]}function AA(a){let e={},r=Object.keys(a).sort();for(let i of r)e[i]=a[i];return e}function wA(a,e){let r=new Set;return new Set(e),a.reduce((i,o)=>{let u=JSON.stringify(AA(o));return r.has(u)||(r.add(u),i.push({key:u,link:o})),i},[])}var TA=new Set([100,101,204,205]);function SA(a,e){let r=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return r.pathname==="/"?r.pathname="_root.data":e&&zr(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function z_(){let a=J.useContext(Ls);return Zd(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function RA(){let a=J.useContext(kc);return Zd(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var Jd=J.createContext(void 0);Jd.displayName="FrameworkContext";function B_(){let a=J.useContext(Jd);return Zd(a,"You must render this element inside a <HydratedRouter> element"),a}function xA(a,e){let r=J.useContext(Jd),[i,o]=J.useState(!1),[u,f]=J.useState(!1),{onFocus:c,onBlur:_,onMouseEnter:v,onMouseLeave:w,onTouchStart:m}=e,p=J.useRef(null);J.useEffect(()=>{if(a==="render"&&f(!0),a==="viewport"){let y=E=>{E.forEach(S=>{f(S.isIntersecting)})},R=new IntersectionObserver(y,{threshold:.5});return p.current&&R.observe(p.current),()=>{R.disconnect()}}},[a]),J.useEffect(()=>{if(i){let y=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(y)}}},[i]);let b=()=>{o(!0)},g=()=>{o(!1),f(!1)};return r?a!=="intent"?[u,p,{}]:[u,p,{onFocus:rl(c,b),onBlur:rl(_,g),onMouseEnter:rl(v,b),onMouseLeave:rl(w,g),onTouchStart:rl(m,b)}]:[!1,p,{}]}function rl(a,e){return r=>{a&&a(r),r.defaultPrevented||e(r)}}function CA({page:a,...e}){let{router:r}=z_(),i=J.useMemo(()=>I_(r.routes,a,r.basename),[r.routes,a,r.basename]);return i?J.createElement(OA,{page:a,matches:i,...e}):null}function DA(a){let{manifest:e,routeModules:r}=B_(),[i,o]=J.useState([]);return J.useEffect(()=>{let u=!1;return _A(a,e,r).then(f=>{u||o(f)}),()=>{u=!0}},[a,e,r]),i}function OA({page:a,matches:e,...r}){let i=zn(),{manifest:o,routeModules:u}=B_(),{basename:f}=z_(),{loaderData:c,matches:_}=RA(),v=J.useMemo(()=>lv(a,e,_,o,i,"data"),[a,e,_,o,i]),w=J.useMemo(()=>lv(a,e,_,o,i,"assets"),[a,e,_,o,i]),m=J.useMemo(()=>{if(a===i.pathname+i.search+i.hash)return[];let g=new Set,y=!1;if(e.forEach(E=>{var x;let S=o.routes[E.route.id];!S||!S.hasLoader||(!v.some(M=>M.route.id===E.route.id)&&E.route.id in c&&((x=u[E.route.id])!=null&&x.shouldRevalidate)||S.hasClientLoader?y=!0:g.add(E.route.id))}),g.size===0)return[];let R=SA(a,f);return y&&g.size>0&&R.searchParams.set("_routes",e.filter(E=>g.has(E.route.id)).map(E=>E.route.id).join(",")),[R.pathname+R.search]},[f,c,i,o,v,e,a,u]),p=J.useMemo(()=>bA(w,o),[w,o]),b=DA(w);return J.createElement(J.Fragment,null,m.map(g=>J.createElement("link",{key:g,rel:"prefetch",as:"fetch",href:g,...r})),p.map(g=>J.createElement("link",{key:g,rel:"modulepreload",href:g,...r})),b.map(({key:g,link:y})=>J.createElement("link",{key:g,...y})))}function IA(...a){return e=>{a.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var q_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{q_&&(window.__reactRouterVersion="7.5.3")}catch{}function NA({basename:a,children:e,window:r}){let i=J.useRef();i.current==null&&(i.current=y1({window:r,v5Compat:!0}));let o=i.current,[u,f]=J.useState({action:o.action,location:o.location}),c=J.useCallback(_=>{J.startTransition(()=>f(_))},[f]);return J.useLayoutEffect(()=>o.listen(c),[o,c]),J.createElement(sA,{basename:a,children:e,location:u.location,navigationType:u.action,navigator:o})}var H_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Kt=J.forwardRef(function({onClick:e,discover:r="render",prefetch:i="none",relative:o,reloadDocument:u,replace:f,state:c,target:_,to:v,preventScrollReset:w,viewTransition:m,...p},b){let{basename:g}=J.useContext(Ln),y=typeof v=="string"&&H_.test(v),R,E=!1;if(typeof v=="string"&&y&&(R=v,q_))try{let D=new URL(window.location.href),O=v.startsWith("//")?new URL(D.protocol+v):new URL(v),V=zr(O.pathname,g);O.origin===D.origin&&V!=null?v=V+O.search+O.hash:E=!0}catch{On(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=H1(v,{relative:o}),[x,M,j]=xA(i,p),B=jA(v,{replace:f,state:c,target:_,preventScrollReset:w,relative:o,viewTransition:m});function N(D){e&&e(D),D.defaultPrevented||B(D)}let T=J.createElement("a",{...p,...j,href:R||S,onClick:E||u?e:N,ref:IA(b,M),target:_,"data-discover":!y&&r==="render"?"true":void 0});return x&&!y?J.createElement(J.Fragment,null,T,J.createElement(CA,{page:S})):T});Kt.displayName="Link";var kA=J.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:i="",end:o=!1,style:u,to:f,viewTransition:c,children:_,...v},w){let m=wl(f,{relative:v.relative}),p=zn(),b=J.useContext(kc),{navigator:g,basename:y}=J.useContext(Ln),R=b!=null&&qA(m)&&c===!0,E=g.encodeLocation?g.encodeLocation(m).pathname:m.pathname,S=p.pathname,x=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;r||(S=S.toLowerCase(),x=x?x.toLowerCase():null,E=E.toLowerCase()),x&&y&&(x=zr(x,y)||x);const M=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let j=S===E||!o&&S.startsWith(E)&&S.charAt(M)==="/",B=x!=null&&(x===E||!o&&x.startsWith(E)&&x.charAt(E.length)==="/"),N={isActive:j,isPending:B,isTransitioning:R},T=j?e:void 0,D;typeof i=="function"?D=i(N):D=[i,j?"active":null,B?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(N):u;return J.createElement(Kt,{...v,"aria-current":T,className:D,ref:w,style:O,to:f,viewTransition:c},typeof _=="function"?_(N):_)});kA.displayName="NavLink";var MA=J.forwardRef(({discover:a="render",fetcherKey:e,navigate:r,reloadDocument:i,replace:o,state:u,method:f=oc,action:c,onSubmit:_,relative:v,preventScrollReset:w,viewTransition:m,...p},b)=>{let g=zA(),y=BA(c,{relative:v}),R=f.toLowerCase()==="get"?"get":"post",E=typeof c=="string"&&H_.test(c),S=x=>{if(_&&_(x),x.defaultPrevented)return;x.preventDefault();let M=x.nativeEvent.submitter,j=(M==null?void 0:M.getAttribute("formmethod"))||f;g(M||x.currentTarget,{fetcherKey:e,method:j,navigate:r,replace:o,state:u,relative:v,preventScrollReset:w,viewTransition:m})};return J.createElement("form",{ref:b,method:R,action:y,onSubmit:i?_:S,...p,"data-discover":!E&&a==="render"?"true":void 0})});MA.displayName="Form";function VA(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $_(a){let e=J.useContext(Ls);return st(e,VA(a)),e}function jA(a,{target:e,replace:r,state:i,preventScrollReset:o,relative:u,viewTransition:f}={}){let c=Ri(),_=zn(),v=wl(a,{relative:u});return J.useCallback(w=>{if(fA(w,e)){w.preventDefault();let m=r!==void 0?r:fl(_)===fl(v);c(a,{replace:m,state:i,preventScrollReset:o,relative:u,viewTransition:f})}},[_,c,v,r,i,e,a,o,u,f])}function PA(a){On(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=J.useRef(Ed(a)),r=J.useRef(!1),i=zn(),o=J.useMemo(()=>dA(i.search,r.current?null:e.current),[i.search]),u=Ri(),f=J.useCallback((c,_)=>{const v=Ed(typeof c=="function"?c(o):c);r.current=!0,u("?"+v,_)},[u,o]);return[o,f]}var LA=0,UA=()=>`__${String(++LA)}__`;function zA(){let{router:a}=$_("useSubmit"),{basename:e}=J.useContext(Ln),r=tA();return J.useCallback(async(i,o={})=>{let{action:u,method:f,encType:c,formData:_,body:v}=gA(i,e);if(o.navigate===!1){let w=o.fetcherKey||UA();await a.fetch(w,r,o.action||u,{preventScrollReset:o.preventScrollReset,formData:_,body:v,formMethod:o.method||f,formEncType:o.encType||c,flushSync:o.flushSync})}else await a.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:_,body:v,formMethod:o.method||f,formEncType:o.encType||c,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[a,e,r])}function BA(a,{relative:e}={}){let{basename:r}=J.useContext(Ln),i=J.useContext(Un);st(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),u={...wl(a||".",{relative:e})},f=zn();if(a==null){u.search=f.search;let c=new URLSearchParams(u.search),_=c.getAll("index");if(_.some(w=>w==="")){c.delete("index"),_.filter(m=>m).forEach(m=>c.append("index",m));let w=c.toString();u.search=w?`?${w}`:""}}return(!a||a===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(u.pathname=u.pathname==="/"?r:Ur([r,u.pathname])),fl(u)}function qA(a,e={}){let r=J.useContext(V_);st(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=$_("useViewTransitionState"),o=wl(a,{relative:e.relative});if(!r.isTransitioning)return!1;let u=zr(r.currentLocation.pathname,i)||r.currentLocation.pathname,f=zr(r.nextLocation.pathname,i)||r.nextLocation.pathname;return pc(o.pathname,f)!=null||pc(o.pathname,u)!=null}new TextEncoder;[...TA];const HA="/Webbshop-React/assets/TitleHighlight-BBa3hHRd.png",$A="/Webbshop-React/assets/LegoHighlight-DAFgWCBt.png",FA="/Webbshop-React/assets/GameHighlight-CqrF5poe.png",GA="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFIAAABSCAYAAADHLIObAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAA8hSURBVHgB5V0JcBRVGv67ZyZBSciQKCQoOTDcypENR+2CJF6UgVVc8VyVzALFXkLcEqtcdZOope5qLVDl4lpJjJBFDmshJYsi0UqwRA4jJggEEo4JBoKrISOTEHLMtO97mR5nJjM93TOT+6vq9Ez3637vffO/9//v/997EaiXUVhYmKi32abZJWmaIIoJgiQlSkSJjtuJHsktOAQiM87smUpRECo6dLoKk8lkpl6EQD0MRpxRZ7cvYh/nkSQtCgsPN8bGxtLQiAgaHhNDEeyMAxgaGen2bFtbGzVbrfzc1NREzez4rr6eLl26hGtmlqRMlKSydp1ub08T2yNEyuQxaVtiCA9PA3Ej4uIoPj6+C1mBoslBal1tLV28eJHaW1vLWOXefWzZsg3UA+hWIkGg3m5fJUlSVmxcnHHK9Olc6sLCwqi7cbqmhpN67tw5M/taZhPF3O6U0m4hEv2ewW7P1oeFZU6cNIkm3Hxzj5DnDZDUI4cP03dMStnnd7uL0JASKUtgmMGQNWHyZGNvEugJEHqmupoqv/6aBEHI6RDFdYxQC4UIISOyMC8vTScIhTeNHZs4JSXFqTD6GmQJPX3qlJkpppxQ9aFBE+lQJNmMuKxfzp1LI5kS6Q/4lvWf5QcPgti1juYelHQGRST6Qp3NVjpx8mQuhX2lGasFzChIZ9Xx42ZGZnowfWfARBbl5y9ixBUyTcz7wv6MqmPHqPzAARj6pseXLSumABAQkRvy81dFRkaunXfHHRQdHU0DAY0NDVT26acw8nMeX7o0lzRCRxpRVFCQHREZ+dqdGRkUFRVFAwXXXHstjU5IQN+ZtvDuu2nHBx/s1fK8JiJBIhvK5YDEvqqVgwH6+EDJVE3kQCdRhiuZC+bP/3HHzp0H1Dynqo+EYmFj4h0DnURXwN4s+fBDOEnuU6OARH8JYOIwt1YhFMtgIRFAXdNuvx0SWggO/KVXJJIb28xOnDFrlnGgaGctgIPllpQUDDhKwYVSWkUiMWLBkK+/24nBgA02iDleEsGFUjqfRG4sKMjEsC919mwa7HD4DrLgT/CVxiuRXIwlKTt11qx+N+zrDoAD+BF0oljoq4l7JRKuMDRpmAHBgDl0+aF0P1Twl0+wecEZc1NycqLY0ZHl7X4XIrmWZu4liHOgsNls/Hz+/Hl6+i9P0+TJt1DM8BgyRg2n0TeMpnm3zqP169fTDz/8wNMFWlE8Y7fb+WeLxUJvvvkmpael06jYURQ1zEgxMdfTpImTKSvrKTp9+jRPJ6cPBOBkSHj4KjVanP5TUFBY+dVXUiBgheTHiRMnpOuvGyEJJPo8REHHz6NvjJd2f7Tb+bxadHR08HNxcbEzL/mdvvIaFXeDVFlZqTkvV1QePiwx/VGoSCKY3r51q2S1WiWtaG9v5+fMzExeaL3OoEikfOhEPT9HRAyTysvL+TuYRPvMB/dAAggZFhnFSZLf4e/Q68P4+bePPuZWZi1obW2VtmzcKCmaQ5DGfXv3SlohS8fUKdM4gb4kQ00lMzIypMuXL/vMC/cWZCzU9GO5SafjOZQ1UDIhlRvy8nJcuXMbIm7Mzz9730MPJWoZwbD3IgZCc341hw4d+pIYqRQMBFEkJnI0cuRIGjFihLO/FXU6Ol9XR42NjSQ60gSjPvR6PaWwPu/Awf3OOqgFHMJbi4osNp0uqYtnHXZjaUmJpBVoZs/99TnVzasvHWg5zz77bED95ce7dqGvzJT5c2ptBO+1mjuQFhY3pldeeTWkpkwgYDYeP4+6YRQZDAb+WRT9uhLotVf/ThcuXNCszTHiAWfyd54Tj0OHhaUx21H1i0CcjjW3GakzSceaSW8SiXKk3ZZOdslGdXXfUmvbVdq85T1OjlKTRZn1Oj1NmTK1s7vQUAfYleBMVjqcSDaOTNMa/UOm27dvpwbmorf56Rc9K4NvaqRFDfDuOFb2kpI9blL14IMP0vMvPI+CKj7fYesgS6OFtmzZokkqMdoBZ455TJ1Esj/ztDRrkAgiFt//gKpOOikpiS41NlBbeytdtv5Iefl5QRnGnmV58aVcZ5lc8cwzq1UpJNQhc4mJS7YWqYztFL55+MNzZl2tZonctGkT17BqCElIiCej0cg15dChQ+neRfdSKDFkyBCv15GfGqAOzAyioo1Fmoi8EcInSZ0Sif6Riakmkwe/4J/++GfVIUg23nF7NlTSKL8vN+dFfnYlAXls3bqVX5cPBOvuX/wbmjlzJk9j0Bvc3vPkkys1dTngjHFnBIciJnlGMwemWqCwFRUVxAxj1YTYbPYu7/CEFjvO813V1dW0evVqt3ccOXKETJm/c15bsWIFNVou0bZt27jtaPmxkdo72nlzBlAX1AnPaVU64FCPmbJamjUKtpL9cp4S4Hp/wvjxNHP2LK6EkGY8++6K8PBwWrBwIQ03doZzr1xpoR1McQWDNf9cS2+t/zfNmJFKNTWnuEmjYxrZzpTJjaNH0/q3/uVmeF/Lwq+Hv/6KUqb/wq3sq1auotKyUtX5stA0usZpCGztOF1dLWmBP0OXjT4kb4a7t88y4mJHBW9g+7ienZ3t0+j2NpzVYqCfYtzBiYEOwThUZf/InqP9+/crpsGvCsXi7bq3zzIWP7CYAgXeh74NzXQss4Xl/GUj/VJDY5dnJIfrTvLSqvbt26e6eUMiWb+QJGLiu1ovOAr8xutvKKZBAa5evarZQC//spwCBcq1ePH91NbRRierT3BT63+7dpLNYZC//fbb/Cz7AWQCC/ILutq47PvaNWtV99lcCEUxAY6KRriG1GK4MdpnE5LHr7m5uVJtba106tQpqaamRmIOXLfmwojmPkvcx8GGmUE15+Qxyfy9nt3H6/94nd83MM9SfHyC1Nzc7Lz/3qb3nOX1fCdzCktqAZcja9pnQaTqh0CAv4rpvBTs9yv+4Pae0tLSLmnCDOEBk1lUVNSlX8N3FuT/uVwOpwpIQl7+/JgtLS2SWoBDTeO0M2fO+E1j99Kko2OGu32H1vYEDOJAIQreq+FqE8qmGkwc5CW5hCm8QU1d3fLSktifoukNoC974YW/uZljMknvFLwTsH168OBBTek1EXno4CEKBE3WZn6WKxqs89cVeKfZbCaT6WfjG+fPP/+cj1QChea6wivepODad8XcOXO1KwNHnzkm6Sbpnl/fI41NHse/GxyhhVAccvgAeU2bOl26LuY6fj2QUIR8zJ1zqypOoKihsNWN6h2oqztPWiFL4dmzZ/khI6RSST+HgFlQzHldvhYIENZQAyzjY03AImKBJKawqQFix4MFjZZGVekQv2Edcq3I9FZts0oiW65cocGCFjb+V4MmqxUtwgL/uhmrS9WgLQgTpb+hTWXX4xDCChHrncGqGki9HODqSUgqXYQX6+sJHIpYNI7luWpg0GvSTT4hhChe4/XdQmjeLUci/QHLSsChHqudmPq2NFutRn9rp8PYiKQ9CG0r23kTJ0zgUT7EcoLRrK6A5wf25BNPLKHKik7NHUwL8jb68gSaNevuzKalS838wob8/Herjh71azPFjowLzt5jdt7Klav4uwKdxKQEec5QVlaWJAY5YQH+UX+QfZHgkLcDJillF1U0b0wjCRQIRN111520bt1azVNE1EJ0BOPWrFlDt992mzOMEAjU1BULQ7H1A88bf2yiWIx+kttEChibnEyBACSOHz+OPtr9kd+gfbCQydxT8jGNGzdOdSTRE2NVTJYAZ9g/g+eLP5gI1N7WVoaOUwmpM1NJK1CRGBZc++boN3w0I3ajopGBPND3Hjt+lGKiozWTiZ95hp+6YquHttZW5yYkzlpJgrABq+uVkJaWRlrQGceOoPqLFziJ+hBpfTVAs4a7rP67eh5L15I3VFR6erpiGt6sBcE54dRJpKN5W5Sa980alomg4FHDhrGhVkOPkygDJgzyRhg2aliUpjJMmjTJ5z1o62/PnTO77j7gJBLNmymBdSeOHfP5Avyy6IT9NU9IQ1JiIn3f8H2vkSgDeUMyv2/4P40ZM4Z0emUFhLInJCbwcK0vVB4+jFOZ6zU3Rux6/VpmBvlUOujESz7Z41NhgGBcz8jIoJM1J3udRBmyZJ44WUULWNkAb4MClB196/bt//Vpg8qbNmH7BlICbEpM7fUF2H85Oblu8Rke/3D4/jZv3uxm0/UlyGV6f9v7nf5KF1tTjt+8/NLLijZuhZrJ+ADmsWzZuLGxyceEfHnlQkVFhZSaOkMyRg3nAaVHH36UB8cwn7w7jO1QAWWTy/jIw484yz975mypqqrKWT9vACcIdKlaHsKlMi8vx9+kfG9Ru74ohb7graz+BACceE7Cl+FVa6CvZHaSWcmZ4S2w3hM2Yqgg+ugjfYFpab5XELjx+j5vF6HB2e9l+uKzz/yOdgYD2GCFylkEFRsu+dofyKcImZYvL7M2Na070qnqBzW+PHCAwIXSrlWKbdGu0+VUHTtmrlKwLQc6UHfepBkXSukUieRNXKdLZ1Jp8TcOH4hoZCEYbKzk2KVKMfLnVztgUN7S1mYq++QTUhskGwhAXctKSuDAMKnZ6kuVmjUtW1bMbKin9uzaNSjIRB1RV6vVmqt2iy/Vnk/sf5Mxf75QV1ubFs/G0QN1ZwFXEpcsX56j9jlNLuTinTvLBjKZgZIIaPbFu5KJBTvXKHhJ+hOgWD7dvRsB/6cYia+RRgTs8y/Mz1/EfoXC1NmzjVjg2J8BE+cbZpmwwUfPbnsoQ96IExuJYFub/tbUMWKpYFEB5oPtvY04ZWB1qGiz5URGRKwCmcHuzNJTwC7QX+zdy0csMLZ7dWtYV/BF4JLEd66ampJCQ/voPmpQKJWOzYptdrsJQ2EKAUK+fTb2xWFelGxs7ZLMQpp9hVA04+OsLzx59KjlamvrOnhx+uT22a7gixw7m/sSLM/rTQmVCTyBEEp7e//Y0N0TMqFC53pwvrOVll0KAgXIw1RFNGFERplPNuQS6IluJdIV6EP5P70IC+Nrw0Eq7NBQSSr6vnMs1gxnNJ81woL3zHsLCSzuTgJl9Ma/YcEWgmlMStIgqVgrjn0aZVL5GujwcH42eJhT8jgf8zkxXRseKfm/hjAb0MJc3LAB9/YUea7ocSI9wQNJNts0Ef8YSBCmsgJh/VoSIwVrkN1Xh0pSLU4s3VlJEMwsyFJrF4QK6gP/GOgnOxkqHBhW/UoAAAAASUVORK5CYII=",QA="/Webbshop-React/assets/docka-icon-HygCtQRC.png",YA="/Webbshop-React/assets/leksak-icon-CPISF0rF.png",KA="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFIAAABSCAYAAADHLIObAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAA6bSURBVHgB7V15bBRlG392twdYiuWQQzlWDuUQlYoRQUOJBwYlH95RP4RKieGv8vmH8Q9Da0zwM4oWE4zaYmlLSPHgK1ajQpBW5dAitp+cbYUWlMMArdAqpd19fX5P993slu12dnZnd4v+kul0ZmdmZ37zvM/5vu/aKMYoLCx0JrhcN7uVutlmt4+2KeVURE7Px84uhzdjsRE1YM3n1NhttuoOh6M6MzOzgWIIG0UZTFyaw+2ez//OIqXmJyUnpw0bNoxS+vWjAYMGUT9eYwFSUlP9zr148SK1nj8v65aWFmrl5dSJE3T27Fnsa+BDKuxKVbQ7HJXRJjYqRGryWNoWJiYnZ4C4IcOH06hRoy4hyyxaPKT+0thIJ0+epPa2tgp+uLX/zsoqoijAUiJBYILbna2UWjZs+PC0G6dOFalLSkoiq/FzXZ2QevTo0QberHDZ7S9ZKaWWEAm9l+h25yQkJS2aOGkSTbjhhqiQFwiQ1P/v2UOnWEr5/7VWERpRIrUEJiUmLpsweXJaLAnsChB6uLaWan78kWw2W26H3b6KCW2mCCFiRBbm52c4bLbCsePHO29MT/cajHiDltCf6+sb2DDlRkqHhk2kx5DkMHHLZtx5Jw1lI9IbcIz15+7vvgOxeZ7mHpZ0hkUkdKHD5do2cfJkkcJ4acZGATcK0nlg//4GJnN2OLrTNJElBQXzmbhCtsSiC3szDuzbR7t37YKjn7kgK6uMTMAUkUUFBdmpqal5s+6+mwYOHEiXA5rOnKGKrVvh5OcuWLz4JbIaJWvW5GzcsEGdP39eRRoNDQ1q8eLFavDgwYotq0pMTFSTJk1S7777ruJmqKwGngnPhmckK2EViU1NTap///7KbrfLwl/lXUCo3rdgwQJlNSwn0yoSq6qqhCTWtyohIUFIe/zxx9V7772nli9frtLT0+VzSCeO6dOnj7Iamszi/PxlFEnAsFhB4unTp4UkkIN1SUlJwOM6OjrUzJkz5TgsV111lbIaXsnkZ6dIAC5OcUEB6+IzKtJAs4WUgcRTp05591dXV6sXX3xR/fHHH37HP/300yo5OVmkc/Xq1cpqnOUXvaG4uAkcUDiAs80kHjnw008q0ti1a5c0ZSwffvih7HO5XEIU9t16661+5GoMGTJEPgf50cD+vXtV8Zo1R8AFmQVf4M3tlZXKCtx+++2iDyGVGiDnkUceCXpeY2OjnIOltrZWRQNVO3eCzDfJDPjERdARbW1tygqACBC3dOlS2f7qq6/8SA0G8ljzFStWqGgAHIAL5BO648seaKeIsVI50267zZKwD1x08kF0zz33yPr999+nefPmGTp/wIABcv7u3bspGgAHyCM47PbC7pp4QsCdnAobw1mckaNHkxVgafL+z9ZR1q+99hq53W5D57OEyJr1JUULSMaMHTfOWV9bC5cot+vnl0gkLBS/7VwkIaxEWlrni12/fr2sUX64+uqrezwPksjWXF6GluZoAZz0SU7ODmTFL5FIZLancEnAbD7xyJEjxFaY2OKSw+EIeAyaCppnc3Mzffnll0KOr5QGw6ZNm4iNlEjvli1baMeOHbLdFbgmjpk+fbqoDPY/KVyAE07QpHFyGFFPZrcHgmmzjjfXRsS/0xaVfMK8YAvOQSxtFDr6MXp9fS9z5sxRkQAMT2lxseqqK/1eJaRxKDexUKXxO06QoiIIqcLC3ydSxyQFXZgUOf6ZZ54x/F2vv/565732cG19fdwL1tu2bZN94QLPNZHThvaOju7DRzjfoUojNx9543Cksd68ebOKJyC8fOihh+T+EF4i1AwXkEpEe75S6ZVI+I1spZ2hSmNeXp68cVhSbt5RNwA9AXr6448/prs5d8qk0vbt2+nPP/+kcACpZCuuOzoIvESieG/G3UFTww3ecccdNHLkSIpXlJWVyX1ClXz66acULri8IpzpbSFS6tBJSRlcAaRQceLECVk//PDDFM9Aq9E6k+N8ChfwK8GZbt5CJItohtnqn/JEKPFafvWFdrG6c8tCgad5k27eds+fWeFGMZrQvxOGdQrfLPwRIt1KZfSWenQ8YQSETymRyAToxySHw9kbmma8AZxxE08Dh3Z08hw4aBD9A3NASwaHdvSU/adZm0e/1FSoxpvtdpvtpr9bs46kYRwwcCChyzayP2kpESCSi2NUXFwskQP+nzZtGj3xxBM02qKcZjhAj7SNGzfS1q1bpXfvLbfcQo8++iiNN+FHQyI5zXStxNeolpkF+WRYqJvMy7p161Q8AJkm6iZLpDNKb7zxRkjXRG4CxTG4P2nh9uOGo6tzgldeeaUsej+iCWR3JkyYQLGGDhH1vfbv39+bYGZOJDv0wgsv0CATxleIDKcug1gb55eXl0siFclaLLixvXv3ShSBm+fqHw0dOpRiiZUrVwpZSGLgXn///XdqamqSez18+LAQi3tFBv6KK64wdE2xL0o50bSV1bjvvvskhYVUFr9xFU9gMv22dScELOg6YwTgMCpEAmx0vL0q2tvbVTygAAR4dGROTo53PxtKrz69cOFCj9eJKpGtra1yY9zU5QHiBUhM19fX+/V2QxdCbKOsYaQMAg6hIxtaPSVRKwGdgyqhy+XylgviAdCJY8eOlWRvSUkJnTt3TvQojCOM01tvvRX0fHSfZjTbKYqYO3eurI8fP07xBlQZr7/+ejFEAOtHWR86dCjoeRjGx2+j2Y4BknBQowGUYIFwU/1W4cEHH/Ra62uuuUbWaEHBIBLpdjcmuIkaW6NEJGrQwKA4TZK88sor3v+5iCfrwYMHBz2nhdWikqatVANGl0YDCB/hDLM7RPGOjz76SO71gQceCHqcRwirkbSobomCsXn55ZclygFWrFhB8Yy1a9fKvYJIdouCHnuSa1bg0I5B46c8BSyrAIW9fPlyubkRI0bQ8DhO26GrTWZmppCI++0p6YJhJeBQNlDsbjl3TpkBGw71wQcfdPs5OtWTTweCWDrjcK7Xr1/f7efcnP36tHOoG+xyqsWTsACH0tb4rE3Hjh5dOIFrtaGib9++8uYee+wxsXooy8KVgLJGn0eASZQOBHV1dd7mHQvgXhH7P/nkk3T//fdL6gwJloqKCnrnnXfEQiNvwIRTVVWVN/nSHU52tuQK7w70sti2ZYsyAwrSgQmpKUQynGGRyCbW6CmNhgXSeNpgWhGcrSsoWAgOxSF32e1l0JMeL90UxowZ49d1DpKHhOkPP/wgGRaj2ZRoAD1CUlJSvNuQ0ilTpoh7Bh/XqHsGzjB/ht/OkoKCbSePH1ehgjxvVI+RQeyKxQw4W62ysrIUp9tEp3KKSk2dOlXl5+ebvqYvtERi6ImG2evW19ZiQFOF5s8bInI6uwij681CRyu6a18ogP6ElCAWh1797bffZB8irurqanr22WfFij733HMUCeiu0/p+zQDjvdntKdTbXiI9zbs5nOYNwM259957DR8PAwSVwHrJ2xMXKuH555+nRYsWSaiGfTACq1evli7SsQaccDbODb6zD3iJxAh6lthVB/fto3CAh+4pPtWAFF933XVi1WEp4bTjfFjMV199FZ276NixY5KxhrRCepDVxjmxRM2ePVhV+O7zy/64ExLyDnB5IBypDNSfuzsgjoU0oqkdPHhQ6iWBmhrcFvRNnz17tmzj/9LSUooF9KRNmL7Bd7/fU0Mq2y5eLApXKo0Aug8vDNL79ttvSwqrJ3z++efenmRPPfUUxQL1rIpaWlvXdp224RLxcTscuSyVzVZnhLKzs6UZc6RDS5cuNXweBimBfFZDUlCLJlo9M7R0lUbgEiLBNDe1VR49YBhaUqD3jFQlv/nmGyEScW0oQOZaeXpKbNiwgczA6MCorgAn/N0BJ2AKGK9BV/5cV7cQc/j01C9Ih3/ff/+91K/nz58vpQRkw33dDDw8SpeffPKJ3xA6hGqhArVolHwxmiIUQPqBnnKMgcBWWuYKAjeBPg9oGaArXUpl7vj66x4ND/J1MDBcJJLtmTNn0rfffkuTOW6fMWPGJQvga1BgrUOF9gp0xt0IEPvr4SjIC4SCduZg986dhAmXTM0PVFRQkIchtsHw66+/emPUcePGKaPAHBb8FTJ0IxTo4SjoDlNUVGToHHahvNM9kIlx3hhqDS6CcRU0FSOGZ9++f6WkpjondpMZgn931113ic6Dz4c3Dr2HUQ7d+ZNweeBYo2KHzkyhAEPuoI9xbQwE4PAx4HG4D0RGTDbV1NSICkLrwhCWUIA5gaRJMxcUDtAbtbS4uKmnjlbz5s3zZnvI4PA28gyh47BQGQVi8FCG0OnvwBqzFoSCs2fO6IFJTooECjE5SGmpJDKDAc2cjY03MWp0QXLYKFauXBnStVnypYdZqMkJPCueOWKTg2hg6hYjZF4O0CQW5efnGuXH8ICT/5WX75o7Z47tl8bGjFFOZ6+bUM4o4HRv/uwzDMh/aeGSJblGzwtp5E5ZeXnF5UymWRKBkIdA+ZKJATt94yjzHQ6auLa/9YsvUPD/D5P4XwoRpqc9hAHit1A4bfr0tIkmimbxBLg4P+3Zg1xsdKc91NATcSKUZEJ7XVNHxFLNVQHOdsVuIk4NjA61u1y5qf36ZYPMkXE4iiEQMAv0jspKOt/SsgrOdkynhvUFSrqYKwjSeVN6OqXE6dgdGJQaz2TFLrc7M3PJkgqKACI+fTbmeuDwLAdTu4wbPz5uCEUz3s+68BDnWi9wmhBZnLicPtsXMsixs7kvRBoulhKqCTyIEkp7e++Y0L0rNKG2zvHgMrOVmVkKQgXIQ1dFNGFURjlYibgEdkXUfj0EOlR+9CIpScaGg1T4oZGSVOi+o1x6QGFKeo20tVVyohQSWGYlgRqx+BkWJ6Z+YCnJgKSyy+TED2FoUmUMNKe8sE7s4k7pOhL6cyJFhi51+ldD2Ads5twZfMDKaJHni6gT2RWSosJ4Z/wwkM12E99QGpN8LZOCrmD+M+MpJdUuPu4IZ3YbOKXT6LbZqikOfhjoL6XIX1UB70qqAAAAAElFTkSuQmCC",uv=a=>{let e;const r=new Set,i=(v,w)=>{const m=typeof v=="function"?v(e):v;if(!Object.is(m,e)){const p=e;e=w??(typeof m!="object"||m===null)?m:Object.assign({},e,m),r.forEach(b=>b(e,p))}},o=()=>e,c={setState:i,getState:o,getInitialState:()=>_,subscribe:v=>(r.add(v),()=>r.delete(v))},_=e=a(i,o,c);return c},XA=a=>a?uv(a):uv,WA=a=>a;function ZA(a,e=WA){const r=Xy.useSyncExternalStore(a.subscribe,()=>e(a.getState()),()=>e(a.getInitialState()));return Xy.useDebugValue(r),r}const cv=a=>{const e=XA(a),r=i=>ZA(e,i);return Object.assign(r,e),r},em=a=>a?cv(a):cv,JA=()=>{};var hv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_=function(a){const e=[];let r=0;for(let i=0;i<a.length;i++){let o=a.charCodeAt(i);o<128?e[r++]=o:o<2048?(e[r++]=o>>6|192,e[r++]=o&63|128):(o&64512)===55296&&i+1<a.length&&(a.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++i)&1023),e[r++]=o>>18|240,e[r++]=o>>12&63|128,e[r++]=o>>6&63|128,e[r++]=o&63|128):(e[r++]=o>>12|224,e[r++]=o>>6&63|128,e[r++]=o&63|128)}return e},ew=function(a){const e=[];let r=0,i=0;for(;r<a.length;){const o=a[r++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const u=a[r++];e[i++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=a[r++],f=a[r++],c=a[r++],_=((o&7)<<18|(u&63)<<12|(f&63)<<6|c&63)-65536;e[i++]=String.fromCharCode(55296+(_>>10)),e[i++]=String.fromCharCode(56320+(_&1023))}else{const u=a[r++],f=a[r++];e[i++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},G_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<a.length;o+=3){const u=a[o],f=o+1<a.length,c=f?a[o+1]:0,_=o+2<a.length,v=_?a[o+2]:0,w=u>>2,m=(u&3)<<4|c>>4;let p=(c&15)<<2|v>>6,b=v&63;_||(b=64,f||(p=64)),i.push(r[w],r[m],r[p],r[b])}return i.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(F_(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):ew(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<a.length;){const u=r[a.charAt(o++)],c=o<a.length?r[a.charAt(o)]:0;++o;const v=o<a.length?r[a.charAt(o)]:64;++o;const m=o<a.length?r[a.charAt(o)]:64;if(++o,u==null||c==null||v==null||m==null)throw new tw;const p=u<<2|c>>4;if(i.push(p),v!==64){const b=c<<4&240|v>>2;if(i.push(b),m!==64){const g=v<<6&192|m;i.push(g)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class tw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nw=function(a){const e=F_(a);return G_.encodeByteArray(e,!0)},gc=function(a){return nw(a).replace(/\./g,"")},rw=function(a){try{return G_.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw=()=>aw().__FIREBASE_DEFAULTS__,sw=()=>{if(typeof process>"u"||typeof hv>"u")return;const a=hv.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},ow=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&rw(a[1]);return e&&JSON.parse(e)},tm=()=>{try{return JA()||iw()||sw()||ow()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},lw=a=>{var e,r;return(r=(e=tm())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[a]},uw=a=>{const e=lw(a);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),i]:[e.substring(0,r),i]},Q_=()=>{var a;return(a=tm())===null||a===void 0?void 0:a.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,i)=>{r?this.reject(r):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nm(a){return a.endsWith(".cloudworkstations.dev")}async function hw(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},i=e||"demo-project",o=a.iat||0,u=a.sub||a.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},a);return[gc(JSON.stringify(r)),gc(JSON.stringify(f)),""].join(".")}const ol={};function dw(){const a={prod:[],emulator:[]};for(const e of Object.keys(ol))ol[e]?a.emulator.push(e):a.prod.push(e);return a}function mw(a){let e=document.getElementById(a),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),r=!0),{created:r,element:e}}let fv=!1;function Y_(a,e){if(typeof window>"u"||typeof document>"u"||!nm(window.location.host)||ol[a]===e||ol[a]||fv)return;ol[a]=e;function r(p){return`__firebase__banner__${p}`}const i="__firebase__banner",u=dw().prod.length>0;function f(){const p=document.getElementById(i);p&&p.remove()}function c(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function _(p,b){p.setAttribute("width","24"),p.setAttribute("id",b),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function v(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{fv=!0,f()},p}function w(p,b){p.setAttribute("id",b),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function m(){const p=mw(i),b=r("text"),g=document.getElementById(b)||document.createElement("span"),y=r("learnmore"),R=document.getElementById(y)||document.createElement("a"),E=r("preprendIcon"),S=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const x=p.element;c(x),w(R,y);const M=v();_(S,E),x.append(S,g,R,M),document.body.appendChild(x)}u?(g.innerText="Preview backend disconnected.",S.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(S.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gw(){var a;const e=(a=tm())===null||a===void 0?void 0:a.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yw(){return!gw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vw(){try{return typeof indexedDB=="object"}catch{return!1}}function _w(){return new Promise((a,e)=>{try{let r=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),r||self.indexedDB.deleteDatabase(i),a(!0)},o.onupgradeneeded=()=>{r=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw="FirebaseError";class zs extends Error{constructor(e,r,i){super(r),this.code=e,this.customData=i,this.name=bw,Object.setPrototypeOf(this,zs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,K_.prototype.create)}}class K_{constructor(e,r,i){this.service=e,this.serviceName=r,this.errors=i}create(e,...r){const i=r[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?Ew(u,i):"Error",c=`${this.serviceName}: ${f} (${o}).`;return new zs(o,c,i)}}function Ew(a,e){return a.replace(Aw,(r,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const Aw=/\{\$([^}]+)}/g;function yc(a,e){if(a===e)return!0;const r=Object.keys(a),i=Object.keys(e);for(const o of r){if(!i.includes(o))return!1;const u=a[o],f=e[o];if(dv(u)&&dv(f)){if(!yc(u,f))return!1}else if(u!==f)return!1}for(const o of i)if(!r.includes(o))return!1;return!0}function dv(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xa(a){return a&&a._delegate?a._delegate:a}class dl{constructor(e,r,i){this.name=e,this.instanceFactory=r,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const i=new cw;if(this.instancesDeferred.set(r,i),this.isInitialized(r)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:r});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Sw(e))try{this.getOrInitializeService({instanceIdentifier:bi})}catch{}for(const[r,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(r);try{const u=this.getOrInitializeService({instanceIdentifier:o});i.resolve(u)}catch{}}}}clearInstance(e=bi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=bi){return this.instances.has(e)}getOptions(e=bi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:r});for(const[u,f]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(u);i===c&&f.resolve(o)}return o}onInit(e,r){var i;const o=this.normalizeInstanceIdentifier(r),u=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,r){const i=this.onInitCallbacks.get(r);if(i)for(const o of i)try{o(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Tw(e),options:r}),this.instances.set(e,i),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=bi){return this.component?this.component.multipleInstances?e:bi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Tw(a){return a===bi?void 0:a}function Sw(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new ww(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(ze||(ze={}));const xw={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},Cw=ze.INFO,Dw={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},Ow=(a,e,...r)=>{if(e<a.logLevel)return;const i=new Date().toISOString(),o=Dw[e];if(o)console[o](`[${i}]  ${a.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class X_{constructor(e){this.name=e,this._logLevel=Cw,this._logHandler=Ow,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const Iw=(a,e)=>e.some(r=>a instanceof r);let mv,pv;function Nw(){return mv||(mv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kw(){return pv||(pv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const W_=new WeakMap,Ad=new WeakMap,Z_=new WeakMap,cd=new WeakMap,rm=new WeakMap;function Mw(a){const e=new Promise((r,i)=>{const o=()=>{a.removeEventListener("success",u),a.removeEventListener("error",f)},u=()=>{r(Ea(a.result)),o()},f=()=>{i(a.error),o()};a.addEventListener("success",u),a.addEventListener("error",f)});return e.then(r=>{r instanceof IDBCursor&&W_.set(r,a)}).catch(()=>{}),rm.set(e,a),e}function Vw(a){if(Ad.has(a))return;const e=new Promise((r,i)=>{const o=()=>{a.removeEventListener("complete",u),a.removeEventListener("error",f),a.removeEventListener("abort",f)},u=()=>{r(),o()},f=()=>{i(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",u),a.addEventListener("error",f),a.addEventListener("abort",f)});Ad.set(a,e)}let wd={get(a,e,r){if(a instanceof IDBTransaction){if(e==="done")return Ad.get(a);if(e==="objectStoreNames")return a.objectStoreNames||Z_.get(a);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Ea(a[e])},set(a,e,r){return a[e]=r,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function jw(a){wd=a(wd)}function Pw(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const i=a.call(hd(this),e,...r);return Z_.set(i,e.sort?e.sort():[e]),Ea(i)}:kw().includes(a)?function(...e){return a.apply(hd(this),e),Ea(W_.get(this))}:function(...e){return Ea(a.apply(hd(this),e))}}function Lw(a){return typeof a=="function"?Pw(a):(a instanceof IDBTransaction&&Vw(a),Iw(a,Nw())?new Proxy(a,wd):a)}function Ea(a){if(a instanceof IDBRequest)return Mw(a);if(cd.has(a))return cd.get(a);const e=Lw(a);return e!==a&&(cd.set(a,e),rm.set(e,a)),e}const hd=a=>rm.get(a);function Uw(a,e,{blocked:r,upgrade:i,blocking:o,terminated:u}={}){const f=indexedDB.open(a,e),c=Ea(f);return i&&f.addEventListener("upgradeneeded",_=>{i(Ea(f.result),_.oldVersion,_.newVersion,Ea(f.transaction),_)}),r&&f.addEventListener("blocked",_=>r(_.oldVersion,_.newVersion,_)),c.then(_=>{u&&_.addEventListener("close",()=>u()),o&&_.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),c}const zw=["get","getKey","getAll","getAllKeys","count"],Bw=["put","add","delete","clear"],fd=new Map;function gv(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(fd.get(e))return fd.get(e);const r=e.replace(/FromIndex$/,""),i=e!==r,o=Bw.includes(r);if(!(r in(i?IDBIndex:IDBObjectStore).prototype)||!(o||zw.includes(r)))return;const u=async function(f,...c){const _=this.transaction(f,o?"readwrite":"readonly");let v=_.store;return i&&(v=v.index(c.shift())),(await Promise.all([v[r](...c),o&&_.done]))[0]};return fd.set(e,u),u}jw(a=>({...a,get:(e,r,i)=>gv(e,r)||a.get(e,r,i),has:(e,r)=>!!gv(e,r)||a.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Hw(r)){const i=r.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(r=>r).join(" ")}}function Hw(a){const e=a.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Td="@firebase/app",yv="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br=new X_("@firebase/app"),$w="@firebase/app-compat",Fw="@firebase/analytics-compat",Gw="@firebase/analytics",Qw="@firebase/app-check-compat",Yw="@firebase/app-check",Kw="@firebase/auth",Xw="@firebase/auth-compat",Ww="@firebase/database",Zw="@firebase/data-connect",Jw="@firebase/database-compat",eT="@firebase/functions",tT="@firebase/functions-compat",nT="@firebase/installations",rT="@firebase/installations-compat",aT="@firebase/messaging",iT="@firebase/messaging-compat",sT="@firebase/performance",oT="@firebase/performance-compat",lT="@firebase/remote-config",uT="@firebase/remote-config-compat",cT="@firebase/storage",hT="@firebase/storage-compat",fT="@firebase/firestore",dT="@firebase/vertexai",mT="@firebase/firestore-compat",pT="firebase",gT="11.7.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sd="[DEFAULT]",yT={[Td]:"fire-core",[$w]:"fire-core-compat",[Gw]:"fire-analytics",[Fw]:"fire-analytics-compat",[Yw]:"fire-app-check",[Qw]:"fire-app-check-compat",[Kw]:"fire-auth",[Xw]:"fire-auth-compat",[Ww]:"fire-rtdb",[Zw]:"fire-data-connect",[Jw]:"fire-rtdb-compat",[eT]:"fire-fn",[tT]:"fire-fn-compat",[nT]:"fire-iid",[rT]:"fire-iid-compat",[aT]:"fire-fcm",[iT]:"fire-fcm-compat",[sT]:"fire-perf",[oT]:"fire-perf-compat",[lT]:"fire-rc",[uT]:"fire-rc-compat",[cT]:"fire-gcs",[hT]:"fire-gcs-compat",[fT]:"fire-fst",[mT]:"fire-fst-compat",[dT]:"fire-vertex","fire-js":"fire-js",[pT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vc=new Map,vT=new Map,Rd=new Map;function vv(a,e){try{a.container.addComponent(e)}catch(r){Br.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,r)}}function _c(a){const e=a.name;if(Rd.has(e))return Br.debug(`There were multiple attempts to register component ${e}.`),!1;Rd.set(e,a);for(const r of vc.values())vv(r,a);for(const r of vT.values())vv(r,a);return!0}function _T(a,e){const r=a.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),a.container.getProvider(e)}function bT(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Aa=new K_("app","Firebase",ET);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(e,r,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new dl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Aa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT=gT;function J_(a,e={}){let r=a;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Sd,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw Aa.create("bad-app-name",{appName:String(o)});if(r||(r=Q_()),!r)throw Aa.create("no-options");const u=vc.get(o);if(u){if(yc(r,u.options)&&yc(i,u.config))return u;throw Aa.create("duplicate-app",{appName:o})}const f=new Rw(o);for(const _ of Rd.values())f.addComponent(_);const c=new AT(r,i,f);return vc.set(o,c),c}function TT(a=Sd){const e=vc.get(a);if(!e&&a===Sd&&Q_())return J_();if(!e)throw Aa.create("no-app",{appName:a});return e}function xs(a,e,r){var i;let o=(i=yT[a])!==null&&i!==void 0?i:a;r&&(o+=`-${r}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const c=[`Unable to register library "${o}" with version "${e}":`];u&&c.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&c.push("and"),f&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Br.warn(c.join(" "));return}_c(new dl(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST="firebase-heartbeat-database",RT=1,ml="firebase-heartbeat-store";let dd=null;function eb(){return dd||(dd=Uw(ST,RT,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(ml)}catch(r){console.warn(r)}}}}).catch(a=>{throw Aa.create("idb-open",{originalErrorMessage:a.message})})),dd}async function xT(a){try{const r=(await eb()).transaction(ml),i=await r.objectStore(ml).get(tb(a));return await r.done,i}catch(e){if(e instanceof zs)Br.warn(e.message);else{const r=Aa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Br.warn(r.message)}}}async function _v(a,e){try{const i=(await eb()).transaction(ml,"readwrite");await i.objectStore(ml).put(e,tb(a)),await i.done}catch(r){if(r instanceof zs)Br.warn(r.message);else{const i=Aa.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Br.warn(i.message)}}}function tb(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT=1024,DT=30;class OT{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new NT(r),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,r;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=bv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>DT){const f=kT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Br.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=bv(),{heartbeatsToSend:i,unsentEntries:o}=IT(this._heartbeatsCache.heartbeats),u=gc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=r,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(r){return Br.warn(r),""}}}function bv(){return new Date().toISOString().substring(0,10)}function IT(a,e=CT){const r=[];let i=a.slice();for(const o of a){const u=r.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Ev(r)>e){u.dates.pop();break}}else if(r.push({agent:o.agent,dates:[o.date]}),Ev(r)>e){r.pop();break}i=i.slice(1)}return{heartbeatsToSend:r,unsentEntries:i}}class NT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vw()?_w().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await xT(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const o=await this.read();return _v(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const o=await this.read();return _v(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Ev(a){return gc(JSON.stringify({version:2,heartbeats:a})).length}function kT(a){if(a.length===0)return-1;let e=0,r=a[0].date;for(let i=1;i<a.length;i++)a[i].date<r&&(r=a[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MT(a){_c(new dl("platform-logger",e=>new qw(e),"PRIVATE")),_c(new dl("heartbeat",e=>new OT(e),"PRIVATE")),xs(Td,yv,a),xs(Td,yv,"esm2017"),xs("fire-js","")}MT("");var Av=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wa,nb;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,T){function D(){}D.prototype=T.prototype,N.D=T.prototype,N.prototype=new D,N.prototype.constructor=N,N.C=function(O,V,q){for(var U=Array(arguments.length-2),he=2;he<arguments.length;he++)U[he-2]=arguments[he];return T.prototype[V].apply(O,U)}}function r(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,r),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,T,D){D||(D=0);var O=Array(16);if(typeof T=="string")for(var V=0;16>V;++V)O[V]=T.charCodeAt(D++)|T.charCodeAt(D++)<<8|T.charCodeAt(D++)<<16|T.charCodeAt(D++)<<24;else for(V=0;16>V;++V)O[V]=T[D++]|T[D++]<<8|T[D++]<<16|T[D++]<<24;T=N.g[0],D=N.g[1],V=N.g[2];var q=N.g[3],U=T+(q^D&(V^q))+O[0]+3614090360&4294967295;T=D+(U<<7&4294967295|U>>>25),U=q+(V^T&(D^V))+O[1]+3905402710&4294967295,q=T+(U<<12&4294967295|U>>>20),U=V+(D^q&(T^D))+O[2]+606105819&4294967295,V=q+(U<<17&4294967295|U>>>15),U=D+(T^V&(q^T))+O[3]+3250441966&4294967295,D=V+(U<<22&4294967295|U>>>10),U=T+(q^D&(V^q))+O[4]+4118548399&4294967295,T=D+(U<<7&4294967295|U>>>25),U=q+(V^T&(D^V))+O[5]+1200080426&4294967295,q=T+(U<<12&4294967295|U>>>20),U=V+(D^q&(T^D))+O[6]+2821735955&4294967295,V=q+(U<<17&4294967295|U>>>15),U=D+(T^V&(q^T))+O[7]+4249261313&4294967295,D=V+(U<<22&4294967295|U>>>10),U=T+(q^D&(V^q))+O[8]+1770035416&4294967295,T=D+(U<<7&4294967295|U>>>25),U=q+(V^T&(D^V))+O[9]+2336552879&4294967295,q=T+(U<<12&4294967295|U>>>20),U=V+(D^q&(T^D))+O[10]+4294925233&4294967295,V=q+(U<<17&4294967295|U>>>15),U=D+(T^V&(q^T))+O[11]+2304563134&4294967295,D=V+(U<<22&4294967295|U>>>10),U=T+(q^D&(V^q))+O[12]+1804603682&4294967295,T=D+(U<<7&4294967295|U>>>25),U=q+(V^T&(D^V))+O[13]+4254626195&4294967295,q=T+(U<<12&4294967295|U>>>20),U=V+(D^q&(T^D))+O[14]+2792965006&4294967295,V=q+(U<<17&4294967295|U>>>15),U=D+(T^V&(q^T))+O[15]+1236535329&4294967295,D=V+(U<<22&4294967295|U>>>10),U=T+(V^q&(D^V))+O[1]+4129170786&4294967295,T=D+(U<<5&4294967295|U>>>27),U=q+(D^V&(T^D))+O[6]+3225465664&4294967295,q=T+(U<<9&4294967295|U>>>23),U=V+(T^D&(q^T))+O[11]+643717713&4294967295,V=q+(U<<14&4294967295|U>>>18),U=D+(q^T&(V^q))+O[0]+3921069994&4294967295,D=V+(U<<20&4294967295|U>>>12),U=T+(V^q&(D^V))+O[5]+3593408605&4294967295,T=D+(U<<5&4294967295|U>>>27),U=q+(D^V&(T^D))+O[10]+38016083&4294967295,q=T+(U<<9&4294967295|U>>>23),U=V+(T^D&(q^T))+O[15]+3634488961&4294967295,V=q+(U<<14&4294967295|U>>>18),U=D+(q^T&(V^q))+O[4]+3889429448&4294967295,D=V+(U<<20&4294967295|U>>>12),U=T+(V^q&(D^V))+O[9]+568446438&4294967295,T=D+(U<<5&4294967295|U>>>27),U=q+(D^V&(T^D))+O[14]+3275163606&4294967295,q=T+(U<<9&4294967295|U>>>23),U=V+(T^D&(q^T))+O[3]+4107603335&4294967295,V=q+(U<<14&4294967295|U>>>18),U=D+(q^T&(V^q))+O[8]+1163531501&4294967295,D=V+(U<<20&4294967295|U>>>12),U=T+(V^q&(D^V))+O[13]+2850285829&4294967295,T=D+(U<<5&4294967295|U>>>27),U=q+(D^V&(T^D))+O[2]+4243563512&4294967295,q=T+(U<<9&4294967295|U>>>23),U=V+(T^D&(q^T))+O[7]+1735328473&4294967295,V=q+(U<<14&4294967295|U>>>18),U=D+(q^T&(V^q))+O[12]+2368359562&4294967295,D=V+(U<<20&4294967295|U>>>12),U=T+(D^V^q)+O[5]+4294588738&4294967295,T=D+(U<<4&4294967295|U>>>28),U=q+(T^D^V)+O[8]+2272392833&4294967295,q=T+(U<<11&4294967295|U>>>21),U=V+(q^T^D)+O[11]+1839030562&4294967295,V=q+(U<<16&4294967295|U>>>16),U=D+(V^q^T)+O[14]+4259657740&4294967295,D=V+(U<<23&4294967295|U>>>9),U=T+(D^V^q)+O[1]+2763975236&4294967295,T=D+(U<<4&4294967295|U>>>28),U=q+(T^D^V)+O[4]+1272893353&4294967295,q=T+(U<<11&4294967295|U>>>21),U=V+(q^T^D)+O[7]+4139469664&4294967295,V=q+(U<<16&4294967295|U>>>16),U=D+(V^q^T)+O[10]+3200236656&4294967295,D=V+(U<<23&4294967295|U>>>9),U=T+(D^V^q)+O[13]+681279174&4294967295,T=D+(U<<4&4294967295|U>>>28),U=q+(T^D^V)+O[0]+3936430074&4294967295,q=T+(U<<11&4294967295|U>>>21),U=V+(q^T^D)+O[3]+3572445317&4294967295,V=q+(U<<16&4294967295|U>>>16),U=D+(V^q^T)+O[6]+76029189&4294967295,D=V+(U<<23&4294967295|U>>>9),U=T+(D^V^q)+O[9]+3654602809&4294967295,T=D+(U<<4&4294967295|U>>>28),U=q+(T^D^V)+O[12]+3873151461&4294967295,q=T+(U<<11&4294967295|U>>>21),U=V+(q^T^D)+O[15]+530742520&4294967295,V=q+(U<<16&4294967295|U>>>16),U=D+(V^q^T)+O[2]+3299628645&4294967295,D=V+(U<<23&4294967295|U>>>9),U=T+(V^(D|~q))+O[0]+4096336452&4294967295,T=D+(U<<6&4294967295|U>>>26),U=q+(D^(T|~V))+O[7]+1126891415&4294967295,q=T+(U<<10&4294967295|U>>>22),U=V+(T^(q|~D))+O[14]+2878612391&4294967295,V=q+(U<<15&4294967295|U>>>17),U=D+(q^(V|~T))+O[5]+4237533241&4294967295,D=V+(U<<21&4294967295|U>>>11),U=T+(V^(D|~q))+O[12]+1700485571&4294967295,T=D+(U<<6&4294967295|U>>>26),U=q+(D^(T|~V))+O[3]+2399980690&4294967295,q=T+(U<<10&4294967295|U>>>22),U=V+(T^(q|~D))+O[10]+4293915773&4294967295,V=q+(U<<15&4294967295|U>>>17),U=D+(q^(V|~T))+O[1]+2240044497&4294967295,D=V+(U<<21&4294967295|U>>>11),U=T+(V^(D|~q))+O[8]+1873313359&4294967295,T=D+(U<<6&4294967295|U>>>26),U=q+(D^(T|~V))+O[15]+4264355552&4294967295,q=T+(U<<10&4294967295|U>>>22),U=V+(T^(q|~D))+O[6]+2734768916&4294967295,V=q+(U<<15&4294967295|U>>>17),U=D+(q^(V|~T))+O[13]+1309151649&4294967295,D=V+(U<<21&4294967295|U>>>11),U=T+(V^(D|~q))+O[4]+4149444226&4294967295,T=D+(U<<6&4294967295|U>>>26),U=q+(D^(T|~V))+O[11]+3174756917&4294967295,q=T+(U<<10&4294967295|U>>>22),U=V+(T^(q|~D))+O[2]+718787259&4294967295,V=q+(U<<15&4294967295|U>>>17),U=D+(q^(V|~T))+O[9]+3951481745&4294967295,N.g[0]=N.g[0]+T&4294967295,N.g[1]=N.g[1]+(V+(U<<21&4294967295|U>>>11))&4294967295,N.g[2]=N.g[2]+V&4294967295,N.g[3]=N.g[3]+q&4294967295}i.prototype.u=function(N,T){T===void 0&&(T=N.length);for(var D=T-this.blockSize,O=this.B,V=this.h,q=0;q<T;){if(V==0)for(;q<=D;)o(this,N,q),q+=this.blockSize;if(typeof N=="string"){for(;q<T;)if(O[V++]=N.charCodeAt(q++),V==this.blockSize){o(this,O),V=0;break}}else for(;q<T;)if(O[V++]=N[q++],V==this.blockSize){o(this,O),V=0;break}}this.h=V,this.o+=T},i.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var T=1;T<N.length-8;++T)N[T]=0;var D=8*this.o;for(T=N.length-8;T<N.length;++T)N[T]=D&255,D/=256;for(this.u(N),N=Array(16),T=D=0;4>T;++T)for(var O=0;32>O;O+=8)N[D++]=this.g[T]>>>O&255;return N};function u(N,T){var D=c;return Object.prototype.hasOwnProperty.call(D,N)?D[N]:D[N]=T(N)}function f(N,T){this.h=T;for(var D=[],O=!0,V=N.length-1;0<=V;V--){var q=N[V]|0;O&&q==T||(D[V]=q,O=!1)}this.g=D}var c={};function _(N){return-128<=N&&128>N?u(N,function(T){return new f([T|0],0>T?-1:0)}):new f([N|0],0>N?-1:0)}function v(N){if(isNaN(N)||!isFinite(N))return m;if(0>N)return R(v(-N));for(var T=[],D=1,O=0;N>=D;O++)T[O]=N/D|0,D*=4294967296;return new f(T,0)}function w(N,T){if(N.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(N.charAt(0)=="-")return R(w(N.substring(1),T));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=v(Math.pow(T,8)),O=m,V=0;V<N.length;V+=8){var q=Math.min(8,N.length-V),U=parseInt(N.substring(V,V+q),T);8>q?(q=v(Math.pow(T,q)),O=O.j(q).add(v(U))):(O=O.j(D),O=O.add(v(U)))}return O}var m=_(0),p=_(1),b=_(16777216);a=f.prototype,a.m=function(){if(y(this))return-R(this).m();for(var N=0,T=1,D=0;D<this.g.length;D++){var O=this.i(D);N+=(0<=O?O:4294967296+O)*T,T*=4294967296}return N},a.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(g(this))return"0";if(y(this))return"-"+R(this).toString(N);for(var T=v(Math.pow(N,6)),D=this,O="";;){var V=M(D,T).g;D=E(D,V.j(T));var q=((0<D.g.length?D.g[0]:D.h)>>>0).toString(N);if(D=V,g(D))return q+O;for(;6>q.length;)q="0"+q;O=q+O}},a.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function g(N){if(N.h!=0)return!1;for(var T=0;T<N.g.length;T++)if(N.g[T]!=0)return!1;return!0}function y(N){return N.h==-1}a.l=function(N){return N=E(this,N),y(N)?-1:g(N)?0:1};function R(N){for(var T=N.g.length,D=[],O=0;O<T;O++)D[O]=~N.g[O];return new f(D,~N.h).add(p)}a.abs=function(){return y(this)?R(this):this},a.add=function(N){for(var T=Math.max(this.g.length,N.g.length),D=[],O=0,V=0;V<=T;V++){var q=O+(this.i(V)&65535)+(N.i(V)&65535),U=(q>>>16)+(this.i(V)>>>16)+(N.i(V)>>>16);O=U>>>16,q&=65535,U&=65535,D[V]=U<<16|q}return new f(D,D[D.length-1]&-2147483648?-1:0)};function E(N,T){return N.add(R(T))}a.j=function(N){if(g(this)||g(N))return m;if(y(this))return y(N)?R(this).j(R(N)):R(R(this).j(N));if(y(N))return R(this.j(R(N)));if(0>this.l(b)&&0>N.l(b))return v(this.m()*N.m());for(var T=this.g.length+N.g.length,D=[],O=0;O<2*T;O++)D[O]=0;for(O=0;O<this.g.length;O++)for(var V=0;V<N.g.length;V++){var q=this.i(O)>>>16,U=this.i(O)&65535,he=N.i(V)>>>16,fe=N.i(V)&65535;D[2*O+2*V]+=U*fe,S(D,2*O+2*V),D[2*O+2*V+1]+=q*fe,S(D,2*O+2*V+1),D[2*O+2*V+1]+=U*he,S(D,2*O+2*V+1),D[2*O+2*V+2]+=q*he,S(D,2*O+2*V+2)}for(O=0;O<T;O++)D[O]=D[2*O+1]<<16|D[2*O];for(O=T;O<2*T;O++)D[O]=0;return new f(D,0)};function S(N,T){for(;(N[T]&65535)!=N[T];)N[T+1]+=N[T]>>>16,N[T]&=65535,T++}function x(N,T){this.g=N,this.h=T}function M(N,T){if(g(T))throw Error("division by zero");if(g(N))return new x(m,m);if(y(N))return T=M(R(N),T),new x(R(T.g),R(T.h));if(y(T))return T=M(N,R(T)),new x(R(T.g),T.h);if(30<N.g.length){if(y(N)||y(T))throw Error("slowDivide_ only works with positive integers.");for(var D=p,O=T;0>=O.l(N);)D=j(D),O=j(O);var V=B(D,1),q=B(O,1);for(O=B(O,2),D=B(D,2);!g(O);){var U=q.add(O);0>=U.l(N)&&(V=V.add(D),q=U),O=B(O,1),D=B(D,1)}return T=E(N,V.j(T)),new x(V,T)}for(V=m;0<=N.l(T);){for(D=Math.max(1,Math.floor(N.m()/T.m())),O=Math.ceil(Math.log(D)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),q=v(D),U=q.j(T);y(U)||0<U.l(N);)D-=O,q=v(D),U=q.j(T);g(q)&&(q=p),V=V.add(q),N=E(N,U)}return new x(V,N)}a.A=function(N){return M(this,N).h},a.and=function(N){for(var T=Math.max(this.g.length,N.g.length),D=[],O=0;O<T;O++)D[O]=this.i(O)&N.i(O);return new f(D,this.h&N.h)},a.or=function(N){for(var T=Math.max(this.g.length,N.g.length),D=[],O=0;O<T;O++)D[O]=this.i(O)|N.i(O);return new f(D,this.h|N.h)},a.xor=function(N){for(var T=Math.max(this.g.length,N.g.length),D=[],O=0;O<T;O++)D[O]=this.i(O)^N.i(O);return new f(D,this.h^N.h)};function j(N){for(var T=N.g.length+1,D=[],O=0;O<T;O++)D[O]=N.i(O)<<1|N.i(O-1)>>>31;return new f(D,N.h)}function B(N,T){var D=T>>5;T%=32;for(var O=N.g.length-D,V=[],q=0;q<O;q++)V[q]=0<T?N.i(q+D)>>>T|N.i(q+D+1)<<32-T:N.i(q+D);return new f(V,N.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,nb=i,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=v,f.fromString=w,wa=f}).apply(typeof Av<"u"?Av:typeof self<"u"?self:typeof window<"u"?window:{});var ec=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var rb,al,ab,uc,xd,ib,sb,ob;(function(){var a,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,C,I){return h==Array.prototype||h==Object.prototype||(h[C]=I.value),h};function r(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof ec=="object"&&ec];for(var C=0;C<h.length;++C){var I=h[C];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var i=r(this);function o(h,C){if(C)e:{var I=i;h=h.split(".");for(var z=0;z<h.length-1;z++){var Q=h[z];if(!(Q in I))break e;I=I[Q]}h=h[h.length-1],z=I[h],C=C(z),C!=z&&C!=null&&e(I,h,{configurable:!0,writable:!0,value:C})}}function u(h,C){h instanceof String&&(h+="");var I=0,z=!1,Q={next:function(){if(!z&&I<h.length){var ee=I++;return{value:C(ee,h[ee]),done:!1}}return z=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}o("Array.prototype.values",function(h){return h||function(){return u(this,function(C,I){return I})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},c=this||self;function _(h){var C=typeof h;return C=C!="object"?C:h?Array.isArray(h)?"array":C:"null",C=="array"||C=="object"&&typeof h.length=="number"}function v(h){var C=typeof h;return C=="object"&&h!=null||C=="function"}function w(h,C,I){return h.call.apply(h.bind,arguments)}function m(h,C,I){if(!h)throw Error();if(2<arguments.length){var z=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,z),h.apply(C,Q)}}return function(){return h.apply(C,arguments)}}function p(h,C,I){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:m,p.apply(null,arguments)}function b(h,C){var I=Array.prototype.slice.call(arguments,1);return function(){var z=I.slice();return z.push.apply(z,arguments),h.apply(this,z)}}function g(h,C){function I(){}I.prototype=C.prototype,h.aa=C.prototype,h.prototype=new I,h.prototype.constructor=h,h.Qb=function(z,Q,ee){for(var ce=Array(arguments.length-2),je=2;je<arguments.length;je++)ce[je-2]=arguments[je];return C.prototype[Q].apply(z,ce)}}function y(h){const C=h.length;if(0<C){const I=Array(C);for(let z=0;z<C;z++)I[z]=h[z];return I}return[]}function R(h,C){for(let I=1;I<arguments.length;I++){const z=arguments[I];if(_(z)){const Q=h.length||0,ee=z.length||0;h.length=Q+ee;for(let ce=0;ce<ee;ce++)h[Q+ce]=z[ce]}else h.push(z)}}class E{constructor(C,I){this.i=C,this.j=I,this.h=0,this.g=null}get(){let C;return 0<this.h?(this.h--,C=this.g,this.g=C.next,C.next=null):C=this.i(),C}}function S(h){return/^[\s\xa0]*$/.test(h)}function x(){var h=c.navigator;return h&&(h=h.userAgent)?h:""}function M(h){return M[" "](h),h}M[" "]=function(){};var j=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function B(h,C,I){for(const z in h)C.call(I,h[z],z,h)}function N(h,C){for(const I in h)C.call(void 0,h[I],I,h)}function T(h){const C={};for(const I in h)C[I]=h[I];return C}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(h,C){let I,z;for(let Q=1;Q<arguments.length;Q++){z=arguments[Q];for(I in z)h[I]=z[I];for(let ee=0;ee<D.length;ee++)I=D[ee],Object.prototype.hasOwnProperty.call(z,I)&&(h[I]=z[I])}}function V(h){var C=1;h=h.split(":");const I=[];for(;0<C&&h.length;)I.push(h.shift()),C--;return h.length&&I.push(h.join(":")),I}function q(h){c.setTimeout(()=>{throw h},0)}function U(){var h=Se;let C=null;return h.g&&(C=h.g,h.g=h.g.next,h.g||(h.h=null),C.next=null),C}class he{constructor(){this.h=this.g=null}add(C,I){const z=fe.get();z.set(C,I),this.h?this.h.next=z:this.g=z,this.h=z}}var fe=new E(()=>new X,h=>h.reset());class X{constructor(){this.next=this.g=this.h=null}set(C,I){this.h=C,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let se,de=!1,Se=new he,$=()=>{const h=c.Promise.resolve(void 0);se=()=>{h.then(te)}};var te=()=>{for(var h;h=U();){try{h.h.call(h.g)}catch(I){q(I)}var C=fe;C.j(h),100>C.h&&(C.h++,h.next=C.g,C.g=h)}de=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(h,C){this.type=h,this.g=this.target=C,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,C=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const I=()=>{};c.addEventListener("test",I,C),c.removeEventListener("test",I,C)}catch{}return h}();function xe(h,C){if(oe.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var I=this.type=h.type,z=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=C,C=h.relatedTarget){if(j){e:{try{M(C.nodeName);var Q=!0;break e}catch{}Q=!1}Q||(C=null)}}else I=="mouseover"?C=h.fromElement:I=="mouseout"&&(C=h.toElement);this.relatedTarget=C,z?(this.clientX=z.clientX!==void 0?z.clientX:z.pageX,this.clientY=z.clientY!==void 0?z.clientY:z.pageY,this.screenX=z.screenX||0,this.screenY=z.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Ee[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&xe.aa.h.call(this)}}g(xe,oe);var Ee={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var nt="closure_listenable_"+(1e6*Math.random()|0),et=0;function qn(h,C,I,z,Q){this.listener=h,this.proxy=null,this.src=C,this.type=I,this.capture=!!z,this.ha=Q,this.key=++et,this.da=this.fa=!1}function $r(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function dr(h){this.src=h,this.g={},this.h=0}dr.prototype.add=function(h,C,I,z,Q){var ee=h.toString();h=this.g[ee],h||(h=this.g[ee]=[],this.h++);var ce=La(h,C,z,Q);return-1<ce?(C=h[ce],I||(C.fa=!1)):(C=new qn(C,this.src,ee,!!z,Q),C.fa=I,h.push(C)),C};function Pa(h,C){var I=C.type;if(I in h.g){var z=h.g[I],Q=Array.prototype.indexOf.call(z,C,void 0),ee;(ee=0<=Q)&&Array.prototype.splice.call(z,Q,1),ee&&($r(C),h.g[I].length==0&&(delete h.g[I],h.h--))}}function La(h,C,I,z){for(var Q=0;Q<h.length;++Q){var ee=h[Q];if(!ee.da&&ee.listener==C&&ee.capture==!!I&&ee.ha==z)return Q}return-1}var Ua="closure_lm_"+(1e6*Math.random()|0),Fs={};function Dl(h,C,I,z,Q){if(Array.isArray(C)){for(var ee=0;ee<C.length;ee++)Dl(h,C[ee],I,z,Q);return null}return I=Ol(I),h&&h[nt]?h.K(C,I,v(z)?!!z.capture:!1,Q):gn(h,C,I,!1,z,Q)}function gn(h,C,I,z,Q,ee){if(!C)throw Error("Invalid event type");var ce=v(Q)?!!Q.capture:!!Q,je=Oi(h);if(je||(h[Ua]=je=new dr(h)),I=je.add(C,I,z,ce,ee),I.proxy)return I;if(z=th(),I.proxy=z,z.src=h,z.listener=I,h.addEventListener)ge||(Q=ce),Q===void 0&&(Q=!1),h.addEventListener(C.toString(),z,Q);else if(h.attachEvent)h.attachEvent(za(C.toString()),z);else if(h.addListener&&h.removeListener)h.addListener(z);else throw Error("addEventListener and attachEvent are unavailable.");return I}function th(){function h(I){return C.call(h.src,h.listener,I)}const C=nh;return h}function Gs(h,C,I,z,Q){if(Array.isArray(C))for(var ee=0;ee<C.length;ee++)Gs(h,C[ee],I,z,Q);else z=v(z)?!!z.capture:!!z,I=Ol(I),h&&h[nt]?(h=h.i,C=String(C).toString(),C in h.g&&(ee=h.g[C],I=La(ee,I,z,Q),-1<I&&($r(ee[I]),Array.prototype.splice.call(ee,I,1),ee.length==0&&(delete h.g[C],h.h--)))):h&&(h=Oi(h))&&(C=h.g[C.toString()],h=-1,C&&(h=La(C,I,z,Q)),(I=-1<h?C[h]:null)&&Di(I))}function Di(h){if(typeof h!="number"&&h&&!h.da){var C=h.src;if(C&&C[nt])Pa(C.i,h);else{var I=h.type,z=h.proxy;C.removeEventListener?C.removeEventListener(I,z,h.capture):C.detachEvent?C.detachEvent(za(I),z):C.addListener&&C.removeListener&&C.removeListener(z),(I=Oi(C))?(Pa(I,h),I.h==0&&(I.src=null,C[Ua]=null)):$r(h)}}}function za(h){return h in Fs?Fs[h]:Fs[h]="on"+h}function nh(h,C){if(h.da)h=!0;else{C=new xe(C,this);var I=h.listener,z=h.ha||h.src;h.fa&&Di(h),h=I.call(z,C)}return h}function Oi(h){return h=h[Ua],h instanceof dr?h:null}var Qs="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ol(h){return typeof h=="function"?h:(h[Qs]||(h[Qs]=function(C){return h.handleEvent(C)}),h[Qs])}function ut(){ue.call(this),this.i=new dr(this),this.M=this,this.F=null}g(ut,ue),ut.prototype[nt]=!0,ut.prototype.removeEventListener=function(h,C,I,z){Gs(this,h,C,I,z)};function Fe(h,C){var I,z=h.F;if(z)for(I=[];z;z=z.F)I.push(z);if(h=h.M,z=C.type||C,typeof C=="string")C=new oe(C,h);else if(C instanceof oe)C.target=C.target||h;else{var Q=C;C=new oe(z,h),O(C,Q)}if(Q=!0,I)for(var ee=I.length-1;0<=ee;ee--){var ce=C.g=I[ee];Q=sn(ce,z,!0,C)&&Q}if(ce=C.g=h,Q=sn(ce,z,!0,C)&&Q,Q=sn(ce,z,!1,C)&&Q,I)for(ee=0;ee<I.length;ee++)ce=C.g=I[ee],Q=sn(ce,z,!1,C)&&Q}ut.prototype.N=function(){if(ut.aa.N.call(this),this.i){var h=this.i,C;for(C in h.g){for(var I=h.g[C],z=0;z<I.length;z++)$r(I[z]);delete h.g[C],h.h--}}this.F=null},ut.prototype.K=function(h,C,I,z){return this.i.add(String(h),C,!1,I,z)},ut.prototype.L=function(h,C,I,z){return this.i.add(String(h),C,!0,I,z)};function sn(h,C,I,z){if(C=h.i.g[String(C)],!C)return!0;C=C.concat();for(var Q=!0,ee=0;ee<C.length;++ee){var ce=C[ee];if(ce&&!ce.da&&ce.capture==I){var je=ce.listener,At=ce.ha||ce.src;ce.fa&&Pa(h.i,ce),Q=je.call(At,z)!==!1&&Q}}return Q&&!z.defaultPrevented}function Ht(h,C,I){if(typeof h=="function")I&&(h=p(h,I));else if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(C)?-1:c.setTimeout(h,C||0)}function Il(h){h.g=Ht(()=>{h.g=null,h.i&&(h.i=!1,Il(h))},h.l);const C=h.h;h.h=null,h.m.apply(null,C)}class rh extends ue{constructor(C,I){super(),this.m=C,this.l=I,this.h=null,this.i=!1,this.g=null}j(C){this.h=arguments,this.g?this.i=!0:Il(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ba(h){ue.call(this),this.h=h,this.g={}}g(Ba,ue);var qa=[];function Ha(h){B(h.g,function(C,I){this.g.hasOwnProperty(I)&&Di(C)},h),h.g={}}Ba.prototype.N=function(){Ba.aa.N.call(this),Ha(this)},Ba.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var In=c.JSON.stringify,Ii=c.JSON.parse,$a=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Ys(){}Ys.prototype.h=null;function Ks(h){return h.h||(h.h=h.i())}function Xs(){}var mr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pr(){oe.call(this,"d")}g(pr,oe);function Ws(){oe.call(this,"c")}g(Ws,oe);var Hn={},Zs=null;function Fr(){return Zs=Zs||new ut}Hn.La="serverreachability";function Ni(h){oe.call(this,Hn.La,h)}g(Ni,oe);function Gr(h){const C=Fr();Fe(C,new Ni(C))}Hn.STAT_EVENT="statevent";function Nl(h,C){oe.call(this,Hn.STAT_EVENT,h),this.stat=C}g(Nl,oe);function rt(h){const C=Fr();Fe(C,new Nl(C,h))}Hn.Ma="timingevent";function Et(h,C){oe.call(this,Hn.Ma,h),this.size=C}g(Et,oe);function gt(h,C){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},C)}function yn(){this.g=!0}yn.prototype.xa=function(){this.g=!1};function Js(h,C,I,z,Q,ee){h.info(function(){if(h.g)if(ee)for(var ce="",je=ee.split("&"),At=0;At<je.length;At++){var Pe=je[At].split("=");if(1<Pe.length){var Ot=Pe[0];Pe=Pe[1];var wt=Ot.split("_");ce=2<=wt.length&&wt[1]=="type"?ce+(Ot+"="+Pe+"&"):ce+(Ot+"=redacted&")}}else ce=null;else ce=ee;return"XMLHTTP REQ ("+z+") [attempt "+Q+"]: "+C+`
`+I+`
`+ce})}function ah(h,C,I,z,Q,ee,ce){h.info(function(){return"XMLHTTP RESP ("+z+") [ attempt "+Q+"]: "+C+`
`+I+`
`+ee+" "+ce})}function Qr(h,C,I,z){h.info(function(){return"XMLHTTP TEXT ("+C+"): "+Fa(h,I)+(z?" "+z:"")})}function kl(h,C){h.info(function(){return"TIMEOUT: "+C})}yn.prototype.info=function(){};function Fa(h,C){if(!h.g)return C;if(!C)return null;try{var I=JSON.parse(C);if(I){for(h=0;h<I.length;h++)if(Array.isArray(I[h])){var z=I[h];if(!(2>z.length)){var Q=z[1];if(Array.isArray(Q)&&!(1>Q.length)){var ee=Q[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(var ce=1;ce<Q.length;ce++)Q[ce]=""}}}}return In(I)}catch{return C}}var Yr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},gr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},$n;function Fn(){}g(Fn,Ys),Fn.prototype.g=function(){return new XMLHttpRequest},Fn.prototype.i=function(){return{}},$n=new Fn;function Xt(h,C,I,z){this.j=h,this.i=C,this.l=I,this.R=z||1,this.U=new Ba(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ft}function ft(){this.i=null,this.g="",this.h=!1}var eo={},ki={};function Nn(h,C,I){h.L=1,h.v=Xa(on(C)),h.m=I,h.P=!0,yr(h,null)}function yr(h,C){h.F=Date.now(),Ga(h),h.A=on(h.v);var I=h.A,z=h.R;Array.isArray(z)||(z=[String(z)]),so(I.i,"t",z),h.C=0,I=h.j.J,h.h=new ft,h.g=Kl(h.j,I?C:null,!h.m),0<h.O&&(h.M=new rh(p(h.Y,h,h.g),h.O)),C=h.U,I=h.g,z=h.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(qa[0]=Q.toString()),Q=qa);for(var ee=0;ee<Q.length;ee++){var ce=Dl(I,Q[ee],z||C.handleEvent,!1,C.h||C);if(!ce)break;C.g[ce.key]=ce}C=h.H?T(h.H):{},h.m?(h.u||(h.u="POST"),C["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,C)):(h.u="GET",h.g.ea(h.A,h.u,null,C)),Gr(),Js(h.i,h.u,h.A,h.l,h.R,h.m)}Xt.prototype.ca=function(h){h=h.target;const C=this.M;C&&En(h)==3?C.j():this.Y(h)},Xt.prototype.Y=function(h){try{if(h==this.g)e:{const wt=En(this.g);var C=this.g.Ba();const Sr=this.g.Z();if(!(3>wt)&&(wt!=3||this.g&&(this.h.h||this.g.oa()||Bl(this.g)))){this.J||wt!=4||C==7||(C==8||0>=Sr?Gr(3):Gr(2)),Kr(this);var I=this.g.Z();this.X=I;t:if(Ml(this)){var z=Bl(this.g);h="";var Q=z.length,ee=En(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Vt(this),Gn(this);var ce="";break t}this.h.i=new c.TextDecoder}for(C=0;C<Q;C++)this.h.h=!0,h+=this.h.i.decode(z[C],{stream:!(ee&&C==Q-1)});z.length=0,this.h.g+=h,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=I==200,ah(this.i,this.u,this.A,this.l,this.R,wt,I),this.o){if(this.T&&!this.K){t:{if(this.g){var je,At=this.g;if((je=At.g?At.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(je)){var Pe=je;break t}}Pe=null}if(I=Pe)Qr(this.i,this.l,I,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qa(this,I);else{this.o=!1,this.s=3,rt(12),Vt(this),Gn(this);break e}}if(this.P){I=!0;let jt;for(;!this.J&&this.C<ce.length;)if(jt=Vl(this,ce),jt==ki){wt==4&&(this.s=4,rt(14),I=!1),Qr(this.i,this.l,null,"[Incomplete Response]");break}else if(jt==eo){this.s=4,rt(15),Qr(this.i,this.l,ce,"[Invalid Chunk]"),I=!1;break}else Qr(this.i,this.l,jt,null),Qa(this,jt);if(Ml(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||ce.length!=0||this.h.h||(this.s=1,rt(16),I=!1),this.o=this.o&&I,!I)Qr(this.i,this.l,ce,"[Invalid Chunked Response]"),Vt(this),Gn(this);else if(0<ce.length&&!this.W){this.W=!0;var Ot=this.j;Ot.g==this&&Ot.ba&&!Ot.M&&(Ot.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),ai(Ot),Ot.M=!0,rt(11))}}else Qr(this.i,this.l,ce,null),Qa(this,ce);wt==4&&Vt(this),this.o&&!this.J&&(wt==4?Gl(this.j,this):(this.o=!1,Ga(this)))}else uh(this.g),I==400&&0<ce.indexOf("Unknown SID")?(this.s=3,rt(12)):(this.s=0,rt(13)),Vt(this),Gn(this)}}}catch{}finally{}};function Ml(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Vl(h,C){var I=h.C,z=C.indexOf(`
`,I);return z==-1?ki:(I=Number(C.substring(I,z)),isNaN(I)?eo:(z+=1,z+I>C.length?ki:(C=C.slice(z,z+I),h.C=z+I,C)))}Xt.prototype.cancel=function(){this.J=!0,Vt(this)};function Ga(h){h.S=Date.now()+h.I,jl(h,h.I)}function jl(h,C){if(h.B!=null)throw Error("WatchDog timer not null");h.B=gt(p(h.ba,h),C)}function Kr(h){h.B&&(c.clearTimeout(h.B),h.B=null)}Xt.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(kl(this.i,this.A),this.L!=2&&(Gr(),rt(17)),Vt(this),this.s=2,Gn(this)):jl(this,this.S-h)};function Gn(h){h.j.G==0||h.J||Gl(h.j,h)}function Vt(h){Kr(h);var C=h.M;C&&typeof C.ma=="function"&&C.ma(),h.M=null,Ha(h.U),h.g&&(C=h.g,h.g=null,C.abort(),C.ma())}function Qa(h,C){try{var I=h.j;if(I.G!=0&&(I.g==h||to(I.h,h))){if(!h.K&&to(I.h,h)&&I.G==3){try{var z=I.Da.g.parse(C)}catch{z=null}if(Array.isArray(z)&&z.length==3){var Q=z;if(Q[0]==0){e:if(!I.u){if(I.g)if(I.g.F+3e3<h.F)Fi(I),Hi(I);else break e;ho(I),rt(18)}}else I.za=Q[1],0<I.za-I.T&&37500>Q[2]&&I.F&&I.v==0&&!I.C&&(I.C=gt(p(I.Za,I),6e3));if(1>=Vi(I.h)&&I.ca){try{I.ca()}catch{}I.ca=void 0}}else Tr(I,11)}else if((h.K||I.g==h)&&Fi(I),!S(C))for(Q=I.Da.g.parse(C),C=0;C<Q.length;C++){let Pe=Q[C];if(I.T=Pe[0],Pe=Pe[1],I.G==2)if(Pe[0]=="c"){I.K=Pe[1],I.ia=Pe[2];const Ot=Pe[3];Ot!=null&&(I.la=Ot,I.j.info("VER="+I.la));const wt=Pe[4];wt!=null&&(I.Aa=wt,I.j.info("SVER="+I.Aa));const Sr=Pe[5];Sr!=null&&typeof Sr=="number"&&0<Sr&&(z=1.5*Sr,I.L=z,I.j.info("backChannelRequestTimeoutMs_="+z)),z=I;const jt=h.g;if(jt){const Jn=jt.g?jt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jn){var ee=z.h;ee.g||Jn.indexOf("spdy")==-1&&Jn.indexOf("quic")==-1&&Jn.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(ji(ee,ee.h),ee.h=null))}if(z.D){const mo=jt.g?jt.g.getResponseHeader("X-HTTP-Session-Id"):null;mo&&(z.ya=mo,Ke(z.I,z.D,mo))}}I.G=3,I.l&&I.l.ua(),I.ba&&(I.R=Date.now()-h.F,I.j.info("Handshake RTT: "+I.R+"ms")),z=I;var ce=h;if(z.qa=Yl(z,z.J?z.ia:null,z.W),ce.K){Wt(z.h,ce);var je=ce,At=z.L;At&&(je.I=At),je.B&&(Kr(je),Ga(je)),z.g=ce}else $l(z);0<I.i.length&&$i(I)}else Pe[0]!="stop"&&Pe[0]!="close"||Tr(I,7);else I.G==3&&(Pe[0]=="stop"||Pe[0]=="close"?Pe[0]=="stop"?Tr(I,7):uo(I):Pe[0]!="noop"&&I.l&&I.l.ta(Pe),I.v=0)}}Gr(4)}catch{}}var Pl=class{constructor(h,C){this.g=h,this.map=C}};function vr(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Mi(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Vi(h){return h.h?1:h.g?h.g.size:0}function to(h,C){return h.h?h.h==C:h.g?h.g.has(C):!1}function ji(h,C){h.g?h.g.add(C):h.h=C}function Wt(h,C){h.h&&h.h==C?h.h=null:h.g&&h.g.has(C)&&h.g.delete(C)}vr.prototype.cancel=function(){if(this.i=no(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function no(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let C=h.i;for(const I of h.g.values())C=C.concat(I.D);return C}return y(h.i)}function ih(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(_(h)){for(var C=[],I=h.length,z=0;z<I;z++)C.push(h[z]);return C}C=[],I=0;for(z in h)C[I++]=h[z];return C}function Pi(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(_(h)||typeof h=="string"){var C=[];h=h.length;for(var I=0;I<h;I++)C.push(I);return C}C=[],I=0;for(const z in h)C[I++]=z;return C}}}function ro(h,C){if(h.forEach&&typeof h.forEach=="function")h.forEach(C,void 0);else if(_(h)||typeof h=="string")Array.prototype.forEach.call(h,C,void 0);else for(var I=Pi(h),z=ih(h),Q=z.length,ee=0;ee<Q;ee++)C.call(void 0,z[ee],I&&I[ee],h)}var Ya=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sh(h,C){if(h){h=h.split("&");for(var I=0;I<h.length;I++){var z=h[I].indexOf("="),Q=null;if(0<=z){var ee=h[I].substring(0,z);Q=h[I].substring(z+1)}else ee=h[I];C(ee,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function yt(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof yt){this.h=h.h,Ka(this,h.j),this.o=h.o,this.g=h.g,Xr(this,h.s),this.l=h.l;var C=h.i,I=new br;I.i=C.i,C.g&&(I.g=new Map(C.g),I.h=C.h),_r(this,I),this.m=h.m}else h&&(C=String(h).match(Ya))?(this.h=!1,Ka(this,C[1]||"",!0),this.o=vn(C[2]||""),this.g=vn(C[3]||"",!0),Xr(this,C[4]),this.l=vn(C[5]||"",!0),_r(this,C[6]||"",!0),this.m=vn(C[7]||"")):(this.h=!1,this.i=new br(null,this.h))}yt.prototype.toString=function(){var h=[],C=this.j;C&&h.push(Wa(C,ao,!0),":");var I=this.g;return(I||C=="file")&&(h.push("//"),(C=this.o)&&h.push(Wa(C,ao,!0),"@"),h.push(encodeURIComponent(String(I)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.s,I!=null&&h.push(":",String(I))),(I=this.l)&&(this.g&&I.charAt(0)!="/"&&h.push("/"),h.push(Wa(I,I.charAt(0)=="/"?oh:io,!0))),(I=this.i.toString())&&h.push("?",I),(I=this.m)&&h.push("#",Wa(I,Li)),h.join("")};function on(h){return new yt(h)}function Ka(h,C,I){h.j=I?vn(C,!0):C,h.j&&(h.j=h.j.replace(/:$/,""))}function Xr(h,C){if(C){if(C=Number(C),isNaN(C)||0>C)throw Error("Bad port number "+C);h.s=C}else h.s=null}function _r(h,C,I){C instanceof br?(h.i=C,Ul(h.i,h.h)):(I||(C=Wa(C,lh)),h.i=new br(C,h.h))}function Ke(h,C,I){h.i.set(C,I)}function Xa(h){return Ke(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function vn(h,C){return h?C?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Wa(h,C,I){return typeof h=="string"?(h=encodeURI(h).replace(C,Ll),I&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Ll(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var ao=/[#\/\?@]/g,io=/[#\?:]/g,oh=/[#\?]/g,lh=/[#\?@]/g,Li=/#/g;function br(h,C){this.h=this.g=null,this.i=h||null,this.j=!!C}function _n(h){h.g||(h.g=new Map,h.h=0,h.i&&sh(h.i,function(C,I){h.add(decodeURIComponent(C.replace(/\+/g," ")),I)}))}a=br.prototype,a.add=function(h,C){_n(this),this.i=null,h=Qn(this,h);var I=this.g.get(h);return I||this.g.set(h,I=[]),I.push(C),this.h+=1,this};function Er(h,C){_n(h),C=Qn(h,C),h.g.has(C)&&(h.i=null,h.h-=h.g.get(C).length,h.g.delete(C))}function Ar(h,C){return _n(h),C=Qn(h,C),h.g.has(C)}a.forEach=function(h,C){_n(this),this.g.forEach(function(I,z){I.forEach(function(Q){h.call(C,Q,z,this)},this)},this)},a.na=function(){_n(this);const h=Array.from(this.g.values()),C=Array.from(this.g.keys()),I=[];for(let z=0;z<C.length;z++){const Q=h[z];for(let ee=0;ee<Q.length;ee++)I.push(C[z])}return I},a.V=function(h){_n(this);let C=[];if(typeof h=="string")Ar(this,h)&&(C=C.concat(this.g.get(Qn(this,h))));else{h=Array.from(this.g.values());for(let I=0;I<h.length;I++)C=C.concat(h[I])}return C},a.set=function(h,C){return _n(this),this.i=null,h=Qn(this,h),Ar(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[C]),this.h+=1,this},a.get=function(h,C){return h?(h=this.V(h),0<h.length?String(h[0]):C):C};function so(h,C,I){Er(h,C),0<I.length&&(h.i=null,h.g.set(Qn(h,C),y(I)),h.h+=I.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],C=Array.from(this.g.keys());for(var I=0;I<C.length;I++){var z=C[I];const ee=encodeURIComponent(String(z)),ce=this.V(z);for(z=0;z<ce.length;z++){var Q=ee;ce[z]!==""&&(Q+="="+encodeURIComponent(String(ce[z]))),h.push(Q)}}return this.i=h.join("&")};function Qn(h,C){return C=String(C),h.j&&(C=C.toLowerCase()),C}function Ul(h,C){C&&!h.j&&(_n(h),h.i=null,h.g.forEach(function(I,z){var Q=z.toLowerCase();z!=Q&&(Er(this,z),so(this,Q,I))},h)),h.j=C}function Za(h,C){const I=new yn;if(c.Image){const z=new Image;z.onload=b(bn,I,"TestLoadImage: loaded",!0,C,z),z.onerror=b(bn,I,"TestLoadImage: error",!1,C,z),z.onabort=b(bn,I,"TestLoadImage: abort",!1,C,z),z.ontimeout=b(bn,I,"TestLoadImage: timeout",!1,C,z),c.setTimeout(function(){z.ontimeout&&z.ontimeout()},1e4),z.src=h}else C(!1)}function kn(h,C){const I=new yn,z=new AbortController,Q=setTimeout(()=>{z.abort(),bn(I,"TestPingServer: timeout",!1,C)},1e4);fetch(h,{signal:z.signal}).then(ee=>{clearTimeout(Q),ee.ok?bn(I,"TestPingServer: ok",!0,C):bn(I,"TestPingServer: server error",!1,C)}).catch(()=>{clearTimeout(Q),bn(I,"TestPingServer: error",!1,C)})}function bn(h,C,I,z,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),z(I)}catch{}}function Ja(){this.g=new $a}function Yn(h,C,I){const z=I||"";try{ro(h,function(Q,ee){let ce=Q;v(Q)&&(ce=In(Q)),C.push(z+ee+"="+encodeURIComponent(ce))})}catch(Q){throw C.push(z+"type="+encodeURIComponent("_badmap")),Q}}function Wr(h){this.l=h.Ub||null,this.j=h.eb||!1}g(Wr,Ys),Wr.prototype.g=function(){return new wr(this.l,this.j)},Wr.prototype.i=function(h){return function(){return h}}({});function wr(h,C){ut.call(this),this.D=h,this.o=C,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(wr,ut),a=wr.prototype,a.open=function(h,C){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=C,this.readyState=1,Xn(this)},a.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const C={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(C.body=h),(this.D||c).fetch(new Request(this.A,C)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Kn(this)),this.readyState=0},a.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;oo(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function oo(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}a.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var C=h.value?h.value:new Uint8Array(0);(C=this.v.decode(C,{stream:!h.done}))&&(this.response=this.responseText+=C)}h.done?Kn(this):Xn(this),this.readyState==3&&oo(this)}},a.Ra=function(h){this.g&&(this.response=this.responseText=h,Kn(this))},a.Qa=function(h){this.g&&(this.response=h,Kn(this))},a.ga=function(){this.g&&Kn(this)};function Kn(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Xn(h)}a.setRequestHeader=function(h,C){this.u.append(h,C)},a.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],C=this.h.entries();for(var I=C.next();!I.done;)I=I.value,h.push(I[0]+": "+I[1]),I=C.next();return h.join(`\r
`)};function Xn(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(wr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function lo(h){let C="";return B(h,function(I,z){C+=z,C+=":",C+=I,C+=`\r
`}),C}function Dt(h,C,I){e:{for(z in I){var z=!1;break e}z=!0}z||(I=lo(I),typeof h=="string"?I!=null&&encodeURIComponent(String(I)):Ke(h,C,I))}function He(h){ut.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(He,ut);var Ui=/^https?$/i,ei=["POST","PUT"];a=He.prototype,a.Ha=function(h){this.J=h},a.ea=function(h,C,I,z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);C=C?C.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():$n.g(),this.v=this.o?Ks(this.o):Ks($n),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(C,String(h),!0),this.B=!1}catch(ee){zl(this,ee);return}if(h=I||"",I=new Map(this.headers),z)if(Object.getPrototypeOf(z)===Object.prototype)for(var Q in z)I.set(Q,z[Q]);else if(typeof z.keys=="function"&&typeof z.get=="function")for(const ee of z.keys())I.set(ee,z.get(ee));else throw Error("Unknown input type for opt_headers: "+String(z));z=Array.from(I.keys()).find(ee=>ee.toLowerCase()=="content-type"),Q=c.FormData&&h instanceof c.FormData,!(0<=Array.prototype.indexOf.call(ei,C,void 0))||z||Q||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,ce]of I)this.g.setRequestHeader(ee,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ti(this),this.u=!0,this.g.send(h),this.u=!1}catch(ee){zl(this,ee)}};function zl(h,C){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=C,h.m=5,zi(h),Wn(h)}function zi(h){h.A||(h.A=!0,Fe(h,"complete"),Fe(h,"error"))}a.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Fe(this,"complete"),Fe(this,"abort"),Wn(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wn(this,!0)),He.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?Bi(this):this.bb())},a.bb=function(){Bi(this)};function Bi(h){if(h.h&&typeof f<"u"&&(!h.v[1]||En(h)!=4||h.Z()!=2)){if(h.u&&En(h)==4)Ht(h.Ea,0,h);else if(Fe(h,"readystatechange"),En(h)==4){h.h=!1;try{const ce=h.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var C=!0;break e;default:C=!1}var I;if(!(I=C)){var z;if(z=ce===0){var Q=String(h.D).match(Ya)[1]||null;!Q&&c.self&&c.self.location&&(Q=c.self.location.protocol.slice(0,-1)),z=!Ui.test(Q?Q.toLowerCase():"")}I=z}if(I)Fe(h,"complete"),Fe(h,"success");else{h.m=6;try{var ee=2<En(h)?h.g.statusText:""}catch{ee=""}h.l=ee+" ["+h.Z()+"]",zi(h)}}finally{Wn(h)}}}}function Wn(h,C){if(h.g){ti(h);const I=h.g,z=h.v[0]?()=>{}:null;h.g=null,h.v=null,C||Fe(h,"ready");try{I.onreadystatechange=z}catch{}}}function ti(h){h.I&&(c.clearTimeout(h.I),h.I=null)}a.isActive=function(){return!!this.g};function En(h){return h.g?h.g.readyState:0}a.Z=function(){try{return 2<En(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(h){if(this.g){var C=this.g.responseText;return h&&C.indexOf(h)==0&&(C=C.substring(h.length)),Ii(C)}};function Bl(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function uh(h){const C={};h=(h.g&&2<=En(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let z=0;z<h.length;z++){if(S(h[z]))continue;var I=V(h[z]);const Q=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const ee=C[Q]||[];C[Q]=ee,ee.push(I)}N(C,function(z){return z.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ni(h,C,I){return I&&I.internalChannelParams&&I.internalChannelParams[h]||C}function qi(h){this.Aa=0,this.i=[],this.j=new yn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ni("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ni("baseRetryDelayMs",5e3,h),this.cb=ni("retryDelaySeedMs",1e4,h),this.Wa=ni("forwardChannelMaxRetries",2,h),this.wa=ni("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new vr(h&&h.concurrentRequestLimit),this.Da=new Ja,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=qi.prototype,a.la=8,a.G=1,a.connect=function(h,C,I,z){rt(0),this.W=h,this.H=C||{},I&&z!==void 0&&(this.H.OSID=I,this.H.OAID=z),this.F=this.X,this.I=Yl(this,null,this.W),$i(this)};function uo(h){if(ql(h),h.G==3){var C=h.U++,I=on(h.I);if(Ke(I,"SID",h.K),Ke(I,"RID",C),Ke(I,"TYPE","terminate"),ri(h,I),C=new Xt(h,h.j,C),C.L=2,C.v=Xa(on(I)),I=!1,c.navigator&&c.navigator.sendBeacon)try{I=c.navigator.sendBeacon(C.v.toString(),"")}catch{}!I&&c.Image&&(new Image().src=C.v,I=!0),I||(C.g=Kl(C.j,null),C.g.ea(C.v)),C.F=Date.now(),Ga(C)}Ql(h)}function Hi(h){h.g&&(ai(h),h.g.cancel(),h.g=null)}function ql(h){Hi(h),h.u&&(c.clearTimeout(h.u),h.u=null),Fi(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&c.clearTimeout(h.s),h.s=null)}function $i(h){if(!Mi(h.h)&&!h.s){h.s=!0;var C=h.Ga;se||$(),de||(se(),de=!0),Se.add(C,h),h.B=0}}function ch(h,C){return Vi(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=C.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=gt(p(h.Ga,h,C),fo(h,h.B)),h.B++,!0)}a.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const Q=new Xt(this,this.j,h);let ee=this.o;if(this.S&&(ee?(ee=T(ee),O(ee,this.S)):ee=this.S),this.m!==null||this.O||(Q.H=ee,ee=null),this.P)e:{for(var C=0,I=0;I<this.i.length;I++){t:{var z=this.i[I];if("__data__"in z.map&&(z=z.map.__data__,typeof z=="string")){z=z.length;break t}z=void 0}if(z===void 0)break;if(C+=z,4096<C){C=I;break e}if(C===4096||I===this.i.length-1){C=I+1;break e}}C=1e3}else C=1e3;C=Hl(this,Q,C),I=on(this.I),Ke(I,"RID",h),Ke(I,"CVER",22),this.D&&Ke(I,"X-HTTP-Session-Id",this.D),ri(this,I),ee&&(this.O?C="headers="+encodeURIComponent(String(lo(ee)))+"&"+C:this.m&&Dt(I,this.m,ee)),ji(this.h,Q),this.Ua&&Ke(I,"TYPE","init"),this.P?(Ke(I,"$req",C),Ke(I,"SID","null"),Q.T=!0,Nn(Q,I,null)):Nn(Q,I,C),this.G=2}}else this.G==3&&(h?co(this,h):this.i.length==0||Mi(this.h)||co(this))};function co(h,C){var I;C?I=C.l:I=h.U++;const z=on(h.I);Ke(z,"SID",h.K),Ke(z,"RID",I),Ke(z,"AID",h.T),ri(h,z),h.m&&h.o&&Dt(z,h.m,h.o),I=new Xt(h,h.j,I,h.B+1),h.m===null&&(I.H=h.o),C&&(h.i=C.D.concat(h.i)),C=Hl(h,I,1e3),I.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),ji(h.h,I),Nn(I,z,C)}function ri(h,C){h.H&&B(h.H,function(I,z){Ke(C,z,I)}),h.l&&ro({},function(I,z){Ke(C,z,I)})}function Hl(h,C,I){I=Math.min(h.i.length,I);var z=h.l?p(h.l.Na,h.l,h):null;e:{var Q=h.i;let ee=-1;for(;;){const ce=["count="+I];ee==-1?0<I?(ee=Q[0].g,ce.push("ofs="+ee)):ee=0:ce.push("ofs="+ee);let je=!0;for(let At=0;At<I;At++){let Pe=Q[At].g;const Ot=Q[At].map;if(Pe-=ee,0>Pe)ee=Math.max(0,Q[At].g-100),je=!1;else try{Yn(Ot,ce,"req"+Pe+"_")}catch{z&&z(Ot)}}if(je){z=ce.join("&");break e}}}return h=h.i.splice(0,I),C.D=h,z}function $l(h){if(!h.g&&!h.u){h.Y=1;var C=h.Fa;se||$(),de||(se(),de=!0),Se.add(C,h),h.v=0}}function ho(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=gt(p(h.Fa,h),fo(h,h.v)),h.v++,!0)}a.Fa=function(){if(this.u=null,Fl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=gt(p(this.ab,this),h)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,rt(10),Hi(this),Fl(this))};function ai(h){h.A!=null&&(c.clearTimeout(h.A),h.A=null)}function Fl(h){h.g=new Xt(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var C=on(h.qa);Ke(C,"RID","rpc"),Ke(C,"SID",h.K),Ke(C,"AID",h.T),Ke(C,"CI",h.F?"0":"1"),!h.F&&h.ja&&Ke(C,"TO",h.ja),Ke(C,"TYPE","xmlhttp"),ri(h,C),h.m&&h.o&&Dt(C,h.m,h.o),h.L&&(h.g.I=h.L);var I=h.g;h=h.ia,I.L=1,I.v=Xa(on(C)),I.m=null,I.P=!0,yr(I,h)}a.Za=function(){this.C!=null&&(this.C=null,Hi(this),ho(this),rt(19))};function Fi(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Gl(h,C){var I=null;if(h.g==C){Fi(h),ai(h),h.g=null;var z=2}else if(to(h.h,C))I=C.D,Wt(h.h,C),z=1;else return;if(h.G!=0){if(C.o)if(z==1){I=C.m?C.m.length:0,C=Date.now()-C.F;var Q=h.B;z=Fr(),Fe(z,new Et(z,I)),$i(h)}else $l(h);else if(Q=C.s,Q==3||Q==0&&0<C.X||!(z==1&&ch(h,C)||z==2&&ho(h)))switch(I&&0<I.length&&(C=h.h,C.i=C.i.concat(I)),Q){case 1:Tr(h,5);break;case 4:Tr(h,10);break;case 3:Tr(h,6);break;default:Tr(h,2)}}}function fo(h,C){let I=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(I*=2),I*C}function Tr(h,C){if(h.j.info("Error code "+C),C==2){var I=p(h.fb,h),z=h.Xa;const Q=!z;z=new yt(z||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ka(z,"https"),Xa(z),Q?Za(z.toString(),I):kn(z.toString(),I)}else rt(2);h.G=0,h.l&&h.l.sa(C),Ql(h),ql(h)}a.fb=function(h){h?(this.j.info("Successfully pinged google.com"),rt(2)):(this.j.info("Failed to ping google.com"),rt(1))};function Ql(h){if(h.G=0,h.ka=[],h.l){const C=no(h.h);(C.length!=0||h.i.length!=0)&&(R(h.ka,C),R(h.ka,h.i),h.h.i.length=0,y(h.i),h.i.length=0),h.l.ra()}}function Yl(h,C,I){var z=I instanceof yt?on(I):new yt(I);if(z.g!="")C&&(z.g=C+"."+z.g),Xr(z,z.s);else{var Q=c.location;z=Q.protocol,C=C?C+"."+Q.hostname:Q.hostname,Q=+Q.port;var ee=new yt(null);z&&Ka(ee,z),C&&(ee.g=C),Q&&Xr(ee,Q),I&&(ee.l=I),z=ee}return I=h.D,C=h.ya,I&&C&&Ke(z,I,C),Ke(z,"VER",h.la),ri(h,z),z}function Kl(h,C,I){if(C&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return C=h.Ca&&!h.pa?new He(new Wr({eb:I})):new He(h.pa),C.Ha(h.J),C}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xl(){}a=Xl.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function Gi(){}Gi.prototype.g=function(h,C){return new Zt(h,C)};function Zt(h,C){ut.call(this),this.g=new qi(C),this.l=h,this.h=C&&C.messageUrlParams||null,h=C&&C.messageHeaders||null,C&&C.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=C&&C.initMessageHeaders||null,C&&C.messageContentType&&(h?h["X-WebChannel-Content-Type"]=C.messageContentType:h={"X-WebChannel-Content-Type":C.messageContentType}),C&&C.va&&(h?h["X-WebChannel-Client-Profile"]=C.va:h={"X-WebChannel-Client-Profile":C.va}),this.g.S=h,(h=C&&C.Sb)&&!S(h)&&(this.g.m=h),this.v=C&&C.supportsCrossDomainXhr||!1,this.u=C&&C.sendRawJson||!1,(C=C&&C.httpSessionIdParam)&&!S(C)&&(this.g.D=C,h=this.h,h!==null&&C in h&&(h=this.h,C in h&&delete h[C])),this.j=new Zn(this)}g(Zt,ut),Zt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Zt.prototype.close=function(){uo(this.g)},Zt.prototype.o=function(h){var C=this.g;if(typeof h=="string"){var I={};I.__data__=h,h=I}else this.u&&(I={},I.__data__=In(h),h=I);C.i.push(new Pl(C.Ya++,h)),C.G==3&&$i(C)},Zt.prototype.N=function(){this.g.l=null,delete this.j,uo(this.g),delete this.g,Zt.aa.N.call(this)};function Wl(h){pr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var C=h.__sm__;if(C){e:{for(const I in C){h=I;break e}h=void 0}(this.i=h)&&(h=this.i,C=C!==null&&h in C?C[h]:void 0),this.data=C}else this.data=h}g(Wl,pr);function Zl(){Ws.call(this),this.status=1}g(Zl,Ws);function Zn(h){this.g=h}g(Zn,Xl),Zn.prototype.ua=function(){Fe(this.g,"a")},Zn.prototype.ta=function(h){Fe(this.g,new Wl(h))},Zn.prototype.sa=function(h){Fe(this.g,new Zl)},Zn.prototype.ra=function(){Fe(this.g,"b")},Gi.prototype.createWebChannel=Gi.prototype.g,Zt.prototype.send=Zt.prototype.o,Zt.prototype.open=Zt.prototype.m,Zt.prototype.close=Zt.prototype.close,ob=function(){return new Gi},sb=function(){return Fr()},ib=Hn,xd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Yr.NO_ERROR=0,Yr.TIMEOUT=8,Yr.HTTP_ERROR=6,uc=Yr,gr.COMPLETE="complete",ab=gr,Xs.EventType=mr,mr.OPEN="a",mr.CLOSE="b",mr.ERROR="c",mr.MESSAGE="d",ut.prototype.listen=ut.prototype.K,al=Xs,He.prototype.listenOnce=He.prototype.L,He.prototype.getLastError=He.prototype.Ka,He.prototype.getLastErrorCode=He.prototype.Ba,He.prototype.getStatus=He.prototype.Z,He.prototype.getResponseJson=He.prototype.Oa,He.prototype.getResponseText=He.prototype.oa,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Ha,rb=He}).apply(typeof ec<"u"?ec:typeof self<"u"?self:typeof window<"u"?window:{});const wv="@firebase/firestore",Tv="4.7.14";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qt.UNAUTHENTICATED=new Qt(null),Qt.GOOGLE_CREDENTIALS=new Qt("google-credentials-uid"),Qt.FIRST_PARTY=new Qt("first-party-uid"),Qt.MOCK_USER=new Qt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bs="11.7.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wi=new X_("@firebase/firestore");function ws(){return wi.logLevel}function me(a,...e){if(wi.logLevel<=ze.DEBUG){const r=e.map(am);wi.debug(`Firestore (${Bs}): ${a}`,...r)}}function qr(a,...e){if(wi.logLevel<=ze.ERROR){const r=e.map(am);wi.error(`Firestore (${Bs}): ${a}`,...r)}}function Os(a,...e){if(wi.logLevel<=ze.WARN){const r=e.map(am);wi.warn(`Firestore (${Bs}): ${a}`,...r)}}function am(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(a,e,r){let i="Unexpected state";typeof e=="string"?i=e:r=e,lb(a,i,r)}function lb(a,e,r){let i=`FIRESTORE (${Bs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(r!==void 0)try{i+=" CONTEXT: "+JSON.stringify(r)}catch{i+=" CONTEXT: "+r}throw qr(i),new Error(i)}function $e(a,e,r,i){let o="Unexpected state";typeof r=="string"?o=r:i=r,a||lb(e,o,i)}function Ce(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends zs{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class VT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Qt.UNAUTHENTICATED))}shutdown(){}}class jT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class PT{constructor(e){this.t=e,this.currentUser=Qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){$e(this.o===void 0,42304);let i=this.i;const o=_=>this.i!==i?(i=this.i,r(_)):Promise.resolve();let u=new Ta;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ta,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const _=u;e.enqueueRetryable(async()=>{await _.promise,await o(this.currentUser)})},c=_=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(_=>c(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?c(_):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ta)}},0),f()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(i=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?($e(typeof i.accessToken=="string",31837,{l:i}),new ub(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string",2055,{h:e}),new Qt(e)}}class LT{constructor(e,r,i){this.P=e,this.T=r,this.I=i,this.type="FirstParty",this.user=Qt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class UT{constructor(e,r,i){this.P=e,this.T=r,this.I=i}getToken(){return Promise.resolve(new LT(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable(()=>r(Qt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Sv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zT{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,bT(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){$e(this.o===void 0,3512);const i=u=>{u.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,me("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?r(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>i(u))};const o=u=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Sv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?($e(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new Sv(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let i=0;i<a;i++)r[i]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cb(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=BT(40);for(let u=0;u<o.length;++u)i.length<20&&o[u]<r&&(i+=e.charAt(o[u]%62))}return i}}function Ie(a,e){return a<e?-1:a>e?1:0}function Cd(a,e){let r=0;for(;r<a.length&&r<e.length;){const i=a.codePointAt(r),o=e.codePointAt(r);if(i!==o){if(i<128&&o<128)return Ie(i,o);{const u=cb(),f=qT(u.encode(Rv(a,r)),u.encode(Rv(e,r)));return f!==0?f:Ie(i,o)}}r+=i>65535?2:1}return Ie(a.length,e.length)}function Rv(a,e){return a.codePointAt(e)>65535?a.substring(e,e+2):a.substring(e,e+1)}function qT(a,e){for(let r=0;r<a.length&&r<e.length;++r)if(a[r]!==e[r])return Ie(a[r],e[r]);return Ie(a.length,e.length)}function Is(a,e,r){return a.length===e.length&&a.every((i,o)=>r(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv=-62135596800,Cv=1e6;class xt{static now(){return xt.fromMillis(Date.now())}static fromDate(e){return xt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),i=Math.floor((e-1e3*r)*Cv);return new xt(r,i)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new ve(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new ve(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<xv)throw new ve(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Cv}_compareTo(e){return this.seconds===e.seconds?Ie(this.nanoseconds,e.nanoseconds):Ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-xv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new xt(0,0))}static max(){return new Re(new xt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv="__name__";class sr{constructor(e,r,i){r===void 0?r=0:r>e.length&&we(637,{offset:r,range:e.length}),i===void 0?i=e.length-r:i>e.length-r&&we(1746,{length:i,range:e.length-r}),this.segments=e,this.offset=r,this.len=i}get length(){return this.len}isEqual(e){return sr.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof sr?e.forEach(i=>{r.push(i)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,i=this.limit();r<i;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const i=Math.min(e.length,r.length);for(let o=0;o<i;o++){const u=sr.compareSegments(e.get(o),r.get(o));if(u!==0)return u}return Ie(e.length,r.length)}static compareSegments(e,r){const i=sr.isNumericId(e),o=sr.isNumericId(r);return i&&!o?-1:!i&&o?1:i&&o?sr.extractNumericId(e).compare(sr.extractNumericId(r)):Cd(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return wa.fromString(e.substring(4,e.length-2))}}class it extends sr{construct(e,r,i){return new it(e,r,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const i of e){if(i.indexOf("//")>=0)throw new ve(le.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);r.push(...i.split("/").filter(o=>o.length>0))}return new it(r)}static emptyPath(){return new it([])}}const HT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bt extends sr{construct(e,r,i){return new Bt(e,r,i)}static isValidIdentifier(e){return HT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Dv}static keyField(){return new Bt([Dv])}static fromServerFormat(e){const r=[];let i="",o=0;const u=()=>{if(i.length===0)throw new ve(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(i),i=""};let f=!1;for(;o<e.length;){const c=e[o];if(c==="\\"){if(o+1===e.length)throw new ve(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ve(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=_,o+=2}else c==="`"?(f=!f,o++):c!=="."||f?(i+=c,o++):(u(),o++)}if(u(),f)throw new ve(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bt(r)}static emptyPath(){return new Bt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(it.fromString(e))}static fromName(e){return new _e(it.fromString(e).popFirst(5))}static empty(){return new _e(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return it.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new it(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pl=-1;function $T(a,e){const r=a.toTimestamp().seconds,i=a.toTimestamp().nanoseconds+1,o=Re.fromTimestamp(i===1e9?new xt(r+1,0):new xt(r,i));return new Ca(o,_e.empty(),e)}function FT(a){return new Ca(a.readTime,a.key,pl)}class Ca{constructor(e,r,i){this.readTime=e,this.documentKey=r,this.largestBatchId=i}static min(){return new Ca(Re.min(),_e.empty(),pl)}static max(){return new Ca(Re.max(),_e.empty(),pl)}}function GT(a,e){let r=a.readTime.compareTo(e.readTime);return r!==0?r:(r=_e.comparator(a.documentKey,e.documentKey),r!==0?r:Ie(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class YT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qs(a){if(a.code!==le.FAILED_PRECONDITION||a.message!==QT)throw a;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new ie((i,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(i,o)},this.catchCallback=u=>{this.wrapFailure(r,u).next(i,o)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof ie?r:ie.resolve(r)}catch(r){return ie.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):ie.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):ie.reject(r)}static resolve(e){return new ie((r,i)=>{r(e)})}static reject(e){return new ie((r,i)=>{i(e)})}static waitFor(e){return new ie((r,i)=>{let o=0,u=0,f=!1;e.forEach(c=>{++o,c.next(()=>{++u,f&&u===o&&r()},_=>i(_))}),f=!0,u===o&&r()})}static or(e){let r=ie.resolve(!1);for(const i of e)r=r.next(o=>o?ie.resolve(o):i());return r}static forEach(e,r){const i=[];return e.forEach((o,u)=>{i.push(r.call(this,o,u))}),this.waitFor(i)}static mapArray(e,r){return new ie((i,o)=>{const u=e.length,f=new Array(u);let c=0;for(let _=0;_<u;_++){const v=_;r(e[v]).next(w=>{f[v]=w,++c,c===u&&i(f)},w=>o(w))}})}static doWhile(e,r){return new ie((i,o)=>{const u=()=>{e()===!0?r().next(()=>{u()},o):i()};u()})}}function KT(a){const e=a.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Hs(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>r.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Vc.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im=-1;function jc(a){return a==null}function bc(a){return a===0&&1/a==-1/0}function XT(a){return typeof a=="number"&&Number.isInteger(a)&&!bc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb="";function WT(a){let e="";for(let r=0;r<a.length;r++)e.length>0&&(e=Ov(e)),e=ZT(a.get(r),e);return Ov(e)}function ZT(a,e){let r=e;const i=a.length;for(let o=0;o<i;o++){const u=a.charAt(o);switch(u){case"\0":r+="";break;case fb:r+="";break;default:r+=u}}return r}function Ov(a){return a+fb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iv(a){let e=0;for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&e++;return e}function Va(a,e){for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&e(r,a[r])}function db(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,r){this.comparator=e,this.root=r||zt.EMPTY}insert(e,r){return new lt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,zt.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zt.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return r.value;i<0?r=r.left:i>0&&(r=r.right)}return null}indexOf(e){let r=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return r+i.left.size;o<0?i=i.left:(r+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,i)=>(e(r,i),!1))}toString(){const e=[];return this.inorderTraversal((r,i)=>(e.push(`${r}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new tc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new tc(this.root,e,this.comparator,!1)}getReverseIterator(){return new tc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new tc(this.root,e,this.comparator,!0)}}class tc{constructor(e,r,i,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=r?i(e.key,r):1,r&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class zt{constructor(e,r,i,o,u){this.key=e,this.value=r,this.color=i??zt.RED,this.left=o??zt.EMPTY,this.right=u??zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,i,o,u){return new zt(e??this.key,r??this.value,i??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,i){let o=this;const u=i(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,r,i),null):u===0?o.copy(null,r,null,null,null):o.copy(null,null,null,null,o.right.insert(e,r,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let i,o=this;if(r(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,r),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),r(e,o.key)===0){if(o.right.isEmpty())return zt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,r))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}zt.EMPTY=null,zt.RED=!0,zt.BLACK=!1;zt.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,r,i,o,u){return this}insert(e,r,i){return new zt(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,i)=>(e(r),!1))}forEachInRange(e,r){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;r(o.key)}}forEachWhile(e,r){let i;for(i=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new Nv(this.data.getIterator())}getIteratorFrom(e){return new Nv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(i=>{r=r.add(i)}),r}isEqual(e){if(!(e instanceof Ct)||this.size!==e.size)return!1;const r=this.data.getIterator(),i=e.data.getIterator();for(;r.hasNext();){const o=r.getNext().key,u=i.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Ct(this.comparator);return r.data=e,r}}class Nv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.fields=e,e.sort(Bt.comparator)}static empty(){return new pn([])}unionWith(e){let r=new Ct(Bt.comparator);for(const i of this.fields)r=r.add(i);for(const i of e)r=r.add(i);return new pn(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Is(this.fields,e.fields,(r,i)=>r.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new mb("Invalid base64 string: "+u):u}}(e);return new qt(r)}static fromUint8Array(e){const r=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new qt(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const i=new Uint8Array(r.length);for(let o=0;o<r.length;o++)i[o]=r.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qt.EMPTY_BYTE_STRING=new qt("");const JT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Da(a){if($e(!!a,39018),typeof a=="string"){let e=0;const r=JT.exec(a);if($e(!!r,46558,{timestamp:a}),r[1]){let o=r[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(a);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:pt(a.seconds),nanos:pt(a.nanos)}}function pt(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Oa(a){return typeof a=="string"?qt.fromBase64String(a):qt.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb="server_timestamp",gb="__type__",yb="__previous_value__",vb="__local_write_time__";function sm(a){var e,r;return((r=(((e=a==null?void 0:a.mapValue)===null||e===void 0?void 0:e.fields)||{})[gb])===null||r===void 0?void 0:r.stringValue)===pb}function Pc(a){const e=a.mapValue.fields[yb];return sm(e)?Pc(e):e}function gl(a){const e=Da(a.mapValue.fields[vb].timestampValue);return new xt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e,r,i,o,u,f,c,_,v,w){this.databaseId=e,this.appId=r,this.persistenceKey=i,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=c,this.longPollingOptions=_,this.useFetchStreams=v,this.isUsingEmulator=w}}const Ec="(default)";class yl{constructor(e,r){this.projectId=e,this.database=r||Ec}static empty(){return new yl("","")}get isDefaultDatabase(){return this.database===Ec}isEqual(e){return e instanceof yl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b="__type__",tS="__max__",nc={mapValue:{}},bb="__vector__",Ac="value";function Ia(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?sm(a)?4:rS(a)?9007199254740991:nS(a)?10:11:we(28295,{value:a})}function hr(a,e){if(a===e)return!0;const r=Ia(a);if(r!==Ia(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return gl(a).isEqual(gl(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Da(o.timestampValue),c=Da(u.timestampValue);return f.seconds===c.seconds&&f.nanos===c.nanos}(a,e);case 5:return a.stringValue===e.stringValue;case 6:return function(o,u){return Oa(o.bytesValue).isEqual(Oa(u.bytesValue))}(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return function(o,u){return pt(o.geoPointValue.latitude)===pt(u.geoPointValue.latitude)&&pt(o.geoPointValue.longitude)===pt(u.geoPointValue.longitude)}(a,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return pt(o.integerValue)===pt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=pt(o.doubleValue),c=pt(u.doubleValue);return f===c?bc(f)===bc(c):isNaN(f)&&isNaN(c)}return!1}(a,e);case 9:return Is(a.arrayValue.values||[],e.arrayValue.values||[],hr);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},c=u.mapValue.fields||{};if(Iv(f)!==Iv(c))return!1;for(const _ in f)if(f.hasOwnProperty(_)&&(c[_]===void 0||!hr(f[_],c[_])))return!1;return!0}(a,e);default:return we(52216,{left:a})}}function vl(a,e){return(a.values||[]).find(r=>hr(r,e))!==void 0}function Ns(a,e){if(a===e)return 0;const r=Ia(a),i=Ia(e);if(r!==i)return Ie(r,i);switch(r){case 0:case 9007199254740991:return 0;case 1:return Ie(a.booleanValue,e.booleanValue);case 2:return function(u,f){const c=pt(u.integerValue||u.doubleValue),_=pt(f.integerValue||f.doubleValue);return c<_?-1:c>_?1:c===_?0:isNaN(c)?isNaN(_)?0:-1:1}(a,e);case 3:return kv(a.timestampValue,e.timestampValue);case 4:return kv(gl(a),gl(e));case 5:return Cd(a.stringValue,e.stringValue);case 6:return function(u,f){const c=Oa(u),_=Oa(f);return c.compareTo(_)}(a.bytesValue,e.bytesValue);case 7:return function(u,f){const c=u.split("/"),_=f.split("/");for(let v=0;v<c.length&&v<_.length;v++){const w=Ie(c[v],_[v]);if(w!==0)return w}return Ie(c.length,_.length)}(a.referenceValue,e.referenceValue);case 8:return function(u,f){const c=Ie(pt(u.latitude),pt(f.latitude));return c!==0?c:Ie(pt(u.longitude),pt(f.longitude))}(a.geoPointValue,e.geoPointValue);case 9:return Mv(a.arrayValue,e.arrayValue);case 10:return function(u,f){var c,_,v,w;const m=u.fields||{},p=f.fields||{},b=(c=m[Ac])===null||c===void 0?void 0:c.arrayValue,g=(_=p[Ac])===null||_===void 0?void 0:_.arrayValue,y=Ie(((v=b==null?void 0:b.values)===null||v===void 0?void 0:v.length)||0,((w=g==null?void 0:g.values)===null||w===void 0?void 0:w.length)||0);return y!==0?y:Mv(b,g)}(a.mapValue,e.mapValue);case 11:return function(u,f){if(u===nc.mapValue&&f===nc.mapValue)return 0;if(u===nc.mapValue)return 1;if(f===nc.mapValue)return-1;const c=u.fields||{},_=Object.keys(c),v=f.fields||{},w=Object.keys(v);_.sort(),w.sort();for(let m=0;m<_.length&&m<w.length;++m){const p=Cd(_[m],w[m]);if(p!==0)return p;const b=Ns(c[_[m]],v[w[m]]);if(b!==0)return b}return Ie(_.length,w.length)}(a.mapValue,e.mapValue);default:throw we(23264,{Pe:r})}}function kv(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Ie(a,e);const r=Da(a),i=Da(e),o=Ie(r.seconds,i.seconds);return o!==0?o:Ie(r.nanos,i.nanos)}function Mv(a,e){const r=a.values||[],i=e.values||[];for(let o=0;o<r.length&&o<i.length;++o){const u=Ns(r[o],i[o]);if(u)return u}return Ie(r.length,i.length)}function ks(a){return Dd(a)}function Dd(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(r){const i=Da(r);return`time(${i.seconds},${i.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?function(r){return Oa(r).toBase64()}(a.bytesValue):"referenceValue"in a?function(r){return _e.fromName(r).toString()}(a.referenceValue):"geoPointValue"in a?function(r){return`geo(${r.latitude},${r.longitude})`}(a.geoPointValue):"arrayValue"in a?function(r){let i="[",o=!0;for(const u of r.values||[])o?o=!1:i+=",",i+=Dd(u);return i+"]"}(a.arrayValue):"mapValue"in a?function(r){const i=Object.keys(r.fields||{}).sort();let o="{",u=!0;for(const f of i)u?u=!1:o+=",",o+=`${f}:${Dd(r.fields[f])}`;return o+"}"}(a.mapValue):we(61005,{value:a})}function cc(a){switch(Ia(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Pc(a);return e?16+cc(e):16;case 5:return 2*a.stringValue.length;case 6:return Oa(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,u)=>o+cc(u),0)}(a.arrayValue);case 10:case 11:return function(i){let o=0;return Va(i.fields,(u,f)=>{o+=u.length+cc(f)}),o}(a.mapValue);default:throw we(13486,{value:a})}}function Od(a){return!!a&&"integerValue"in a}function om(a){return!!a&&"arrayValue"in a}function Vv(a){return!!a&&"nullValue"in a}function jv(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function hc(a){return!!a&&"mapValue"in a}function nS(a){var e,r;return((r=(((e=a==null?void 0:a.mapValue)===null||e===void 0?void 0:e.fields)||{})[_b])===null||r===void 0?void 0:r.stringValue)===bb}function ll(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const e={mapValue:{fields:{}}};return Va(a.mapValue.fields,(r,i)=>e.mapValue.fields[r]=ll(i)),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(a.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=ll(a.arrayValue.values[r]);return e}return Object.assign({},a)}function rS(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===tS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.value=e}static empty(){return new an({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let i=0;i<e.length-1;++i)if(r=(r.mapValue.fields||{})[e.get(i)],!hc(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=ll(r)}setAll(e){let r=Bt.emptyPath(),i={},o=[];e.forEach((f,c)=>{if(!r.isImmediateParentOf(c)){const _=this.getFieldsMap(r);this.applyChanges(_,i,o),i={},o=[],r=c.popLast()}f?i[c.lastSegment()]=ll(f):o.push(c.lastSegment())});const u=this.getFieldsMap(r);this.applyChanges(u,i,o)}delete(e){const r=this.field(e.popLast());hc(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return hr(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=r.mapValue.fields[e.get(i)];hc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},r.mapValue.fields[e.get(i)]=o),r=o}return r.mapValue.fields}applyChanges(e,r,i){Va(r,(o,u)=>e[o]=u);for(const o of i)delete e[o]}clone(){return new an(ll(this.value))}}function Eb(a){const e=[];return Va(a.fields,(r,i)=>{const o=new Bt([r]);if(hc(i)){const u=Eb(i.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new pn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,r,i,o,u,f,c){this.key=e,this.documentType=r,this.version=i,this.readTime=o,this.createTime=u,this.data=f,this.documentState=c}static newInvalidDocument(e){return new Yt(e,0,Re.min(),Re.min(),Re.min(),an.empty(),0)}static newFoundDocument(e,r,i,o){return new Yt(e,1,r,Re.min(),i,o,0)}static newNoDocument(e,r){return new Yt(e,2,r,Re.min(),Re.min(),an.empty(),0)}static newUnknownDocument(e,r){return new Yt(e,3,r,Re.min(),Re.min(),an.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=an.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=an.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Yt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,r){this.position=e,this.inclusive=r}}function Pv(a,e,r){let i=0;for(let o=0;o<a.position.length;o++){const u=e[o],f=a.position[o];if(u.field.isKeyField()?i=_e.comparator(_e.fromName(f.referenceValue),r.key):i=Ns(f,r.data.field(u.field)),u.dir==="desc"&&(i*=-1),i!==0)break}return i}function Lv(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let r=0;r<a.position.length;r++)if(!hr(a.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,r="asc"){this.field=e,this.dir=r}}function aS(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{}class Rt extends Ab{constructor(e,r,i){super(),this.field=e,this.op=r,this.value=i}static create(e,r,i){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,i):new sS(e,r,i):r==="array-contains"?new uS(e,i):r==="in"?new cS(e,i):r==="not-in"?new hS(e,i):r==="array-contains-any"?new fS(e,i):new Rt(e,r,i)}static createKeyFieldInFilter(e,r,i){return r==="in"?new oS(e,i):new lS(e,i)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(Ns(r,this.value)):r!==null&&Ia(this.value)===Ia(r)&&this.matchesComparison(Ns(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fr extends Ab{constructor(e,r){super(),this.filters=e,this.op=r,this.Te=null}static create(e,r){return new fr(e,r)}matches(e){return wb(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function wb(a){return a.op==="and"}function Tb(a){return iS(a)&&wb(a)}function iS(a){for(const e of a.filters)if(e instanceof fr)return!1;return!0}function Id(a){if(a instanceof Rt)return a.field.canonicalString()+a.op.toString()+ks(a.value);if(Tb(a))return a.filters.map(e=>Id(e)).join(",");{const e=a.filters.map(r=>Id(r)).join(",");return`${a.op}(${e})`}}function Sb(a,e){return a instanceof Rt?function(i,o){return o instanceof Rt&&i.op===o.op&&i.field.isEqual(o.field)&&hr(i.value,o.value)}(a,e):a instanceof fr?function(i,o){return o instanceof fr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((u,f,c)=>u&&Sb(f,o.filters[c]),!0):!1}(a,e):void we(19439)}function Rb(a){return a instanceof Rt?function(r){return`${r.field.canonicalString()} ${r.op} ${ks(r.value)}`}(a):a instanceof fr?function(r){return r.op.toString()+" {"+r.getFilters().map(Rb).join(" ,")+"}"}(a):"Filter"}class sS extends Rt{constructor(e,r,i){super(e,r,i),this.key=_e.fromName(i.referenceValue)}matches(e){const r=_e.comparator(e.key,this.key);return this.matchesComparison(r)}}class oS extends Rt{constructor(e,r){super(e,"in",r),this.keys=xb("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class lS extends Rt{constructor(e,r){super(e,"not-in",r),this.keys=xb("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function xb(a,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(i=>_e.fromName(i.referenceValue))}class uS extends Rt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return om(r)&&vl(r.arrayValue,this.value)}}class cS extends Rt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&vl(this.value.arrayValue,r)}}class hS extends Rt{constructor(e,r){super(e,"not-in",r)}matches(e){if(vl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!vl(this.value.arrayValue,r)}}class fS extends Rt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!om(r)||!r.arrayValue.values)&&r.arrayValue.values.some(i=>vl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e,r=null,i=[],o=[],u=null,f=null,c=null){this.path=e,this.collectionGroup=r,this.orderBy=i,this.filters=o,this.limit=u,this.startAt=f,this.endAt=c,this.Ie=null}}function Uv(a,e=null,r=[],i=[],o=null,u=null,f=null){return new dS(a,e,r,i,o,u,f)}function lm(a){const e=Ce(a);if(e.Ie===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(i=>Id(i)).join(","),r+="|ob:",r+=e.orderBy.map(i=>function(u){return u.field.canonicalString()+u.dir}(i)).join(","),jc(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(i=>ks(i)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(i=>ks(i)).join(",")),e.Ie=r}return e.Ie}function um(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<a.orderBy.length;r++)if(!aS(a.orderBy[r],e.orderBy[r]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let r=0;r<a.filters.length;r++)if(!Sb(a.filters[r],e.filters[r]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!Lv(a.startAt,e.startAt)&&Lv(a.endAt,e.endAt)}function Nd(a){return _e.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,r=null,i=[],o=[],u=null,f="F",c=null,_=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=i,this.filters=o,this.limit=u,this.limitType=f,this.startAt=c,this.endAt=_,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function mS(a,e,r,i,o,u,f,c){return new Lc(a,e,r,i,o,u,f,c)}function Cb(a){return new Lc(a)}function zv(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function pS(a){return a.collectionGroup!==null}function ul(a){const e=Ce(a);if(e.Ee===null){e.Ee=[];const r=new Set;for(const u of e.explicitOrderBy)e.Ee.push(u),r.add(u.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let c=new Ct(Bt.comparator);return f.filters.forEach(_=>{_.getFlattenedFilters().forEach(v=>{v.isInequality()&&(c=c.add(v.field))})}),c})(e).forEach(u=>{r.has(u.canonicalString())||u.isKeyField()||e.Ee.push(new Tc(u,i))}),r.has(Bt.keyField().canonicalString())||e.Ee.push(new Tc(Bt.keyField(),i))}return e.Ee}function ur(a){const e=Ce(a);return e.de||(e.de=gS(e,ul(a))),e.de}function gS(a,e){if(a.limitType==="F")return Uv(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Tc(o.field,u)});const r=a.endAt?new wc(a.endAt.position,a.endAt.inclusive):null,i=a.startAt?new wc(a.startAt.position,a.startAt.inclusive):null;return Uv(a.path,a.collectionGroup,e,a.filters,a.limit,r,i)}}function kd(a,e,r){return new Lc(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,r,a.startAt,a.endAt)}function Uc(a,e){return um(ur(a),ur(e))&&a.limitType===e.limitType}function Db(a){return`${lm(ur(a))}|lt:${a.limitType}`}function Ts(a){return`Query(target=${function(r){let i=r.path.canonicalString();return r.collectionGroup!==null&&(i+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(i+=`, filters: [${r.filters.map(o=>Rb(o)).join(", ")}]`),jc(r.limit)||(i+=", limit: "+r.limit),r.orderBy.length>0&&(i+=`, orderBy: [${r.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),r.startAt&&(i+=", startAt: ",i+=r.startAt.inclusive?"b:":"a:",i+=r.startAt.position.map(o=>ks(o)).join(",")),r.endAt&&(i+=", endAt: ",i+=r.endAt.inclusive?"a:":"b:",i+=r.endAt.position.map(o=>ks(o)).join(",")),`Target(${i})`}(ur(a))}; limitType=${a.limitType})`}function zc(a,e){return e.isFoundDocument()&&function(i,o){const u=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(u):_e.isDocumentKey(i.path)?i.path.isEqual(u):i.path.isImmediateParentOf(u)}(a,e)&&function(i,o){for(const u of ul(i))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(a,e)&&function(i,o){for(const u of i.filters)if(!u.matches(o))return!1;return!0}(a,e)&&function(i,o){return!(i.startAt&&!function(f,c,_){const v=Pv(f,c,_);return f.inclusive?v<=0:v<0}(i.startAt,ul(i),o)||i.endAt&&!function(f,c,_){const v=Pv(f,c,_);return f.inclusive?v>=0:v>0}(i.endAt,ul(i),o))}(a,e)}function yS(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function Ob(a){return(e,r)=>{let i=!1;for(const o of ul(a)){const u=vS(o,e,r);if(u!==0)return u;i=i||o.field.isKeyField()}return 0}}function vS(a,e,r){const i=a.field.isKeyField()?_e.comparator(e.key,r.key):function(u,f,c){const _=f.data.field(u),v=c.data.field(u);return _!==null&&v!==null?Ns(_,v):we(42886)}(a.field,e,r);switch(a.dir){case"asc":return i;case"desc":return-1*i;default:return we(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),i=this.inner[r];if(i!==void 0){for(const[o,u]of i)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,r){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,r]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,r]);o.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[r]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Va(this.inner,(r,i)=>{for(const[o,u]of i)e(o,u)})}isEmpty(){return db(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S=new lt(_e.comparator);function Hr(){return _S}const Ib=new lt(_e.comparator);function il(...a){let e=Ib;for(const r of a)e=e.insert(r.key,r);return e}function Nb(a){let e=Ib;return a.forEach((r,i)=>e=e.insert(r,i.overlayedDocument)),e}function Ai(){return cl()}function kb(){return cl()}function cl(){return new xi(a=>a.toString(),(a,e)=>a.isEqual(e))}const bS=new lt(_e.comparator),ES=new Ct(_e.comparator);function Ve(...a){let e=ES;for(const r of a)e=e.add(r);return e}const AS=new Ct(Ie);function wS(){return AS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cm(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bc(e)?"-0":e}}function Mb(a){return{integerValue:""+a}}function TS(a,e){return XT(e)?Mb(e):cm(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(){this._=void 0}}function SS(a,e,r){return a instanceof Sc?function(o,u){const f={fields:{[gb]:{stringValue:pb},[vb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&sm(u)&&(u=Pc(u)),u&&(f.fields[yb]=u),{mapValue:f}}(r,e):a instanceof _l?jb(a,e):a instanceof bl?Pb(a,e):function(o,u){const f=Vb(o,u),c=Bv(f)+Bv(o.Re);return Od(f)&&Od(o.Re)?Mb(c):cm(o.serializer,c)}(a,e)}function RS(a,e,r){return a instanceof _l?jb(a,e):a instanceof bl?Pb(a,e):r}function Vb(a,e){return a instanceof Rc?function(i){return Od(i)||function(u){return!!u&&"doubleValue"in u}(i)}(e)?e:{integerValue:0}:null}class Sc extends Bc{}class _l extends Bc{constructor(e){super(),this.elements=e}}function jb(a,e){const r=Lb(e);for(const i of a.elements)r.some(o=>hr(o,i))||r.push(i);return{arrayValue:{values:r}}}class bl extends Bc{constructor(e){super(),this.elements=e}}function Pb(a,e){let r=Lb(e);for(const i of a.elements)r=r.filter(o=>!hr(o,i));return{arrayValue:{values:r}}}class Rc extends Bc{constructor(e,r){super(),this.serializer=e,this.Re=r}}function Bv(a){return pt(a.integerValue||a.doubleValue)}function Lb(a){return om(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function xS(a,e){return a.field.isEqual(e.field)&&function(i,o){return i instanceof _l&&o instanceof _l||i instanceof bl&&o instanceof bl?Is(i.elements,o.elements,hr):i instanceof Rc&&o instanceof Rc?hr(i.Re,o.Re):i instanceof Sc&&o instanceof Sc}(a.transform,e.transform)}class CS{constructor(e,r){this.version=e,this.transformResults=r}}class Pn{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Pn}static exists(e){return new Pn(void 0,e)}static updateTime(e){return new Pn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fc(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class qc{}function Ub(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new hm(a.key,Pn.none()):new Tl(a.key,a.data,Pn.none());{const r=a.data,i=an.empty();let o=new Ct(Bt.comparator);for(let u of e.fields)if(!o.has(u)){let f=r.field(u);f===null&&u.length>1&&(u=u.popLast(),f=r.field(u)),f===null?i.delete(u):i.set(u,f),o=o.add(u)}return new ja(a.key,i,new pn(o.toArray()),Pn.none())}}function DS(a,e,r){a instanceof Tl?function(o,u,f){const c=o.value.clone(),_=Hv(o.fieldTransforms,u,f.transformResults);c.setAll(_),u.convertToFoundDocument(f.version,c).setHasCommittedMutations()}(a,e,r):a instanceof ja?function(o,u,f){if(!fc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const c=Hv(o.fieldTransforms,u,f.transformResults),_=u.data;_.setAll(zb(o)),_.setAll(c),u.convertToFoundDocument(f.version,_).setHasCommittedMutations()}(a,e,r):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,r)}function hl(a,e,r,i){return a instanceof Tl?function(u,f,c,_){if(!fc(u.precondition,f))return c;const v=u.value.clone(),w=$v(u.fieldTransforms,_,f);return v.setAll(w),f.convertToFoundDocument(f.version,v).setHasLocalMutations(),null}(a,e,r,i):a instanceof ja?function(u,f,c,_){if(!fc(u.precondition,f))return c;const v=$v(u.fieldTransforms,_,f),w=f.data;return w.setAll(zb(u)),w.setAll(v),f.convertToFoundDocument(f.version,w).setHasLocalMutations(),c===null?null:c.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(m=>m.field))}(a,e,r,i):function(u,f,c){return fc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):c}(a,e,r)}function OS(a,e){let r=null;for(const i of a.fieldTransforms){const o=e.data.field(i.field),u=Vb(i.transform,o||null);u!=null&&(r===null&&(r=an.empty()),r.set(i.field,u))}return r||null}function qv(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Is(i,o,(u,f)=>xS(u,f))}(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class Tl extends qc{constructor(e,r,i,o=[]){super(),this.key=e,this.value=r,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ja extends qc{constructor(e,r,i,o,u=[]){super(),this.key=e,this.data=r,this.fieldMask=i,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function zb(a){const e=new Map;return a.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const i=a.data.field(r);e.set(r,i)}}),e}function Hv(a,e,r){const i=new Map;$e(a.length===r.length,32656,{Ve:r.length,me:a.length});for(let o=0;o<r.length;o++){const u=a[o],f=u.transform,c=e.data.field(u.field);i.set(u.field,RS(f,c,r[o]))}return i}function $v(a,e,r){const i=new Map;for(const o of a){const u=o.transform,f=r.data.field(o.field);i.set(o.field,SS(u,f,e))}return i}class hm extends qc{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class IS extends qc{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e,r,i,o){this.batchId=e,this.localWriteTime=r,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,r){const i=r.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&DS(u,e,i[o])}}applyToLocalView(e,r){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(r=hl(i,e,r,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(r=hl(i,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const i=kb();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let c=this.applyToLocalView(f,u.mutatedFields);c=r.has(o.key)?null:c;const _=Ub(f,c);_!==null&&i.set(o.key,_),f.isValidDocument()||f.convertToNoDocument(Re.min())}),i}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Ve())}isEqual(e){return this.batchId===e.batchId&&Is(this.mutations,e.mutations,(r,i)=>qv(r,i))&&Is(this.baseMutations,e.baseMutations,(r,i)=>qv(r,i))}}class fm{constructor(e,r,i,o){this.batch=e,this.commitVersion=r,this.mutationResults=i,this.docVersions=o}static from(e,r,i){$e(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let o=function(){return bS}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,i[f].version);return new fm(e,r,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bt,Ue;function VS(a){switch(a){case le.OK:return we(64938);case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0;default:return we(15467,{code:a})}}function Bb(a){if(a===void 0)return qr("GRPC error has no .code"),le.UNKNOWN;switch(a){case bt.OK:return le.OK;case bt.CANCELLED:return le.CANCELLED;case bt.UNKNOWN:return le.UNKNOWN;case bt.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case bt.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case bt.INTERNAL:return le.INTERNAL;case bt.UNAVAILABLE:return le.UNAVAILABLE;case bt.UNAUTHENTICATED:return le.UNAUTHENTICATED;case bt.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case bt.NOT_FOUND:return le.NOT_FOUND;case bt.ALREADY_EXISTS:return le.ALREADY_EXISTS;case bt.PERMISSION_DENIED:return le.PERMISSION_DENIED;case bt.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case bt.ABORTED:return le.ABORTED;case bt.OUT_OF_RANGE:return le.OUT_OF_RANGE;case bt.UNIMPLEMENTED:return le.UNIMPLEMENTED;case bt.DATA_LOSS:return le.DATA_LOSS;default:return we(39323,{code:a})}}(Ue=bt||(bt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS=new wa([4294967295,4294967295],0);function Fv(a){const e=cb().encode(a),r=new nb;return r.update(e),new Uint8Array(r.digest())}function Gv(a){const e=new DataView(a.buffer),r=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new wa([r,i],0),new wa([o,u],0)]}class dm{constructor(e,r,i){if(this.bitmap=e,this.padding=r,this.hashCount=i,r<0||r>=8)throw new sl(`Invalid padding: ${r}`);if(i<0)throw new sl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new sl(`Invalid hash count: ${i}`);if(e.length===0&&r!==0)throw new sl(`Invalid padding when bitmap length is 0: ${r}`);this.pe=8*e.length-r,this.ye=wa.fromNumber(this.pe)}we(e,r,i){let o=e.add(r.multiply(wa.fromNumber(i)));return o.compare(jS)===1&&(o=new wa([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const r=Fv(e),[i,o]=Gv(r);for(let u=0;u<this.hashCount;u++){const f=this.we(i,o,u);if(!this.be(f))return!1}return!0}static create(e,r,i){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new dm(u,o,r);return i.forEach(c=>f.insert(c)),f}insert(e){if(this.pe===0)return;const r=Fv(e),[i,o]=Gv(r);for(let u=0;u<this.hashCount;u++){const f=this.we(i,o,u);this.Se(f)}}Se(e){const r=Math.floor(e/8),i=e%8;this.bitmap[r]|=1<<i}}class sl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,r,i,o,u){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,r,i){const o=new Map;return o.set(e,Sl.createSynthesizedTargetChangeForCurrentChange(e,r,i)),new Hc(Re.min(),o,new lt(Ie),Hr(),Ve())}}class Sl{constructor(e,r,i,o,u){this.resumeToken=e,this.current=r,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,r,i){return new Sl(i,r,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,r,i,o){this.De=e,this.removedTargetIds=r,this.key=i,this.ve=o}}class qb{constructor(e,r){this.targetId=e,this.Ce=r}}class Hb{constructor(e,r,i=qt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=r,this.resumeToken=i,this.cause=o}}class Qv{constructor(){this.Fe=0,this.Me=Yv(),this.xe=qt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ve(),r=Ve(),i=Ve();return this.Me.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:r=r.add(o);break;case 1:i=i.add(o);break;default:we(38017,{changeType:u})}}),new Sl(this.xe,this.Oe,e,r,i)}Qe(){this.Ne=!1,this.Me=Yv()}$e(e,r){this.Ne=!0,this.Me=this.Me.insert(e,r)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,$e(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class PS{constructor(e){this.ze=e,this.je=new Map,this.He=Hr(),this.Je=rc(),this.Ye=rc(),this.Ze=new lt(Ie)}Xe(e){for(const r of e.De)e.ve&&e.ve.isFoundDocument()?this.et(r,e.ve):this.tt(r,e.key,e.ve);for(const r of e.removedTargetIds)this.tt(r,e.key,e.ve)}nt(e){this.forEachTarget(e,r=>{const i=this.rt(r);switch(e.state){case 0:this.it(r)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(r);break;case 3:this.it(r)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(r)&&(this.st(r),i.ke(e.resumeToken));break;default:we(56790,{state:e.state})}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.je.forEach((i,o)=>{this.it(o)&&r(o)})}ot(e){const r=e.targetId,i=e.Ce.count,o=this._t(r);if(o){const u=o.target;if(Nd(u))if(i===0){const f=new _e(u.path);this.tt(r,f,Yt.newNoDocument(f,Re.min()))}else $e(i===1,20013,{expectedCount:i});else{const f=this.ut(r);if(f!==i){const c=this.ct(e),_=c?this.lt(c,e,f):1;if(_!==0){this.st(r);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(r,v)}}}}}ct(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:u=0}=r;let f,c;try{f=Oa(i).toUint8Array()}catch(_){if(_ instanceof mb)return Os("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{c=new dm(f,o,u)}catch(_){return Os(_ instanceof sl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return c.pe===0?null:c}lt(e,r,i){return r.Ce.count===i-this.Tt(e,r.targetId)?0:2}Tt(e,r){const i=this.ze.getRemoteKeysForTarget(r);let o=0;return i.forEach(u=>{const f=this.ze.Pt(),c=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(c)||(this.tt(r,u,null),o++)}),o}It(e){const r=new Map;this.je.forEach((u,f)=>{const c=this._t(f);if(c){if(u.current&&Nd(c.target)){const _=new _e(c.target.path);this.Et(_).has(f)||this.dt(f,_)||this.tt(f,_,Yt.newNoDocument(_,e))}u.Le&&(r.set(f,u.qe()),u.Qe())}});let i=Ve();this.Ye.forEach((u,f)=>{let c=!0;f.forEachWhile(_=>{const v=this._t(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(i=i.add(u))}),this.He.forEach((u,f)=>f.setReadTime(e));const o=new Hc(e,r,this.Ze,this.He,i);return this.He=Hr(),this.Je=rc(),this.Ye=rc(),this.Ze=new lt(Ie),o}et(e,r){if(!this.it(e))return;const i=this.dt(e,r.key)?2:0;this.rt(e).$e(r.key,i),this.He=this.He.insert(r.key,r),this.Je=this.Je.insert(r.key,this.Et(r.key).add(e)),this.Ye=this.Ye.insert(r.key,this.At(r.key).add(e))}tt(e,r,i){if(!this.it(e))return;const o=this.rt(e);this.dt(e,r)?o.$e(r,1):o.Ue(r),this.Ye=this.Ye.insert(r,this.At(r).delete(e)),this.Ye=this.Ye.insert(r,this.At(r).add(e)),i&&(this.He=this.He.insert(r,i))}removeTarget(e){this.je.delete(e)}ut(e){const r=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let r=this.je.get(e);return r||(r=new Qv,this.je.set(e,r)),r}At(e){let r=this.Ye.get(e);return r||(r=new Ct(Ie),this.Ye=this.Ye.insert(e,r)),r}Et(e){let r=this.Je.get(e);return r||(r=new Ct(Ie),this.Je=this.Je.insert(e,r)),r}it(e){const r=this._t(e)!==null;return r||me("WatchChangeAggregator","Detected inactive target",e),r}_t(e){const r=this.je.get(e);return r&&r.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Qv),this.ze.getRemoteKeysForTarget(e).forEach(r=>{this.tt(e,r,null)})}dt(e,r){return this.ze.getRemoteKeysForTarget(e).has(r)}}function rc(){return new lt(_e.comparator)}function Yv(){return new lt(_e.comparator)}const LS={asc:"ASCENDING",desc:"DESCENDING"},US={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zS={and:"AND",or:"OR"};class BS{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Md(a,e){return a.useProto3Json||jc(e)?e:{value:e}}function xc(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $b(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function qS(a,e){return xc(a,e.toTimestamp())}function cr(a){return $e(!!a,49232),Re.fromTimestamp(function(r){const i=Da(r);return new xt(i.seconds,i.nanos)}(a))}function mm(a,e){return Vd(a,e).canonicalString()}function Vd(a,e){const r=function(o){return new it(["projects",o.projectId,"databases",o.database])}(a).child("documents");return e===void 0?r:r.child(e)}function Fb(a){const e=it.fromString(a);return $e(Xb(e),10190,{key:e.toString()}),e}function jd(a,e){return mm(a.databaseId,e.path)}function md(a,e){const r=Fb(e);if(r.get(1)!==a.databaseId.projectId)throw new ve(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+a.databaseId.projectId);if(r.get(3)!==a.databaseId.database)throw new ve(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+a.databaseId.database);return new _e(Qb(r))}function Gb(a,e){return mm(a.databaseId,e)}function HS(a){const e=Fb(a);return e.length===4?it.emptyPath():Qb(e)}function Pd(a){return new it(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function Qb(a){return $e(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function Kv(a,e,r){return{name:jd(a,e),fields:r.value.mapValue.fields}}function $S(a,e){let r;if("targetChange"in e){e.targetChange;const i=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:we(39313,{state:v})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(v,w){return v.useProto3Json?($e(w===void 0||typeof w=="string",58123),qt.fromBase64String(w||"")):($e(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),qt.fromUint8Array(w||new Uint8Array))}(a,e.targetChange.resumeToken),f=e.targetChange.cause,c=f&&function(v){const w=v.code===void 0?le.UNKNOWN:Bb(v.code);return new ve(w,v.message||"")}(f);r=new Hb(i,o,u,c||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=md(a,i.document.name),u=cr(i.document.updateTime),f=i.document.createTime?cr(i.document.createTime):Re.min(),c=new an({mapValue:{fields:i.document.fields}}),_=Yt.newFoundDocument(o,u,f,c),v=i.targetIds||[],w=i.removedTargetIds||[];r=new dc(v,w,_.key,_)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=md(a,i.document),u=i.readTime?cr(i.readTime):Re.min(),f=Yt.newNoDocument(o,u),c=i.removedTargetIds||[];r=new dc([],c,f.key,f)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=md(a,i.document),u=i.removedTargetIds||[];r=new dc([],u,o,null)}else{if(!("filter"in e))return we(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:u}=i,f=new MS(o,u),c=i.targetId;r=new qb(c,f)}}return r}function FS(a,e){let r;if(e instanceof Tl)r={update:Kv(a,e.key,e.value)};else if(e instanceof hm)r={delete:jd(a,e.key)};else if(e instanceof ja)r={update:Kv(a,e.key,e.data),updateMask:eR(e.fieldMask)};else{if(!(e instanceof IS))return we(16599,{ft:e.type});r={verify:jd(a,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(i=>function(u,f){const c=f.transform;if(c instanceof Sc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof _l)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof bl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Rc)return{fieldPath:f.field.canonicalString(),increment:c.Re};throw we(20930,{transform:f.transform})}(0,i))),e.precondition.isNone||(r.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:qS(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:we(27497)}(a,e.precondition)),r}function GS(a,e){return a&&a.length>0?($e(e!==void 0,14353),a.map(r=>function(o,u){let f=o.updateTime?cr(o.updateTime):cr(u);return f.isEqual(Re.min())&&(f=cr(u)),new CS(f,o.transformResults||[])}(r,e))):[]}function QS(a,e){return{documents:[Gb(a,e.path)]}}function YS(a,e){const r={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),r.structuredQuery.from=[{collectionId:i.lastSegment()}]),r.parent=Gb(a,o);const u=function(v){if(v.length!==0)return Kb(fr.create(v,"and"))}(e.filters);u&&(r.structuredQuery.where=u);const f=function(v){if(v.length!==0)return v.map(w=>function(p){return{field:Ss(p.field),direction:WS(p.dir)}}(w))}(e.orderBy);f&&(r.structuredQuery.orderBy=f);const c=Md(a,e.limit);return c!==null&&(r.structuredQuery.limit=c),e.startAt&&(r.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{gt:r,parent:o}}function KS(a){let e=HS(a.parent);const r=a.structuredQuery,i=r.from?r.from.length:0;let o=null;if(i>0){$e(i===1,65062);const w=r.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let u=[];r.where&&(u=function(m){const p=Yb(m);return p instanceof fr&&Tb(p)?p.getFilters():[p]}(r.where));let f=[];r.orderBy&&(f=function(m){return m.map(p=>function(g){return new Tc(Rs(g.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(p))}(r.orderBy));let c=null;r.limit&&(c=function(m){let p;return p=typeof m=="object"?m.value:m,jc(p)?null:p}(r.limit));let _=null;r.startAt&&(_=function(m){const p=!!m.before,b=m.values||[];return new wc(b,p)}(r.startAt));let v=null;return r.endAt&&(v=function(m){const p=!m.before,b=m.values||[];return new wc(b,p)}(r.endAt)),mS(e,o,f,u,c,"F",_,v)}function XS(a,e){const r=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:o})}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function Yb(a){return a.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const i=Rs(r.unaryFilter.field);return Rt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Rs(r.unaryFilter.field);return Rt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Rs(r.unaryFilter.field);return Rt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Rs(r.unaryFilter.field);return Rt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}}(a):a.fieldFilter!==void 0?function(r){return Rt.create(Rs(r.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(a):a.compositeFilter!==void 0?function(r){return fr.create(r.compositeFilter.filters.map(i=>Yb(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return we(1026)}}(r.compositeFilter.op))}(a):we(30097,{filter:a})}function WS(a){return LS[a]}function ZS(a){return US[a]}function JS(a){return zS[a]}function Ss(a){return{fieldPath:a.canonicalString()}}function Rs(a){return Bt.fromServerFormat(a.fieldPath)}function Kb(a){return a instanceof Rt?function(r){if(r.op==="=="){if(jv(r.value))return{unaryFilter:{field:Ss(r.field),op:"IS_NAN"}};if(Vv(r.value))return{unaryFilter:{field:Ss(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(jv(r.value))return{unaryFilter:{field:Ss(r.field),op:"IS_NOT_NAN"}};if(Vv(r.value))return{unaryFilter:{field:Ss(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ss(r.field),op:ZS(r.op),value:r.value}}}(a):a instanceof fr?function(r){const i=r.getFilters().map(o=>Kb(o));return i.length===1?i[0]:{compositeFilter:{op:JS(r.op),filters:i}}}(a):we(54877,{filter:a})}function eR(a){const e=[];return a.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function Xb(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,r,i,o,u=Re.min(),f=Re.min(),c=qt.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=r,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=c,this.expectedCount=_}withSequenceNumber(e){return new ba(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new ba(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ba(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ba(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e){this.wt=e}}function nR(a){const e=KS({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?kd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(){this.yn=new aR}addToCollectionParentIndex(e,r){return this.yn.add(r),ie.resolve()}getCollectionParents(e,r){return ie.resolve(this.yn.getEntries(r))}addFieldIndex(e,r){return ie.resolve()}deleteFieldIndex(e,r){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,r){return ie.resolve()}getDocumentsMatchingTarget(e,r){return ie.resolve(null)}getIndexType(e,r){return ie.resolve(0)}getFieldIndexes(e,r){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,r){return ie.resolve(Ca.min())}getMinOffsetFromCollectionGroup(e,r){return ie.resolve(Ca.min())}updateCollectionGroup(e,r,i){return ie.resolve()}updateIndexEntries(e,r){return ie.resolve()}}class aR{constructor(){this.index={}}add(e){const r=e.lastSegment(),i=e.popLast(),o=this.index[r]||new Ct(it.comparator),u=!o.has(i);return this.index[r]=o.add(i),u}has(e){const r=e.lastSegment(),i=e.popLast(),o=this.index[r];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Ct(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Wb=41943040;class rn{static withCacheSize(e){return new rn(e,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(Wb,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new Ms(0)}static ir(){return new Ms(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="LruGarbageCollector",iR=1048576;function Zv([a,e],[r,i]){const o=Ie(a,r);return o===0?Ie(e,i):o}class sR{constructor(e){this.cr=e,this.buffer=new Ct(Zv),this.lr=0}hr(){return++this.lr}Pr(e){const r=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(r);else{const i=this.buffer.last();Zv(r,i)<0&&(this.buffer=this.buffer.delete(i).add(r))}}get maxValue(){return this.buffer.last()[0]}}class oR{constructor(e,r,i){this.garbageCollector=e,this.asyncQueue=r,this.localStore=i,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){me(Wv,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Hs(r)?me(Wv,"Ignoring IndexedDB error during garbage collection: ",r):await qs(r)}await this.Ir(3e5)})}}class lR{constructor(e,r){this.Er=e,this.params=r}calculateTargetCount(e,r){return this.Er.dr(e).next(i=>Math.floor(r/100*i))}nthSequenceNumber(e,r){if(r===0)return ie.resolve(Vc.le);const i=new sR(r);return this.Er.forEachTarget(e,o=>i.Pr(o.sequenceNumber)).next(()=>this.Er.Ar(e,o=>i.Pr(o))).next(()=>i.maxValue)}removeTargets(e,r,i){return this.Er.removeTargets(e,r,i)}removeOrphanedDocuments(e,r){return this.Er.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(Xv)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Xv):this.Rr(e,r))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,r){let i,o,u,f,c,_,v;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),o=this.params.maximumSequenceNumbersToCollect):o=m,f=Date.now(),this.nthSequenceNumber(e,o))).next(m=>(i=m,c=Date.now(),this.removeTargets(e,i,r))).next(m=>(u=m,_=Date.now(),this.removeOrphanedDocuments(e,i))).next(m=>(v=Date.now(),ws()<=ze.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-w}ms
	Determined least recently used ${o} in `+(c-f)+`ms
	Removed ${u} targets in `+(_-c)+`ms
	Removed ${m} documents in `+(v-_)+`ms
Total Duration: ${v-w}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:m})))}}function uR(a,e){return new lR(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(){this.changes=new xi(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Yt.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const i=this.changes.get(r);return i!==void 0?ie.resolve(i):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e,r,i,o){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,r){let i=null;return this.documentOverlayCache.getOverlay(e,r).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,r))).next(o=>(i!==null&&hl(i.mutation,o,pn.empty(),xt.now()),o))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(i=>this.getLocalViewOfDocuments(e,i,Ve()).next(()=>i))}getLocalViewOfDocuments(e,r,i=Ve()){const o=Ai();return this.populateOverlays(e,o,r).next(()=>this.computeViews(e,r,o,i).next(u=>{let f=il();return u.forEach((c,_)=>{f=f.insert(c,_.overlayedDocument)}),f}))}getOverlayedDocuments(e,r){const i=Ai();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,Ve()))}populateOverlays(e,r,i){const o=[];return i.forEach(u=>{r.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,c)=>{r.set(f,c)})})}computeViews(e,r,i,o){let u=Hr();const f=cl(),c=function(){return cl()}();return r.forEach((_,v)=>{const w=i.get(v.key);o.has(v.key)&&(w===void 0||w.mutation instanceof ja)?u=u.insert(v.key,v):w!==void 0?(f.set(v.key,w.mutation.getFieldMask()),hl(w.mutation,v,w.mutation.getFieldMask(),xt.now())):f.set(v.key,pn.empty())}),this.recalculateAndSaveOverlays(e,u).next(_=>(_.forEach((v,w)=>f.set(v,w)),r.forEach((v,w)=>{var m;return c.set(v,new hR(w,(m=f.get(v))!==null&&m!==void 0?m:null))}),c))}recalculateAndSaveOverlays(e,r){const i=cl();let o=new lt((f,c)=>f-c),u=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(f=>{for(const c of f)c.keys().forEach(_=>{const v=r.get(_);if(v===null)return;let w=i.get(_)||pn.empty();w=c.applyToLocalView(v,w),i.set(_,w);const m=(o.get(c.batchId)||Ve()).add(_);o=o.insert(c.batchId,m)})}).next(()=>{const f=[],c=o.getReverseIterator();for(;c.hasNext();){const _=c.getNext(),v=_.key,w=_.value,m=kb();w.forEach(p=>{if(!u.has(p)){const b=Ub(r.get(p),i.get(p));b!==null&&m.set(p,b),u=u.add(p)}}),f.push(this.documentOverlayCache.saveOverlays(e,v,m))}return ie.waitFor(f)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,r,i,o){return function(f){return _e.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):pS(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,i,o):this.getDocumentsMatchingCollectionQuery(e,r,i,o)}getNextDocuments(e,r,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,i,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,i.largestBatchId,o-u.size):ie.resolve(Ai());let c=pl,_=u;return f.next(v=>ie.forEach(v,(w,m)=>(c<m.largestBatchId&&(c=m.largestBatchId),u.get(w)?ie.resolve():this.remoteDocumentCache.getEntry(e,w).next(p=>{_=_.insert(w,p)}))).next(()=>this.populateOverlays(e,v,u)).next(()=>this.computeViews(e,_,v,Ve())).next(w=>({batchId:c,changes:Nb(w)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new _e(r)).next(i=>{let o=il();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,r,i,o){const u=r.collectionGroup;let f=il();return this.indexManager.getCollectionParents(e,u).next(c=>ie.forEach(c,_=>{const v=function(m,p){return new Lc(p,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(r,_.child(u));return this.getDocumentsMatchingCollectionQuery(e,v,i,o).next(w=>{w.forEach((m,p)=>{f=f.insert(m,p)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,r,i,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,i.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,i,u,o))).next(f=>{u.forEach((_,v)=>{const w=v.getKey();f.get(w)===null&&(f=f.insert(w,Yt.newInvalidDocument(w)))});let c=il();return f.forEach((_,v)=>{const w=u.get(_);w!==void 0&&hl(w.mutation,v,pn.empty(),xt.now()),zc(r,v)&&(c=c.insert(_,v))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,r){return ie.resolve(this.Fr.get(r))}saveBundleMetadata(e,r){return this.Fr.set(r.id,function(o){return{id:o.id,version:o.version,createTime:cr(o.createTime)}}(r)),ie.resolve()}getNamedQuery(e,r){return ie.resolve(this.Mr.get(r))}saveNamedQuery(e,r){return this.Mr.set(r.name,function(o){return{name:o.name,query:nR(o.bundledQuery),readTime:cr(o.readTime)}}(r)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(){this.overlays=new lt(_e.comparator),this.Or=new Map}getOverlay(e,r){return ie.resolve(this.overlays.get(r))}getOverlays(e,r){const i=Ai();return ie.forEach(r,o=>this.getOverlay(e,o).next(u=>{u!==null&&i.set(o,u)})).next(()=>i)}saveOverlays(e,r,i){return i.forEach((o,u)=>{this.St(e,r,u)}),ie.resolve()}removeOverlaysForBatchId(e,r,i){const o=this.Or.get(i);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Or.delete(i)),ie.resolve()}getOverlaysForCollection(e,r,i){const o=Ai(),u=r.length+1,f=new _e(r.child("")),c=this.overlays.getIteratorFrom(f);for(;c.hasNext();){const _=c.getNext().value,v=_.getKey();if(!r.isPrefixOf(v.path))break;v.path.length===u&&_.largestBatchId>i&&o.set(_.getKey(),_)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,r,i,o){let u=new lt((v,w)=>v-w);const f=this.overlays.getIterator();for(;f.hasNext();){const v=f.getNext().value;if(v.getKey().getCollectionGroup()===r&&v.largestBatchId>i){let w=u.get(v.largestBatchId);w===null&&(w=Ai(),u=u.insert(v.largestBatchId,w)),w.set(v.getKey(),v)}}const c=Ai(),_=u.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((v,w)=>c.set(v,w)),!(c.size()>=o)););return ie.resolve(c)}St(e,r,i){const o=this.overlays.get(i.key);if(o!==null){const f=this.Or.get(o.largestBatchId).delete(i.key);this.Or.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(i.key,new kS(r,i));let u=this.Or.get(r);u===void 0&&(u=Ve(),this.Or.set(r,u)),this.Or.set(r,u.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(){this.sessionToken=qt.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(){this.Nr=new Ct(Mt.Br),this.Lr=new Ct(Mt.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,r){const i=new Mt(e,r);this.Nr=this.Nr.add(i),this.Lr=this.Lr.add(i)}qr(e,r){e.forEach(i=>this.addReference(i,r))}removeReference(e,r){this.Qr(new Mt(e,r))}$r(e,r){e.forEach(i=>this.removeReference(i,r))}Ur(e){const r=new _e(new it([])),i=new Mt(r,e),o=new Mt(r,e+1),u=[];return this.Lr.forEachInRange([i,o],f=>{this.Qr(f),u.push(f.key)}),u}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const r=new _e(new it([])),i=new Mt(r,e),o=new Mt(r,e+1);let u=Ve();return this.Lr.forEachInRange([i,o],f=>{u=u.add(f.key)}),u}containsKey(e){const r=new Mt(e,0),i=this.Nr.firstAfterOrEqual(r);return i!==null&&e.isEqual(i.key)}}class Mt{constructor(e,r){this.key=e,this.Gr=r}static Br(e,r){return _e.comparator(e.key,r.key)||Ie(e.Gr,r.Gr)}static kr(e,r){return Ie(e.Gr,r.Gr)||_e.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Jn=1,this.zr=new Ct(Mt.Br)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,i,o){const u=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new NS(u,r,i,o);this.mutationQueue.push(f);for(const c of o)this.zr=this.zr.add(new Mt(c.key,u)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return ie.resolve(f)}lookupMutationBatch(e,r){return ie.resolve(this.jr(r))}getNextMutationBatchAfterBatchId(e,r){const i=r+1,o=this.Hr(i),u=o<0?0:o;return ie.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?im:this.Jn-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const i=new Mt(r,0),o=new Mt(r,Number.POSITIVE_INFINITY),u=[];return this.zr.forEachInRange([i,o],f=>{const c=this.jr(f.Gr);u.push(c)}),ie.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,r){let i=new Ct(Ie);return r.forEach(o=>{const u=new Mt(o,0),f=new Mt(o,Number.POSITIVE_INFINITY);this.zr.forEachInRange([u,f],c=>{i=i.add(c.Gr)})}),ie.resolve(this.Jr(i))}getAllMutationBatchesAffectingQuery(e,r){const i=r.path,o=i.length+1;let u=i;_e.isDocumentKey(u)||(u=u.child(""));const f=new Mt(new _e(u),0);let c=new Ct(Ie);return this.zr.forEachWhile(_=>{const v=_.key.path;return!!i.isPrefixOf(v)&&(v.length===o&&(c=c.add(_.Gr)),!0)},f),ie.resolve(this.Jr(c))}Jr(e){const r=[];return e.forEach(i=>{const o=this.jr(i);o!==null&&r.push(o)}),r}removeMutationBatch(e,r){$e(this.Yr(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.zr;return ie.forEach(r.mutations,o=>{const u=new Mt(o.key,r.batchId);return i=i.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.zr=i})}Xn(e){}containsKey(e,r){const i=new Mt(r,0),o=this.zr.firstAfterOrEqual(i);return ie.resolve(r.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}Yr(e,r){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const r=this.Hr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e){this.Zr=e,this.docs=function(){return new lt(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const i=r.key,o=this.docs.get(i),u=o?o.size:0,f=this.Zr(r);return this.docs=this.docs.insert(i,{document:r.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const i=this.docs.get(r);return ie.resolve(i?i.document.mutableCopy():Yt.newInvalidDocument(r))}getEntries(e,r){let i=Hr();return r.forEach(o=>{const u=this.docs.get(o);i=i.insert(o,u?u.document.mutableCopy():Yt.newInvalidDocument(o))}),ie.resolve(i)}getDocumentsMatchingQuery(e,r,i,o){let u=Hr();const f=r.path,c=new _e(f.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(c);for(;_.hasNext();){const{key:v,value:{document:w}}=_.getNext();if(!f.isPrefixOf(v.path))break;v.path.length>f.length+1||GT(FT(w),i)<=0||(o.has(w.key)||zc(r,w))&&(u=u.insert(w.key,w.mutableCopy()))}return ie.resolve(u)}getAllFromCollectionGroup(e,r,i,o){we(9500)}Xr(e,r){return ie.forEach(this.docs,i=>r(i))}newChangeBuffer(e){return new vR(this)}getSize(e){return ie.resolve(this.size)}}class vR extends cR{constructor(e){super(),this.vr=e}applyChanges(e){const r=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?r.push(this.vr.addEntry(e,o)):this.vr.removeEntry(i)}),ie.waitFor(r)}getFromCache(e,r){return this.vr.getEntry(e,r)}getAllFromCache(e,r){return this.vr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e){this.persistence=e,this.ei=new xi(r=>lm(r),um),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.ti=0,this.ni=new pm,this.targetCount=0,this.ri=Ms.rr()}forEachTarget(e,r){return this.ei.forEach((i,o)=>r(o)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,r,i){return i&&(this.lastRemoteSnapshotVersion=i),r>this.ti&&(this.ti=r),ie.resolve()}ar(e){this.ei.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ri=new Ms(r),this.highestTargetId=r),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,r){return this.ar(r),this.targetCount+=1,ie.resolve()}updateTargetData(e,r){return this.ar(r),ie.resolve()}removeTargetData(e,r){return this.ei.delete(r.target),this.ni.Ur(r.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,r,i){let o=0;const u=[];return this.ei.forEach((f,c)=>{c.sequenceNumber<=r&&i.get(c.targetId)===null&&(this.ei.delete(f),u.push(this.removeMatchingKeysForTargetId(e,c.targetId)),o++)}),ie.waitFor(u).next(()=>o)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,r){const i=this.ei.get(r)||null;return ie.resolve(i)}addMatchingKeys(e,r,i){return this.ni.qr(r,i),ie.resolve()}removeMatchingKeys(e,r,i){this.ni.$r(r,i);const o=this.persistence.referenceDelegate,u=[];return o&&r.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),ie.waitFor(u)}removeMatchingKeysForTargetId(e,r){return this.ni.Ur(r),ie.resolve()}getMatchingKeysForTargetId(e,r){const i=this.ni.Wr(r);return ie.resolve(i)}containsKey(e,r){return ie.resolve(this.ni.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(e,r){this.ii={},this.overlays={},this.si=new Vc(0),this.oi=!1,this.oi=!0,this._i=new pR,this.referenceDelegate=e(this),this.ai=new _R(this),this.indexManager=new rR,this.remoteDocumentCache=function(o){return new yR(o)}(i=>this.referenceDelegate.ui(i)),this.serializer=new tR(r),this.ci=new dR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new mR,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let i=this.ii[e.toKey()];return i||(i=new gR(r,this.referenceDelegate),this.ii[e.toKey()]=i),i}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,r,i){me("MemoryPersistence","Starting transaction:",e);const o=new bR(this.si.next());return this.referenceDelegate.li(),i(o).next(u=>this.referenceDelegate.hi(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Pi(e,r){return ie.or(Object.values(this.ii).map(i=>()=>i.containsKey(e,r)))}}class bR extends YT{constructor(e){super(),this.currentSequenceNumber=e}}class gm{constructor(e){this.persistence=e,this.Ti=new pm,this.Ii=null}static Ei(e){return new gm(e)}get di(){if(this.Ii)return this.Ii;throw we(60996)}addReference(e,r,i){return this.Ti.addReference(i,r),this.di.delete(i.toString()),ie.resolve()}removeReference(e,r,i){return this.Ti.removeReference(i,r),this.di.add(i.toString()),ie.resolve()}markPotentiallyOrphaned(e,r){return this.di.add(r.toString()),ie.resolve()}removeTarget(e,r){this.Ti.Ur(r.targetId).forEach(o=>this.di.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,r.targetId).next(o=>{o.forEach(u=>this.di.add(u.toString()))}).next(()=>i.removeTargetData(e,r))}li(){this.Ii=new Set}hi(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.di,i=>{const o=_e.fromPath(i);return this.Ai(e,o).next(u=>{u||r.removeEntry(o,Re.min())})}).next(()=>(this.Ii=null,r.apply(e)))}updateLimboDocument(e,r){return this.Ai(e,r).next(i=>{i?this.di.delete(r.toString()):this.di.add(r.toString())})}ui(e){return 0}Ai(e,r){return ie.or([()=>ie.resolve(this.Ti.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Pi(e,r)])}}class Cc{constructor(e,r){this.persistence=e,this.Ri=new xi(i=>WT(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=uR(this,r)}static Ei(e,r){return new Cc(e,r)}li(){}hi(e){return ie.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}dr(e){const r=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>r.next(o=>i+o))}Vr(e){let r=0;return this.Ar(e,i=>{r++}).next(()=>r)}Ar(e,r){return ie.forEach(this.Ri,(i,o)=>this.gr(e,i,o).next(u=>u?ie.resolve():r(o)))}removeTargets(e,r,i){return this.persistence.getTargetCache().removeTargets(e,r,i)}removeOrphanedDocuments(e,r){let i=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.Xr(e,f=>this.gr(e,f,r).next(c=>{c||(i++,u.removeEntry(f,Re.min()))})).next(()=>u.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,r){return this.Ri.set(r,e.currentSequenceNumber),ie.resolve()}removeTarget(e,r){const i=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,r,i){return this.Ri.set(i,e.currentSequenceNumber),ie.resolve()}removeReference(e,r,i){return this.Ri.set(i,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,r){return this.Ri.set(r,e.currentSequenceNumber),ie.resolve()}ui(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=cc(e.data.value)),r}gr(e,r,i){return ie.or([()=>this.persistence.Pi(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const o=this.Ri.get(r);return ie.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e,r,i,o){this.targetId=e,this.fromCache=r,this.ls=i,this.hs=o}static Ps(e,r){let i=Ve(),o=Ve();for(const u of r.docChanges)switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new ym(e,r.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return yw()?8:KT(pw())>0?6:4}()}initialize(e,r){this.As=e,this.indexManager=r,this.Ts=!0}getDocumentsMatchingQuery(e,r,i,o){const u={result:null};return this.Rs(e,r).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.Vs(e,r,o,i).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new ER;return this.fs(e,r,f).next(c=>{if(u.result=c,this.Is)return this.gs(e,r,f,c.size)})}).next(()=>u.result)}gs(e,r,i,o){return i.documentReadCount<this.Es?(ws()<=ze.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",Ts(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),ie.resolve()):(ws()<=ze.DEBUG&&me("QueryEngine","Query:",Ts(r),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.ds*o?(ws()<=ze.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",Ts(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ur(r))):ie.resolve())}Rs(e,r){if(zv(r))return ie.resolve(null);let i=ur(r);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(r.limit!==null&&o===1&&(r=kd(r,null,"F"),i=ur(r)),this.indexManager.getDocumentsMatchingTarget(e,i).next(u=>{const f=Ve(...u);return this.As.getDocuments(e,f).next(c=>this.indexManager.getMinOffset(e,i).next(_=>{const v=this.ps(r,c);return this.ys(r,v,f,_.readTime)?this.Rs(e,kd(r,null,"F")):this.ws(e,v,r,_)}))})))}Vs(e,r,i,o){return zv(r)||o.isEqual(Re.min())?ie.resolve(null):this.As.getDocuments(e,i).next(u=>{const f=this.ps(r,u);return this.ys(r,f,i,o)?ie.resolve(null):(ws()<=ze.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ts(r)),this.ws(e,f,r,$T(o,pl)).next(c=>c))})}ps(e,r){let i=new Ct(Ob(e));return r.forEach((o,u)=>{zc(e,u)&&(i=i.add(u))}),i}ys(e,r,i,o){if(e.limit===null)return!1;if(i.size!==r.size)return!0;const u=e.limitType==="F"?r.last():r.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}fs(e,r,i){return ws()<=ze.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",Ts(r)),this.As.getDocumentsMatchingQuery(e,r,Ca.min(),i)}ws(e,r,i,o){return this.As.getDocumentsMatchingQuery(e,i,o).next(u=>(r.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm="LocalStore",wR=3e8;class TR{constructor(e,r,i,o){this.persistence=e,this.bs=r,this.serializer=o,this.Ss=new lt(Ie),this.Ds=new xi(u=>lm(u),um),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(i)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fR(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.Ss))}}function SR(a,e,r,i){return new TR(a,e,r,i)}async function Jb(a,e){const r=Ce(a);return await r.persistence.runTransaction("Handle user change","readonly",i=>{let o;return r.mutationQueue.getAllMutationBatches(i).next(u=>(o=u,r.Fs(e),r.mutationQueue.getAllMutationBatches(i))).next(u=>{const f=[],c=[];let _=Ve();for(const v of o){f.push(v.batchId);for(const w of v.mutations)_=_.add(w.key)}for(const v of u){c.push(v.batchId);for(const w of v.mutations)_=_.add(w.key)}return r.localDocuments.getDocuments(i,_).next(v=>({Ms:v,removedBatchIds:f,addedBatchIds:c}))})})}function RR(a,e){const r=Ce(a);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),u=r.Cs.newChangeBuffer({trackRemovals:!0});return function(c,_,v,w){const m=v.batch,p=m.keys();let b=ie.resolve();return p.forEach(g=>{b=b.next(()=>w.getEntry(_,g)).next(y=>{const R=v.docVersions.get(g);$e(R!==null,48541),y.version.compareTo(R)<0&&(m.applyToRemoteDocument(y,v),y.isValidDocument()&&(y.setReadTime(v.commitVersion),w.addEntry(y)))})}),b.next(()=>c.mutationQueue.removeMutationBatch(_,m))}(r,i,e,u).next(()=>u.apply(i)).next(()=>r.mutationQueue.performConsistencyCheck(i)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let _=Ve();for(let v=0;v<c.mutationResults.length;++v)c.mutationResults[v].transformResults.length>0&&(_=_.add(c.batch.mutations[v].key));return _}(e))).next(()=>r.localDocuments.getDocuments(i,o))})}function e0(a){const e=Ce(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.ai.getLastRemoteSnapshotVersion(r))}function xR(a,e){const r=Ce(a),i=e.snapshotVersion;let o=r.Ss;return r.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=r.Cs.newChangeBuffer({trackRemovals:!0});o=r.Ss;const c=[];e.targetChanges.forEach((w,m)=>{const p=o.get(m);if(!p)return;c.push(r.ai.removeMatchingKeys(u,w.removedDocuments,m).next(()=>r.ai.addMatchingKeys(u,w.addedDocuments,m)));let b=p.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(m)!==null?b=b.withResumeToken(qt.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):w.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(w.resumeToken,i)),o=o.insert(m,b),function(y,R,E){return y.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=wR?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(p,b,w)&&c.push(r.ai.updateTargetData(u,b))});let _=Hr(),v=Ve();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&c.push(r.persistence.referenceDelegate.updateLimboDocument(u,w))}),c.push(CR(u,f,e.documentUpdates).next(w=>{_=w.xs,v=w.Os})),!i.isEqual(Re.min())){const w=r.ai.getLastRemoteSnapshotVersion(u).next(m=>r.ai.setTargetsMetadata(u,u.currentSequenceNumber,i));c.push(w)}return ie.waitFor(c).next(()=>f.apply(u)).next(()=>r.localDocuments.getLocalViewOfDocuments(u,_,v)).next(()=>_)}).then(u=>(r.Ss=o,u))}function CR(a,e,r){let i=Ve(),o=Ve();return r.forEach(u=>i=i.add(u)),e.getEntries(a,i).next(u=>{let f=Hr();return r.forEach((c,_)=>{const v=u.get(c);_.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(c)),_.isNoDocument()&&_.version.isEqual(Re.min())?(e.removeEntry(c,_.readTime),f=f.insert(c,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),f=f.insert(c,_)):me(vm,"Ignoring outdated watch update for ",c,". Current version:",v.version," Watch version:",_.version)}),{xs:f,Os:o}})}function DR(a,e){const r=Ce(a);return r.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=im),r.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function OR(a,e){const r=Ce(a);return r.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return r.ai.getTargetData(i,e).next(u=>u?(o=u,ie.resolve(o)):r.ai.allocateTargetId(i).next(f=>(o=new ba(e,f,"TargetPurposeListen",i.currentSequenceNumber),r.ai.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=r.Ss.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(r.Ss=r.Ss.insert(i.targetId,i),r.Ds.set(e,i.targetId)),i})}async function Ld(a,e,r){const i=Ce(a),o=i.Ss.get(e),u=r?"readwrite":"readwrite-primary";try{r||await i.persistence.runTransaction("Release target",u,f=>i.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!Hs(f))throw f;me(vm,`Failed to update sequence numbers for target ${e}: ${f}`)}i.Ss=i.Ss.remove(e),i.Ds.delete(o.target)}function Jv(a,e,r){const i=Ce(a);let o=Re.min(),u=Ve();return i.persistence.runTransaction("Execute query","readwrite",f=>function(_,v,w){const m=Ce(_),p=m.Ds.get(w);return p!==void 0?ie.resolve(m.Ss.get(p)):m.ai.getTargetData(v,w)}(i,f,ur(e)).next(c=>{if(c)return o=c.lastLimboFreeSnapshotVersion,i.ai.getMatchingKeysForTargetId(f,c.targetId).next(_=>{u=_})}).next(()=>i.bs.getDocumentsMatchingQuery(f,e,r?o:Re.min(),r?u:Ve())).next(c=>(IR(i,yS(e),c),{documents:c,Ns:u})))}function IR(a,e,r){let i=a.vs.get(e)||Re.min();r.forEach((o,u)=>{u.readTime.compareTo(i)>0&&(i=u.readTime)}),a.vs.set(e,i)}class e_{constructor(){this.activeTargetIds=wS()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class NR{constructor(){this.So=new e_,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,i){}addLocalQueryTarget(e,r=!0){return r&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,r,i){this.Do[e]=r}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new e_,Promise.resolve()}handleUserChange(e,r,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_="ConnectivityMonitor";class n_{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){me(t_,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){me(t_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ac=null;function Ud(){return ac===null?ac=function(){return 268435456+Math.round(2147483648*Math.random())}():ac++,"0x"+ac.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pd="RestConnection",MR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class VR{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Lo=r+"://"+e.host,this.ko=`projects/${i}/databases/${o}`,this.qo=this.databaseId.database===Ec?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Qo(e,r,i,o,u){const f=Ud(),c=this.$o(e,r.toUriEncodedString());me(pd,`Sending RPC '${e}' ${f}:`,c,i);const _={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(_,o,u);const{host:v}=new URL(c),w=nm(v);return this.Ko(e,c,_,i,w).then(m=>(me(pd,`Received RPC '${e}' ${f}: `,m),m),m=>{throw Os(pd,`RPC '${e}' ${f} failed with error: `,m,"url: ",c,"request:",i),m})}Wo(e,r,i,o,u,f){return this.Qo(e,r,i,o,u)}Uo(e,r,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Bs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,u)=>e[u]=o),i&&i.headers.forEach((o,u)=>e[u]=o)}$o(e,r){const i=MR[e];return`${this.Lo}/v1/${r}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gt="WebChannelConnection";class PR extends VR{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,r,i,o,u){const f=Ud();return new Promise((c,_)=>{const v=new rb;v.setWithCredentials(!0),v.listenOnce(ab.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case uc.NO_ERROR:const m=v.getResponseJson();me(Gt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(m)),c(m);break;case uc.TIMEOUT:me(Gt,`RPC '${e}' ${f} timed out`),_(new ve(le.DEADLINE_EXCEEDED,"Request time out"));break;case uc.HTTP_ERROR:const p=v.getStatus();if(me(Gt,`RPC '${e}' ${f} failed with status:`,p,"response text:",v.getResponseText()),p>0){let b=v.getResponseJson();Array.isArray(b)&&(b=b[0]);const g=b==null?void 0:b.error;if(g&&g.status&&g.message){const y=function(E){const S=E.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(S)>=0?S:le.UNKNOWN}(g.status);_(new ve(y,g.message))}else _(new ve(le.UNKNOWN,"Server responded with status "+v.getStatus()))}else _(new ve(le.UNAVAILABLE,"Connection failed."));break;default:we(9055,{s_:e,streamId:f,o_:v.getLastErrorCode(),__:v.getLastError()})}}finally{me(Gt,`RPC '${e}' ${f} completed.`)}});const w=JSON.stringify(o);me(Gt,`RPC '${e}' ${f} sending request:`,o),v.send(r,"POST",w,i,15)})}a_(e,r,i){const o=Ud(),u=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=ob(),c=sb(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Uo(_.initMessageHeaders,r,i),_.encodeInitMessageHeaders=!0;const w=u.join("");me(Gt,`Creating RPC '${e}' stream ${o}: ${w}`,_);const m=f.createWebChannel(w,_);let p=!1,b=!1;const g=new jR({Go:R=>{b?me(Gt,`Not sending because RPC '${e}' stream ${o} is closed:`,R):(p||(me(Gt,`Opening RPC '${e}' stream ${o} transport.`),m.open(),p=!0),me(Gt,`RPC '${e}' stream ${o} sending:`,R),m.send(R))},zo:()=>m.close()}),y=(R,E,S)=>{R.listen(E,x=>{try{S(x)}catch(M){setTimeout(()=>{throw M},0)}})};return y(m,al.EventType.OPEN,()=>{b||(me(Gt,`RPC '${e}' stream ${o} transport opened.`),g.t_())}),y(m,al.EventType.CLOSE,()=>{b||(b=!0,me(Gt,`RPC '${e}' stream ${o} transport closed`),g.r_())}),y(m,al.EventType.ERROR,R=>{b||(b=!0,Os(Gt,`RPC '${e}' stream ${o} transport errored. Name:`,R.name,"Message:",R.message),g.r_(new ve(le.UNAVAILABLE,"The operation could not be completed")))}),y(m,al.EventType.MESSAGE,R=>{var E;if(!b){const S=R.data[0];$e(!!S,16349);const x=S,M=(x==null?void 0:x.error)||((E=x[0])===null||E===void 0?void 0:E.error);if(M){me(Gt,`RPC '${e}' stream ${o} received error:`,M);const j=M.status;let B=function(D){const O=bt[D];if(O!==void 0)return Bb(O)}(j),N=M.message;B===void 0&&(B=le.INTERNAL,N="Unknown error status: "+j+" with message "+M.message),b=!0,g.r_(new ve(B,N)),m.close()}else me(Gt,`RPC '${e}' stream ${o} received:`,S),g.i_(S)}}),y(c,ib.STAT_EVENT,R=>{R.stat===xd.PROXY?me(Gt,`RPC '${e}' stream ${o} detected buffering proxy`):R.stat===xd.NOPROXY&&me(Gt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{g.n_()},0),g}}function gd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $c(a){return new BS(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e,r,i=1e3,o=1.5,u=6e4){this.bi=e,this.timerId=r,this.u_=i,this.c_=o,this.l_=u,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const r=Math.floor(this.h_+this.d_()),i=Math.max(0,Date.now()-this.T_),o=Math.max(0,r-i);o>0&&me("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.h_} ms, delay with jitter: ${r} ms, last attempt: ${i} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,o,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_="PersistentStream";class n0{constructor(e,r,i,o,u,f,c,_){this.bi=e,this.R_=i,this.V_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=c,this.listener=_,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new t0(e,r)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,r){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():r&&r.code===le.RESOURCE_EXHAUSTED?(qr(r.toString()),qr("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):r&&r.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(r)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),r=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.m_===r&&this.B_(i,o)},i=>{e(()=>{const o=new ve(le.UNKNOWN,"Fetching auth token failed: "+i.message);return this.L_(o)})})}B_(e,r){const i=this.N_(this.m_);this.stream=this.k_(e,r),this.stream.jo(()=>{i(()=>this.listener.jo())}),this.stream.Jo(()=>{i(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(o=>{i(()=>this.L_(o))}),this.stream.onMessage(o=>{i(()=>++this.p_==1?this.q_(o):this.onNext(o))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return me(r_,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return r=>{this.bi.enqueueAndForget(()=>this.m_===e?r():(me(r_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class LR extends n0{constructor(e,r,i,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,o,f),this.serializer=u}k_(e,r){return this.connection.a_("Listen",e,r)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const r=$S(this.serializer,e),i=function(u){if(!("targetChange"in u))return Re.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Re.min():f.readTime?cr(f.readTime):Re.min()}(e);return this.listener.Q_(r,i)}U_(e){const r={};r.database=Pd(this.serializer),r.addTarget=function(u,f){let c;const _=f.target;if(c=Nd(_)?{documents:QS(u,_)}:{query:YS(u,_).gt},c.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){c.resumeToken=$b(u,f.resumeToken);const v=Md(u,f.expectedCount);v!==null&&(c.expectedCount=v)}else if(f.snapshotVersion.compareTo(Re.min())>0){c.readTime=xc(u,f.snapshotVersion.toTimestamp());const v=Md(u,f.expectedCount);v!==null&&(c.expectedCount=v)}return c}(this.serializer,e);const i=XS(this.serializer,e);i&&(r.labels=i),this.F_(r)}K_(e){const r={};r.database=Pd(this.serializer),r.removeTarget=e,this.F_(r)}}class UR extends n0{constructor(e,r,i,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,o,f),this.serializer=u}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,r){return this.connection.a_("Write",e,r)}q_(e){return $e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){$e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const r=GS(e.writeResults,e.commitTime),i=cr(e.commitTime);return this.listener.j_(i,r)}H_(){const e={};e.database=Pd(this.serializer),this.F_(e)}G_(e){const r={streamToken:this.lastStreamToken,writes:e.map(i=>FS(this.serializer,i))};this.F_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{}class BR extends zR{constructor(e,r,i,o){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=i,this.serializer=o,this.J_=!1}Y_(){if(this.J_)throw new ve(le.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,r,i,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Qo(e,Vd(r,i),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ve(le.UNKNOWN,u.toString())})}Wo(e,r,i,o,u){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,c])=>this.connection.Wo(e,Vd(r,i),o,f,c,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ve(le.UNKNOWN,f.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class qR{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(qr(r),this.ea=!1):me("OnlineStateTracker",r)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti="RemoteStore";class HR{constructor(e,r,i,o,u){this.localStore=e,this.datastore=r,this.asyncQueue=i,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=u,this.ca.vo(f=>{i.enqueueAndForget(async()=>{Ci(this)&&(me(Ti,"Restarting streams for network reachability change."),await async function(_){const v=Ce(_);v.aa.add(4),await Rl(v),v.la.set("Unknown"),v.aa.delete(4),await Fc(v)}(this))})}),this.la=new qR(i,o)}}async function Fc(a){if(Ci(a))for(const e of a.ua)await e(!0)}async function Rl(a){for(const e of a.ua)await e(!1)}function r0(a,e){const r=Ce(a);r._a.has(e.targetId)||(r._a.set(e.targetId,e),Am(r)?Em(r):$s(r).b_()&&bm(r,e))}function _m(a,e){const r=Ce(a),i=$s(r);r._a.delete(e),i.b_()&&a0(r,e),r._a.size===0&&(i.b_()?i.v_():Ci(r)&&r.la.set("Unknown"))}function bm(a,e){if(a.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const r=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}$s(a).U_(e)}function a0(a,e){a.ha.Ke(e),$s(a).K_(e)}function Em(a){a.ha=new PS({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>a._a.get(e)||null,Pt:()=>a.datastore.serializer.databaseId}),$s(a).start(),a.la.ta()}function Am(a){return Ci(a)&&!$s(a).w_()&&a._a.size>0}function Ci(a){return Ce(a).aa.size===0}function i0(a){a.ha=void 0}async function $R(a){a.la.set("Online")}async function FR(a){a._a.forEach((e,r)=>{bm(a,e)})}async function GR(a,e){i0(a),Am(a)?(a.la.ia(e),Em(a)):a.la.set("Unknown")}async function QR(a,e,r){if(a.la.set("Online"),e instanceof Hb&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const c of u.targetIds)o._a.has(c)&&(await o.remoteSyncer.rejectListen(c,f),o._a.delete(c),o.ha.removeTarget(c))}(a,e)}catch(i){me(Ti,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Dc(a,i)}else if(e instanceof dc?a.ha.Xe(e):e instanceof qb?a.ha.ot(e):a.ha.nt(e),!r.isEqual(Re.min()))try{const i=await e0(a.localStore);r.compareTo(i)>=0&&await function(u,f){const c=u.ha.It(f);return c.targetChanges.forEach((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const w=u._a.get(v);w&&u._a.set(v,w.withResumeToken(_.resumeToken,f))}}),c.targetMismatches.forEach((_,v)=>{const w=u._a.get(_);if(!w)return;u._a.set(_,w.withResumeToken(qt.EMPTY_BYTE_STRING,w.snapshotVersion)),a0(u,_);const m=new ba(w.target,_,v,w.sequenceNumber);bm(u,m)}),u.remoteSyncer.applyRemoteEvent(c)}(a,r)}catch(i){me(Ti,"Failed to raise snapshot:",i),await Dc(a,i)}}async function Dc(a,e,r){if(!Hs(e))throw e;a.aa.add(1),await Rl(a),a.la.set("Offline"),r||(r=()=>e0(a.localStore)),a.asyncQueue.enqueueRetryable(async()=>{me(Ti,"Retrying IndexedDB access"),await r(),a.aa.delete(1),await Fc(a)})}function s0(a,e){return e().catch(r=>Dc(a,r,e))}async function Gc(a){const e=Ce(a),r=Na(e);let i=e.oa.length>0?e.oa[e.oa.length-1].batchId:im;for(;YR(e);)try{const o=await DR(e.localStore,i);if(o===null){e.oa.length===0&&r.v_();break}i=o.batchId,KR(e,o)}catch(o){await Dc(e,o)}o0(e)&&l0(e)}function YR(a){return Ci(a)&&a.oa.length<10}function KR(a,e){a.oa.push(e);const r=Na(a);r.b_()&&r.W_&&r.G_(e.mutations)}function o0(a){return Ci(a)&&!Na(a).w_()&&a.oa.length>0}function l0(a){Na(a).start()}async function XR(a){Na(a).H_()}async function WR(a){const e=Na(a);for(const r of a.oa)e.G_(r.mutations)}async function ZR(a,e,r){const i=a.oa.shift(),o=fm.from(i,e,r);await s0(a,()=>a.remoteSyncer.applySuccessfulWrite(o)),await Gc(a)}async function JR(a,e){e&&Na(a).W_&&await async function(i,o){if(function(f){return VS(f)&&f!==le.ABORTED}(o.code)){const u=i.oa.shift();Na(i).D_(),await s0(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Gc(i)}}(a,e),o0(a)&&l0(a)}async function a_(a,e){const r=Ce(a);r.asyncQueue.verifyOperationInProgress(),me(Ti,"RemoteStore received new credentials");const i=Ci(r);r.aa.add(3),await Rl(r),i&&r.la.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.aa.delete(3),await Fc(r)}async function ex(a,e){const r=Ce(a);e?(r.aa.delete(2),await Fc(r)):e||(r.aa.add(2),await Rl(r),r.la.set("Unknown"))}function $s(a){return a.Pa||(a.Pa=function(r,i,o){const u=Ce(r);return u.Y_(),new LR(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(a.datastore,a.asyncQueue,{jo:$R.bind(null,a),Jo:FR.bind(null,a),Zo:GR.bind(null,a),Q_:QR.bind(null,a)}),a.ua.push(async e=>{e?(a.Pa.D_(),Am(a)?Em(a):a.la.set("Unknown")):(await a.Pa.stop(),i0(a))})),a.Pa}function Na(a){return a.Ta||(a.Ta=function(r,i,o){const u=Ce(r);return u.Y_(),new UR(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(a.datastore,a.asyncQueue,{jo:()=>Promise.resolve(),Jo:XR.bind(null,a),Zo:JR.bind(null,a),z_:WR.bind(null,a),j_:ZR.bind(null,a)}),a.ua.push(async e=>{e?(a.Ta.D_(),await Gc(a)):(await a.Ta.stop(),a.oa.length>0&&(me(Ti,`Stopping write stream with ${a.oa.length} pending writes`),a.oa=[]))})),a.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e,r,i,o,u){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=i,this.op=o,this.removalCallback=u,this.deferred=new Ta,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,i,o,u){const f=Date.now()+i,c=new wm(e,r,f,o,u);return c.start(i),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tm(a,e){if(qr("AsyncQueue",`${e}: ${a}`),Hs(a))return new ve(le.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{static emptySet(e){return new Cs(e.comparator)}constructor(e){this.comparator=e?(r,i)=>e(r,i)||_e.comparator(r.key,i.key):(r,i)=>_e.comparator(r.key,i.key),this.keyedMap=il(),this.sortedSet=new lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,i)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Cs)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;r.hasNext();){const o=r.getNext().key,u=i.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const i=new Cs;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=r,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(){this.Ia=new lt(_e.comparator)}track(e){const r=e.doc.key,i=this.Ia.get(r);i?e.type!==0&&i.type===3?this.Ia=this.Ia.insert(r,e):e.type===3&&i.type!==1?this.Ia=this.Ia.insert(r,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Ia=this.Ia.insert(r,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Ia=this.Ia.insert(r,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Ia=this.Ia.remove(r):e.type===1&&i.type===2?this.Ia=this.Ia.insert(r,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Ia=this.Ia.insert(r,{type:2,doc:e.doc}):we(63341,{Vt:e,Ea:i}):this.Ia=this.Ia.insert(r,e)}da(){const e=[];return this.Ia.inorderTraversal((r,i)=>{e.push(i)}),e}}class Vs{constructor(e,r,i,o,u,f,c,_,v){this.query=e,this.docs=r,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=c,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,r,i,o,u){const f=[];return r.forEach(c=>{f.push({type:0,doc:c})}),new Vs(e,r,Cs.emptySet(r),f,i,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Uc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,i=e.docChanges;if(r.length!==i.length)return!1;for(let o=0;o<r.length;o++)if(r[o].type!==i[o].type||!r[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class nx{constructor(){this.queries=s_(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(r,i){const o=Ce(r),u=o.queries;o.queries=s_(),u.forEach((f,c)=>{for(const _ of c.Ra)_.onError(i)})})(this,new ve(le.ABORTED,"Firestore shutting down"))}}function s_(){return new xi(a=>Db(a),Uc)}async function rx(a,e){const r=Ce(a);let i=3;const o=e.query;let u=r.queries.get(o);u?!u.Va()&&e.ma()&&(i=2):(u=new tx,i=e.ma()?0:1);try{switch(i){case 0:u.Aa=await r.onListen(o,!0);break;case 1:u.Aa=await r.onListen(o,!1);break;case 2:await r.onFirstRemoteStoreListen(o)}}catch(f){const c=Tm(f,`Initialization of query '${Ts(e.query)}' failed`);return void e.onError(c)}r.queries.set(o,u),u.Ra.push(e),e.ga(r.onlineState),u.Aa&&e.pa(u.Aa)&&Sm(r)}async function ax(a,e){const r=Ce(a),i=e.query;let o=3;const u=r.queries.get(i);if(u){const f=u.Ra.indexOf(e);f>=0&&(u.Ra.splice(f,1),u.Ra.length===0?o=e.ma()?0:1:!u.Va()&&e.ma()&&(o=2))}switch(o){case 0:return r.queries.delete(i),r.onUnlisten(i,!0);case 1:return r.queries.delete(i),r.onUnlisten(i,!1);case 2:return r.onLastRemoteStoreUnlisten(i);default:return}}function ix(a,e){const r=Ce(a);let i=!1;for(const o of e){const u=o.query,f=r.queries.get(u);if(f){for(const c of f.Ra)c.pa(o)&&(i=!0);f.Aa=o}}i&&Sm(r)}function sx(a,e,r){const i=Ce(a),o=i.queries.get(e);if(o)for(const u of o.Ra)u.onError(r);i.queries.delete(e)}function Sm(a){a.fa.forEach(e=>{e.next()})}var zd,o_;(o_=zd||(zd={})).ya="default",o_.Cache="cache";class ox{constructor(e,r,i){this.query=e,this.wa=r,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=i||{}}pa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Vs(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.ba?this.Da(e)&&(this.wa.next(e),r=!0):this.va(e,this.onlineState)&&(this.Ca(e),r=!0),this.Sa=e,r}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let r=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),r=!0),r}va(e,r){if(!e.fromCache||!this.ma())return!0;const i=r!=="Offline";return(!this.options.Fa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const r=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}Ca(e){e=Vs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==zd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e){this.key=e}}class c0{constructor(e){this.key=e}}class lx{constructor(e,r){this.query=e,this.qa=r,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Ve(),this.mutatedKeys=Ve(),this.Ua=Ob(e),this.Ka=new Cs(this.Ua)}get Wa(){return this.qa}Ga(e,r){const i=r?r.za:new i_,o=r?r.Ka:this.Ka;let u=r?r.mutatedKeys:this.mutatedKeys,f=o,c=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((w,m)=>{const p=o.get(w),b=zc(this.query,m)?m:null,g=!!p&&this.mutatedKeys.has(p.key),y=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let R=!1;p&&b?p.data.isEqual(b.data)?g!==y&&(i.track({type:3,doc:b}),R=!0):this.ja(p,b)||(i.track({type:2,doc:b}),R=!0,(_&&this.Ua(b,_)>0||v&&this.Ua(b,v)<0)&&(c=!0)):!p&&b?(i.track({type:0,doc:b}),R=!0):p&&!b&&(i.track({type:1,doc:p}),R=!0,(_||v)&&(c=!0)),R&&(b?(f=f.add(b),u=y?u.add(w):u.delete(w)):(f=f.delete(w),u=u.delete(w)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const w=this.query.limitType==="F"?f.last():f.first();f=f.delete(w.key),u=u.delete(w.key),i.track({type:1,doc:w})}return{Ka:f,za:i,ys:c,mutatedKeys:u}}ja(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,i,o){const u=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const f=e.za.da();f.sort((w,m)=>function(b,g){const y=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Vt:R})}};return y(b)-y(g)}(w.type,m.type)||this.Ua(w.doc,m.doc)),this.Ha(i),o=o!=null&&o;const c=r&&!o?this.Ja():[],_=this.$a.size===0&&this.current&&!o?1:0,v=_!==this.Qa;return this.Qa=_,f.length!==0||v?{snapshot:new Vs(this.query,e.Ka,u,f,e.mutatedKeys,_===0,v,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ya:c}:{Ya:c}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new i_,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(r=>this.qa=this.qa.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.qa=this.qa.delete(r)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=Ve(),this.Ka.forEach(i=>{this.Za(i.key)&&(this.$a=this.$a.add(i.key))});const r=[];return e.forEach(i=>{this.$a.has(i)||r.push(new c0(i))}),this.$a.forEach(i=>{e.has(i)||r.push(new u0(i))}),r}Xa(e){this.qa=e.Ns,this.$a=Ve();const r=this.Ga(e.documents);return this.applyChanges(r,!0)}eu(){return Vs.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Rm="SyncEngine";class ux{constructor(e,r,i){this.query=e,this.targetId=r,this.view=i}}class cx{constructor(e){this.key=e,this.tu=!1}}class hx{constructor(e,r,i,o,u,f){this.localStore=e,this.remoteStore=r,this.eventManager=i,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.nu={},this.ru=new xi(c=>Db(c),Uc),this.iu=new Map,this.su=new Set,this.ou=new lt(_e.comparator),this._u=new Map,this.au=new pm,this.uu={},this.cu=new Map,this.lu=Ms.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function fx(a,e,r=!0){const i=g0(a);let o;const u=i.ru.get(e);return u?(i.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.eu()):o=await h0(i,e,r,!0),o}async function dx(a,e){const r=g0(a);await h0(r,e,!0,!1)}async function h0(a,e,r,i){const o=await OR(a.localStore,ur(e)),u=o.targetId,f=a.sharedClientState.addLocalQueryTarget(u,r);let c;return i&&(c=await mx(a,e,u,f==="current",o.resumeToken)),a.isPrimaryClient&&r&&r0(a.remoteStore,o),c}async function mx(a,e,r,i,o){a.Pu=(m,p,b)=>async function(y,R,E,S){let x=R.view.Ga(E);x.ys&&(x=await Jv(y.localStore,R.query,!1).then(({documents:N})=>R.view.Ga(N,x)));const M=S&&S.targetChanges.get(R.targetId),j=S&&S.targetMismatches.get(R.targetId)!=null,B=R.view.applyChanges(x,y.isPrimaryClient,M,j);return u_(y,R.targetId,B.Ya),B.snapshot}(a,m,p,b);const u=await Jv(a.localStore,e,!0),f=new lx(e,u.Ns),c=f.Ga(u.documents),_=Sl.createSynthesizedTargetChangeForCurrentChange(r,i&&a.onlineState!=="Offline",o),v=f.applyChanges(c,a.isPrimaryClient,_);u_(a,r,v.Ya);const w=new ux(e,r,f);return a.ru.set(e,w),a.iu.has(r)?a.iu.get(r).push(e):a.iu.set(r,[e]),v.snapshot}async function px(a,e,r){const i=Ce(a),o=i.ru.get(e),u=i.iu.get(o.targetId);if(u.length>1)return i.iu.set(o.targetId,u.filter(f=>!Uc(f,e))),void i.ru.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Ld(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),r&&_m(i.remoteStore,o.targetId),Bd(i,o.targetId)}).catch(qs)):(Bd(i,o.targetId),await Ld(i.localStore,o.targetId,!0))}async function gx(a,e){const r=Ce(a),i=r.ru.get(e),o=r.iu.get(i.targetId);r.isPrimaryClient&&o.length===1&&(r.sharedClientState.removeLocalQueryTarget(i.targetId),_m(r.remoteStore,i.targetId))}async function yx(a,e,r){const i=Tx(a);try{const o=await function(f,c){const _=Ce(f),v=xt.now(),w=c.reduce((b,g)=>b.add(g.key),Ve());let m,p;return _.persistence.runTransaction("Locally write mutations","readwrite",b=>{let g=Hr(),y=Ve();return _.Cs.getEntries(b,w).next(R=>{g=R,g.forEach((E,S)=>{S.isValidDocument()||(y=y.add(E))})}).next(()=>_.localDocuments.getOverlayedDocuments(b,g)).next(R=>{m=R;const E=[];for(const S of c){const x=OS(S,m.get(S.key).overlayedDocument);x!=null&&E.push(new ja(S.key,x,Eb(x.value.mapValue),Pn.exists(!0)))}return _.mutationQueue.addMutationBatch(b,v,E,c)}).next(R=>{p=R;const E=R.applyToLocalDocumentSet(m,y);return _.documentOverlayCache.saveOverlays(b,R.batchId,E)})}).then(()=>({batchId:p.batchId,changes:Nb(m)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(f,c,_){let v=f.uu[f.currentUser.toKey()];v||(v=new lt(Ie)),v=v.insert(c,_),f.uu[f.currentUser.toKey()]=v}(i,o.batchId,r),await xl(i,o.changes),await Gc(i.remoteStore)}catch(o){const u=Tm(o,"Failed to persist write");r.reject(u)}}async function f0(a,e){const r=Ce(a);try{const i=await xR(r.localStore,e);e.targetChanges.forEach((o,u)=>{const f=r._u.get(u);f&&($e(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.tu=!0:o.modifiedDocuments.size>0?$e(f.tu,14607):o.removedDocuments.size>0&&($e(f.tu,42227),f.tu=!1))}),await xl(r,i,e)}catch(i){await qs(i)}}function l_(a,e,r){const i=Ce(a);if(i.isPrimaryClient&&r===0||!i.isPrimaryClient&&r===1){const o=[];i.ru.forEach((u,f)=>{const c=f.view.ga(e);c.snapshot&&o.push(c.snapshot)}),function(f,c){const _=Ce(f);_.onlineState=c;let v=!1;_.queries.forEach((w,m)=>{for(const p of m.Ra)p.ga(c)&&(v=!0)}),v&&Sm(_)}(i.eventManager,e),o.length&&i.nu.Q_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function vx(a,e,r){const i=Ce(a);i.sharedClientState.updateQueryState(e,"rejected",r);const o=i._u.get(e),u=o&&o.key;if(u){let f=new lt(_e.comparator);f=f.insert(u,Yt.newNoDocument(u,Re.min()));const c=Ve().add(u),_=new Hc(Re.min(),new Map,new lt(Ie),f,c);await f0(i,_),i.ou=i.ou.remove(u),i._u.delete(e),xm(i)}else await Ld(i.localStore,e,!1).then(()=>Bd(i,e,r)).catch(qs)}async function _x(a,e){const r=Ce(a),i=e.batch.batchId;try{const o=await RR(r.localStore,e);m0(r,i,null),d0(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),await xl(r,o)}catch(o){await qs(o)}}async function bx(a,e,r){const i=Ce(a);try{const o=await function(f,c){const _=Ce(f);return _.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let w;return _.mutationQueue.lookupMutationBatch(v,c).next(m=>($e(m!==null,37113),w=m.keys(),_.mutationQueue.removeMutationBatch(v,m))).next(()=>_.mutationQueue.performConsistencyCheck(v)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(v,w,c)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,w)).next(()=>_.localDocuments.getDocuments(v,w))})}(i.localStore,e);m0(i,e,r),d0(i,e),i.sharedClientState.updateMutationState(e,"rejected",r),await xl(i,o)}catch(o){await qs(o)}}function d0(a,e){(a.cu.get(e)||[]).forEach(r=>{r.resolve()}),a.cu.delete(e)}function m0(a,e,r){const i=Ce(a);let o=i.uu[i.currentUser.toKey()];if(o){const u=o.get(e);u&&(r?u.reject(r):u.resolve(),o=o.remove(e)),i.uu[i.currentUser.toKey()]=o}}function Bd(a,e,r=null){a.sharedClientState.removeLocalQueryTarget(e);for(const i of a.iu.get(e))a.ru.delete(i),r&&a.nu.Tu(i,r);a.iu.delete(e),a.isPrimaryClient&&a.au.Ur(e).forEach(i=>{a.au.containsKey(i)||p0(a,i)})}function p0(a,e){a.su.delete(e.path.canonicalString());const r=a.ou.get(e);r!==null&&(_m(a.remoteStore,r),a.ou=a.ou.remove(e),a._u.delete(r),xm(a))}function u_(a,e,r){for(const i of r)i instanceof u0?(a.au.addReference(i.key,e),Ex(a,i)):i instanceof c0?(me(Rm,"Document no longer in limbo: "+i.key),a.au.removeReference(i.key,e),a.au.containsKey(i.key)||p0(a,i.key)):we(19791,{Iu:i})}function Ex(a,e){const r=e.key,i=r.path.canonicalString();a.ou.get(r)||a.su.has(i)||(me(Rm,"New document in limbo: "+r),a.su.add(i),xm(a))}function xm(a){for(;a.su.size>0&&a.ou.size<a.maxConcurrentLimboResolutions;){const e=a.su.values().next().value;a.su.delete(e);const r=new _e(it.fromString(e)),i=a.lu.next();a._u.set(i,new cx(r)),a.ou=a.ou.insert(r,i),r0(a.remoteStore,new ba(ur(Cb(r.path)),i,"TargetPurposeLimboResolution",Vc.le))}}async function xl(a,e,r){const i=Ce(a),o=[],u=[],f=[];i.ru.isEmpty()||(i.ru.forEach((c,_)=>{f.push(i.Pu(_,e,r).then(v=>{var w;if((v||r)&&i.isPrimaryClient){const m=v?!v.fromCache:(w=r==null?void 0:r.targetChanges.get(_.targetId))===null||w===void 0?void 0:w.current;i.sharedClientState.updateQueryState(_.targetId,m?"current":"not-current")}if(v){o.push(v);const m=ym.Ps(_.targetId,v);u.push(m)}}))}),await Promise.all(f),i.nu.Q_(o),await async function(_,v){const w=Ce(_);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>ie.forEach(v,p=>ie.forEach(p.ls,b=>w.persistence.referenceDelegate.addReference(m,p.targetId,b)).next(()=>ie.forEach(p.hs,b=>w.persistence.referenceDelegate.removeReference(m,p.targetId,b)))))}catch(m){if(!Hs(m))throw m;me(vm,"Failed to update sequence numbers: "+m)}for(const m of v){const p=m.targetId;if(!m.fromCache){const b=w.Ss.get(p),g=b.snapshotVersion,y=b.withLastLimboFreeSnapshotVersion(g);w.Ss=w.Ss.insert(p,y)}}}(i.localStore,u))}async function Ax(a,e){const r=Ce(a);if(!r.currentUser.isEqual(e)){me(Rm,"User change. New user:",e.toKey());const i=await Jb(r.localStore,e);r.currentUser=e,function(u,f){u.cu.forEach(c=>{c.forEach(_=>{_.reject(new ve(le.CANCELLED,f))})}),u.cu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await xl(r,i.Ms)}}function wx(a,e){const r=Ce(a),i=r._u.get(e);if(i&&i.tu)return Ve().add(i.key);{let o=Ve();const u=r.iu.get(e);if(!u)return o;for(const f of u){const c=r.ru.get(f);o=o.unionWith(c.view.Wa)}return o}}function g0(a){const e=Ce(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=f0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vx.bind(null,e),e.nu.Q_=ix.bind(null,e.eventManager),e.nu.Tu=sx.bind(null,e.eventManager),e}function Tx(a){const e=Ce(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_x.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bx.bind(null,e),e}class Oc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=$c(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,r){return null}fu(e,r){return null}Vu(e){return SR(this.persistence,new AR,e.initialUser,this.serializer)}Ru(e){return new Zb(gm.Ei,this.serializer)}Au(e){return new NR}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Oc.provider={build:()=>new Oc};class Sx extends Oc{constructor(e){super(),this.cacheSizeBytes=e}mu(e,r){$e(this.persistence.referenceDelegate instanceof Cc,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new oR(i,e.asyncQueue,r)}Ru(e){const r=this.cacheSizeBytes!==void 0?rn.withCacheSize(this.cacheSizeBytes):rn.DEFAULT;return new Zb(i=>Cc.Ei(i,r),this.serializer)}}class qd{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>l_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ax.bind(null,this.syncEngine),await ex(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new nx}()}createDatastore(e){const r=$c(e.databaseInfo.databaseId),i=function(u){return new PR(u)}(e.databaseInfo);return function(u,f,c,_){return new BR(u,f,c,_)}(e.authCredentials,e.appCheckCredentials,i,r)}createRemoteStore(e){return function(i,o,u,f,c){return new HR(i,o,u,f,c)}(this.localStore,this.datastore,e.asyncQueue,r=>l_(this.syncEngine,r,0),function(){return n_.C()?new n_:new kR}())}createSyncEngine(e,r){return function(o,u,f,c,_,v,w){const m=new hx(o,u,f,c,_,v);return w&&(m.hu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(o){const u=Ce(o);me(Ti,"RemoteStore shutting down."),u.aa.add(5),await Rl(u),u.ca.shutdown(),u.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}qd.provider={build:()=>new qd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):qr("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka="FirestoreClient";class xx{constructor(e,r,i,o,u){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=i,this.databaseInfo=o,this.user=Qt.UNAUTHENTICATED,this.clientId=hb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(i,async f=>{me(ka,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(i,f=>(me(ka,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ta;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const i=Tm(r,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function yd(a,e){a.asyncQueue.verifyOperationInProgress(),me(ka,"Initializing OfflineComponentProvider");const r=a.configuration;await e.initialize(r);let i=r.initialUser;a.setCredentialChangeListener(async o=>{i.isEqual(o)||(await Jb(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=e}async function c_(a,e){a.asyncQueue.verifyOperationInProgress();const r=await Cx(a);me(ka,"Initializing OnlineComponentProvider"),await e.initialize(r,a.configuration),a.setCredentialChangeListener(i=>a_(e.remoteStore,i)),a.setAppCheckTokenChangeListener((i,o)=>a_(e.remoteStore,o)),a._onlineComponents=e}async function Cx(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){me(ka,"Using user provided OfflineComponentProvider");try{await yd(a,a._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(o){return o.name==="FirebaseError"?o.code===le.FAILED_PRECONDITION||o.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(r))throw r;Os("Error using user provided cache. Falling back to memory cache: "+r),await yd(a,new Oc)}}else me(ka,"Using default OfflineComponentProvider"),await yd(a,new Sx(void 0));return a._offlineComponents}async function y0(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(me(ka,"Using user provided OnlineComponentProvider"),await c_(a,a._uninitializedComponentsProvider._online)):(me(ka,"Using default OnlineComponentProvider"),await c_(a,new qd))),a._onlineComponents}function Dx(a){return y0(a).then(e=>e.syncEngine)}async function Ox(a){const e=await y0(a),r=e.eventManager;return r.onListen=fx.bind(null,e.syncEngine),r.onUnlisten=px.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=dx.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=gx.bind(null,e.syncEngine),r}function Ix(a,e,r={}){const i=new Ta;return a.asyncQueue.enqueueAndForget(async()=>function(u,f,c,_,v){const w=new Rx({next:p=>{w.yu(),f.enqueueAndForget(()=>ax(u,m)),p.fromCache&&_.source==="server"?v.reject(new ve(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(p)},error:p=>v.reject(p)}),m=new ox(c,w,{includeMetadataChanges:!0,Fa:!0});return rx(u,m)}(await Ox(a),a.asyncQueue,e,r,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v0(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0(a,e,r){if(!r)throw new ve(le.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function Nx(a,e,r,i){if(e===!0&&i===!0)throw new ve(le.INVALID_ARGUMENT,`${a} and ${r} cannot be used together.`)}function f_(a){if(!_e.isDocumentKey(a))throw new ve(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function d_(a){if(_e.isDocumentKey(a))throw new ve(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function Cm(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":we(12329,{type:typeof a})}function Si(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new ve(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Cm(a);throw new ve(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0="firestore.googleapis.com",m_=!0;class p_{constructor(e){var r,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ve(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=b0,this.ssl=m_}else this.host=e.host,this.ssl=(r=e.ssl)!==null&&r!==void 0?r:m_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Wb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<iR)throw new ve(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Nx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=v0((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ve(le.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ve(le.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ve(le.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qc{constructor(e,r,i,o){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new p_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new p_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new VT;switch(i.type){case"firstParty":return new UT(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ve(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,Y_("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const i=h_.get(r);i&&(me("ComponentProvider","Removing Datastore"),h_.delete(r),i.terminate())}(this),Promise.resolve()}}function kx(a,e,r,i={}){var o;a=Si(a,Qc);const u=nm(e),f=a._getSettings(),c=Object.assign(Object.assign({},f),{emulatorOptions:a._getEmulatorOptions()}),_=`${e}:${r}`;f.host!==b0&&f.host!==_&&Os("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v=Object.assign(Object.assign({},f),{host:_,ssl:u,emulatorOptions:i});if(!yc(v,c)&&(a._setSettings(v),u&&(hw(`https://${_}`),Y_("Firestore",!0)),i.mockUserToken)){let w,m;if(typeof i.mockUserToken=="string")w=i.mockUserToken,m=Qt.MOCK_USER;else{w=fw(i.mockUserToken,(o=a._app)===null||o===void 0?void 0:o.options.projectId);const p=i.mockUserToken.sub||i.mockUserToken.user_id;if(!p)throw new ve(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Qt(p)}a._authCredentials=new jT(new ub(w,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,r,i){this.converter=r,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Yc(this.firestore,e,this._query)}}class Dn{constructor(e,r,i){this.converter=r,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Sa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dn(this.firestore,e,this._key)}}class Sa extends Yc{constructor(e,r,i){super(e,r,Cb(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dn(this.firestore,null,new _e(e))}withConverter(e){return new Sa(this.firestore,e,this._path)}}function g_(a,e,...r){if(a=xa(a),_0("collection","path",e),a instanceof Qc){const i=it.fromString(e,...r);return d_(i),new Sa(a,null,i)}{if(!(a instanceof Dn||a instanceof Sa))throw new ve(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=a._path.child(it.fromString(e,...r));return d_(i),new Sa(a.firestore,null,i)}}function Hd(a,e,...r){if(a=xa(a),arguments.length===1&&(e=hb.newId()),_0("doc","path",e),a instanceof Qc){const i=it.fromString(e,...r);return f_(i),new Dn(a,null,new _e(i))}{if(!(a instanceof Dn||a instanceof Sa))throw new ve(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=a._path.child(it.fromString(e,...r));return f_(i),new Dn(a.firestore,a instanceof Sa?a.converter:null,new _e(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_="AsyncQueue";class v_{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new t0(this,"async_queue_retry"),this.ju=()=>{const i=gd();i&&me(y_,"Visibility state changed to "+i.visibilityState),this.y_.A_()},this.Hu=e;const r=gd();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const r=gd();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const r=new Ta;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!Hs(e))throw e;me(y_,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const r=this.Hu.then(()=>(this.Wu=!0,e().catch(i=>{throw this.Ku=i,this.Wu=!1,qr("INTERNAL UNHANDLED ERROR: ",__(i)),i}).then(i=>(this.Wu=!1,i))));return this.Hu=r,r}enqueueAfterDelay(e,r,i){this.Ju(),this.zu.indexOf(e)>-1&&(r=0);const o=wm.createAndSchedule(this,e,r,i,u=>this.Xu(u));return this.Uu.push(o),o}Ju(){this.Ku&&we(47125,{ec:__(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const r of this.Uu)if(r.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((r,i)=>r.targetTimeMs-i.targetTimeMs);for(const r of this.Uu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const r=this.Uu.indexOf(e);this.Uu.splice(r,1)}}function __(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}class Cl extends Qc{constructor(e,r,i,o){super(e,r,i,o),this.type="firestore",this._queue=new v_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new v_(e),this._firestoreClient=void 0,await e}}}function Mx(a,e){const r=typeof a=="object"?a:TT(),i=typeof a=="string"?a:Ec,o=_T(r,"firestore").getImmediate({identifier:i});if(!o._initialized){const u=uw("firestore");u&&kx(o,...u)}return o}function E0(a){if(a._terminated)throw new ve(le.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||Vx(a),a._firestoreClient}function Vx(a){var e,r,i;const o=a._freezeSettings(),u=function(c,_,v,w){return new eS(c,_,v,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,v0(w.experimentalLongPollingOptions),w.useFetchStreams,w.isUsingEmulator)}(a._databaseId,((e=a._app)===null||e===void 0?void 0:e.options.appId)||"",a._persistenceKey,o);a._componentsProvider||!((r=o.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(a._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),a._firestoreClient=new xx(a._authCredentials,a._appCheckCredentials,a._queue,u,a._componentsProvider&&function(c){const _=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(_),_online:_}}(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e){this._byteString=e}static fromBase64String(e){try{return new js(qt.fromBase64String(e))}catch(r){throw new ve(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new js(qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new ve(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new ve(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new ve(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ie(this._lat,e._lat)||Ie(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let u=0;u<i.length;++u)if(i[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx=/^__.*__$/;class Px{constructor(e,r,i){this.data=e,this.fieldMask=r,this.fieldTransforms=i}toMutation(e,r){return this.fieldMask!==null?new ja(e,this.data,this.fieldMask,r,this.fieldTransforms):new Tl(e,this.data,r,this.fieldTransforms)}}class A0{constructor(e,r,i){this.data=e,this.fieldMask=r,this.fieldTransforms=i}toMutation(e,r){return new ja(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function w0(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{oc:a})}}class Nm{constructor(e,r,i,o,u,f){this.settings=e,this.databaseId=r,this.serializer=i,this.ignoreUndefinedProperties=o,u===void 0&&this._c(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new Nm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var r;const i=(r=this.path)===null||r===void 0?void 0:r.child(e),o=this.ac({path:i,cc:!1});return o.lc(e),o}hc(e){var r;const i=(r=this.path)===null||r===void 0?void 0:r.child(e),o=this.ac({path:i,cc:!1});return o._c(),o}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return Ic(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(w0(this.oc)&&jx.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class Lx{constructor(e,r,i){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=i||$c(e)}dc(e,r,i,o=!1){return new Nm({oc:e,methodName:r,Ec:i,path:Bt.emptyPath(),cc:!1,Ic:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function T0(a){const e=a._freezeSettings(),r=$c(a._databaseId);return new Lx(a._databaseId,!!e.ignoreUndefinedProperties,r)}function Ux(a,e,r,i,o,u={}){const f=a.dc(u.merge||u.mergeFields?2:0,e,r,o);km("Data must be an object, but it was:",f,i);const c=S0(i,f);let _,v;if(u.merge)_=new pn(f.fieldMask),v=f.fieldTransforms;else if(u.mergeFields){const w=[];for(const m of u.mergeFields){const p=$d(e,m,r);if(!f.contains(p))throw new ve(le.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);x0(w,p)||w.push(p)}_=new pn(w),v=f.fieldTransforms.filter(m=>_.covers(m.field))}else _=null,v=f.fieldTransforms;return new Px(new an(c),_,v)}class Xc extends Dm{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xc}}function zx(a,e,r,i){const o=a.dc(1,e,r);km("Data must be an object, but it was:",o,i);const u=[],f=an.empty();Va(i,(_,v)=>{const w=Mm(e,_,r);v=xa(v);const m=o.hc(w);if(v instanceof Xc)u.push(w);else{const p=Wc(v,m);p!=null&&(u.push(w),f.set(w,p))}});const c=new pn(u);return new A0(f,c,o.fieldTransforms)}function Bx(a,e,r,i,o,u){const f=a.dc(1,e,r),c=[$d(e,i,r)],_=[o];if(u.length%2!=0)throw new ve(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<u.length;p+=2)c.push($d(e,u[p])),_.push(u[p+1]);const v=[],w=an.empty();for(let p=c.length-1;p>=0;--p)if(!x0(v,c[p])){const b=c[p];let g=_[p];g=xa(g);const y=f.hc(b);if(g instanceof Xc)v.push(b);else{const R=Wc(g,y);R!=null&&(v.push(b),w.set(b,R))}}const m=new pn(v);return new A0(w,m,f.fieldTransforms)}function Wc(a,e){if(R0(a=xa(a)))return km("Unsupported field value:",e,a),S0(a,e);if(a instanceof Dm)return function(i,o){if(!w0(o.oc))throw o.Tc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Tc(`${i._methodName}() is not currently supported inside arrays`);const u=i._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(i,o){const u=[];let f=0;for(const c of i){let _=Wc(c,o.Pc(f));_==null&&(_={nullValue:"NULL_VALUE"}),u.push(_),f++}return{arrayValue:{values:u}}}(a,e)}return function(i,o){if((i=xa(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return TS(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const u=xt.fromDate(i);return{timestampValue:xc(o.serializer,u)}}if(i instanceof xt){const u=new xt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:xc(o.serializer,u)}}if(i instanceof Om)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof js)return{bytesValue:$b(o.serializer,i._byteString)};if(i instanceof Dn){const u=o.databaseId,f=i.firestore._databaseId;if(!f.isEqual(u))throw o.Tc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:mm(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof Im)return function(f,c){return{mapValue:{fields:{[_b]:{stringValue:bb},[Ac]:{arrayValue:{values:f.toArray().map(v=>{if(typeof v!="number")throw c.Tc("VectorValues must only contain numeric values.");return cm(c.serializer,v)})}}}}}}(i,o);throw o.Tc(`Unsupported field value: ${Cm(i)}`)}(a,e)}function S0(a,e){const r={};return db(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Va(a,(i,o)=>{const u=Wc(o,e.uc(i));u!=null&&(r[i]=u)}),{mapValue:{fields:r}}}function R0(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof xt||a instanceof Om||a instanceof js||a instanceof Dn||a instanceof Dm||a instanceof Im)}function km(a,e,r){if(!R0(r)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(r)){const i=Cm(r);throw i==="an object"?e.Tc(a+" a custom object"):e.Tc(a+" "+i)}}function $d(a,e,r){if((e=xa(e))instanceof Kc)return e._internalPath;if(typeof e=="string")return Mm(a,e);throw Ic("Field path arguments must be of type string or ",a,!1,void 0,r)}const qx=new RegExp("[~\\*/\\[\\]]");function Mm(a,e,r){if(e.search(qx)>=0)throw Ic(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,r);try{return new Kc(...e.split("."))._internalPath}catch{throw Ic(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,r)}}function Ic(a,e,r,i,o){const u=i&&!i.isEmpty(),f=o!==void 0;let c=`Function ${e}() called with invalid data`;r&&(c+=" (via `toFirestore()`)"),c+=". ";let _="";return(u||f)&&(_+=" (found",u&&(_+=` in field ${i}`),f&&(_+=` in document ${o}`),_+=")"),new ve(le.INVALID_ARGUMENT,c+a+_)}function x0(a,e){return a.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e,r,i,o,u){this._firestore=e,this._userDataWriter=r,this._key=i,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Hx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(D0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class Hx extends C0{data(){return super.data()}}function D0(a,e){return typeof e=="string"?Mm(a,e):e instanceof Kc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $x(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new ve(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Fx{convertValue(e,r="none"){switch(Ia(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Oa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const i={};return Va(e,(o,u)=>{i[o]=this.convertValue(u,r)}),i}convertVectorValue(e){var r,i,o;const u=(o=(i=(r=e.fields)===null||r===void 0?void 0:r[Ac].arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(f=>pt(f.doubleValue));return new Im(u)}convertGeoPoint(e){return new Om(pt(e.latitude),pt(e.longitude))}convertArray(e,r){return(e.values||[]).map(i=>this.convertValue(i,r))}convertServerTimestamp(e,r){switch(r){case"previous":const i=Pc(e);return i==null?null:this.convertValue(i,r);case"estimate":return this.convertTimestamp(gl(e));default:return null}}convertTimestamp(e){const r=Da(e);return new xt(r.seconds,r.nanos)}convertDocumentKey(e,r){const i=it.fromString(e);$e(Xb(i),9688,{name:e});const o=new yl(i.get(1),i.get(3)),u=new _e(i.popFirst(5));return o.isEqual(r)||qr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gx(a,e,r){let i;return i=a?a.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qx extends C0{constructor(e,r,i,o,u,f){super(e,r,i,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new mc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const i=this._document.data.field(D0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,r.serverTimestamps)}}}class mc extends Qx{data(e={}){return super.data(e)}}class Yx{constructor(e,r,i,o){this._firestore=e,this._userDataWriter=r,this._snapshot=o,this.metadata=new ic(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(i=>{e.call(r,new mc(this._firestore,this._userDataWriter,i.key,i,new ic(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new ve(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(c=>{const _=new mc(o._firestore,o._userDataWriter,c.doc.key,c.doc,new ic(o._snapshot.mutatedKeys.has(c.doc.key),o._snapshot.fromCache),o.query.converter);return c.doc,{type:"added",doc:_,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(c=>u||c.type!==3).map(c=>{const _=new mc(o._firestore,o._userDataWriter,c.doc.key,c.doc,new ic(o._snapshot.mutatedKeys.has(c.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,w=-1;return c.type!==0&&(v=f.indexOf(c.doc.key),f=f.delete(c.doc.key)),c.type!==1&&(f=f.add(c.doc),w=f.indexOf(c.doc.key)),{type:Kx(c.type),doc:_,oldIndex:v,newIndex:w}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function Kx(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:a})}}class Xx extends Fx{constructor(e){super(),this.firestore=e}convertBytes(e){return new js(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Dn(this.firestore,null,r)}}function Wx(a){a=Si(a,Yc);const e=Si(a.firestore,Cl),r=E0(e),i=new Xx(e);return $x(a._query),Ix(r,a._query).then(o=>new Yx(e,i,a,o))}function Zx(a,e,r,...i){a=Si(a,Dn);const o=Si(a.firestore,Cl),u=T0(o);let f;return f=typeof(e=xa(e))=="string"||e instanceof Kc?Bx(u,"updateDoc",a._key,e,r,i):zx(u,"updateDoc",a._key,e),Vm(o,[f.toMutation(a._key,Pn.exists(!0))])}function Jx(a){return Vm(Si(a.firestore,Cl),[new hm(a._key,Pn.none())])}function e2(a,e){const r=Si(a.firestore,Cl),i=Hd(a),o=Gx(a.converter,e);return Vm(r,[Ux(T0(a.firestore),"addDoc",i._key,o,a.converter!==null,{}).toMutation(i._key,Pn.exists(!1))]).then(()=>i)}function Vm(a,e){return function(i,o){const u=new Ta;return i.asyncQueue.enqueueAndForget(async()=>yx(await Dx(i),o,u)),u.promise}(E0(a),e)}(function(e,r=!0){(function(o){Bs=o})(wT),_c(new dl("firestore",(i,{instanceIdentifier:o,options:u})=>{const f=i.getProvider("app").getImmediate(),c=new Cl(new PT(i.getProvider("auth-internal")),new zT(f,i.getProvider("app-check-internal")),function(v,w){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ve(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yl(v.options.projectId,w)}(f,o),f);return u=Object.assign({useFetchStreams:r},u),c._setSettings(u),c},"PUBLIC").setMultipleInstances(!0)),xs(wv,Tv,e),xs(wv,Tv,"esm2017")})();var t2="firebase",n2="11.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xs(t2,n2,"app");const r2={apiKey:"AIzaSyCSZ8ulVZ5Zq98PQDikIBfPcgu94yvxzJQ",authDomain:"toystore-12b24.firebaseapp.com",projectId:"toystore-12b24",storageBucket:"toystore-12b24.firebasestorage.app",messagingSenderId:"549700752946",appId:"1:549700752946:web:249c38507fbae414398e2b"},a2=J_(r2),sc=Mx(a2),Zc=em(a=>({products:[],loading:!1,error:null,fetchProducts:async()=>{a({loading:!0,error:null});try{const r=(await Wx(g_(sc,"products"))).docs.map(i=>({id:i.id,...i.data()}));a({products:r,loading:!1})}catch(e){console.error("Error fetching products:",e),a({error:e.message,loading:!1})}},addProduct:async e=>{a({loading:!0,error:null});try{const i={id:(await e2(g_(sc,"products"),e)).id,...e};return a(o=>({products:[...o.products,i],loading:!1})),i}catch(r){throw console.error("Error adding product:",r),a({error:r.message,loading:!1}),r}},updateProduct:async e=>{const{id:r,...i}=e;a({loading:!0,error:null});try{const o=Hd(sc,"products",r);return await Zx(o,i),a(u=>({products:u.products.map(f=>f.id===r?e:f),loading:!1})),e}catch(o){throw console.error("Error updating product:",o),a({error:o.message,loading:!1}),o}},deleteProduct:async e=>{a({loading:!0,error:null});try{return await Jx(Hd(sc,"products",e)),a(r=>({products:r.products.filter(i=>i.id!==e),loading:!1})),e}catch(r){throw console.error("Error deleting product:",r),a({error:r.message,loading:!1}),r}}})),Ra=em(a=>({cart:[],addToCart:e=>a(r=>r.cart.find(o=>o.id===e.id)?{cart:r.cart.map(o=>o.id===e.id?{...o,quantity:o.quantity+1}:o)}:{cart:[...r.cart,{...e,quantity:1}]}),updateQuantity:(e,r)=>a(i=>({cart:i.cart.map(o=>o.id===e?{...o,quantity:o.quantity+r}:o).filter(o=>o.quantity>0)})),removeFromCart:e=>a(r=>({cart:r.cart.filter(i=>i.id!==e)})),clearCart:()=>a({cart:[]})})),O0=({product:a,onAddToCart:e})=>{const r=(c,_)=>{if(!c)return"";if(c[_]!==void 0)return c[_];const v=_.charAt(0).toUpperCase()+_.slice(1);if(c[v]!==void 0)return c[v];const w=_.charAt(0).toLowerCase()+_.slice(1);return c[w]!==void 0?c[w]:""},i=r(a,"name"),o=r(a,"price"),u=r(a,"imageURL"),f=r(a,"stock");return L.jsxs("div",{className:"product-card",children:[L.jsx("div",{className:"product-image",children:u&&L.jsx("img",{src:u,alt:i})}),L.jsxs("div",{className:"product-info",children:[L.jsxs("div",{className:"product-info-content",children:[L.jsx("h3",{children:i}),L.jsxs("p",{className:"product-price",children:[o," kr"]}),L.jsx("p",{className:"product-stock",children:f>0?`${f} i lager`:"Slut i lager"})]}),L.jsx("div",{className:"product-button-container",children:L.jsx("button",{onClick:()=>e(a),disabled:f<=0,className:f<=0?"out-of-stock":"",children:f>0?"Lägg i varukorgen":"Slut i lager"})})]})]})};function i2(){const{products:a,fetchProducts:e}=Zc(),{addToCart:r}=Ra();J.useEffect(()=>{e()},[e]);const i=a.slice(0,4);return L.jsxs(J.Fragment,{children:[L.jsxs("div",{className:"page-column",children:[L.jsx("img",{src:HA,alt:"Title highlight",className:"bigPicture"}),L.jsxs("div",{className:"smallPics",children:[L.jsx("img",{src:$A,alt:"Lego highlight"}),L.jsx("img",{src:FA,alt:"Game highlight"})]})]}),L.jsxs("div",{className:"text-content",children:[L.jsx("h1",{children:"Skandinaviens störska leksasbutik"}),L.jsx("h2",{children:"Används av över 270 000 svenska kunder"}),L.jsx("p",{children:"Hitta din leksak"})]}),L.jsx("div",{children:L.jsxs("div",{className:"icon-container",children:[L.jsx("div",{children:L.jsxs(Kt,{to:"/tvspel",children:[L.jsx("img",{src:GA,alt:"Game Icon",className:"icon"}),L.jsx("p",{children:"TV-Spel"})]})}),L.jsx("div",{children:L.jsxs(Kt,{to:"/dockor",children:[L.jsx("img",{src:QA,alt:"Doll Icon",className:"icon"}),L.jsx("p",{children:"Dockor"})]})}),L.jsx("div",{children:L.jsxs(Kt,{to:"/leksaker",children:[L.jsx("img",{src:YA,alt:"Toy Icon",className:"icon"}),L.jsx("p",{children:"Leksaker"})]})}),L.jsx("div",{children:L.jsxs(Kt,{to:"/pyssel",children:[L.jsx("img",{src:KA,alt:"Game Icon",className:"icon"}),L.jsx("p",{children:"Pyssel"})]})})]})}),L.jsx("div",{className:"smalltext-content",children:L.jsx("h2",{children:"Brett utbud - låga priser"})}),L.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"30px",flexWrap:"wrap",gap:"45px"},children:i.map(o=>L.jsx(O0,{product:o,onAddToCart:r},o.id))}),L.jsx(Kt,{to:"/collection",className:"all-products",children:L.jsx("p",{children:"Se alla produkter"})})]})}const s2=()=>{const[a,e]=PA(),r=a.get("category"),i=a.get("sort")||"default",{products:o,fetchProducts:u,loading:f}=Zc(),c=Ra(S=>S.addToCart),[_,v]=J.useState({category:r||"all",priceRange:[0,1e4]}),[w,m]=J.useState(i);J.useEffect(()=>{r&&v(S=>({...S,category:r})),m(i)},[r,i]),J.useEffect(()=>{u()},[u]);const p=["all","Leksaker","Dockor","Pyssel","TV-Spel"],b=[{value:"default",label:"Standard"},{value:"name-asc",label:"Namn (A-Ö)"},{value:"name-desc",label:"Namn (Ö-A)"},{value:"price-asc",label:"Pris (Lägst först)"},{value:"price-desc",label:"Pris (Högst först)"}],g=(S,x)=>{if(!S)return"";if(S[x]!==void 0)return S[x];const M=x.charAt(0).toUpperCase()+x.slice(1);if(S[M]!==void 0)return S[M];const j=x.charAt(0).toLowerCase()+x.slice(1);return S[j]!==void 0?S[j]:""},R=[...o.filter(S=>{const x=g(S,"category"),M=parseFloat(g(S,"price"));return _.category==="all"?M>=_.priceRange[0]&&M<=_.priceRange[1]:x.toLowerCase()===_.category.toLowerCase()&&M>=_.priceRange[0]&&M<=_.priceRange[1]})].sort((S,x)=>{const M=g(S,"name").toLowerCase(),j=g(x,"name").toLowerCase(),B=parseFloat(g(S,"price")),N=parseFloat(g(x,"price"));switch(w){case"name-asc":return M.localeCompare(j);case"name-desc":return j.localeCompare(M);case"price-asc":return B-N;case"price-desc":return N-B;default:return 0}}),E=S=>{const x=S.target.value;m(x);const M=new URLSearchParams(a);M.set("sort",x),e(M)};return L.jsx(J.Fragment,{children:L.jsxs("div",{className:"collection-container",children:[L.jsx("h1",{className:"collection-title",children:"Produkter"}),L.jsxs("div",{className:"collection-layout",children:[L.jsxs("div",{className:"filter-sidebar",children:[L.jsx("h3",{children:"Filter"}),L.jsxs("div",{className:"filter-section",children:[L.jsx("h4",{children:"Kategori"}),L.jsx("div",{className:"filter-options",children:p.map(S=>L.jsxs("label",{className:"filter-option",children:[L.jsx("input",{type:"radio",name:"category",checked:_.category===S,onChange:()=>v({..._,category:S})}),L.jsx("span",{children:S==="all"?"Alla kategorier":S})]},S))})]}),L.jsxs("div",{className:"filter-section",children:[L.jsx("h4",{children:"Pris"}),L.jsxs("div",{className:"price-range",children:[L.jsx("input",{type:"range",min:"0",max:"10000",step:"100",value:_.priceRange[1],onChange:S=>v({..._,priceRange:[_.priceRange[0],parseInt(S.target.value)]})}),L.jsxs("div",{className:"price-labels",children:[L.jsxs("span",{children:[_.priceRange[0]," kr"]}),L.jsxs("span",{children:[_.priceRange[1]," kr"]})]})]})]}),L.jsx("button",{className:"reset-filter",onClick:()=>v({category:"all",priceRange:[0,1e4]}),children:"Återställ filter"})]}),L.jsxs("div",{className:"product-section",children:[L.jsxs("div",{className:"sort-container",children:[L.jsx("label",{htmlFor:"sort-select",children:"Sortera efter: "}),L.jsx("select",{id:"sort-select",value:w,onChange:E,className:"sort-select",children:b.map(S=>L.jsx("option",{value:S.value,children:S.label},S.value))})]}),L.jsx("div",{className:"product-grid",children:f?L.jsx("p",{className:"loading",children:"Laddar produkter..."}):R.length>0?R.map(S=>L.jsx(O0,{product:S,onAddToCart:()=>c(S)},S.id)):L.jsx("div",{className:"no-products",children:"Inga produkter hittades med de valda filtren."})})]})]})]})})},o2=()=>{const a=Ra(c=>c.cart),e=Ra(c=>c.updateQuantity),r=Ra(c=>c.removeFromCart),i=(c,_)=>{e(c,_)},o=a.reduce((c,_)=>c+_.price*_.quantity,0),u=a.reduce((c,_)=>c+_.quantity,0),f=(c,_)=>{if(!c)return"";if(c[_]!==void 0)return c[_];const v=_.charAt(0).toUpperCase()+_.slice(1);if(c[v]!==void 0)return c[v];const w=_.charAt(0).toLowerCase()+_.slice(1);return c[w]!==void 0?c[w]:""};return L.jsx(J.Fragment,{children:L.jsxs("div",{className:"cart-page",children:[L.jsxs("div",{className:"cart-items",children:[L.jsxs("h1",{className:"cart-title",children:["Din varukorg ",u>0&&L.jsxs("span",{children:["(",u,")"]})]}),L.jsxs("div",{className:"cart-header-row",children:[L.jsx("span",{children:"Artikel"}),L.jsx("span",{children:"Delsumma"})]}),L.jsx("div",{className:"cart-items-container",children:a.length===0?L.jsx("div",{className:"cart-empty-message",children:"Varukorgen är tom!"}):a.map(c=>L.jsxs("div",{className:"cart-item-row",children:[L.jsx("div",{className:"item-image",children:f(c,"imageURL")&&L.jsx("img",{src:f(c,"imageURL"),alt:f(c,"name")})}),L.jsxs("div",{className:"item-main",children:[L.jsxs("div",{className:"item-details",children:[L.jsx("span",{className:"item-name",children:f(c,"name")}),L.jsxs("span",{className:"item-price",children:[f(c,"price")," :-"]})]}),L.jsxs("div",{className:"item-controls",children:[L.jsx("button",{onClick:()=>i(c.id,1),children:"+"}),L.jsx("span",{className:"item-qty",children:f(c,"quantity")}),L.jsx("button",{onClick:()=>i(c.id,-1),children:"-"}),L.jsx("button",{className:"remove-button",onClick:()=>r(c.id),children:"×"})]})]})]},c.id))})]}),L.jsxs("div",{className:"cart-summary",children:[L.jsx("h2",{children:"Summering"}),L.jsx("hr",{className:"summary-divider"}),L.jsx("div",{className:"summary-items",children:a.length===0?L.jsx("div",{className:"cart-empty-message",children:"Varukorgen är tom!"}):a.map(c=>L.jsxs("div",{className:"summary-item-row",children:[L.jsxs("span",{children:["[",c.quantity,"] - ",c.name]}),L.jsxs("span",{children:[c.price," kr"]})]},c.id))}),L.jsx("hr",{className:"summary-divider"}),L.jsxs("div",{className:"summary-item-row",children:[L.jsx("span",{children:"Delsumma:"}),L.jsxs("span",{children:[o," kr"]})]}),L.jsxs("div",{className:"summary-item-row",children:[L.jsx("span",{children:"Leverans:"}),L.jsx("span",{className:"gratis",children:"Gratis"})]}),L.jsx("hr",{className:"summary-divider"}),L.jsxs("div",{className:"summary-item-row ordersumma",children:[L.jsx("span",{children:"Ordersumma Inkl. Moms:"}),L.jsxs("strong",{children:[o," kr"]})]}),L.jsx(Kt,{to:"/placeorder",children:L.jsx("button",{className:"checkout-button",children:"Gå till kassan"})})]})]})})},l2=()=>{const{productId:a}=F1(),{products:e,fetchProducts:r,loading:i}=Zc(),o=Ra(g=>g.addToCart),[u,f]=J.useState(null),c=(g,y)=>{if(!g)return"";if(g[y]!==void 0)return g[y];const R=y.charAt(0).toUpperCase()+y.slice(1);if(g[R]!==void 0)return g[R];const E=y.charAt(0).toLowerCase()+y.slice(1);return g[E]!==void 0?g[E]:""};if(J.useEffect(()=>{r()},[r]),J.useEffect(()=>{if(e.length>0){const g=e.find(y=>y.id===a);f(g)}},[e,a]),i)return L.jsx("div",{className:"loading",children:"Laddar produkt..."});if(!u)return L.jsx("div",{className:"not-found",children:"Produkten kunde inte hittas"});const _=c(u,"name"),v=c(u,"price"),w=c(u,"description")||"Ingen beskrivning tillgänglig.",m=c(u,"imageURL"),p=c(u,"stock")||0,b=c(u,"category");return L.jsxs("div",{className:"product-page",children:[L.jsxs("div",{className:"product-breadcrumbs",children:[L.jsx(Kt,{to:"/",children:"Hem"})," >",L.jsx(Kt,{to:"/collection",children:"Produkter"})," >",L.jsx("span",{children:_})]}),L.jsxs("div",{className:"product-container",children:[L.jsx("div",{className:"product-image-container",children:m&&L.jsx("img",{src:m,alt:_,className:"product-detail-image"})}),L.jsxs("div",{className:"product-details",children:[L.jsx("h1",{className:"product-title",children:_}),b&&L.jsx("p",{className:"product-category",children:b}),L.jsxs("p",{className:"product-price",children:[v," kr"]}),L.jsx("p",{className:"product-stock",children:p>0?`${p} i lager`:"Slut i lager"}),L.jsx("button",{className:"add-to-cart-btn",disabled:p<=0,onClick:()=>o(u),children:p>0?"Lägg i varukorgen":"Slut i lager"}),L.jsxs("div",{className:"product-description",children:[L.jsx("h2",{children:"Produktbeskrivning"}),L.jsx("p",{children:w})]})]})]})]})},I0=6048e5,u2=864e5,b_=Symbol.for("constructDateFrom");function Ma(a,e){return typeof a=="function"?a(e):a&&typeof a=="object"&&b_ in a?a[b_](e):a instanceof Date?new a.constructor(e):new Date(e)}function Bn(a,e){return Ma(e||a,a)}let c2={};function Jc(){return c2}function El(a,e){var c,_,v,w;const r=Jc(),i=(e==null?void 0:e.weekStartsOn)??((_=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:_.weekStartsOn)??r.weekStartsOn??((w=(v=r.locale)==null?void 0:v.options)==null?void 0:w.weekStartsOn)??0,o=Bn(a,e==null?void 0:e.in),u=o.getDay(),f=(u<i?7:0)+u-i;return o.setDate(o.getDate()-f),o.setHours(0,0,0,0),o}function Nc(a,e){return El(a,{...e,weekStartsOn:1})}function N0(a,e){const r=Bn(a,e==null?void 0:e.in),i=r.getFullYear(),o=Ma(r,0);o.setFullYear(i+1,0,4),o.setHours(0,0,0,0);const u=Nc(o),f=Ma(r,0);f.setFullYear(i,0,4),f.setHours(0,0,0,0);const c=Nc(f);return r.getTime()>=u.getTime()?i+1:r.getTime()>=c.getTime()?i:i-1}function E_(a){const e=Bn(a),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+a-+r}function h2(a,...e){const r=Ma.bind(null,e.find(i=>typeof i=="object"));return e.map(r)}function A_(a,e){const r=Bn(a,e==null?void 0:e.in);return r.setHours(0,0,0,0),r}function f2(a,e,r){const[i,o]=h2(r==null?void 0:r.in,a,e),u=A_(i),f=A_(o),c=+u-E_(u),_=+f-E_(f);return Math.round((c-_)/u2)}function d2(a,e){const r=N0(a,e),i=Ma(a,0);return i.setFullYear(r,0,4),i.setHours(0,0,0,0),Nc(i)}function m2(a){return a instanceof Date||typeof a=="object"&&Object.prototype.toString.call(a)==="[object Date]"}function p2(a){return!(!m2(a)&&typeof a!="number"||isNaN(+Bn(a)))}function g2(a,e){const r=Bn(a,e==null?void 0:e.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const y2={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},v2=(a,e,r)=>{let i;const o=y2[a];return typeof o=="string"?i=o:e===1?i=o.one:i=o.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};function Ds(a){return(e={})=>{const r=e.width?String(e.width):a.defaultWidth;return a.formats[r]||a.formats[a.defaultWidth]}}const _2={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},b2={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},E2={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},A2={date:Ds({formats:_2,defaultWidth:"full"}),time:Ds({formats:b2,defaultWidth:"full"}),dateTime:Ds({formats:E2,defaultWidth:"full"})},w2={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},T2=(a,e,r,i)=>w2[a];function or(a){return(e,r)=>{const i=r!=null&&r.context?String(r.context):"standalone";let o;if(i==="formatting"&&a.formattingValues){const f=a.defaultFormattingWidth||a.defaultWidth,c=r!=null&&r.width?String(r.width):f;o=a.formattingValues[c]||a.formattingValues[f]}else{const f=a.defaultWidth,c=r!=null&&r.width?String(r.width):a.defaultWidth;o=a.values[c]||a.values[f]}const u=a.argumentCallback?a.argumentCallback(e):e;return o[u]}}const S2={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},R2={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},x2={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},C2={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},D2={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},O2={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},I2=(a,e)=>{const r=Number(a),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},N2={ordinalNumber:I2,era:or({values:S2,defaultWidth:"wide"}),quarter:or({values:R2,defaultWidth:"wide",argumentCallback:a=>a-1}),month:or({values:x2,defaultWidth:"wide"}),day:or({values:C2,defaultWidth:"wide"}),dayPeriod:or({values:D2,defaultWidth:"wide",formattingValues:O2,defaultFormattingWidth:"wide"})};function lr(a){return(e,r={})=>{const i=r.width,o=i&&a.matchPatterns[i]||a.matchPatterns[a.defaultMatchWidth],u=e.match(o);if(!u)return null;const f=u[0],c=i&&a.parsePatterns[i]||a.parsePatterns[a.defaultParseWidth],_=Array.isArray(c)?M2(c,m=>m.test(f)):k2(c,m=>m.test(f));let v;v=a.valueCallback?a.valueCallback(_):_,v=r.valueCallback?r.valueCallback(v):v;const w=e.slice(f.length);return{value:v,rest:w}}}function k2(a,e){for(const r in a)if(Object.prototype.hasOwnProperty.call(a,r)&&e(a[r]))return r}function M2(a,e){for(let r=0;r<a.length;r++)if(e(a[r]))return r}function k0(a){return(e,r={})=>{const i=e.match(a.matchPattern);if(!i)return null;const o=i[0],u=e.match(a.parsePattern);if(!u)return null;let f=a.valueCallback?a.valueCallback(u[0]):u[0];f=r.valueCallback?r.valueCallback(f):f;const c=e.slice(o.length);return{value:f,rest:c}}}const V2=/^(\d+)(th|st|nd|rd)?/i,j2=/\d+/i,P2={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},L2={any:[/^b/i,/^(a|c)/i]},U2={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},z2={any:[/1/i,/2/i,/3/i,/4/i]},B2={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},q2={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},H2={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},$2={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},F2={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},G2={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Q2={ordinalNumber:k0({matchPattern:V2,parsePattern:j2,valueCallback:a=>parseInt(a,10)}),era:lr({matchPatterns:P2,defaultMatchWidth:"wide",parsePatterns:L2,defaultParseWidth:"any"}),quarter:lr({matchPatterns:U2,defaultMatchWidth:"wide",parsePatterns:z2,defaultParseWidth:"any",valueCallback:a=>a+1}),month:lr({matchPatterns:B2,defaultMatchWidth:"wide",parsePatterns:q2,defaultParseWidth:"any"}),day:lr({matchPatterns:H2,defaultMatchWidth:"wide",parsePatterns:$2,defaultParseWidth:"any"}),dayPeriod:lr({matchPatterns:F2,defaultMatchWidth:"any",parsePatterns:G2,defaultParseWidth:"any"})},Y2={code:"en-US",formatDistance:v2,formatLong:A2,formatRelative:T2,localize:N2,match:Q2,options:{weekStartsOn:0,firstWeekContainsDate:1}};function K2(a,e){const r=Bn(a,e==null?void 0:e.in);return f2(r,g2(r))+1}function X2(a,e){const r=Bn(a,e==null?void 0:e.in),i=+Nc(r)-+d2(r);return Math.round(i/I0)+1}function M0(a,e){var w,m,p,b;const r=Bn(a,e==null?void 0:e.in),i=r.getFullYear(),o=Jc(),u=(e==null?void 0:e.firstWeekContainsDate)??((m=(w=e==null?void 0:e.locale)==null?void 0:w.options)==null?void 0:m.firstWeekContainsDate)??o.firstWeekContainsDate??((b=(p=o.locale)==null?void 0:p.options)==null?void 0:b.firstWeekContainsDate)??1,f=Ma((e==null?void 0:e.in)||a,0);f.setFullYear(i+1,0,u),f.setHours(0,0,0,0);const c=El(f,e),_=Ma((e==null?void 0:e.in)||a,0);_.setFullYear(i,0,u),_.setHours(0,0,0,0);const v=El(_,e);return+r>=+c?i+1:+r>=+v?i:i-1}function W2(a,e){var c,_,v,w;const r=Jc(),i=(e==null?void 0:e.firstWeekContainsDate)??((_=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:_.firstWeekContainsDate)??r.firstWeekContainsDate??((w=(v=r.locale)==null?void 0:v.options)==null?void 0:w.firstWeekContainsDate)??1,o=M0(a,e),u=Ma((e==null?void 0:e.in)||a,0);return u.setFullYear(o,0,i),u.setHours(0,0,0,0),El(u,e)}function Z2(a,e){const r=Bn(a,e==null?void 0:e.in),i=+El(r,e)-+W2(r,e);return Math.round(i/I0)+1}function Ye(a,e){const r=a<0?"-":"",i=Math.abs(a).toString().padStart(e,"0");return r+i}const _a={y(a,e){const r=a.getFullYear(),i=r>0?r:1-r;return Ye(e==="yy"?i%100:i,e.length)},M(a,e){const r=a.getMonth();return e==="M"?String(r+1):Ye(r+1,2)},d(a,e){return Ye(a.getDate(),e.length)},a(a,e){const r=a.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(a,e){return Ye(a.getHours()%12||12,e.length)},H(a,e){return Ye(a.getHours(),e.length)},m(a,e){return Ye(a.getMinutes(),e.length)},s(a,e){return Ye(a.getSeconds(),e.length)},S(a,e){const r=e.length,i=a.getMilliseconds(),o=Math.trunc(i*Math.pow(10,r-3));return Ye(o,e.length)}},Es={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},w_={G:function(a,e,r){const i=a.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(a,e,r){if(e==="yo"){const i=a.getFullYear(),o=i>0?i:1-i;return r.ordinalNumber(o,{unit:"year"})}return _a.y(a,e)},Y:function(a,e,r,i){const o=M0(a,i),u=o>0?o:1-o;if(e==="YY"){const f=u%100;return Ye(f,2)}return e==="Yo"?r.ordinalNumber(u,{unit:"year"}):Ye(u,e.length)},R:function(a,e){const r=N0(a);return Ye(r,e.length)},u:function(a,e){const r=a.getFullYear();return Ye(r,e.length)},Q:function(a,e,r){const i=Math.ceil((a.getMonth()+1)/3);switch(e){case"Q":return String(i);case"QQ":return Ye(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(a,e,r){const i=Math.ceil((a.getMonth()+1)/3);switch(e){case"q":return String(i);case"qq":return Ye(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(a,e,r){const i=a.getMonth();switch(e){case"M":case"MM":return _a.M(a,e);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(a,e,r){const i=a.getMonth();switch(e){case"L":return String(i+1);case"LL":return Ye(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(a,e,r,i){const o=Z2(a,i);return e==="wo"?r.ordinalNumber(o,{unit:"week"}):Ye(o,e.length)},I:function(a,e,r){const i=X2(a);return e==="Io"?r.ordinalNumber(i,{unit:"week"}):Ye(i,e.length)},d:function(a,e,r){return e==="do"?r.ordinalNumber(a.getDate(),{unit:"date"}):_a.d(a,e)},D:function(a,e,r){const i=K2(a);return e==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):Ye(i,e.length)},E:function(a,e,r){const i=a.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(a,e,r,i){const o=a.getDay(),u=(o-i.weekStartsOn+8)%7||7;switch(e){case"e":return String(u);case"ee":return Ye(u,2);case"eo":return r.ordinalNumber(u,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});case"eeee":default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(a,e,r,i){const o=a.getDay(),u=(o-i.weekStartsOn+8)%7||7;switch(e){case"c":return String(u);case"cc":return Ye(u,e.length);case"co":return r.ordinalNumber(u,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});case"cccc":default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(a,e,r){const i=a.getDay(),o=i===0?7:i;switch(e){case"i":return String(o);case"ii":return Ye(o,e.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(a,e,r){const o=a.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(a,e,r){const i=a.getHours();let o;switch(i===12?o=Es.noon:i===0?o=Es.midnight:o=i/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(a,e,r){const i=a.getHours();let o;switch(i>=17?o=Es.evening:i>=12?o=Es.afternoon:i>=4?o=Es.morning:o=Es.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(a,e,r){if(e==="ho"){let i=a.getHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return _a.h(a,e)},H:function(a,e,r){return e==="Ho"?r.ordinalNumber(a.getHours(),{unit:"hour"}):_a.H(a,e)},K:function(a,e,r){const i=a.getHours()%12;return e==="Ko"?r.ordinalNumber(i,{unit:"hour"}):Ye(i,e.length)},k:function(a,e,r){let i=a.getHours();return i===0&&(i=24),e==="ko"?r.ordinalNumber(i,{unit:"hour"}):Ye(i,e.length)},m:function(a,e,r){return e==="mo"?r.ordinalNumber(a.getMinutes(),{unit:"minute"}):_a.m(a,e)},s:function(a,e,r){return e==="so"?r.ordinalNumber(a.getSeconds(),{unit:"second"}):_a.s(a,e)},S:function(a,e){return _a.S(a,e)},X:function(a,e,r){const i=a.getTimezoneOffset();if(i===0)return"Z";switch(e){case"X":return S_(i);case"XXXX":case"XX":return Ei(i);case"XXXXX":case"XXX":default:return Ei(i,":")}},x:function(a,e,r){const i=a.getTimezoneOffset();switch(e){case"x":return S_(i);case"xxxx":case"xx":return Ei(i);case"xxxxx":case"xxx":default:return Ei(i,":")}},O:function(a,e,r){const i=a.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+T_(i,":");case"OOOO":default:return"GMT"+Ei(i,":")}},z:function(a,e,r){const i=a.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+T_(i,":");case"zzzz":default:return"GMT"+Ei(i,":")}},t:function(a,e,r){const i=Math.trunc(+a/1e3);return Ye(i,e.length)},T:function(a,e,r){return Ye(+a,e.length)}};function T_(a,e=""){const r=a>0?"-":"+",i=Math.abs(a),o=Math.trunc(i/60),u=i%60;return u===0?r+String(o):r+String(o)+e+Ye(u,2)}function S_(a,e){return a%60===0?(a>0?"-":"+")+Ye(Math.abs(a)/60,2):Ei(a,e)}function Ei(a,e=""){const r=a>0?"-":"+",i=Math.abs(a),o=Ye(Math.trunc(i/60),2),u=Ye(i%60,2);return r+o+e+u}const R_=(a,e)=>{switch(a){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},V0=(a,e)=>{switch(a){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},J2=(a,e)=>{const r=a.match(/(P+)(p+)?/)||[],i=r[1],o=r[2];if(!o)return R_(a,e);let u;switch(i){case"P":u=e.dateTime({width:"short"});break;case"PP":u=e.dateTime({width:"medium"});break;case"PPP":u=e.dateTime({width:"long"});break;case"PPPP":default:u=e.dateTime({width:"full"});break}return u.replace("{{date}}",R_(i,e)).replace("{{time}}",V0(o,e))},eC={p:V0,P:J2},tC=/^D+$/,nC=/^Y+$/,rC=["D","DD","YY","YYYY"];function aC(a){return tC.test(a)}function iC(a){return nC.test(a)}function sC(a,e,r){const i=oC(a,e,r);if(console.warn(i),rC.includes(a))throw new RangeError(i)}function oC(a,e,r){const i=a[0]==="Y"?"years":"days of the month";return`Use \`${a.toLowerCase()}\` instead of \`${a}\` (in \`${e}\`) for formatting ${i} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const lC=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,uC=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,cC=/^'([^]*?)'?$/,hC=/''/g,fC=/[a-zA-Z]/;function x_(a,e,r){var w,m,p,b,g,y,R,E;const i=Jc(),o=(r==null?void 0:r.locale)??i.locale??Y2,u=(r==null?void 0:r.firstWeekContainsDate)??((m=(w=r==null?void 0:r.locale)==null?void 0:w.options)==null?void 0:m.firstWeekContainsDate)??i.firstWeekContainsDate??((b=(p=i.locale)==null?void 0:p.options)==null?void 0:b.firstWeekContainsDate)??1,f=(r==null?void 0:r.weekStartsOn)??((y=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:y.weekStartsOn)??i.weekStartsOn??((E=(R=i.locale)==null?void 0:R.options)==null?void 0:E.weekStartsOn)??0,c=Bn(a,r==null?void 0:r.in);if(!p2(c))throw new RangeError("Invalid time value");let _=e.match(uC).map(S=>{const x=S[0];if(x==="p"||x==="P"){const M=eC[x];return M(S,o.formatLong)}return S}).join("").match(lC).map(S=>{if(S==="''")return{isToken:!1,value:"'"};const x=S[0];if(x==="'")return{isToken:!1,value:dC(S)};if(w_[x])return{isToken:!0,value:S};if(x.match(fC))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:S}});o.localize.preprocessor&&(_=o.localize.preprocessor(c,_));const v={firstWeekContainsDate:u,weekStartsOn:f,locale:o};return _.map(S=>{if(!S.isToken)return S.value;const x=S.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&iC(x)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&aC(x))&&sC(x,e,String(a));const M=w_[x[0]];return M(c,x,o.localize,v)}).join("")}function dC(a){const e=a.match(cC);return e?e[1].replace(hC,"'"):a}const mC={lessThanXSeconds:{one:"mindre än en sekund",other:"mindre än {{count}} sekunder"},xSeconds:{one:"en sekund",other:"{{count}} sekunder"},halfAMinute:"en halv minut",lessThanXMinutes:{one:"mindre än en minut",other:"mindre än {{count}} minuter"},xMinutes:{one:"en minut",other:"{{count}} minuter"},aboutXHours:{one:"ungefär en timme",other:"ungefär {{count}} timmar"},xHours:{one:"en timme",other:"{{count}} timmar"},xDays:{one:"en dag",other:"{{count}} dagar"},aboutXWeeks:{one:"ungefär en vecka",other:"ungefär {{count}} veckor"},xWeeks:{one:"en vecka",other:"{{count}} veckor"},aboutXMonths:{one:"ungefär en månad",other:"ungefär {{count}} månader"},xMonths:{one:"en månad",other:"{{count}} månader"},aboutXYears:{one:"ungefär ett år",other:"ungefär {{count}} år"},xYears:{one:"ett år",other:"{{count}} år"},overXYears:{one:"över ett år",other:"över {{count}} år"},almostXYears:{one:"nästan ett år",other:"nästan {{count}} år"}},pC=["noll","en","två","tre","fyra","fem","sex","sju","åtta","nio","tio","elva","tolv"],gC=(a,e,r)=>{let i;const o=mC[a];return typeof o=="string"?i=o:e===1?i=o.one:i=o.other.replace("{{count}}",e<13?pC[e]:String(e)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"om "+i:i+" sedan":i},yC={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"y-MM-dd"},vC={full:"'kl'. HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},_C={full:"{{date}} 'kl.' {{time}}",long:"{{date}} 'kl.' {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},bC={date:Ds({formats:yC,defaultWidth:"full"}),time:Ds({formats:vC,defaultWidth:"full"}),dateTime:Ds({formats:_C,defaultWidth:"full"})},EC={lastWeek:"'i' EEEE's kl.' p",yesterday:"'igår kl.' p",today:"'idag kl.' p",tomorrow:"'imorgon kl.' p",nextWeek:"EEEE 'kl.' p",other:"P"},AC=(a,e,r,i)=>EC[a],wC={narrow:["f.Kr.","e.Kr."],abbreviated:["f.Kr.","e.Kr."],wide:["före Kristus","efter Kristus"]},TC={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1:a kvartalet","2:a kvartalet","3:e kvartalet","4:e kvartalet"]},SC={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["jan.","feb.","mars","apr.","maj","juni","juli","aug.","sep.","okt.","nov.","dec."],wide:["januari","februari","mars","april","maj","juni","juli","augusti","september","oktober","november","december"]},RC={narrow:["S","M","T","O","T","F","L"],short:["sö","må","ti","on","to","fr","lö"],abbreviated:["sön","mån","tis","ons","tors","fre","lör"],wide:["söndag","måndag","tisdag","onsdag","torsdag","fredag","lördag"]},xC={narrow:{am:"fm",pm:"em",midnight:"midnatt",noon:"middag",morning:"morg.",afternoon:"efterm.",evening:"kväll",night:"natt"},abbreviated:{am:"f.m.",pm:"e.m.",midnight:"midnatt",noon:"middag",morning:"morgon",afternoon:"efterm.",evening:"kväll",night:"natt"},wide:{am:"förmiddag",pm:"eftermiddag",midnight:"midnatt",noon:"middag",morning:"morgon",afternoon:"eftermiddag",evening:"kväll",night:"natt"}},CC={narrow:{am:"fm",pm:"em",midnight:"midnatt",noon:"middag",morning:"på morg.",afternoon:"på efterm.",evening:"på kvällen",night:"på natten"},abbreviated:{am:"fm",pm:"em",midnight:"midnatt",noon:"middag",morning:"på morg.",afternoon:"på efterm.",evening:"på kvällen",night:"på natten"},wide:{am:"fm",pm:"em",midnight:"midnatt",noon:"middag",morning:"på morgonen",afternoon:"på eftermiddagen",evening:"på kvällen",night:"på natten"}},DC=(a,e)=>{const r=Number(a),i=r%100;if(i>20||i<10)switch(i%10){case 1:case 2:return r+":a"}return r+":e"},OC={ordinalNumber:DC,era:or({values:wC,defaultWidth:"wide"}),quarter:or({values:TC,defaultWidth:"wide",argumentCallback:a=>a-1}),month:or({values:SC,defaultWidth:"wide"}),day:or({values:RC,defaultWidth:"wide"}),dayPeriod:or({values:xC,defaultWidth:"wide",formattingValues:CC,defaultFormattingWidth:"wide"})},IC=/^(\d+)(:a|:e)?/i,NC=/\d+/i,kC={narrow:/^(f\.? ?Kr\.?|f\.? ?v\.? ?t\.?|e\.? ?Kr\.?|v\.? ?t\.?)/i,abbreviated:/^(f\.? ?Kr\.?|f\.? ?v\.? ?t\.?|e\.? ?Kr\.?|v\.? ?t\.?)/i,wide:/^(före Kristus|före vår tid|efter Kristus|vår tid)/i},MC={any:[/^f/i,/^[ev]/i]},VC={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](:a|:e)? kvartalet/i},jC={any:[/1/i,/2/i,/3/i,/4/i]},PC={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar[s]?|apr|maj|jun[i]?|jul[i]?|aug|sep|okt|nov|dec)\.?/i,wide:/^(januari|februari|mars|april|maj|juni|juli|augusti|september|oktober|november|december)/i},LC={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^maj/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},UC={narrow:/^[smtofl]/i,short:/^(sö|må|ti|on|to|fr|lö)/i,abbreviated:/^(sön|mån|tis|ons|tors|fre|lör)/i,wide:/^(söndag|måndag|tisdag|onsdag|torsdag|fredag|lördag)/i},zC={any:[/^s/i,/^m/i,/^ti/i,/^o/i,/^to/i,/^f/i,/^l/i]},BC={any:/^([fe]\.?\s?m\.?|midn(att)?|midd(ag)?|(på) (morgonen|eftermiddagen|kvällen|natten))/i},qC={any:{am:/^f/i,pm:/^e/i,midnight:/^midn/i,noon:/^midd/i,morning:/morgon/i,afternoon:/eftermiddag/i,evening:/kväll/i,night:/natt/i}},HC={ordinalNumber:k0({matchPattern:IC,parsePattern:NC,valueCallback:a=>parseInt(a,10)}),era:lr({matchPatterns:kC,defaultMatchWidth:"wide",parsePatterns:MC,defaultParseWidth:"any"}),quarter:lr({matchPatterns:VC,defaultMatchWidth:"wide",parsePatterns:jC,defaultParseWidth:"any",valueCallback:a=>a+1}),month:lr({matchPatterns:PC,defaultMatchWidth:"wide",parsePatterns:LC,defaultParseWidth:"any"}),day:lr({matchPatterns:UC,defaultMatchWidth:"wide",parsePatterns:zC,defaultParseWidth:"any"}),dayPeriod:lr({matchPatterns:BC,defaultMatchWidth:"any",parsePatterns:qC,defaultParseWidth:"any"})},C_={code:"sv",formatDistance:gC,formatLong:bC,formatRelative:AC,localize:OC,match:HC,options:{weekStartsOn:1,firstWeekContainsDate:4}},$C=()=>{const{cart:a,total:e,clearCart:r}=Ra(),i=Ri(),[o,u]=J.useState(!1),[f,c]=J.useState(null),[_,v]=J.useState(null),[w,m]=J.useState([]),[p,b]=J.useState(0);console.log("Rendering PlaceOrder:",{cart:a,cartItems:w,total:e,orderTotal:p,orderPlaced:o});const g=E=>!E||E.length===0?0:E.reduce((S,x)=>S+(x.price||0)*(x.quantity||1),0);J.useEffect(()=>{if(a.length===0&&!o)console.log("Cart empty, redirecting to /cart"),i("/cart");else if(!o&&a.length>0){console.log("Saving cart items:",a),m([...a]),b(e||g(a));const E=Math.floor(1e5+Math.random()*9e5);c(E),v(new Date),u(!0),console.log("Clearing cart"),r()}},[a,i,o,e,r]);const y=E=>(E==null?void 0:E.toLocaleString("sv-SE"))+" kr"||"0 kr",R=()=>{window.print()};return o?w.length===0&&o?L.jsx("div",{className:"place-order-container",children:L.jsxs("div",{className:"error-container",children:[L.jsx("h2",{children:"Något gick fel"}),L.jsx("p",{children:"Vi kunde inte behandla din order. Vänligen försök igen."}),L.jsx(Kt,{to:"/cart",className:"return-to-cart",children:"Tillbaka till varukorgen"})]})}):L.jsxs("div",{className:"place-order-container",children:[L.jsxs("div",{className:"thank-you-section",children:[L.jsx("h1",{children:"Tack för din beställning!"}),L.jsx("p",{children:"Din beställning har mottagits och bearbetas nu. Ett bekräftelsemail har skickats till din epostadress."})]}),L.jsxs("div",{className:"receipt-container",children:[L.jsxs("div",{className:"receipt-header",children:[L.jsx("h2",{children:"Kvitto"}),L.jsxs("div",{className:"receipt-meta",children:[L.jsxs("p",{children:[L.jsx("strong",{children:"Ordernummer:"})," #",f]}),L.jsxs("p",{children:[L.jsx("strong",{children:"Datum:"})," ",_?x_(_,"d MMMM yyyy",{locale:C_}):"-"]}),L.jsxs("p",{children:[L.jsx("strong",{children:"Tid:"})," ",_?x_(_,"HH:mm",{locale:C_}):"-"]})]})]}),L.jsx("div",{className:"receipt-items",children:L.jsxs("table",{className:"receipt-table",children:[L.jsx("thead",{children:L.jsxs("tr",{children:[L.jsx("th",{children:"Produkt"}),L.jsx("th",{children:"Antal"}),L.jsx("th",{children:"Pris"}),L.jsx("th",{children:"Summa"})]})}),L.jsx("tbody",{children:w.map(E=>L.jsxs("tr",{children:[L.jsx("td",{children:E.name||"Produkt"}),L.jsx("td",{children:E.quantity||1}),L.jsx("td",{children:y(E.price)}),L.jsx("td",{children:y(E.price*(E.quantity||1))})]},E.id))}),L.jsxs("tfoot",{children:[L.jsxs("tr",{children:[L.jsx("td",{colSpan:"3",children:"Delsumma:"}),L.jsx("td",{children:y(p)})]}),L.jsxs("tr",{children:[L.jsx("td",{colSpan:"3",children:"Leverans:"}),L.jsx("td",{children:"Gratis"})]}),L.jsxs("tr",{className:"total-row",children:[L.jsx("td",{colSpan:"3",children:"Totalt inkl. moms:"}),L.jsx("td",{children:y(p)})]})]})]})}),L.jsxs("div",{className:"receipt-footer",children:[L.jsx("p",{children:"Betalningssätt: Kortbetalning"}),L.jsx("p",{children:"KidsGaming | Leksaksgatan 123 | 46161 Trollhättan"}),L.jsx("p",{children:"support@kidsgaming.se | 08-123 45 67"}),L.jsx("p",{className:"receipt-thanks",children:"Tack för att du handlar hos oss!"})]})]}),L.jsx("div",{className:"receipt-actions",children:L.jsx("button",{onClick:R,className:"print-button",children:"Skriv ut kvitto"})}),L.jsxs("div",{className:"next-actions",children:[L.jsx(Kt,{to:"/",className:"continue-shopping",children:"Tillbaka till butiken"}),L.jsx(Kt,{to:"/collection",className:"browse-more",children:"Bläddra bland fler produkter"})]})]}):L.jsx("div",{className:"place-order-container",children:L.jsx("div",{className:"loading-container",children:"Bearbetar din beställning..."})})},FC=()=>L.jsx("div",{});function GC(a,e){let r;try{r=a()}catch{return}return{getItem:o=>{var u;const f=_=>_===null?null:JSON.parse(_,void 0),c=(u=r.getItem(o))!=null?u:null;return c instanceof Promise?c.then(f):f(c)},setItem:(o,u)=>r.setItem(o,JSON.stringify(u,void 0)),removeItem:o=>r.removeItem(o)}}const Fd=a=>e=>{try{const r=a(e);return r instanceof Promise?r:{then(i){return Fd(i)(r)},catch(i){return this}}}catch(r){return{then(i){return this},catch(i){return Fd(i)(r)}}}},QC=(a,e)=>(r,i,o)=>{let u={storage:GC(()=>localStorage),partialize:y=>y,version:0,merge:(y,R)=>({...R,...y}),...e},f=!1;const c=new Set,_=new Set;let v=u.storage;if(!v)return a((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${u.name}', the given storage is currently unavailable.`),r(...y)},i,o);const w=()=>{const y=u.partialize({...i()});return v.setItem(u.name,{state:y,version:u.version})},m=o.setState;o.setState=(y,R)=>{m(y,R),w()};const p=a((...y)=>{r(...y),w()},i,o);o.getInitialState=()=>p;let b;const g=()=>{var y,R;if(!v)return;f=!1,c.forEach(S=>{var x;return S((x=i())!=null?x:p)});const E=((R=u.onRehydrateStorage)==null?void 0:R.call(u,(y=i())!=null?y:p))||void 0;return Fd(v.getItem.bind(v))(u.name).then(S=>{if(S)if(typeof S.version=="number"&&S.version!==u.version){if(u.migrate){const x=u.migrate(S.state,S.version);return x instanceof Promise?x.then(M=>[!0,M]):[!0,x]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,S.state];return[!1,void 0]}).then(S=>{var x;const[M,j]=S;if(b=u.merge(j,(x=i())!=null?x:p),r(b,!0),M)return w()}).then(()=>{E==null||E(b,void 0),b=i(),f=!0,_.forEach(S=>S(b))}).catch(S=>{E==null||E(void 0,S)})};return o.persist={setOptions:y=>{u={...u,...y},y.storage&&(v=y.storage)},clearStorage:()=>{v==null||v.removeItem(u.name)},getOptions:()=>u,rehydrate:()=>g(),hasHydrated:()=>f,onHydrate:y=>(c.add(y),()=>{c.delete(y)}),onFinishHydration:y=>(_.add(y),()=>{_.delete(y)})},u.skipHydration||g(),b||p},YC=QC,eh=em(YC(a=>({isLoggedIn:!1,user:null,login:(e,r)=>e==="admin"&&r==="admin123"?(a({isLoggedIn:!0,user:{username:e,role:"admin"}}),!0):!1,logout:()=>a({isLoggedIn:!1,user:null}),isAdmin:()=>{var r;const e=eh.getState();return e.isLoggedIn&&((r=e.user)==null?void 0:r.role)==="admin"}}),{name:"auth-storage"})),KC=()=>{var p,b;const[a,e]=J.useState(""),[r,i]=J.useState(""),[o,u]=J.useState(""),f=Ri(),c=zn(),{login:_,isLoggedIn:v}=eh(),w=((b=(p=c.state)==null?void 0:p.from)==null?void 0:b.pathname)||"/admin";J.useEffect(()=>{v&&f(w,{replace:!0})},[v,f,w]);const m=g=>{if(g.preventDefault(),u(""),!a||!r){u("Användarnamn och lösenord krävs");return}_(a,r)?f(w,{replace:!0}):u("Felaktigt användarnamn eller lösenord")};return L.jsx("div",{className:"login-container",children:L.jsxs("div",{className:"login-card",children:[L.jsx("h2",{children:"Logga in för att fortsätta"}),o&&L.jsx("div",{className:"login-error",children:o}),L.jsxs("form",{onSubmit:m,className:"login-form",children:[L.jsxs("div",{className:"form-group",children:[L.jsx("label",{htmlFor:"username",children:"Användarnamn"}),L.jsx("input",{type:"text",id:"username",value:a,onChange:g=>e(g.target.value),placeholder:"Ange användarnamn"})]}),L.jsxs("div",{className:"form-group",children:[L.jsx("label",{htmlFor:"password",children:"Lösenord"}),L.jsx("input",{type:"password",id:"password",value:r,onChange:g=>i(g.target.value),placeholder:"Ange lösenord"})]}),L.jsx("button",{type:"submit",className:"login-button",children:"Logga in"})]}),L.jsx("div",{className:"login-info",children:L.jsx("p",{})})]})})},XC="/Webbshop-React/assets/Logo-Dn55jzSL.png",WC="/Webbshop-React/assets/Cart-BilMC3CJ.png",ZC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAYCAYAAACfpi8JAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAmSURBVHgB7dUBDQAgDMCw3b9oUEFCnlbENtUJAN6ZvAZgqW8SfwHPAQMBESnKpgAAAABJRU5ErkJggg==",JC=()=>{const[a,e]=J.useState(!1),r=Ri(),i=Ra(u=>u.cart.reduce((f,c)=>f+c.quantity,0)),o=u=>{r(`/collection?category=${u}`),a&&e(!1)};return L.jsxs("div",{className:"navbar",children:[L.jsxs("div",{className:"Row-1",children:[L.jsx("img",{onClick:()=>e(!a),src:ZC,alt:"Menu",className:"nav-btn"}),L.jsx(Kt,{to:"/",children:L.jsx("img",{src:XC,alt:"Logo",className:"logo"})}),L.jsxs("div",{className:"desktop-menu",children:[L.jsx("button",{onClick:()=>o("TV-Spel"),className:"nav-link",children:"TV-Spel"}),L.jsx("button",{onClick:()=>o("Leksaker"),className:"nav-link",children:"Leksaker"}),L.jsx("button",{onClick:()=>o("Dockor"),className:"nav-link",children:"Dockor"}),L.jsx("button",{onClick:()=>o("Pyssel"),className:"nav-link",children:"Pyssel"})]}),L.jsxs(Kt,{to:"/cart",className:"cart-btn",children:[L.jsx("img",{src:WC,alt:"cart-btn",className:"cart-icon"}),L.jsx("p",{className:"varukorg",children:"Varukorg"}),L.jsx("span",{className:"cart-counter",children:i})]})]}),L.jsxs("div",{className:`mobile-menu${a?" active":""}`,children:[L.jsx("button",{onClick:()=>o("TV-Spel"),className:"nav-link",children:"TV-Spel"}),L.jsx("button",{onClick:()=>o("Leksaker"),className:"nav-link",children:"Leksaker"}),L.jsx("button",{onClick:()=>o("Dockor"),className:"nav-link",children:"Dockor"}),L.jsx("button",{onClick:()=>o("Pyssel"),className:"nav-link",children:"Pyssel"})]})]})},eD="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAYAAACoYAD2AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAQbSURBVHgBxVnNThRBEP6WVVZWEy/Gg0biRaISD2qiVyVKRC7A0YPevIEc0NfwFcQYEh8DOXnwZAIaQ4yQ8CdgQpTg8rP2t1PF9DY9PbOzu1jJt72zXV1VXVVd3dMLNE4FQcnggcEbgzmDLYM9g6q0fP5i8Nagz6DDGts26pD2scGqGHMgqAZg9y/KeFteS0hnP2KwL0gzLGSwjh225DdFRURhXWvSOB8ojxHpQBNepYF9lsBqG6By+w1OoEHigFdovfdCxr5EA4aqgbvHYJwN6ptABkMZ4n60L7xZPNondhxSwfleEMYQVYWPM/9t8MegYvUxPTos2Z0GXQZnkT2cp0Rm1de5imQvaqEeR7Ti8xA9NIo4vEne/AlPaeLMRwIG7iL2VtEZR4PLFk5b3+nBTkehlptKiqEj8JSmtHyBKCTNZOD3YdqRk5afdTMbQHKp4e+jiGelAhoxjqmyYT0XRN6LgF7qGBTe2sdiipKi8H1AnJuNYApxyKsSCVIpZdyK7ckQ4y5iSvI0wa3ztcFzaZcRbwaPEOfyL9Sv2r8p+muLtA/hXWVDhBUSJsC2G0dXI597LF7W33eII6HpsxnQTbt4HKyd90IzWRBhnR4B6pGT0vYaPDW4ZY2Bw1/nIaSn2iSL6x2EScPtFmIKuCqGsJxsIyrCtseL0n/Z4LszXsNfQZju0uUXUpiqCb8zB7+JEuZeCXHItd2WfkZjHfnoIo0sIx+9RzSBm/LsFl4+07O98jyVICfJCUpdFFRMYTqQ1l0Ys9LeQPKhlWNuiyGznj5bfhIVKTztQGHXN5uuSd8nJHuDv3+W79c9fbb8JKpNYgvh1TUvzGXn9zXU555b5PV9SA1Zdvo1zeZT9G/Rk0sIU9JMzxlcQrR6y4hXNaRlkdbVfcXgPPLREo38mMKktc6XFj8Qrd5OMYj18RmiPC0jLk9fcXSye478JKrZx4oe2nE2hdm3fWqIe+DfcbpRvzPZUP51hHec+3oTsYNkqiDeHXwLxM5RliWuYi6SJ4hSQg2GZxKQCYRO7EVlXkWGTR7R6aXZ9x96f1r0FpFtS64xDwaU0+XjiOupHeY8Bmo0mD5jCJ9jB+BEIc1DJE3y6ZxGzjhy0vjriLMaCsyKHqhYvPYezVTgu4zvHacs/faOZB8sQu84Q/DsZFSodz6hUI0hfStNIho87sjz6VmBFWb3vZth2Mmm7/AOku/depzTXLLvIrXYn0F07rTLj0vaZy+oI6SXVP/zBqMfGSJFhgnkX8F5wWg0fGk1gePx6IHoyXRZ5TP0IeIwtCu8bI9cUjVCHMhFsNpiQ+3X4BKaMFBJa9Wwo6CZ0O6LvJb/G6HGcqtacBRn8Rq/s/4NipymvRcinT2Nvmcwiej/Gvt/nH15npN+HgdLyOm5f5RnT8Wr6LhDAAAAAElFTkSuQmCC",tD="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAYAAACoYAD2AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAALaSURBVHgBzVnLbtQwFD3pVNACEhILQOUhvgJWSGVA5bFjJJYIxIYNKyT6PcAKdvQD2LGBDwAWrABVLQgWrYCW6cxwz8S3uKmd2ImnmSOdycSJr0/uta9jB4hHZnhYeE34VPhBuCHcEY7Mkecfhc+FXeGMVXdimDHHW8J1I2ZoOCqhff2rqW/bSwJ9+p5wYFglrEyw1u1Z9huhgzys3xuKc5H2viH3aG2vUmDXMjiaANXudeEsIsEKy0jvvTKxy4gQqgL7ByDOZj9UKEO8hMmFN8SjXaNjF1nhf2ZubBvzwm3kwve4lgVryPtgqhymffqlcEX4U3hIeFy4IHwsPFuow/s/C08VjVGU5sEUYdN8+MjY9+XCV/CHvQeHs1L2LU6L7NsdlGMF5f1zDE2kN82FFKAH3whfo3n/5hQ6jgJ/viCdFynygqNBV8hfVNha04r0ZOoRnXnOPwlPW+UcRFV5cY43LCJXneoVattRRvvvkXs4JnOw3mVWuI+073i+qJxHfGqjrrusdBFp4XvgugPzEkUuYLpxhk/NnFaVz3zQ0Wx7ibZcYd3C/nYyVLc90Iaa8J7DcHHE+oT8CGkjRfo56ijbKZz72jiBagwo8jfaQWgX+0WRq2gHJwPvW6XIt2iGDUfZbMU5cQ5heMcfLvCbLFFd5S4MIurb16/oTsQW0uGP8IijfFN4DPHoMNx/ka9/pxF8Oxtq0n2A3LXTBIb7oTCz51n2mRRrm5ThHutTUTzeQf2XgNRgVJ1rHKpm32y6GPNNDpuB9TlbrXts7O45jtCuSFL3Msew3alPcRXtDSK2y82rDBVdj3PqE/zftT0oT/ZNu9GbVnX6Z6zIoWknSqAtdMkYihEbI1Lt7tukioG+ZXO0hYY/RKR6jzvIc2ggUKGDq2c1MKwpUsWRtzGBrxEq9gb27ngMA0UyEtyR0K8Pjb1XBs1hPC4KnyH/XqPfcVwiKWgeNT33DzO/NAnsl/udAAAAAElFTkSuQmCC",nD="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAYAAACoYAD2AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAALlSURBVHgBzVk9b9RAEH2+QwdBokKiSUcDHR1UiFOIwokqCAoaCn4EoYGK/A8EDb8AUUT00CMCEkUgggQiCogSJUoul3m3O7HjXG7H9jrOSO/Od17PPs/HzngNFJfEoyO4LXgp+Cz4L9gVDPw3f38VvBZMCVqZa2uTlv/uCVY9mT2PwRhkzy8L7ub0RRG9+1k4C/UNxMYR1mvvZfRXEt7tWcFaRXKjQH1//BylrdqGizlVOKgBqndGcAYFhRfMIb71xpGdQwGiSnDnBMhlwfmewECULu6hPvdaLDrleRxIkjtO/MCmZUKwDUf8UFbxjxW4GGxSOP/yqBMky3WwKTePcvt9z+uQuwc4XUKLDmOTmUS203AkQ6t/31/4F676lKkWl4xzUVhC38EPXoLNBfOIIy+QNiPjsKoXtAyDaXqunW3EEep5BlsOsCyjC1tVqUMsHdQ0rfgY4fj4grCUic9vCOt8RJLXEZbQ2skGoYu0sbXKjmHMDSqdNAwMTbwheC/4BNexW1svyw1NUtl5VBctqVcEW4JX/v8YiTbRQryMpagFH8IFfgzdbSqN2VBotr5BvGalz4qzKbiAaqJL1A/BNbgYHU6A6rJBS/40DAytk4zrm4LLgnXE9c4vWvKD4GpgYCdwfgFp5Soiluz+yA92wpaVvw6xlOMuB3YMg+m+5yjxRHeMMOufwlaOh9bmx4qRaKwuaB625uK7EiTuCN4iXCn0ztZQPP44np64iLQvDY3nQ+FCNnB3EXdhjyFDfmo5fj9AcevUJYxV7hUd8SxZc2+m6YcxevR3nlj2mJm+heZEY76NTLOdf+7mXXCTqqlnb3JgEicIhB4zkHsylgelmGADXHjTikRPIj73UGJXLUt0BulCXgdB1csQK7386S4ssy2m+3VbmkXhHCLsn6uC2dwEVVzLG+Y6GP1thJJl9i3lJrZYjcfckeh5PbVWtySDW3DvcRYF/3D0Pc6iP8+Y66Ck5fYB+ptI74haO/YAAAAASUVORK5CYII=",rD=()=>{const a=new Date().getFullYear();return L.jsxs(J.Fragment,{children:[L.jsx("footer",{children:L.jsxs("div",{className:"footer-container",children:[L.jsxs("div",{className:"text-footer",children:[L.jsx("h2",{children:"Om oss"}),L.jsx("p",{children:"Vi är en del av Skandinaviens största leksaksbutik på nätet och används redan av över 250 000 svenska kunder! Våra h är att leverera välkända varumärken till låga priser, så snabbt som möjligt, och att erbjuda marknadens bästa kundservice."})]}),L.jsxs("div",{className:"media-footer",children:[L.jsx("h2",{children:"Följ oss"}),L.jsxs("a",{href:"https://www.facebook.com/",target:"_blank",rel:"noopener noreferrer",children:[L.jsx("img",{src:tD,alt:"Facebook",className:"social-icon"}),"Facebook"]}),L.jsxs("a",{href:"https://www.instagram.com/",target:"_blank",rel:"noopener noreferrer",children:[L.jsx("img",{src:eD,alt:"Instagram",className:"social-icon"}),"Instagram"]}),L.jsxs("a",{href:"https://www.youtube.com/",target:"_blank",rel:"noopener noreferrer",children:[L.jsx("img",{src:nD,alt:"Youtube",className:"social-icon"}),"Youtube"]})]})]})}),L.jsx("div",{className:"copyright",children:L.jsxs("div",{className:"copyright-content",children:[L.jsxs("p",{children:["© ",a," Leksaksbutiken. Alla rättigheter förbehållna."]}),L.jsx(Kt,{to:"/admin",className:"admin-link",children:"Admin"})]})})]})};var vd={exports:{}},D_;function aD(){return D_||(D_=1,function(a,e){(function(r,i){a.exports=i()})(self,()=>{return r={7629:(o,u,f)=>{const c=f(375),_=f(8571),v=f(9474),w=f(1687),m=f(8652),p=f(8160),b=f(3292),g=f(6354),y=f(8901),R=f(9708),E=f(6914),S=f(2294),x=f(6133),M=f(1152),j=f(8863),B=f(2036),N={Base:class{constructor(T){this.type=T,this.$_root=null,this._definition={},this._reset()}_reset(){this._ids=new S.Ids,this._preferences=null,this._refs=new x.Manager,this._cache=null,this._valids=null,this._invalids=null,this._flags={},this._rules=[],this._singleRules=new Map,this.$_terms={},this.$_temp={ruleset:null,whens:{}}}describe(){return c(typeof R.describe=="function","Manifest functionality disabled"),R.describe(this)}allow(...T){return p.verifyFlat(T,"allow"),this._values(T,"_valids")}alter(T){c(T&&typeof T=="object"&&!Array.isArray(T),"Invalid targets argument"),c(!this._inRuleset(),"Cannot set alterations inside a ruleset");const D=this.clone();D.$_terms.alterations=D.$_terms.alterations||[];for(const O in T){const V=T[O];c(typeof V=="function","Alteration adjuster for",O,"must be a function"),D.$_terms.alterations.push({target:O,adjuster:V})}return D.$_temp.ruleset=!1,D}artifact(T){return c(T!==void 0,"Artifact cannot be undefined"),c(!this._cache,"Cannot set an artifact with a rule cache"),this.$_setFlag("artifact",T)}cast(T){return c(T===!1||typeof T=="string","Invalid to value"),c(T===!1||this._definition.cast[T],"Type",this.type,"does not support casting to",T),this.$_setFlag("cast",T===!1?void 0:T)}default(T,D){return this._default("default",T,D)}description(T){return c(T&&typeof T=="string","Description must be a non-empty string"),this.$_setFlag("description",T)}empty(T){const D=this.clone();return T!==void 0&&(T=D.$_compile(T,{override:!1})),D.$_setFlag("empty",T,{clone:!1})}error(T){return c(T,"Missing error"),c(T instanceof Error||typeof T=="function","Must provide a valid Error object or a function"),this.$_setFlag("error",T)}example(T,D={}){return c(T!==void 0,"Missing example"),p.assertOptions(D,["override"]),this._inner("examples",T,{single:!0,override:D.override})}external(T,D){return typeof T=="object"&&(c(!D,"Cannot combine options with description"),D=T.description,T=T.method),c(typeof T=="function","Method must be a function"),c(D===void 0||D&&typeof D=="string","Description must be a non-empty string"),this._inner("externals",{method:T,description:D},{single:!0})}failover(T,D){return this._default("failover",T,D)}forbidden(){return this.presence("forbidden")}id(T){return T?(c(typeof T=="string","id must be a non-empty string"),c(/^[^\.]+$/.test(T),"id cannot contain period character"),this.$_setFlag("id",T)):this.$_setFlag("id",void 0)}invalid(...T){return this._values(T,"_invalids")}label(T){return c(T&&typeof T=="string","Label name must be a non-empty string"),this.$_setFlag("label",T)}meta(T){return c(T!==void 0,"Meta cannot be undefined"),this._inner("metas",T,{single:!0})}note(...T){c(T.length,"Missing notes");for(const D of T)c(D&&typeof D=="string","Notes must be non-empty strings");return this._inner("notes",T)}only(T=!0){return c(typeof T=="boolean","Invalid mode:",T),this.$_setFlag("only",T)}optional(){return this.presence("optional")}prefs(T){c(T,"Missing preferences"),c(T.context===void 0,"Cannot override context"),c(T.externals===void 0,"Cannot override externals"),c(T.warnings===void 0,"Cannot override warnings"),c(T.debug===void 0,"Cannot override debug"),p.checkPreferences(T);const D=this.clone();return D._preferences=p.preferences(D._preferences,T),D}presence(T){return c(["optional","required","forbidden"].includes(T),"Unknown presence mode",T),this.$_setFlag("presence",T)}raw(T=!0){return this.$_setFlag("result",T?"raw":void 0)}result(T){return c(["raw","strip"].includes(T),"Unknown result mode",T),this.$_setFlag("result",T)}required(){return this.presence("required")}strict(T){const D=this.clone(),O=T!==void 0&&!T;return D._preferences=p.preferences(D._preferences,{convert:O}),D}strip(T=!0){return this.$_setFlag("result",T?"strip":void 0)}tag(...T){c(T.length,"Missing tags");for(const D of T)c(D&&typeof D=="string","Tags must be non-empty strings");return this._inner("tags",T)}unit(T){return c(T&&typeof T=="string","Unit name must be a non-empty string"),this.$_setFlag("unit",T)}valid(...T){p.verifyFlat(T,"valid");const D=this.allow(...T);return D.$_setFlag("only",!!D._valids,{clone:!1}),D}when(T,D){const O=this.clone();O.$_terms.whens||(O.$_terms.whens=[]);const V=b.when(O,T,D);if(!["any","link"].includes(O.type)){const q=V.is?[V]:V.switch;for(const U of q)c(!U.then||U.then.type==="any"||U.then.type===O.type,"Cannot combine",O.type,"with",U.then&&U.then.type),c(!U.otherwise||U.otherwise.type==="any"||U.otherwise.type===O.type,"Cannot combine",O.type,"with",U.otherwise&&U.otherwise.type)}return O.$_terms.whens.push(V),O.$_mutateRebuild()}cache(T){c(!this._inRuleset(),"Cannot set caching inside a ruleset"),c(!this._cache,"Cannot override schema cache"),c(this._flags.artifact===void 0,"Cannot cache a rule with an artifact");const D=this.clone();return D._cache=T||m.provider.provision(),D.$_temp.ruleset=!1,D}clone(){const T=Object.create(Object.getPrototypeOf(this));return this._assign(T)}concat(T){c(p.isSchema(T),"Invalid schema object"),c(this.type==="any"||T.type==="any"||T.type===this.type,"Cannot merge type",this.type,"with another type:",T.type),c(!this._inRuleset(),"Cannot concatenate onto a schema with open ruleset"),c(!T._inRuleset(),"Cannot concatenate a schema with open ruleset");let D=this.clone();if(this.type==="any"&&T.type!=="any"){const O=T.clone();for(const V of Object.keys(D))V!=="type"&&(O[V]=D[V]);D=O}D._ids.concat(T._ids),D._refs.register(T,x.toSibling),D._preferences=D._preferences?p.preferences(D._preferences,T._preferences):T._preferences,D._valids=B.merge(D._valids,T._valids,T._invalids),D._invalids=B.merge(D._invalids,T._invalids,T._valids);for(const O of T._singleRules.keys())D._singleRules.has(O)&&(D._rules=D._rules.filter(V=>V.keep||V.name!==O),D._singleRules.delete(O));for(const O of T._rules)T._definition.rules[O.method].multi||D._singleRules.set(O.name,O),D._rules.push(O);if(D._flags.empty&&T._flags.empty){D._flags.empty=D._flags.empty.concat(T._flags.empty);const O=Object.assign({},T._flags);delete O.empty,w(D._flags,O)}else if(T._flags.empty){D._flags.empty=T._flags.empty;const O=Object.assign({},T._flags);delete O.empty,w(D._flags,O)}else w(D._flags,T._flags);for(const O in T.$_terms){const V=T.$_terms[O];V?D.$_terms[O]?D.$_terms[O]=D.$_terms[O].concat(V):D.$_terms[O]=V.slice():D.$_terms[O]||(D.$_terms[O]=V)}return this.$_root._tracer&&this.$_root._tracer._combine(D,[this,T]),D.$_mutateRebuild()}extend(T){return c(!T.base,"Cannot extend type with another base"),y.type(this,T)}extract(T){return T=Array.isArray(T)?T:T.split("."),this._ids.reach(T)}fork(T,D){c(!this._inRuleset(),"Cannot fork inside a ruleset");let O=this;for(let V of[].concat(T))V=Array.isArray(V)?V:V.split("."),O=O._ids.fork(V,D,O);return O.$_temp.ruleset=!1,O}rule(T){const D=this._definition;p.assertOptions(T,Object.keys(D.modifiers)),c(this.$_temp.ruleset!==!1,"Cannot apply rules to empty ruleset or the last rule added does not support rule properties");const O=this.$_temp.ruleset===null?this._rules.length-1:this.$_temp.ruleset;c(O>=0&&O<this._rules.length,"Cannot apply rules to empty ruleset");const V=this.clone();for(let q=O;q<V._rules.length;++q){const U=V._rules[q],he=_(U);for(const fe in T)D.modifiers[fe](he,T[fe]),c(he.name===U.name,"Cannot change rule name");V._rules[q]=he,V._singleRules.get(he.name)===U&&V._singleRules.set(he.name,he)}return V.$_temp.ruleset=!1,V.$_mutateRebuild()}get ruleset(){c(!this._inRuleset(),"Cannot start a new ruleset without closing the previous one");const T=this.clone();return T.$_temp.ruleset=T._rules.length,T}get $(){return this.ruleset}tailor(T){T=[].concat(T),c(!this._inRuleset(),"Cannot tailor inside a ruleset");let D=this;if(this.$_terms.alterations)for(const{target:O,adjuster:V}of this.$_terms.alterations)T.includes(O)&&(D=V(D),c(p.isSchema(D),"Alteration adjuster for",O,"failed to return a schema object"));return D=D.$_modify({each:O=>O.tailor(T),ref:!1}),D.$_temp.ruleset=!1,D.$_mutateRebuild()}tracer(){return M.location?M.location(this):this}validate(T,D){return j.entry(T,this,D)}validateAsync(T,D){return j.entryAsync(T,this,D)}$_addRule(T){typeof T=="string"&&(T={name:T}),c(T&&typeof T=="object","Invalid options"),c(T.name&&typeof T.name=="string","Invalid rule name");for(const U in T)c(U[0]!=="_","Cannot set private rule properties");const D=Object.assign({},T);D._resolve=[],D.method=D.method||D.name;const O=this._definition.rules[D.method],V=D.args;c(O,"Unknown rule",D.method);const q=this.clone();if(V){c(Object.keys(V).length===1||Object.keys(V).length===this._definition.rules[D.name].args.length,"Invalid rule definition for",this.type,D.name);for(const U in V){let he=V[U];if(O.argsByName){const fe=O.argsByName.get(U);if(fe.ref&&p.isResolvable(he))D._resolve.push(U),q.$_mutateRegister(he);else if(fe.normalize&&(he=fe.normalize(he),V[U]=he),fe.assert){const X=p.validateArg(he,U,fe);c(!X,X,"or reference")}}he!==void 0?V[U]=he:delete V[U]}}return O.multi||(q._ruleRemove(D.name,{clone:!1}),q._singleRules.set(D.name,D)),q.$_temp.ruleset===!1&&(q.$_temp.ruleset=null),O.priority?q._rules.unshift(D):q._rules.push(D),q}$_compile(T,D){return b.schema(this.$_root,T,D)}$_createError(T,D,O,V,q,U={}){const he=U.flags!==!1?this._flags:{},fe=U.messages?E.merge(this._definition.messages,U.messages):this._definition.messages;return new g.Report(T,D,O,he,fe,V,q)}$_getFlag(T){return this._flags[T]}$_getRule(T){return this._singleRules.get(T)}$_mapLabels(T){return T=Array.isArray(T)?T:T.split("."),this._ids.labels(T)}$_match(T,D,O,V){(O=Object.assign({},O)).abortEarly=!0,O._externals=!1,D.snapshot();const q=!j.validate(T,this,D,O,V).errors;return D.restore(),q}$_modify(T){return p.assertOptions(T,["each","once","ref","schema"]),S.schema(this,T)||this}$_mutateRebuild(){return c(!this._inRuleset(),"Cannot add this rule inside a ruleset"),this._refs.reset(),this._ids.reset(),this.$_modify({each:(T,{source:D,name:O,path:V,key:q})=>{const U=this._definition[D][O]&&this._definition[D][O].register;U!==!1&&this.$_mutateRegister(T,{family:U,key:q})}}),this._definition.rebuild&&this._definition.rebuild(this),this.$_temp.ruleset=!1,this}$_mutateRegister(T,{family:D,key:O}={}){this._refs.register(T,D),this._ids.register(T,{key:O})}$_property(T){return this._definition.properties[T]}$_reach(T){return this._ids.reach(T)}$_rootReferences(){return this._refs.roots()}$_setFlag(T,D,O={}){c(T[0]==="_"||!this._inRuleset(),"Cannot set flag inside a ruleset");const V=this._definition.flags[T]||{};if(v(D,V.default)&&(D=void 0),v(D,this._flags[T]))return this;const q=O.clone!==!1?this.clone():this;return D!==void 0?(q._flags[T]=D,q.$_mutateRegister(D)):delete q._flags[T],T[0]!=="_"&&(q.$_temp.ruleset=!1),q}$_parent(T,...D){return this[T][p.symbols.parent].call(this,...D)}$_validate(T,D,O){return j.validate(T,this,D,O)}_assign(T){T.type=this.type,T.$_root=this.$_root,T.$_temp=Object.assign({},this.$_temp),T.$_temp.whens={},T._ids=this._ids.clone(),T._preferences=this._preferences,T._valids=this._valids&&this._valids.clone(),T._invalids=this._invalids&&this._invalids.clone(),T._rules=this._rules.slice(),T._singleRules=_(this._singleRules,{shallow:!0}),T._refs=this._refs.clone(),T._flags=Object.assign({},this._flags),T._cache=null,T.$_terms={};for(const D in this.$_terms)T.$_terms[D]=this.$_terms[D]?this.$_terms[D].slice():null;T.$_super={};for(const D in this.$_super)T.$_super[D]=this._super[D].bind(T);return T}_bare(){const T=this.clone();T._reset();const D=T._definition.terms;for(const O in D){const V=D[O];T.$_terms[O]=V.init}return T.$_mutateRebuild()}_default(T,D,O={}){return p.assertOptions(O,"literal"),c(D!==void 0,"Missing",T,"value"),c(typeof D=="function"||!O.literal,"Only function value supports literal option"),typeof D=="function"&&O.literal&&(D={[p.symbols.literal]:!0,literal:D}),this.$_setFlag(T,D)}_generate(T,D,O){if(!this.$_terms.whens)return{schema:this};const V=[],q=[];for(let fe=0;fe<this.$_terms.whens.length;++fe){const X=this.$_terms.whens[fe];if(X.concat){V.push(X.concat),q.push(`${fe}.concat`);continue}const se=X.ref?X.ref.resolve(T,D,O):T,de=X.is?[X]:X.switch,Se=q.length;for(let $=0;$<de.length;++$){const{is:te,then:ue,otherwise:oe}=de[$],ge=`${fe}${X.switch?"."+$:""}`;if(te.$_match(se,D.nest(te,`${ge}.is`),O)){if(ue){const xe=D.localize([...D.path,`${ge}.then`],D.ancestors,D.schemas),{schema:Ee,id:nt}=ue._generate(T,xe,O);V.push(Ee),q.push(`${ge}.then${nt?`(${nt})`:""}`);break}}else if(oe){const xe=D.localize([...D.path,`${ge}.otherwise`],D.ancestors,D.schemas),{schema:Ee,id:nt}=oe._generate(T,xe,O);V.push(Ee),q.push(`${ge}.otherwise${nt?`(${nt})`:""}`);break}}if(X.break&&q.length>Se)break}const U=q.join(", ");if(D.mainstay.tracer.debug(D,"rule","when",U),!U)return{schema:this};if(!D.mainstay.tracer.active&&this.$_temp.whens[U])return{schema:this.$_temp.whens[U],id:U};let he=this;this._definition.generate&&(he=this._definition.generate(this,T,D,O));for(const fe of V)he=he.concat(fe);return this.$_root._tracer&&this.$_root._tracer._combine(he,[this,...V]),this.$_temp.whens[U]=he,{schema:he,id:U}}_inner(T,D,O={}){c(!this._inRuleset(),`Cannot set ${T} inside a ruleset`);const V=this.clone();return V.$_terms[T]&&!O.override||(V.$_terms[T]=[]),O.single?V.$_terms[T].push(D):V.$_terms[T].push(...D),V.$_temp.ruleset=!1,V}_inRuleset(){return this.$_temp.ruleset!==null&&this.$_temp.ruleset!==!1}_ruleRemove(T,D={}){if(!this._singleRules.has(T))return this;const O=D.clone!==!1?this.clone():this;O._singleRules.delete(T);const V=[];for(let q=0;q<O._rules.length;++q){const U=O._rules[q];U.name!==T||U.keep?V.push(U):O._inRuleset()&&q<O.$_temp.ruleset&&--O.$_temp.ruleset}return O._rules=V,O}_values(T,D){p.verifyFlat(T,D.slice(1,-1));const O=this.clone(),V=T[0]===p.symbols.override;if(V&&(T=T.slice(1)),!O[D]&&T.length?O[D]=new B:V&&(O[D]=T.length?new B:null,O.$_mutateRebuild()),!O[D])return O;V&&O[D].override();for(const q of T){c(q!==void 0,"Cannot call allow/valid/invalid with undefined"),c(q!==p.symbols.override,"Override must be the first value");const U=D==="_invalids"?"_valids":"_invalids";O[U]&&(O[U].remove(q),O[U].length||(c(D==="_valids"||!O._flags.only,"Setting invalid value",q,"leaves schema rejecting all values due to previous valid rule"),O[U]=null)),O[D].add(q,O._refs)}return O}}};N.Base.prototype[p.symbols.any]={version:p.version,compile:b.compile,root:"$_root"},N.Base.prototype.isImmutable=!0,N.Base.prototype.deny=N.Base.prototype.invalid,N.Base.prototype.disallow=N.Base.prototype.invalid,N.Base.prototype.equal=N.Base.prototype.valid,N.Base.prototype.exist=N.Base.prototype.required,N.Base.prototype.not=N.Base.prototype.invalid,N.Base.prototype.options=N.Base.prototype.prefs,N.Base.prototype.preferences=N.Base.prototype.prefs,o.exports=new N.Base},8652:(o,u,f)=>{const c=f(375),_=f(8571),v=f(8160),w={max:1e3,supported:new Set(["undefined","boolean","number","string"])};u.provider={provision:m=>new w.Cache(m)},w.Cache=class{constructor(m={}){v.assertOptions(m,["max"]),c(m.max===void 0||m.max&&m.max>0&&isFinite(m.max),"Invalid max cache size"),this._max=m.max||w.max,this._map=new Map,this._list=new w.List}get length(){return this._map.size}set(m,p){if(m!==null&&!w.supported.has(typeof m))return;let b=this._map.get(m);if(b)return b.value=p,void this._list.first(b);b=this._list.unshift({key:m,value:p}),this._map.set(m,b),this._compact()}get(m){const p=this._map.get(m);if(p)return this._list.first(p),_(p.value)}_compact(){if(this._map.size>this._max){const m=this._list.pop();this._map.delete(m.key)}}},w.List=class{constructor(){this.tail=null,this.head=null}unshift(m){return m.next=null,m.prev=this.head,this.head&&(this.head.next=m),this.head=m,this.tail||(this.tail=m),m}first(m){m!==this.head&&(this._remove(m),this.unshift(m))}pop(){return this._remove(this.tail)}_remove(m){const{next:p,prev:b}=m;return p.prev=b,b&&(b.next=p),m===this.tail&&(this.tail=p),m.prev=null,m.next=null,m}}},8160:(o,u,f)=>{const c=f(375),_=f(7916),v=f(5934);let w,m;const p={isoDate:/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24\:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/};u.version=v.version,u.defaults={abortEarly:!0,allowUnknown:!1,artifacts:!1,cache:!0,context:null,convert:!0,dateFormat:"iso",errors:{escapeHtml:!1,label:"path",language:null,render:!0,stack:!1,wrap:{label:'"',array:"[]"}},externals:!0,messages:{},nonEnumerables:!1,noDefaults:!1,presence:"optional",skipFunctions:!1,stripUnknown:!1,warnings:!1},u.symbols={any:Symbol.for("@hapi/joi/schema"),arraySingle:Symbol("arraySingle"),deepDefault:Symbol("deepDefault"),errors:Symbol("errors"),literal:Symbol("literal"),override:Symbol("override"),parent:Symbol("parent"),prefs:Symbol("prefs"),ref:Symbol("ref"),template:Symbol("template"),values:Symbol("values")},u.assertOptions=function(b,g,y="Options"){c(b&&typeof b=="object"&&!Array.isArray(b),"Options must be of type object");const R=Object.keys(b).filter(E=>!g.includes(E));c(R.length===0,`${y} contain unknown keys: ${R}`)},u.checkPreferences=function(b){m=m||f(3378);const g=m.preferences.validate(b);if(g.error)throw new _([g.error.details[0].message])},u.compare=function(b,g,y){switch(y){case"=":return b===g;case">":return b>g;case"<":return b<g;case">=":return b>=g;case"<=":return b<=g}},u.default=function(b,g){return b===void 0?g:b},u.isIsoDate=function(b){return p.isoDate.test(b)},u.isNumber=function(b){return typeof b=="number"&&!isNaN(b)},u.isResolvable=function(b){return!!b&&(b[u.symbols.ref]||b[u.symbols.template])},u.isSchema=function(b,g={}){const y=b&&b[u.symbols.any];return!!y&&(c(g.legacy||y.version===u.version,"Cannot mix different versions of joi schemas"),!0)},u.isValues=function(b){return b[u.symbols.values]},u.limit=function(b){return Number.isSafeInteger(b)&&b>=0},u.preferences=function(b,g){w=w||f(6914),b=b||{},g=g||{};const y=Object.assign({},b,g);return g.errors&&b.errors&&(y.errors=Object.assign({},b.errors,g.errors),y.errors.wrap=Object.assign({},b.errors.wrap,g.errors.wrap)),g.messages&&(y.messages=w.compile(g.messages,b.messages)),delete y[u.symbols.prefs],y},u.tryWithPath=function(b,g,y={}){try{return b()}catch(R){throw R.path!==void 0?R.path=g+"."+R.path:R.path=g,y.append&&(R.message=`${R.message} (${R.path})`),R}},u.validateArg=function(b,g,{assert:y,message:R}){if(u.isSchema(y)){const E=y.validate(b);return E.error?E.error.message:void 0}if(!y(b))return g?`${g} ${R}`:R},u.verifyFlat=function(b,g){for(const y of b)c(!Array.isArray(y),"Method no longer accepts array arguments:",g)}},3292:(o,u,f)=>{const c=f(375),_=f(8160),v=f(6133),w={};u.schema=function(m,p,b={}){_.assertOptions(b,["appendPath","override"]);try{return w.schema(m,p,b)}catch(g){throw b.appendPath&&g.path!==void 0&&(g.message=`${g.message} (${g.path})`),g}},w.schema=function(m,p,b){c(p!==void 0,"Invalid undefined schema"),Array.isArray(p)&&(c(p.length,"Invalid empty array schema"),p.length===1&&(p=p[0]));const g=(y,...R)=>b.override!==!1?y.valid(m.override,...R):y.valid(...R);if(w.simple(p))return g(m,p);if(typeof p=="function")return m.custom(p);if(c(typeof p=="object","Invalid schema content:",typeof p),_.isResolvable(p))return g(m,p);if(_.isSchema(p))return p;if(Array.isArray(p)){for(const y of p)if(!w.simple(y))return m.alternatives().try(...p);return g(m,...p)}return p instanceof RegExp?m.string().regex(p):p instanceof Date?g(m.date(),p):(c(Object.getPrototypeOf(p)===Object.getPrototypeOf({}),"Schema can only contain plain objects"),m.object().keys(p))},u.ref=function(m,p){return v.isRef(m)?m:v.create(m,p)},u.compile=function(m,p,b={}){_.assertOptions(b,["legacy"]);const g=p&&p[_.symbols.any];if(g)return c(b.legacy||g.version===_.version,"Cannot mix different versions of joi schemas:",g.version,_.version),p;if(typeof p!="object"||!b.legacy)return u.schema(m,p,{appendPath:!0});const y=w.walk(p);return y?y.compile(y.root,p):u.schema(m,p,{appendPath:!0})},w.walk=function(m){if(typeof m!="object")return null;if(Array.isArray(m)){for(const b of m){const g=w.walk(b);if(g)return g}return null}const p=m[_.symbols.any];if(p)return{root:m[p.root],compile:p.compile};c(Object.getPrototypeOf(m)===Object.getPrototypeOf({}),"Schema can only contain plain objects");for(const b in m){const g=w.walk(m[b]);if(g)return g}return null},w.simple=function(m){return m===null||["boolean","string","number"].includes(typeof m)},u.when=function(m,p,b){if(b===void 0&&(c(p&&typeof p=="object","Missing options"),b=p,p=v.create(".")),Array.isArray(b)&&(b={switch:b}),_.assertOptions(b,["is","not","then","otherwise","switch","break"]),_.isSchema(p))return c(b.is===void 0,'"is" can not be used with a schema condition'),c(b.not===void 0,'"not" can not be used with a schema condition'),c(b.switch===void 0,'"switch" can not be used with a schema condition'),w.condition(m,{is:p,then:b.then,otherwise:b.otherwise,break:b.break});if(c(v.isRef(p)||typeof p=="string","Invalid condition:",p),c(b.not===void 0||b.is===void 0,'Cannot combine "is" with "not"'),b.switch===void 0){let y=b;b.not!==void 0&&(y={is:b.not,then:b.otherwise,otherwise:b.then,break:b.break});let R=y.is!==void 0?m.$_compile(y.is):m.$_root.invalid(null,!1,0,"").required();return c(y.then!==void 0||y.otherwise!==void 0,'options must have at least one of "then", "otherwise", or "switch"'),c(y.break===void 0||y.then===void 0||y.otherwise===void 0,"Cannot specify then, otherwise, and break all together"),b.is===void 0||v.isRef(b.is)||_.isSchema(b.is)||(R=R.required()),w.condition(m,{ref:u.ref(p),is:R,then:y.then,otherwise:y.otherwise,break:y.break})}c(Array.isArray(b.switch),'"switch" must be an array'),c(b.is===void 0,'Cannot combine "switch" with "is"'),c(b.not===void 0,'Cannot combine "switch" with "not"'),c(b.then===void 0,'Cannot combine "switch" with "then"');const g={ref:u.ref(p),switch:[],break:b.break};for(let y=0;y<b.switch.length;++y){const R=b.switch[y],E=y===b.switch.length-1;_.assertOptions(R,E?["is","then","otherwise"]:["is","then"]),c(R.is!==void 0,'Switch statement missing "is"'),c(R.then!==void 0,'Switch statement missing "then"');const S={is:m.$_compile(R.is),then:m.$_compile(R.then)};if(v.isRef(R.is)||_.isSchema(R.is)||(S.is=S.is.required()),E){c(b.otherwise===void 0||R.otherwise===void 0,'Cannot specify "otherwise" inside and outside a "switch"');const x=b.otherwise!==void 0?b.otherwise:R.otherwise;x!==void 0&&(c(g.break===void 0,"Cannot specify both otherwise and break"),S.otherwise=m.$_compile(x))}g.switch.push(S)}return g},w.condition=function(m,p){for(const b of["then","otherwise"])p[b]===void 0?delete p[b]:p[b]=m.$_compile(p[b]);return p}},6354:(o,u,f)=>{const c=f(5688),_=f(8160),v=f(3328);u.Report=class{constructor(w,m,p,b,g,y,R){if(this.code=w,this.flags=b,this.messages=g,this.path=y.path,this.prefs=R,this.state=y,this.value=m,this.message=null,this.template=null,this.local=p||{},this.local.label=u.label(this.flags,this.state,this.prefs,this.messages),this.value===void 0||this.local.hasOwnProperty("value")||(this.local.value=this.value),this.path.length){const E=this.path[this.path.length-1];typeof E!="object"&&(this.local.key=E)}}_setTemplate(w){if(this.template=w,!this.flags.label&&this.path.length===0){const m=this._template(this.template,"root");m&&(this.local.label=m)}}toString(){if(this.message)return this.message;const w=this.code;if(!this.prefs.errors.render)return this.code;const m=this._template(this.template)||this._template(this.prefs.messages)||this._template(this.messages);return m===void 0?`Error code "${w}" is not defined, your custom type is missing the correct messages definition`:(this.message=m.render(this.value,this.state,this.prefs,this.local,{errors:this.prefs.errors,messages:[this.prefs.messages,this.messages]}),this.prefs.errors.label||(this.message=this.message.replace(/^"" /,"").trim()),this.message)}_template(w,m){return u.template(this.value,w,m||this.code,this.state,this.prefs)}},u.path=function(w){let m="";for(const p of w)typeof p!="object"&&(typeof p=="string"?(m&&(m+="."),m+=p):m+=`[${p}]`);return m},u.template=function(w,m,p,b,g){if(!m)return;if(v.isTemplate(m))return p!=="root"?m:null;let y=g.errors.language;if(_.isResolvable(y)&&(y=y.resolve(w,b,g)),y&&m[y]){if(m[y][p]!==void 0)return m[y][p];if(m[y]["*"]!==void 0)return m[y]["*"]}return m[p]?m[p]:m["*"]},u.label=function(w,m,p,b){if(!p.errors.label)return"";if(w.label)return w.label;let g=m.path;return p.errors.label==="key"&&m.path.length>1&&(g=m.path.slice(-1)),u.path(g)||u.template(null,p.messages,"root",m,p)||b&&u.template(null,b,"root",m,p)||"value"},u.process=function(w,m,p){if(!w)return null;const{override:b,message:g,details:y}=u.details(w);if(b)return b;if(p.errors.stack)return new u.ValidationError(g,y,m);const R=Error.stackTraceLimit;Error.stackTraceLimit=0;const E=new u.ValidationError(g,y,m);return Error.stackTraceLimit=R,E},u.details=function(w,m={}){let p=[];const b=[];for(const g of w){if(g instanceof Error){if(m.override!==!1)return{override:g};const R=g.toString();p.push(R),b.push({message:R,type:"override",context:{error:g}});continue}const y=g.toString();p.push(y),b.push({message:y,path:g.path.filter(R=>typeof R!="object"),type:g.code,context:g.local})}return p.length>1&&(p=[...new Set(p)]),{message:p.join(". "),details:b}},u.ValidationError=class extends Error{constructor(w,m,p){super(w),this._original=p,this.details=m}static isError(w){return w instanceof u.ValidationError}},u.ValidationError.prototype.isJoi=!0,u.ValidationError.prototype.name="ValidationError",u.ValidationError.prototype.annotate=c.error},8901:(o,u,f)=>{const c=f(375),_=f(8571),v=f(8160),w=f(6914),m={};u.type=function(p,b){const g=Object.getPrototypeOf(p),y=_(g),R=p._assign(Object.create(y)),E=Object.assign({},b);delete E.base,y._definition=E;const S=g._definition||{};E.messages=w.merge(S.messages,E.messages),E.properties=Object.assign({},S.properties,E.properties),R.type=E.type,E.flags=Object.assign({},S.flags,E.flags);const x=Object.assign({},S.terms);if(E.terms)for(const N in E.terms){const T=E.terms[N];c(R.$_terms[N]===void 0,"Invalid term override for",E.type,N),R.$_terms[N]=T.init,x[N]=T}E.terms=x,E.args||(E.args=S.args),E.prepare=m.prepare(E.prepare,S.prepare),E.coerce&&(typeof E.coerce=="function"&&(E.coerce={method:E.coerce}),E.coerce.from&&!Array.isArray(E.coerce.from)&&(E.coerce={method:E.coerce.method,from:[].concat(E.coerce.from)})),E.coerce=m.coerce(E.coerce,S.coerce),E.validate=m.validate(E.validate,S.validate);const M=Object.assign({},S.rules);if(E.rules)for(const N in E.rules){const T=E.rules[N];c(typeof T=="object","Invalid rule definition for",E.type,N);let D=T.method;if(D===void 0&&(D=function(){return this.$_addRule(N)}),D&&(c(!y[N],"Rule conflict in",E.type,N),y[N]=D),c(!M[N],"Rule conflict in",E.type,N),M[N]=T,T.alias){const O=[].concat(T.alias);for(const V of O)y[V]=T.method}T.args&&(T.argsByName=new Map,T.args=T.args.map(O=>(typeof O=="string"&&(O={name:O}),c(!T.argsByName.has(O.name),"Duplicated argument name",O.name),v.isSchema(O.assert)&&(O.assert=O.assert.strict().label(O.name)),T.argsByName.set(O.name,O),O)))}E.rules=M;const j=Object.assign({},S.modifiers);if(E.modifiers)for(const N in E.modifiers){c(!y[N],"Rule conflict in",E.type,N);const T=E.modifiers[N];c(typeof T=="function","Invalid modifier definition for",E.type,N);const D=function(O){return this.rule({[N]:O})};y[N]=D,j[N]=T}if(E.modifiers=j,E.overrides){y._super=g,R.$_super={};for(const N in E.overrides)c(g[N],"Cannot override missing",N),E.overrides[N][v.symbols.parent]=g[N],R.$_super[N]=g[N].bind(R);Object.assign(y,E.overrides)}E.cast=Object.assign({},S.cast,E.cast);const B=Object.assign({},S.manifest,E.manifest);return B.build=m.build(E.manifest&&E.manifest.build,S.manifest&&S.manifest.build),E.manifest=B,E.rebuild=m.rebuild(E.rebuild,S.rebuild),R},m.build=function(p,b){return p&&b?function(g,y){return b(p(g,y),y)}:p||b},m.coerce=function(p,b){return p&&b?{from:p.from&&b.from?[...new Set([...p.from,...b.from])]:null,method(g,y){let R;if((!b.from||b.from.includes(typeof g))&&(R=b.method(g,y),R)){if(R.errors||R.value===void 0)return R;g=R.value}if(!p.from||p.from.includes(typeof g)){const E=p.method(g,y);if(E)return E}return R}}:p||b},m.prepare=function(p,b){return p&&b?function(g,y){const R=p(g,y);if(R){if(R.errors||R.value===void 0)return R;g=R.value}return b(g,y)||R}:p||b},m.rebuild=function(p,b){return p&&b?function(g){b(g),p(g)}:p||b},m.validate=function(p,b){return p&&b?function(g,y){const R=b(g,y);if(R){if(R.errors&&(!Array.isArray(R.errors)||R.errors.length))return R;g=R.value}return p(g,y)||R}:p||b}},5107:(o,u,f)=>{const c=f(375),_=f(8571),v=f(8652),w=f(8160),m=f(3292),p=f(6354),b=f(8901),g=f(9708),y=f(6133),R=f(3328),E=f(1152);let S;const x={types:{alternatives:f(4946),any:f(8068),array:f(546),boolean:f(4937),date:f(7500),function:f(390),link:f(8785),number:f(3832),object:f(8966),string:f(7417),symbol:f(8826)},aliases:{alt:"alternatives",bool:"boolean",func:"function"},root:function(){const M={_types:new Set(Object.keys(x.types))};for(const j of M._types)M[j]=function(...B){return c(!B.length||["alternatives","link","object"].includes(j),"The",j,"type does not allow arguments"),x.generate(this,x.types[j],B)};for(const j of["allow","custom","disallow","equal","exist","forbidden","invalid","not","only","optional","options","prefs","preferences","required","strip","valid","when"])M[j]=function(...B){return this.any()[j](...B)};Object.assign(M,x.methods);for(const j in x.aliases){const B=x.aliases[j];M[j]=M[B]}return M.x=M.expression,E.setup&&E.setup(M),M}};x.methods={ValidationError:p.ValidationError,version:w.version,cache:v.provider,assert(M,j,...B){x.assert(M,j,!0,B)},attempt:(M,j,...B)=>x.assert(M,j,!1,B),build(M){return c(typeof g.build=="function","Manifest functionality disabled"),g.build(this,M)},checkPreferences(M){w.checkPreferences(M)},compile(M,j){return m.compile(this,M,j)},defaults(M){c(typeof M=="function","modifier must be a function");const j=Object.assign({},this);for(const B of j._types){const N=M(j[B]());c(w.isSchema(N),"modifier must return a valid schema object"),j[B]=function(...T){return x.generate(this,N,T)}}return j},expression:(...M)=>new R(...M),extend(...M){w.verifyFlat(M,"extend"),S=S||f(3378),c(M.length,"You need to provide at least one extension"),this.assert(M,S.extensions);const j=Object.assign({},this);j._types=new Set(j._types);for(let B of M){typeof B=="function"&&(B=B(j)),this.assert(B,S.extension);const N=x.expandExtension(B,j);for(const T of N){c(j[T.type]===void 0||j._types.has(T.type),"Cannot override name",T.type);const D=T.base||this.any(),O=b.type(D,T);j._types.add(T.type),j[T.type]=function(...V){return x.generate(this,O,V)}}}return j},isError:p.ValidationError.isError,isExpression:R.isTemplate,isRef:y.isRef,isSchema:w.isSchema,in:(...M)=>y.in(...M),override:w.symbols.override,ref:(...M)=>y.create(...M),types(){const M={};for(const j of this._types)M[j]=this[j]();for(const j in x.aliases)M[j]=this[j]();return M}},x.assert=function(M,j,B,N){const T=N[0]instanceof Error||typeof N[0]=="string"?N[0]:null,D=T!==null?N[1]:N[0],O=j.validate(M,w.preferences({errors:{stack:!0}},D||{}));let V=O.error;if(!V)return O.value;if(T instanceof Error)throw T;const q=B&&typeof V.annotate=="function"?V.annotate():V.message;throw V instanceof p.ValidationError==0&&(V=_(V)),V.message=T?`${T} ${q}`:q,V},x.generate=function(M,j,B){return c(M,"Must be invoked on a Joi instance."),j.$_root=M,j._definition.args&&B.length?j._definition.args(j,...B):j},x.expandExtension=function(M,j){if(typeof M.type=="string")return[M];const B=[];for(const N of j._types)if(M.type.test(N)){const T=Object.assign({},M);T.type=N,T.base=j[N](),B.push(T)}return B},o.exports=x.root()},6914:(o,u,f)=>{const c=f(375),_=f(8571),v=f(3328);u.compile=function(w,m){if(typeof w=="string")return c(!m,"Cannot set single message string"),new v(w);if(v.isTemplate(w))return c(!m,"Cannot set single message template"),w;c(typeof w=="object"&&!Array.isArray(w),"Invalid message options"),m=m?_(m):{};for(let p in w){const b=w[p];if(p==="root"||v.isTemplate(b)){m[p]=b;continue}if(typeof b=="string"){m[p]=new v(b);continue}c(typeof b=="object"&&!Array.isArray(b),"Invalid message for",p);const g=p;for(p in m[g]=m[g]||{},b){const y=b[p];p==="root"||v.isTemplate(y)?m[g][p]=y:(c(typeof y=="string","Invalid message for",p,"in",g),m[g][p]=new v(y))}}return m},u.decompile=function(w){const m={};for(let p in w){const b=w[p];if(p==="root"){m.root=b;continue}if(v.isTemplate(b)){m[p]=b.describe({compact:!0});continue}const g=p;for(p in m[g]={},b){const y=b[p];p!=="root"?m[g][p]=y.describe({compact:!0}):m[g].root=y}}return m},u.merge=function(w,m){if(!w)return u.compile(m);if(!m)return w;if(typeof m=="string")return new v(m);if(v.isTemplate(m))return m;const p=_(w);for(let b in m){const g=m[b];if(b==="root"||v.isTemplate(g)){p[b]=g;continue}if(typeof g=="string"){p[b]=new v(g);continue}c(typeof g=="object"&&!Array.isArray(g),"Invalid message for",b);const y=b;for(b in p[y]=p[y]||{},g){const R=g[b];b==="root"||v.isTemplate(R)?p[y][b]=R:(c(typeof R=="string","Invalid message for",b,"in",y),p[y][b]=new v(R))}}return p}},2294:(o,u,f)=>{const c=f(375),_=f(8160),v=f(6133),w={};u.Ids=w.Ids=class{constructor(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}clone(){const m=new w.Ids;return m._byId=new Map(this._byId),m._byKey=new Map(this._byKey),m._schemaChain=this._schemaChain,m}concat(m){m._schemaChain&&(this._schemaChain=!0);for(const[p,b]of m._byId.entries())c(!this._byKey.has(p),"Schema id conflicts with existing key:",p),this._byId.set(p,b);for(const[p,b]of m._byKey.entries())c(!this._byId.has(p),"Schema key conflicts with existing id:",p),this._byKey.set(p,b)}fork(m,p,b){const g=this._collect(m);g.push({schema:b});const y=g.shift();let R={id:y.id,schema:p(y.schema)};c(_.isSchema(R.schema),"adjuster function failed to return a joi schema type");for(const E of g)R={id:E.id,schema:w.fork(E.schema,R.id,R.schema)};return R.schema}labels(m,p=[]){const b=m[0],g=this._get(b);if(!g)return[...p,...m].join(".");const y=m.slice(1);return p=[...p,g.schema._flags.label||b],y.length?g.schema._ids.labels(y,p):p.join(".")}reach(m,p=[]){const b=m[0],g=this._get(b);c(g,"Schema does not contain path",[...p,...m].join("."));const y=m.slice(1);return y.length?g.schema._ids.reach(y,[...p,b]):g.schema}register(m,{key:p}={}){if(!m||!_.isSchema(m))return;(m.$_property("schemaChain")||m._ids._schemaChain)&&(this._schemaChain=!0);const b=m._flags.id;if(b){const g=this._byId.get(b);c(!g||g.schema===m,"Cannot add different schemas with the same id:",b),c(!this._byKey.has(b),"Schema id conflicts with existing key:",b),this._byId.set(b,{schema:m,id:b})}p&&(c(!this._byKey.has(p),"Schema already contains key:",p),c(!this._byId.has(p),"Schema key conflicts with existing id:",p),this._byKey.set(p,{schema:m,id:p}))}reset(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}_collect(m,p=[],b=[]){const g=m[0],y=this._get(g);c(y,"Schema does not contain path",[...p,...m].join(".")),b=[y,...b];const R=m.slice(1);return R.length?y.schema._ids._collect(R,[...p,g],b):b}_get(m){return this._byId.get(m)||this._byKey.get(m)}},w.fork=function(m,p,b){const g=u.schema(m,{each:(y,{key:R})=>{if(p===(y._flags.id||R))return b},ref:!1});return g?g.$_mutateRebuild():m},u.schema=function(m,p){let b;for(const g in m._flags){if(g[0]==="_")continue;const y=w.scan(m._flags[g],{source:"flags",name:g},p);y!==void 0&&(b=b||m.clone(),b._flags[g]=y)}for(let g=0;g<m._rules.length;++g){const y=m._rules[g],R=w.scan(y.args,{source:"rules",name:y.name},p);if(R!==void 0){b=b||m.clone();const E=Object.assign({},y);E.args=R,b._rules[g]=E,b._singleRules.get(y.name)===y&&b._singleRules.set(y.name,E)}}for(const g in m.$_terms){if(g[0]==="_")continue;const y=w.scan(m.$_terms[g],{source:"terms",name:g},p);y!==void 0&&(b=b||m.clone(),b.$_terms[g]=y)}return b},w.scan=function(m,p,b,g,y){const R=g||[];if(m===null||typeof m!="object")return;let E;if(Array.isArray(m)){for(let S=0;S<m.length;++S){const x=p.source==="terms"&&p.name==="keys"&&m[S].key,M=w.scan(m[S],p,b,[S,...R],x);M!==void 0&&(E=E||m.slice(),E[S]=M)}return E}if(b.schema!==!1&&_.isSchema(m)||b.ref!==!1&&v.isRef(m)){const S=b.each(m,{...p,path:R,key:y});return S===m?void 0:S}for(const S in m){if(S[0]==="_")continue;const x=w.scan(m[S],p,b,[S,...R],y);x!==void 0&&(E=E||Object.assign({},m),E[S]=x)}return E}},6133:(o,u,f)=>{const c=f(375),_=f(8571),v=f(9621),w=f(8160);let m;const p={symbol:Symbol("ref"),defaults:{adjust:null,in:!1,iterables:null,map:null,separator:".",type:"value"}};u.create=function(b,g={}){c(typeof b=="string","Invalid reference key:",b),w.assertOptions(g,["adjust","ancestor","in","iterables","map","prefix","render","separator"]),c(!g.prefix||typeof g.prefix=="object","options.prefix must be of type object");const y=Object.assign({},p.defaults,g);delete y.prefix;const R=y.separator,E=p.context(b,R,g.prefix);if(y.type=E.type,b=E.key,y.type==="value")if(E.root&&(c(!R||b[0]!==R,"Cannot specify relative path with root prefix"),y.ancestor="root",b||(b=null)),R&&R===b)b=null,y.ancestor=0;else if(y.ancestor!==void 0)c(!R||!b||b[0]!==R,"Cannot combine prefix with ancestor option");else{const[S,x]=p.ancestor(b,R);x&&(b=b.slice(x))===""&&(b=null),y.ancestor=S}return y.path=R?b===null?[]:b.split(R):[b],new p.Ref(y)},u.in=function(b,g={}){return u.create(b,{...g,in:!0})},u.isRef=function(b){return!!b&&!!b[w.symbols.ref]},p.Ref=class{constructor(b){c(typeof b=="object","Invalid reference construction"),w.assertOptions(b,["adjust","ancestor","in","iterables","map","path","render","separator","type","depth","key","root","display"]),c([!1,void 0].includes(b.separator)||typeof b.separator=="string"&&b.separator.length===1,"Invalid separator"),c(!b.adjust||typeof b.adjust=="function","options.adjust must be a function"),c(!b.map||Array.isArray(b.map),"options.map must be an array"),c(!b.map||!b.adjust,"Cannot set both map and adjust options"),Object.assign(this,p.defaults,b),c(this.type==="value"||this.ancestor===void 0,"Non-value references cannot reference ancestors"),Array.isArray(this.map)&&(this.map=new Map(this.map)),this.depth=this.path.length,this.key=this.path.length?this.path.join(this.separator):null,this.root=this.path[0],this.updateDisplay()}resolve(b,g,y,R,E={}){return c(!this.in||E.in,"Invalid in() reference usage"),this.type==="global"?this._resolve(y.context,g,E):this.type==="local"?this._resolve(R,g,E):this.ancestor?this.ancestor==="root"?this._resolve(g.ancestors[g.ancestors.length-1],g,E):(c(this.ancestor<=g.ancestors.length,"Invalid reference exceeds the schema root:",this.display),this._resolve(g.ancestors[this.ancestor-1],g,E)):this._resolve(b,g,E)}_resolve(b,g,y){let R;if(this.type==="value"&&g.mainstay.shadow&&y.shadow!==!1&&(R=g.mainstay.shadow.get(this.absolute(g))),R===void 0&&(R=v(b,this.path,{iterables:this.iterables,functions:!0})),this.adjust&&(R=this.adjust(R)),this.map){const E=this.map.get(R);E!==void 0&&(R=E)}return g.mainstay&&g.mainstay.tracer.resolve(g,this,R),R}toString(){return this.display}absolute(b){return[...b.path.slice(0,-this.ancestor),...this.path]}clone(){return new p.Ref(this)}describe(){const b={path:this.path};this.type!=="value"&&(b.type=this.type),this.separator!=="."&&(b.separator=this.separator),this.type==="value"&&this.ancestor!==1&&(b.ancestor=this.ancestor),this.map&&(b.map=[...this.map]);for(const g of["adjust","iterables","render"])this[g]!==null&&this[g]!==void 0&&(b[g]=this[g]);return this.in!==!1&&(b.in=!0),{ref:b}}updateDisplay(){const b=this.key!==null?this.key:"";if(this.type!=="value")return void(this.display=`ref:${this.type}:${b}`);if(!this.separator)return void(this.display=`ref:${b}`);if(!this.ancestor)return void(this.display=`ref:${this.separator}${b}`);if(this.ancestor==="root")return void(this.display=`ref:root:${b}`);if(this.ancestor===1)return void(this.display=`ref:${b||".."}`);const g=new Array(this.ancestor+1).fill(this.separator).join("");this.display=`ref:${g}${b||""}`}},p.Ref.prototype[w.symbols.ref]=!0,u.build=function(b){return(b=Object.assign({},p.defaults,b)).type==="value"&&b.ancestor===void 0&&(b.ancestor=1),new p.Ref(b)},p.context=function(b,g,y={}){if(b=b.trim(),y){const R=y.global===void 0?"$":y.global;if(R!==g&&b.startsWith(R))return{key:b.slice(R.length),type:"global"};const E=y.local===void 0?"#":y.local;if(E!==g&&b.startsWith(E))return{key:b.slice(E.length),type:"local"};const S=y.root===void 0?"/":y.root;if(S!==g&&b.startsWith(S))return{key:b.slice(S.length),type:"value",root:!0}}return{key:b,type:"value"}},p.ancestor=function(b,g){if(!g)return[1,0];if(b[0]!==g)return[1,0];if(b[1]!==g)return[0,1];let y=2;for(;b[y]===g;)++y;return[y-1,y]},u.toSibling=0,u.toParent=1,u.Manager=class{constructor(){this.refs=[]}register(b,g){if(b)if(g=g===void 0?u.toParent:g,Array.isArray(b))for(const y of b)this.register(y,g);else if(w.isSchema(b))for(const y of b._refs.refs)y.ancestor-g>=0&&this.refs.push({ancestor:y.ancestor-g,root:y.root});else u.isRef(b)&&b.type==="value"&&b.ancestor-g>=0&&this.refs.push({ancestor:b.ancestor-g,root:b.root}),m=m||f(3328),m.isTemplate(b)&&this.register(b.refs(),g)}get length(){return this.refs.length}clone(){const b=new u.Manager;return b.refs=_(this.refs),b}reset(){this.refs=[]}roots(){return this.refs.filter(b=>!b.ancestor).map(b=>b.root)}}},3378:(o,u,f)=>{const c=f(5107),_={};_.wrap=c.string().min(1).max(2).allow(!1),u.preferences=c.object({allowUnknown:c.boolean(),abortEarly:c.boolean(),artifacts:c.boolean(),cache:c.boolean(),context:c.object(),convert:c.boolean(),dateFormat:c.valid("date","iso","string","time","utc"),debug:c.boolean(),errors:{escapeHtml:c.boolean(),label:c.valid("path","key",!1),language:[c.string(),c.object().ref()],render:c.boolean(),stack:c.boolean(),wrap:{label:_.wrap,array:_.wrap,string:_.wrap}},externals:c.boolean(),messages:c.object(),noDefaults:c.boolean(),nonEnumerables:c.boolean(),presence:c.valid("required","optional","forbidden"),skipFunctions:c.boolean(),stripUnknown:c.object({arrays:c.boolean(),objects:c.boolean()}).or("arrays","objects").allow(!0,!1),warnings:c.boolean()}).strict(),_.nameRx=/^[a-zA-Z0-9]\w*$/,_.rule=c.object({alias:c.array().items(c.string().pattern(_.nameRx)).single(),args:c.array().items(c.string(),c.object({name:c.string().pattern(_.nameRx).required(),ref:c.boolean(),assert:c.alternatives([c.function(),c.object().schema()]).conditional("ref",{is:!0,then:c.required()}),normalize:c.function(),message:c.string().when("assert",{is:c.function(),then:c.required()})})),convert:c.boolean(),manifest:c.boolean(),method:c.function().allow(!1),multi:c.boolean(),validate:c.function()}),u.extension=c.object({type:c.alternatives([c.string(),c.object().regex()]).required(),args:c.function(),cast:c.object().pattern(_.nameRx,c.object({from:c.function().maxArity(1).required(),to:c.function().minArity(1).maxArity(2).required()})),base:c.object().schema().when("type",{is:c.object().regex(),then:c.forbidden()}),coerce:[c.function().maxArity(3),c.object({method:c.function().maxArity(3).required(),from:c.array().items(c.string()).single()})],flags:c.object().pattern(_.nameRx,c.object({setter:c.string(),default:c.any()})),manifest:{build:c.function().arity(2)},messages:[c.object(),c.string()],modifiers:c.object().pattern(_.nameRx,c.function().minArity(1).maxArity(2)),overrides:c.object().pattern(_.nameRx,c.function()),prepare:c.function().maxArity(3),rebuild:c.function().arity(1),rules:c.object().pattern(_.nameRx,_.rule),terms:c.object().pattern(_.nameRx,c.object({init:c.array().allow(null).required(),manifest:c.object().pattern(/.+/,[c.valid("schema","single"),c.object({mapped:c.object({from:c.string().required(),to:c.string().required()}).required()})])})),validate:c.function().maxArity(3)}).strict(),u.extensions=c.array().items(c.object(),c.function().arity(1)).strict(),_.desc={buffer:c.object({buffer:c.string()}),func:c.object({function:c.function().required(),options:{literal:!0}}),override:c.object({override:!0}),ref:c.object({ref:c.object({type:c.valid("value","global","local"),path:c.array().required(),separator:c.string().length(1).allow(!1),ancestor:c.number().min(0).integer().allow("root"),map:c.array().items(c.array().length(2)).min(1),adjust:c.function(),iterables:c.boolean(),in:c.boolean(),render:c.boolean()}).required()}),regex:c.object({regex:c.string().min(3)}),special:c.object({special:c.valid("deep").required()}),template:c.object({template:c.string().required(),options:c.object()}),value:c.object({value:c.alternatives([c.object(),c.array()]).required()})},_.desc.entity=c.alternatives([c.array().items(c.link("...")),c.boolean(),c.function(),c.number(),c.string(),_.desc.buffer,_.desc.func,_.desc.ref,_.desc.regex,_.desc.special,_.desc.template,_.desc.value,c.link("/")]),_.desc.values=c.array().items(null,c.boolean(),c.function(),c.number().allow(1/0,-1/0),c.string().allow(""),c.symbol(),_.desc.buffer,_.desc.func,_.desc.override,_.desc.ref,_.desc.regex,_.desc.template,_.desc.value),_.desc.messages=c.object().pattern(/.+/,[c.string(),_.desc.template,c.object().pattern(/.+/,[c.string(),_.desc.template])]),u.description=c.object({type:c.string().required(),flags:c.object({cast:c.string(),default:c.any(),description:c.string(),empty:c.link("/"),failover:_.desc.entity,id:c.string(),label:c.string(),only:!0,presence:["optional","required","forbidden"],result:["raw","strip"],strip:c.boolean(),unit:c.string()}).unknown(),preferences:{allowUnknown:c.boolean(),abortEarly:c.boolean(),artifacts:c.boolean(),cache:c.boolean(),convert:c.boolean(),dateFormat:["date","iso","string","time","utc"],errors:{escapeHtml:c.boolean(),label:["path","key"],language:[c.string(),_.desc.ref],wrap:{label:_.wrap,array:_.wrap}},externals:c.boolean(),messages:_.desc.messages,noDefaults:c.boolean(),nonEnumerables:c.boolean(),presence:["required","optional","forbidden"],skipFunctions:c.boolean(),stripUnknown:c.object({arrays:c.boolean(),objects:c.boolean()}).or("arrays","objects").allow(!0,!1),warnings:c.boolean()},allow:_.desc.values,invalid:_.desc.values,rules:c.array().min(1).items({name:c.string().required(),args:c.object().min(1),keep:c.boolean(),message:[c.string(),_.desc.messages],warn:c.boolean()}),keys:c.object().pattern(/.*/,c.link("/")),link:_.desc.ref}).pattern(/^[a-z]\w*$/,c.any())},493:(o,u,f)=>{const c=f(8571),_=f(9621),v=f(8160),w={value:Symbol("value")};o.exports=w.State=class{constructor(m,p,b){this.path=m,this.ancestors=p,this.mainstay=b.mainstay,this.schemas=b.schemas,this.debug=null}localize(m,p=null,b=null){const g=new w.State(m,p,this);return b&&g.schemas&&(g.schemas=[w.schemas(b),...g.schemas]),g}nest(m,p){const b=new w.State(this.path,this.ancestors,this);return b.schemas=b.schemas&&[w.schemas(m),...b.schemas],b.debug=p,b}shadow(m,p){this.mainstay.shadow=this.mainstay.shadow||new w.Shadow,this.mainstay.shadow.set(this.path,m,p)}snapshot(){this.mainstay.shadow&&(this._snapshot=c(this.mainstay.shadow.node(this.path))),this.mainstay.snapshot()}restore(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this._snapshot),this._snapshot=void 0),this.mainstay.restore()}commit(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this._snapshot),this._snapshot=void 0),this.mainstay.commit()}},w.schemas=function(m){return v.isSchema(m)?{schema:m}:m},w.Shadow=class{constructor(){this._values=null}set(m,p,b){if(!m.length||b==="strip"&&typeof m[m.length-1]=="number")return;this._values=this._values||new Map;let g=this._values;for(let y=0;y<m.length;++y){const R=m[y];let E=g.get(R);E||(E=new Map,g.set(R,E)),g=E}g[w.value]=p}get(m){const p=this.node(m);if(p)return p[w.value]}node(m){if(this._values)return _(this._values,m,{iterables:!0})}override(m,p){if(!this._values)return;const b=m.slice(0,-1),g=m[m.length-1],y=_(this._values,b,{iterables:!0});p?y.set(g,p):y&&y.delete(g)}}},3328:(o,u,f)=>{const c=f(375),_=f(8571),v=f(5277),w=f(1447),m=f(8160),p=f(6354),b=f(6133),g={symbol:Symbol("template"),opens:new Array(1e3).join("\0"),closes:new Array(1e3).join(""),dateFormat:{date:Date.prototype.toDateString,iso:Date.prototype.toISOString,string:Date.prototype.toString,time:Date.prototype.toTimeString,utc:Date.prototype.toUTCString}};o.exports=g.Template=class{constructor(y,R){if(c(typeof y=="string","Template source must be a string"),c(!y.includes("\0")&&!y.includes(""),"Template source cannot contain reserved control characters"),this.source=y,this.rendered=y,this._template=null,R){const{functions:E,...S}=R;this._settings=Object.keys(S).length?_(S):void 0,this._functions=E,this._functions&&(c(Object.keys(this._functions).every(x=>typeof x=="string"),"Functions keys must be strings"),c(Object.values(this._functions).every(x=>typeof x=="function"),"Functions values must be functions"))}else this._settings=void 0,this._functions=void 0;this._parse()}_parse(){if(!this.source.includes("{"))return;const y=g.encode(this.source),R=g.split(y);let E=!1;const S=[],x=R.shift();x&&S.push(x);for(const M of R){const j=M[0]!=="{",B=j?"}":"}}",N=M.indexOf(B);if(N===-1||M[1]==="{"){S.push(`{${g.decode(M)}`);continue}let T=M.slice(j?0:1,N);const D=T[0]===":";D&&(T=T.slice(1));const O=this._ref(g.decode(T),{raw:j,wrapped:D});S.push(O),typeof O!="string"&&(E=!0);const V=M.slice(N+B.length);V&&S.push(g.decode(V))}E?this._template=S:this.rendered=S.join("")}static date(y,R){return g.dateFormat[R.dateFormat].call(y)}describe(y={}){if(!this._settings&&y.compact)return this.source;const R={template:this.source};return this._settings&&(R.options=this._settings),this._functions&&(R.functions=this._functions),R}static build(y){return new g.Template(y.template,y.options||y.functions?{...y.options,functions:y.functions}:void 0)}isDynamic(){return!!this._template}static isTemplate(y){return!!y&&!!y[m.symbols.template]}refs(){if(!this._template)return;const y=[];for(const R of this._template)typeof R!="string"&&y.push(...R.refs);return y}resolve(y,R,E,S){return this._template&&this._template.length===1?this._part(this._template[0],y,R,E,S,{}):this.render(y,R,E,S)}_part(y,...R){return y.ref?y.ref.resolve(...R):y.formula.evaluate(R)}render(y,R,E,S,x={}){if(!this.isDynamic())return this.rendered;const M=[];for(const j of this._template)if(typeof j=="string")M.push(j);else{const B=this._part(j,y,R,E,S,x),N=g.stringify(B,y,R,E,S,x);if(N!==void 0){const T=j.raw||(x.errors&&x.errors.escapeHtml)===!1?N:v(N);M.push(g.wrap(T,j.wrapped&&E.errors.wrap.label))}}return M.join("")}_ref(y,{raw:R,wrapped:E}){const S=[],x=j=>{const B=b.create(j,this._settings);return S.push(B),N=>{const T=B.resolve(...N);return T!==void 0?T:null}};try{const j=this._functions?{...g.functions,...this._functions}:g.functions;var M=new w.Parser(y,{reference:x,functions:j,constants:g.constants})}catch(j){throw j.message=`Invalid template variable "${y}" fails due to: ${j.message}`,j}if(M.single){if(M.single.type==="reference"){const j=S[0];return{ref:j,raw:R,refs:S,wrapped:E||j.type==="local"&&j.key==="label"}}return g.stringify(M.single.value)}return{formula:M,raw:R,refs:S}}toString(){return this.source}},g.Template.prototype[m.symbols.template]=!0,g.Template.prototype.isImmutable=!0,g.encode=function(y){return y.replace(/\\(\{+)/g,(R,E)=>g.opens.slice(0,E.length)).replace(/\\(\}+)/g,(R,E)=>g.closes.slice(0,E.length))},g.decode=function(y){return y.replace(/\u0000/g,"{").replace(/\u0001/g,"}")},g.split=function(y){const R=[];let E="";for(let S=0;S<y.length;++S){const x=y[S];if(x==="{"){let M="";for(;S+1<y.length&&y[S+1]==="{";)M+="{",++S;R.push(E),E=M}else E+=x}return R.push(E),R},g.wrap=function(y,R){return R?R.length===1?`${R}${y}${R}`:`${R[0]}${y}${R[1]}`:y},g.stringify=function(y,R,E,S,x,M={}){const j=typeof y,B=S&&S.errors&&S.errors.wrap||{};let N=!1;if(b.isRef(y)&&y.render&&(N=y.in,y=y.resolve(R,E,S,x,{in:y.in,...M})),y===null)return"null";if(j==="string")return g.wrap(y,M.arrayItems&&B.string);if(j==="number"||j==="function"||j==="symbol")return y.toString();if(j!=="object")return JSON.stringify(y);if(y instanceof Date)return g.Template.date(y,S);if(y instanceof Map){const D=[];for(const[O,V]of y.entries())D.push(`${O.toString()} -> ${V.toString()}`);y=D}if(!Array.isArray(y))return y.toString();const T=[];for(const D of y)T.push(g.stringify(D,R,E,S,x,{arrayItems:!0,...M}));return g.wrap(T.join(", "),!N&&B.array)},g.constants={true:!0,false:!1,null:null,second:1e3,minute:6e4,hour:36e5,day:864e5},g.functions={if:(y,R,E)=>y?R:E,length:y=>typeof y=="string"?y.length:y&&typeof y=="object"?Array.isArray(y)?y.length:Object.keys(y).length:null,msg(y){const[R,E,S,x,M]=this,j=M.messages;if(!j)return"";const B=p.template(R,j[0],y,E,S)||p.template(R,j[1],y,E,S);return B?B.render(R,E,S,x,M):""},number:y=>typeof y=="number"?y:typeof y=="string"?parseFloat(y):typeof y=="boolean"?y?1:0:y instanceof Date?y.getTime():null}},4946:(o,u,f)=>{const c=f(375),_=f(1687),v=f(8068),w=f(8160),m=f(3292),p=f(6354),b=f(6133),g={};o.exports=v.extend({type:"alternatives",flags:{match:{default:"any"}},terms:{matches:{init:[],register:b.toSibling}},args:(y,...R)=>R.length===1&&Array.isArray(R[0])?y.try(...R[0]):y.try(...R),validate(y,R){const{schema:E,error:S,state:x,prefs:M}=R;if(E._flags.match){const B=[],N=[];for(let D=0;D<E.$_terms.matches.length;++D){const O=E.$_terms.matches[D],V=x.nest(O.schema,`match.${D}`);V.snapshot();const q=O.schema.$_validate(y,V,M);q.errors?(N.push(q.errors),V.restore()):(B.push(q.value),V.commit())}if(B.length===0)return{errors:S("alternatives.any",{details:N.map(D=>p.details(D,{override:!1}))})};if(E._flags.match==="one")return B.length===1?{value:B[0]}:{errors:S("alternatives.one")};if(B.length!==E.$_terms.matches.length)return{errors:S("alternatives.all",{details:N.map(D=>p.details(D,{override:!1}))})};const T=D=>D.$_terms.matches.some(O=>O.schema.type==="object"||O.schema.type==="alternatives"&&T(O.schema));return T(E)?{value:B.reduce((D,O)=>_(D,O,{mergeArrays:!1}))}:{value:B[B.length-1]}}const j=[];for(let B=0;B<E.$_terms.matches.length;++B){const N=E.$_terms.matches[B];if(N.schema){const O=x.nest(N.schema,`match.${B}`);O.snapshot();const V=N.schema.$_validate(y,O,M);if(!V.errors)return O.commit(),V;O.restore(),j.push({schema:N.schema,reports:V.errors});continue}const T=N.ref?N.ref.resolve(y,x,M):y,D=N.is?[N]:N.switch;for(let O=0;O<D.length;++O){const V=D[O],{is:q,then:U,otherwise:he}=V,fe=`match.${B}${N.switch?"."+O:""}`;if(q.$_match(T,x.nest(q,`${fe}.is`),M)){if(U)return U.$_validate(y,x.nest(U,`${fe}.then`),M)}else if(he)return he.$_validate(y,x.nest(he,`${fe}.otherwise`),M)}}return g.errors(j,R)},rules:{conditional:{method(y,R){c(!this._flags._endedSwitch,"Unreachable condition"),c(!this._flags.match,"Cannot combine match mode",this._flags.match,"with conditional rule"),c(R.break===void 0,"Cannot use break option with alternatives conditional");const E=this.clone(),S=m.when(E,y,R),x=S.is?[S]:S.switch;for(const M of x)if(M.then&&M.otherwise){E.$_setFlag("_endedSwitch",!0,{clone:!1});break}return E.$_terms.matches.push(S),E.$_mutateRebuild()}},match:{method(y){if(c(["any","one","all"].includes(y),"Invalid alternatives match mode",y),y!=="any")for(const R of this.$_terms.matches)c(R.schema,"Cannot combine match mode",y,"with conditional rules");return this.$_setFlag("match",y)}},try:{method(...y){c(y.length,"Missing alternative schemas"),w.verifyFlat(y,"try"),c(!this._flags._endedSwitch,"Unreachable condition");const R=this.clone();for(const E of y)R.$_terms.matches.push({schema:R.$_compile(E)});return R.$_mutateRebuild()}}},overrides:{label(y){return this.$_parent("label",y).$_modify({each:(R,E)=>E.path[0]!=="is"&&typeof R._flags.label!="string"?R.label(y):void 0,ref:!1})}},rebuild(y){y.$_modify({each:R=>{w.isSchema(R)&&R.type==="array"&&y.$_setFlag("_arrayItems",!0,{clone:!1})}})},manifest:{build(y,R){if(R.matches)for(const E of R.matches){const{schema:S,ref:x,is:M,not:j,then:B,otherwise:N}=E;y=S?y.try(S):x?y.conditional(x,{is:M,then:B,not:j,otherwise:N,switch:E.switch}):y.conditional(M,{then:B,otherwise:N})}return y}},messages:{"alternatives.all":"{{#label}} does not match all of the required types","alternatives.any":"{{#label}} does not match any of the allowed types","alternatives.match":"{{#label}} does not match any of the allowed types","alternatives.one":"{{#label}} matches more than one allowed type","alternatives.types":"{{#label}} must be one of {{#types}}"}}),g.errors=function(y,{error:R,state:E}){if(!y.length)return{errors:R("alternatives.any")};if(y.length===1)return{errors:y[0].reports};const S=new Set,x=[];for(const{reports:M,schema:j}of y){if(M.length>1)return g.unmatched(y,R);const B=M[0];if(B instanceof p.Report==0)return g.unmatched(y,R);if(B.state.path.length!==E.path.length){x.push({type:j.type,report:B});continue}if(B.code==="any.only"){for(const D of B.local.valids)S.add(D);continue}const[N,T]=B.code.split(".");T!=="base"?x.push({type:j.type,report:B}):B.code==="object.base"?S.add(B.local.type):S.add(N)}return x.length?x.length===1?{errors:x[0].report}:g.unmatched(y,R):{errors:R("alternatives.types",{types:[...S]})}},g.unmatched=function(y,R){const E=[];for(const S of y)E.push(...S.reports);return{errors:R("alternatives.match",p.details(E,{override:!1}))}}},8068:(o,u,f)=>{const c=f(375),_=f(7629),v=f(8160),w=f(6914);o.exports=_.extend({type:"any",flags:{only:{default:!1}},terms:{alterations:{init:null},examples:{init:null},externals:{init:null},metas:{init:[]},notes:{init:[]},shared:{init:null},tags:{init:[]},whens:{init:null}},rules:{custom:{method(m,p){return c(typeof m=="function","Method must be a function"),c(p===void 0||p&&typeof p=="string","Description must be a non-empty string"),this.$_addRule({name:"custom",args:{method:m,description:p}})},validate(m,p,{method:b}){try{return b(m,p)}catch(g){return p.error("any.custom",{error:g})}},args:["method","description"],multi:!0},messages:{method(m){return this.prefs({messages:m})}},shared:{method(m){c(v.isSchema(m)&&m._flags.id,"Schema must be a schema with an id");const p=this.clone();return p.$_terms.shared=p.$_terms.shared||[],p.$_terms.shared.push(m),p.$_mutateRegister(m),p}},warning:{method(m,p){return c(m&&typeof m=="string","Invalid warning code"),this.$_addRule({name:"warning",args:{code:m,local:p},warn:!0})},validate:(m,p,{code:b,local:g})=>p.error(b,g),args:["code","local"],multi:!0}},modifiers:{keep(m,p=!0){m.keep=p},message(m,p){m.message=w.compile(p)},warn(m,p=!0){m.warn=p}},manifest:{build(m,p){for(const b in p){const g=p[b];if(["examples","externals","metas","notes","tags"].includes(b))for(const y of g)m=m[b.slice(0,-1)](y);else if(b!=="alterations")if(b!=="whens"){if(b==="shared")for(const y of g)m=m.shared(y)}else for(const y of g){const{ref:R,is:E,not:S,then:x,otherwise:M,concat:j}=y;m=j?m.concat(j):R?m.when(R,{is:E,not:S,then:x,otherwise:M,switch:y.switch,break:y.break}):m.when(E,{then:x,otherwise:M,break:y.break})}else{const y={};for(const{target:R,adjuster:E}of g)y[R]=E;m=m.alter(y)}}return m}},messages:{"any.custom":"{{#label}} failed custom validation because {{#error.message}}","any.default":"{{#label}} threw an error when running default method","any.failover":"{{#label}} threw an error when running failover method","any.invalid":"{{#label}} contains an invalid value","any.only":'{{#label}} must be {if(#valids.length == 1, "", "one of ")}{{#valids}}',"any.ref":"{{#label}} {{#arg}} references {{:#ref}} which {{#reason}}","any.required":"{{#label}} is required","any.unknown":"{{#label}} is not allowed"}})},546:(o,u,f)=>{const c=f(375),_=f(9474),v=f(9621),w=f(8068),m=f(8160),p=f(3292),b={};o.exports=w.extend({type:"array",flags:{single:{default:!1},sparse:{default:!1}},terms:{items:{init:[],manifest:"schema"},ordered:{init:[],manifest:"schema"},_exclusions:{init:[]},_inclusions:{init:[]},_requireds:{init:[]}},coerce:{from:"object",method(g,{schema:y,state:R,prefs:E}){if(!Array.isArray(g))return;const S=y.$_getRule("sort");return S?b.sort(y,g,S.args.options,R,E):void 0}},validate(g,{schema:y,error:R}){if(!Array.isArray(g)){if(y._flags.single){const E=[g];return E[m.symbols.arraySingle]=!0,{value:E}}return{errors:R("array.base")}}if(y.$_getRule("items")||y.$_terms.externals)return{value:g.slice()}},rules:{has:{method(g){g=this.$_compile(g,{appendPath:!0});const y=this.$_addRule({name:"has",args:{schema:g}});return y.$_mutateRegister(g),y},validate(g,{state:y,prefs:R,error:E},{schema:S}){const x=[g,...y.ancestors];for(let j=0;j<g.length;++j){const B=y.localize([...y.path,j],x,S);if(S.$_match(g[j],B,R))return g}const M=S._flags.label;return M?E("array.hasKnown",{patternLabel:M}):E("array.hasUnknown",null)},multi:!0},items:{method(...g){m.verifyFlat(g,"items");const y=this.$_addRule("items");for(let R=0;R<g.length;++R){const E=m.tryWithPath(()=>this.$_compile(g[R]),R,{append:!0});y.$_terms.items.push(E)}return y.$_mutateRebuild()},validate(g,{schema:y,error:R,state:E,prefs:S,errorsArray:x}){const M=y.$_terms._requireds.slice(),j=y.$_terms.ordered.slice(),B=[...y.$_terms._inclusions,...M],N=!g[m.symbols.arraySingle];delete g[m.symbols.arraySingle];const T=x();let D=g.length;for(let O=0;O<D;++O){const V=g[O];let q=!1,U=!1;const he=N?O:new Number(O),fe=[...E.path,he];if(!y._flags.sparse&&V===void 0){if(T.push(R("array.sparse",{key:he,path:fe,pos:O,value:void 0},E.localize(fe))),S.abortEarly)return T;j.shift();continue}const X=[g,...E.ancestors];for(const $ of y.$_terms._exclusions)if($.$_match(V,E.localize(fe,X,$),S,{presence:"ignore"})){if(T.push(R("array.excludes",{pos:O,value:V},E.localize(fe))),S.abortEarly)return T;q=!0,j.shift();break}if(q)continue;if(y.$_terms.ordered.length){if(j.length){const $=j.shift(),te=$.$_validate(V,E.localize(fe,X,$),S);if(te.errors){if(T.push(...te.errors),S.abortEarly)return T}else if($._flags.result==="strip")b.fastSplice(g,O),--O,--D;else{if(!y._flags.sparse&&te.value===void 0){if(T.push(R("array.sparse",{key:he,path:fe,pos:O,value:void 0},E.localize(fe))),S.abortEarly)return T;continue}g[O]=te.value}continue}if(!y.$_terms.items.length){if(T.push(R("array.orderedLength",{pos:O,limit:y.$_terms.ordered.length})),S.abortEarly)return T;break}}const se=[];let de=M.length;for(let $=0;$<de;++$){const te=E.localize(fe,X,M[$]);te.snapshot();const ue=M[$].$_validate(V,te,S);if(se[$]=ue,!ue.errors){if(te.commit(),g[O]=ue.value,U=!0,b.fastSplice(M,$),--$,--de,!y._flags.sparse&&ue.value===void 0&&(T.push(R("array.sparse",{key:he,path:fe,pos:O,value:void 0},E.localize(fe))),S.abortEarly))return T;break}te.restore()}if(U)continue;const Se=S.stripUnknown&&!!S.stripUnknown.arrays||!1;de=B.length;for(const $ of B){let te;const ue=M.indexOf($);if(ue!==-1)te=se[ue];else{const oe=E.localize(fe,X,$);if(oe.snapshot(),te=$.$_validate(V,oe,S),!te.errors){oe.commit(),$._flags.result==="strip"?(b.fastSplice(g,O),--O,--D):y._flags.sparse||te.value!==void 0?g[O]=te.value:(T.push(R("array.sparse",{key:he,path:fe,pos:O,value:void 0},E.localize(fe))),q=!0),U=!0;break}oe.restore()}if(de===1){if(Se){b.fastSplice(g,O),--O,--D,U=!0;break}if(T.push(...te.errors),S.abortEarly)return T;q=!0;break}}if(!q&&(y.$_terms._inclusions.length||y.$_terms._requireds.length)&&!U){if(Se){b.fastSplice(g,O),--O,--D;continue}if(T.push(R("array.includes",{pos:O,value:V},E.localize(fe))),S.abortEarly)return T}}return M.length&&b.fillMissedErrors(y,T,M,g,E,S),j.length&&(b.fillOrderedErrors(y,T,j,g,E,S),T.length||b.fillDefault(j,g,E,S)),T.length?T:g},priority:!0,manifest:!1},length:{method(g){return this.$_addRule({name:"length",args:{limit:g},operator:"="})},validate:(g,y,{limit:R},{name:E,operator:S,args:x})=>m.compare(g.length,R,S)?g:y.error("array."+E,{limit:x.limit,value:g}),args:[{name:"limit",ref:!0,assert:m.limit,message:"must be a positive integer"}]},max:{method(g){return this.$_addRule({name:"max",method:"length",args:{limit:g},operator:"<="})}},min:{method(g){return this.$_addRule({name:"min",method:"length",args:{limit:g},operator:">="})}},ordered:{method(...g){m.verifyFlat(g,"ordered");const y=this.$_addRule("items");for(let R=0;R<g.length;++R){const E=m.tryWithPath(()=>this.$_compile(g[R]),R,{append:!0});b.validateSingle(E,y),y.$_mutateRegister(E),y.$_terms.ordered.push(E)}return y.$_mutateRebuild()}},single:{method(g){const y=g===void 0||!!g;return c(!y||!this._flags._arrayItems,"Cannot specify single rule when array has array items"),this.$_setFlag("single",y)}},sort:{method(g={}){m.assertOptions(g,["by","order"]);const y={order:g.order||"ascending"};return g.by&&(y.by=p.ref(g.by,{ancestor:0}),c(!y.by.ancestor,"Cannot sort by ancestor")),this.$_addRule({name:"sort",args:{options:y}})},validate(g,{error:y,state:R,prefs:E,schema:S},{options:x}){const{value:M,errors:j}=b.sort(S,g,x,R,E);if(j)return j;for(let B=0;B<g.length;++B)if(g[B]!==M[B])return y("array.sort",{order:x.order,by:x.by?x.by.key:"value"});return g},convert:!0},sparse:{method(g){const y=g===void 0||!!g;return this._flags.sparse===y?this:(y?this.clone():this.$_addRule("items")).$_setFlag("sparse",y,{clone:!1})}},unique:{method(g,y={}){c(!g||typeof g=="function"||typeof g=="string","comparator must be a function or a string"),m.assertOptions(y,["ignoreUndefined","separator"]);const R={name:"unique",args:{options:y,comparator:g}};if(g)if(typeof g=="string"){const E=m.default(y.separator,".");R.path=E?g.split(E):[g]}else R.comparator=g;return this.$_addRule(R)},validate(g,{state:y,error:R,schema:E},{comparator:S,options:x},{comparator:M,path:j}){const B={string:Object.create(null),number:Object.create(null),undefined:Object.create(null),boolean:Object.create(null),bigint:Object.create(null),object:new Map,function:new Map,custom:new Map},N=M||_,T=x.ignoreUndefined;for(let D=0;D<g.length;++D){const O=j?v(g[D],j):g[D],V=M?B.custom:B[typeof O];if(c(V,"Failed to find unique map container for type",typeof O),V instanceof Map){const q=V.entries();let U;for(;!(U=q.next()).done;)if(N(U.value[0],O)){const he=y.localize([...y.path,D],[g,...y.ancestors]),fe={pos:D,value:g[D],dupePos:U.value[1],dupeValue:g[U.value[1]]};return j&&(fe.path=S),R("array.unique",fe,he)}V.set(O,D)}else{if((!T||O!==void 0)&&V[O]!==void 0){const q={pos:D,value:g[D],dupePos:V[O],dupeValue:g[V[O]]};return j&&(q.path=S),R("array.unique",q,y.localize([...y.path,D],[g,...y.ancestors]))}V[O]=D}}return g},args:["comparator","options"],multi:!0}},cast:{set:{from:Array.isArray,to:(g,y)=>new Set(g)}},rebuild(g){g.$_terms._inclusions=[],g.$_terms._exclusions=[],g.$_terms._requireds=[];for(const y of g.$_terms.items)b.validateSingle(y,g),y._flags.presence==="required"?g.$_terms._requireds.push(y):y._flags.presence==="forbidden"?g.$_terms._exclusions.push(y):g.$_terms._inclusions.push(y);for(const y of g.$_terms.ordered)b.validateSingle(y,g)},manifest:{build:(g,y)=>(y.items&&(g=g.items(...y.items)),y.ordered&&(g=g.ordered(...y.ordered)),g)},messages:{"array.base":"{{#label}} must be an array","array.excludes":"{{#label}} contains an excluded value","array.hasKnown":"{{#label}} does not contain at least one required match for type {:#patternLabel}","array.hasUnknown":"{{#label}} does not contain at least one required match","array.includes":"{{#label}} does not match any of the allowed types","array.includesRequiredBoth":"{{#label}} does not contain {{#knownMisses}} and {{#unknownMisses}} other required value(s)","array.includesRequiredKnowns":"{{#label}} does not contain {{#knownMisses}}","array.includesRequiredUnknowns":"{{#label}} does not contain {{#unknownMisses}} required value(s)","array.length":"{{#label}} must contain {{#limit}} items","array.max":"{{#label}} must contain less than or equal to {{#limit}} items","array.min":"{{#label}} must contain at least {{#limit}} items","array.orderedLength":"{{#label}} must contain at most {{#limit}} items","array.sort":"{{#label}} must be sorted in {#order} order by {{#by}}","array.sort.mismatching":"{{#label}} cannot be sorted due to mismatching types","array.sort.unsupported":"{{#label}} cannot be sorted due to unsupported type {#type}","array.sparse":"{{#label}} must not be a sparse array item","array.unique":"{{#label}} contains a duplicate value"}}),b.fillMissedErrors=function(g,y,R,E,S,x){const M=[];let j=0;for(const B of R){const N=B._flags.label;N?M.push(N):++j}M.length?j?y.push(g.$_createError("array.includesRequiredBoth",E,{knownMisses:M,unknownMisses:j},S,x)):y.push(g.$_createError("array.includesRequiredKnowns",E,{knownMisses:M},S,x)):y.push(g.$_createError("array.includesRequiredUnknowns",E,{unknownMisses:j},S,x))},b.fillOrderedErrors=function(g,y,R,E,S,x){const M=[];for(const j of R)j._flags.presence==="required"&&M.push(j);M.length&&b.fillMissedErrors(g,y,M,E,S,x)},b.fillDefault=function(g,y,R,E){const S=[];let x=!0;for(let M=g.length-1;M>=0;--M){const j=g[M],B=[y,...R.ancestors],N=j.$_validate(void 0,R.localize(R.path,B,j),E).value;if(x){if(N===void 0)continue;x=!1}S.unshift(N)}S.length&&y.push(...S)},b.fastSplice=function(g,y){let R=y;for(;R<g.length;)g[R++]=g[R];--g.length},b.validateSingle=function(g,y){(g.type==="array"||g._flags._arrayItems)&&(c(!y._flags.single,"Cannot specify array item with single rule enabled"),y.$_setFlag("_arrayItems",!0,{clone:!1}))},b.sort=function(g,y,R,E,S){const x=R.order==="ascending"?1:-1,M=-1*x,j=x,B=(N,T)=>{let D=b.compare(N,T,M,j);if(D!==null||(R.by&&(N=R.by.resolve(N,E,S),T=R.by.resolve(T,E,S)),D=b.compare(N,T,M,j),D!==null))return D;const O=typeof N;if(O!==typeof T)throw g.$_createError("array.sort.mismatching",y,null,E,S);if(O!=="number"&&O!=="string")throw g.$_createError("array.sort.unsupported",y,{type:O},E,S);return O==="number"?(N-T)*x:N<T?M:j};try{return{value:y.slice().sort(B)}}catch(N){return{errors:N}}},b.compare=function(g,y,R,E){return g===y?0:g===void 0?1:y===void 0?-1:g===null?E:y===null?R:null}},4937:(o,u,f)=>{const c=f(375),_=f(8068),v=f(8160),w=f(2036),m={isBool:function(p){return typeof p=="boolean"}};o.exports=_.extend({type:"boolean",flags:{sensitive:{default:!1}},terms:{falsy:{init:null,manifest:"values"},truthy:{init:null,manifest:"values"}},coerce(p,{schema:b}){if(typeof p!="boolean"){if(typeof p=="string"){const g=b._flags.sensitive?p:p.toLowerCase();p=g==="true"||g!=="false"&&p}return typeof p!="boolean"&&(p=b.$_terms.truthy&&b.$_terms.truthy.has(p,null,null,!b._flags.sensitive)||(!b.$_terms.falsy||!b.$_terms.falsy.has(p,null,null,!b._flags.sensitive))&&p),{value:p}}},validate(p,{error:b}){if(typeof p!="boolean")return{value:p,errors:b("boolean.base")}},rules:{truthy:{method(...p){v.verifyFlat(p,"truthy");const b=this.clone();b.$_terms.truthy=b.$_terms.truthy||new w;for(let g=0;g<p.length;++g){const y=p[g];c(y!==void 0,"Cannot call truthy with undefined"),b.$_terms.truthy.add(y)}return b}},falsy:{method(...p){v.verifyFlat(p,"falsy");const b=this.clone();b.$_terms.falsy=b.$_terms.falsy||new w;for(let g=0;g<p.length;++g){const y=p[g];c(y!==void 0,"Cannot call falsy with undefined"),b.$_terms.falsy.add(y)}return b}},sensitive:{method(p=!0){return this.$_setFlag("sensitive",p)}}},cast:{number:{from:m.isBool,to:(p,b)=>p?1:0},string:{from:m.isBool,to:(p,b)=>p?"true":"false"}},manifest:{build:(p,b)=>(b.truthy&&(p=p.truthy(...b.truthy)),b.falsy&&(p=p.falsy(...b.falsy)),p)},messages:{"boolean.base":"{{#label}} must be a boolean"}})},7500:(o,u,f)=>{const c=f(375),_=f(8068),v=f(8160),w=f(3328),m={isDate:function(p){return p instanceof Date}};o.exports=_.extend({type:"date",coerce:{from:["number","string"],method:(p,{schema:b})=>({value:m.parse(p,b._flags.format)||p})},validate(p,{schema:b,error:g,prefs:y}){if(p instanceof Date&&!isNaN(p.getTime()))return;const R=b._flags.format;return y.convert&&R&&typeof p=="string"?{value:p,errors:g("date.format",{format:R})}:{value:p,errors:g("date.base")}},rules:{compare:{method:!1,validate(p,b,{date:g},{name:y,operator:R,args:E}){const S=g==="now"?Date.now():g.getTime();return v.compare(p.getTime(),S,R)?p:b.error("date."+y,{limit:E.date,value:p})},args:[{name:"date",ref:!0,normalize:p=>p==="now"?p:m.parse(p),assert:p=>p!==null,message:"must have a valid date format"}]},format:{method(p){return c(["iso","javascript","unix"].includes(p),"Unknown date format",p),this.$_setFlag("format",p)}},greater:{method(p){return this.$_addRule({name:"greater",method:"compare",args:{date:p},operator:">"})}},iso:{method(){return this.format("iso")}},less:{method(p){return this.$_addRule({name:"less",method:"compare",args:{date:p},operator:"<"})}},max:{method(p){return this.$_addRule({name:"max",method:"compare",args:{date:p},operator:"<="})}},min:{method(p){return this.$_addRule({name:"min",method:"compare",args:{date:p},operator:">="})}},timestamp:{method(p="javascript"){return c(["javascript","unix"].includes(p),'"type" must be one of "javascript, unix"'),this.format(p)}}},cast:{number:{from:m.isDate,to:(p,b)=>p.getTime()},string:{from:m.isDate,to:(p,{prefs:b})=>w.date(p,b)}},messages:{"date.base":"{{#label}} must be a valid date","date.format":'{{#label}} must be in {msg("date.format." + #format) || #format} format',"date.greater":"{{#label}} must be greater than {{:#limit}}","date.less":"{{#label}} must be less than {{:#limit}}","date.max":"{{#label}} must be less than or equal to {{:#limit}}","date.min":"{{#label}} must be greater than or equal to {{:#limit}}","date.format.iso":"ISO 8601 date","date.format.javascript":"timestamp or number of milliseconds","date.format.unix":"timestamp or number of seconds"}}),m.parse=function(p,b){if(p instanceof Date)return p;if(typeof p!="string"&&(isNaN(p)||!isFinite(p))||/^\s*$/.test(p))return null;if(b==="iso")return v.isIsoDate(p)?m.date(p.toString()):null;const g=p;if(typeof p=="string"&&/^[+-]?\d+(\.\d+)?$/.test(p)&&(p=parseFloat(p)),b){if(b==="javascript")return m.date(1*p);if(b==="unix")return m.date(1e3*p);if(typeof g=="string")return null}return m.date(p)},m.date=function(p){const b=new Date(p);return isNaN(b.getTime())?null:b}},390:(o,u,f)=>{const c=f(375),_=f(7824);o.exports=_.extend({type:"function",properties:{typeof:"function"},rules:{arity:{method(v){return c(Number.isSafeInteger(v)&&v>=0,"n must be a positive integer"),this.$_addRule({name:"arity",args:{n:v}})},validate:(v,w,{n:m})=>v.length===m?v:w.error("function.arity",{n:m})},class:{method(){return this.$_addRule("class")},validate:(v,w)=>/^\s*class\s/.test(v.toString())?v:w.error("function.class",{value:v})},minArity:{method(v){return c(Number.isSafeInteger(v)&&v>0,"n must be a strict positive integer"),this.$_addRule({name:"minArity",args:{n:v}})},validate:(v,w,{n:m})=>v.length>=m?v:w.error("function.minArity",{n:m})},maxArity:{method(v){return c(Number.isSafeInteger(v)&&v>=0,"n must be a positive integer"),this.$_addRule({name:"maxArity",args:{n:v}})},validate:(v,w,{n:m})=>v.length<=m?v:w.error("function.maxArity",{n:m})}},messages:{"function.arity":"{{#label}} must have an arity of {{#n}}","function.class":"{{#label}} must be a class","function.maxArity":"{{#label}} must have an arity lesser or equal to {{#n}}","function.minArity":"{{#label}} must have an arity greater or equal to {{#n}}"}})},7824:(o,u,f)=>{const c=f(978),_=f(375),v=f(8571),w=f(3652),m=f(8068),p=f(8160),b=f(3292),g=f(6354),y=f(6133),R=f(3328),E={renameDefaults:{alias:!1,multiple:!1,override:!1}};o.exports=m.extend({type:"_keys",properties:{typeof:"object"},flags:{unknown:{default:void 0}},terms:{dependencies:{init:null},keys:{init:null,manifest:{mapped:{from:"schema",to:"key"}}},patterns:{init:null},renames:{init:null}},args:(S,x)=>S.keys(x),validate(S,{schema:x,error:M,state:j,prefs:B}){if(!S||typeof S!==x.$_property("typeof")||Array.isArray(S))return{value:S,errors:M("object.base",{type:x.$_property("typeof")})};if(!(x.$_terms.renames||x.$_terms.dependencies||x.$_terms.keys||x.$_terms.patterns||x.$_terms.externals))return;S=E.clone(S,B);const N=[];if(x.$_terms.renames&&!E.rename(x,S,j,B,N))return{value:S,errors:N};if(!x.$_terms.keys&&!x.$_terms.patterns&&!x.$_terms.dependencies)return{value:S,errors:N};const T=new Set(Object.keys(S));if(x.$_terms.keys){const D=[S,...j.ancestors];for(const O of x.$_terms.keys){const V=O.key,q=S[V];T.delete(V);const U=j.localize([...j.path,V],D,O),he=O.schema.$_validate(q,U,B);if(he.errors){if(B.abortEarly)return{value:S,errors:he.errors};he.value!==void 0&&(S[V]=he.value),N.push(...he.errors)}else O.schema._flags.result==="strip"||he.value===void 0&&q!==void 0?delete S[V]:he.value!==void 0&&(S[V]=he.value)}}if(T.size||x._flags._hasPatternMatch){const D=E.unknown(x,S,T,N,j,B);if(D)return D}if(x.$_terms.dependencies)for(const D of x.$_terms.dependencies){if(D.key!==null&&E.isPresent(D.options)(D.key.resolve(S,j,B,null,{shadow:!1}))===!1)continue;const O=E.dependencies[D.rel](x,D,S,j,B);if(O){const V=x.$_createError(O.code,S,O.context,j,B);if(B.abortEarly)return{value:S,errors:V};N.push(V)}}return{value:S,errors:N}},rules:{and:{method(...S){return p.verifyFlat(S,"and"),E.dependency(this,"and",null,S)}},append:{method(S){return S==null||Object.keys(S).length===0?this:this.keys(S)}},assert:{method(S,x,M){R.isTemplate(S)||(S=b.ref(S)),_(M===void 0||typeof M=="string","Message must be a string"),x=this.$_compile(x,{appendPath:!0});const j=this.$_addRule({name:"assert",args:{subject:S,schema:x,message:M}});return j.$_mutateRegister(S),j.$_mutateRegister(x),j},validate(S,{error:x,prefs:M,state:j},{subject:B,schema:N,message:T}){const D=B.resolve(S,j,M),O=y.isRef(B)?B.absolute(j):[];return N.$_match(D,j.localize(O,[S,...j.ancestors],N),M)?S:x("object.assert",{subject:B,message:T})},args:["subject","schema","message"],multi:!0},instance:{method(S,x){return _(typeof S=="function","constructor must be a function"),x=x||S.name,this.$_addRule({name:"instance",args:{constructor:S,name:x}})},validate:(S,x,{constructor:M,name:j})=>S instanceof M?S:x.error("object.instance",{type:j,value:S}),args:["constructor","name"]},keys:{method(S){_(S===void 0||typeof S=="object","Object schema must be a valid object"),_(!p.isSchema(S),"Object schema cannot be a joi schema");const x=this.clone();if(S)if(Object.keys(S).length){x.$_terms.keys=x.$_terms.keys?x.$_terms.keys.filter(M=>!S.hasOwnProperty(M.key)):new E.Keys;for(const M in S)p.tryWithPath(()=>x.$_terms.keys.push({key:M,schema:this.$_compile(S[M])}),M)}else x.$_terms.keys=new E.Keys;else x.$_terms.keys=null;return x.$_mutateRebuild()}},length:{method(S){return this.$_addRule({name:"length",args:{limit:S},operator:"="})},validate:(S,x,{limit:M},{name:j,operator:B,args:N})=>p.compare(Object.keys(S).length,M,B)?S:x.error("object."+j,{limit:N.limit,value:S}),args:[{name:"limit",ref:!0,assert:p.limit,message:"must be a positive integer"}]},max:{method(S){return this.$_addRule({name:"max",method:"length",args:{limit:S},operator:"<="})}},min:{method(S){return this.$_addRule({name:"min",method:"length",args:{limit:S},operator:">="})}},nand:{method(...S){return p.verifyFlat(S,"nand"),E.dependency(this,"nand",null,S)}},or:{method(...S){return p.verifyFlat(S,"or"),E.dependency(this,"or",null,S)}},oxor:{method(...S){return E.dependency(this,"oxor",null,S)}},pattern:{method(S,x,M={}){const j=S instanceof RegExp;j||(S=this.$_compile(S,{appendPath:!0})),_(x!==void 0,"Invalid rule"),p.assertOptions(M,["fallthrough","matches"]),j&&_(!S.flags.includes("g")&&!S.flags.includes("y"),"pattern should not use global or sticky mode"),x=this.$_compile(x,{appendPath:!0});const B=this.clone();B.$_terms.patterns=B.$_terms.patterns||[];const N={[j?"regex":"schema"]:S,rule:x};return M.matches&&(N.matches=this.$_compile(M.matches),N.matches.type!=="array"&&(N.matches=N.matches.$_root.array().items(N.matches)),B.$_mutateRegister(N.matches),B.$_setFlag("_hasPatternMatch",!0,{clone:!1})),M.fallthrough&&(N.fallthrough=!0),B.$_terms.patterns.push(N),B.$_mutateRegister(x),B}},ref:{method(){return this.$_addRule("ref")},validate:(S,x)=>y.isRef(S)?S:x.error("object.refType",{value:S})},regex:{method(){return this.$_addRule("regex")},validate:(S,x)=>S instanceof RegExp?S:x.error("object.regex",{value:S})},rename:{method(S,x,M={}){_(typeof S=="string"||S instanceof RegExp,"Rename missing the from argument"),_(typeof x=="string"||x instanceof R,"Invalid rename to argument"),_(x!==S,"Cannot rename key to same name:",S),p.assertOptions(M,["alias","ignoreUndefined","override","multiple"]);const j=this.clone();j.$_terms.renames=j.$_terms.renames||[];for(const B of j.$_terms.renames)_(B.from!==S,"Cannot rename the same key multiple times");return x instanceof R&&j.$_mutateRegister(x),j.$_terms.renames.push({from:S,to:x,options:c(E.renameDefaults,M)}),j}},schema:{method(S="any"){return this.$_addRule({name:"schema",args:{type:S}})},validate:(S,x,{type:M})=>!p.isSchema(S)||M!=="any"&&S.type!==M?x.error("object.schema",{type:M}):S},unknown:{method(S){return this.$_setFlag("unknown",S!==!1)}},with:{method(S,x,M={}){return E.dependency(this,"with",S,x,M)}},without:{method(S,x,M={}){return E.dependency(this,"without",S,x,M)}},xor:{method(...S){return p.verifyFlat(S,"xor"),E.dependency(this,"xor",null,S)}}},overrides:{default(S,x){return S===void 0&&(S=p.symbols.deepDefault),this.$_parent("default",S,x)}},rebuild(S){if(S.$_terms.keys){const x=new w.Sorter;for(const M of S.$_terms.keys)p.tryWithPath(()=>x.add(M,{after:M.schema.$_rootReferences(),group:M.key}),M.key);S.$_terms.keys=new E.Keys(...x.nodes)}},manifest:{build(S,x){if(x.keys&&(S=S.keys(x.keys)),x.dependencies)for(const{rel:M,key:j=null,peers:B,options:N}of x.dependencies)S=E.dependency(S,M,j,B,N);if(x.patterns)for(const{regex:M,schema:j,rule:B,fallthrough:N,matches:T}of x.patterns)S=S.pattern(M||j,B,{fallthrough:N,matches:T});if(x.renames)for(const{from:M,to:j,options:B}of x.renames)S=S.rename(M,j,B);return S}},messages:{"object.and":"{{#label}} contains {{#presentWithLabels}} without its required peers {{#missingWithLabels}}","object.assert":'{{#label}} is invalid because {if(#subject.key, `"` + #subject.key + `" failed to ` + (#message || "pass the assertion test"), #message || "the assertion failed")}',"object.base":"{{#label}} must be of type {{#type}}","object.instance":"{{#label}} must be an instance of {{:#type}}","object.length":'{{#label}} must have {{#limit}} key{if(#limit == 1, "", "s")}',"object.max":'{{#label}} must have less than or equal to {{#limit}} key{if(#limit == 1, "", "s")}',"object.min":'{{#label}} must have at least {{#limit}} key{if(#limit == 1, "", "s")}',"object.missing":"{{#label}} must contain at least one of {{#peersWithLabels}}","object.nand":"{{:#mainWithLabel}} must not exist simultaneously with {{#peersWithLabels}}","object.oxor":"{{#label}} contains a conflict between optional exclusive peers {{#peersWithLabels}}","object.pattern.match":"{{#label}} keys failed to match pattern requirements","object.refType":"{{#label}} must be a Joi reference","object.regex":"{{#label}} must be a RegExp object","object.rename.multiple":"{{#label}} cannot rename {{:#from}} because multiple renames are disabled and another key was already renamed to {{:#to}}","object.rename.override":"{{#label}} cannot rename {{:#from}} because override is disabled and target {{:#to}} exists","object.schema":"{{#label}} must be a Joi schema of {{#type}} type","object.unknown":"{{#label}} is not allowed","object.with":"{{:#mainWithLabel}} missing required peer {{:#peerWithLabel}}","object.without":"{{:#mainWithLabel}} conflict with forbidden peer {{:#peerWithLabel}}","object.xor":"{{#label}} contains a conflict between exclusive peers {{#peersWithLabels}}"}}),E.clone=function(S,x){if(typeof S=="object"){if(x.nonEnumerables)return v(S,{shallow:!0});const j=Object.create(Object.getPrototypeOf(S));return Object.assign(j,S),j}const M=function(...j){return S.apply(this,j)};return M.prototype=v(S.prototype),Object.defineProperty(M,"name",{value:S.name,writable:!1}),Object.defineProperty(M,"length",{value:S.length,writable:!1}),Object.assign(M,S),M},E.dependency=function(S,x,M,j,B){_(M===null||typeof M=="string",x,"key must be a strings"),B||(B=j.length>1&&typeof j[j.length-1]=="object"?j.pop():{}),p.assertOptions(B,["separator","isPresent"]),j=[].concat(j);const N=p.default(B.separator,"."),T=[];for(const O of j)_(typeof O=="string",x,"peers must be strings"),T.push(b.ref(O,{separator:N,ancestor:0,prefix:!1}));M!==null&&(M=b.ref(M,{separator:N,ancestor:0,prefix:!1}));const D=S.clone();return D.$_terms.dependencies=D.$_terms.dependencies||[],D.$_terms.dependencies.push(new E.Dependency(x,M,T,j,B)),D},E.dependencies={and(S,x,M,j,B){const N=[],T=[],D=x.peers.length,O=E.isPresent(x.options);for(const V of x.peers)O(V.resolve(M,j,B,null,{shadow:!1}))===!1?N.push(V.key):T.push(V.key);if(N.length!==D&&T.length!==D)return{code:"object.and",context:{present:T,presentWithLabels:E.keysToLabels(S,T),missing:N,missingWithLabels:E.keysToLabels(S,N)}}},nand(S,x,M,j,B){const N=[],T=E.isPresent(x.options);for(const V of x.peers)T(V.resolve(M,j,B,null,{shadow:!1}))&&N.push(V.key);if(N.length!==x.peers.length)return;const D=x.paths[0],O=x.paths.slice(1);return{code:"object.nand",context:{main:D,mainWithLabel:E.keysToLabels(S,D),peers:O,peersWithLabels:E.keysToLabels(S,O)}}},or(S,x,M,j,B){const N=E.isPresent(x.options);for(const T of x.peers)if(N(T.resolve(M,j,B,null,{shadow:!1})))return;return{code:"object.missing",context:{peers:x.paths,peersWithLabels:E.keysToLabels(S,x.paths)}}},oxor(S,x,M,j,B){const N=[],T=E.isPresent(x.options);for(const O of x.peers)T(O.resolve(M,j,B,null,{shadow:!1}))&&N.push(O.key);if(!N.length||N.length===1)return;const D={peers:x.paths,peersWithLabels:E.keysToLabels(S,x.paths)};return D.present=N,D.presentWithLabels=E.keysToLabels(S,N),{code:"object.oxor",context:D}},with(S,x,M,j,B){const N=E.isPresent(x.options);for(const T of x.peers)if(N(T.resolve(M,j,B,null,{shadow:!1}))===!1)return{code:"object.with",context:{main:x.key.key,mainWithLabel:E.keysToLabels(S,x.key.key),peer:T.key,peerWithLabel:E.keysToLabels(S,T.key)}}},without(S,x,M,j,B){const N=E.isPresent(x.options);for(const T of x.peers)if(N(T.resolve(M,j,B,null,{shadow:!1})))return{code:"object.without",context:{main:x.key.key,mainWithLabel:E.keysToLabels(S,x.key.key),peer:T.key,peerWithLabel:E.keysToLabels(S,T.key)}}},xor(S,x,M,j,B){const N=[],T=E.isPresent(x.options);for(const O of x.peers)T(O.resolve(M,j,B,null,{shadow:!1}))&&N.push(O.key);if(N.length===1)return;const D={peers:x.paths,peersWithLabels:E.keysToLabels(S,x.paths)};return N.length===0?{code:"object.missing",context:D}:(D.present=N,D.presentWithLabels=E.keysToLabels(S,N),{code:"object.xor",context:D})}},E.keysToLabels=function(S,x){return Array.isArray(x)?x.map(M=>S.$_mapLabels(M)):S.$_mapLabels(x)},E.isPresent=function(S){return typeof S.isPresent=="function"?S.isPresent:x=>x!==void 0},E.rename=function(S,x,M,j,B){const N={};for(const T of S.$_terms.renames){const D=[],O=typeof T.from!="string";if(O)for(const V in x){if(x[V]===void 0&&T.options.ignoreUndefined||V===T.to)continue;const q=T.from.exec(V);q&&D.push({from:V,to:T.to,match:q})}else!Object.prototype.hasOwnProperty.call(x,T.from)||x[T.from]===void 0&&T.options.ignoreUndefined||D.push(T);for(const V of D){const q=V.from;let U=V.to;if(U instanceof R&&(U=U.render(x,M,j,V.match)),q!==U){if(!T.options.multiple&&N[U]&&(B.push(S.$_createError("object.rename.multiple",x,{from:q,to:U,pattern:O},M,j)),j.abortEarly)||Object.prototype.hasOwnProperty.call(x,U)&&!T.options.override&&!N[U]&&(B.push(S.$_createError("object.rename.override",x,{from:q,to:U,pattern:O},M,j)),j.abortEarly))return!1;x[q]===void 0?delete x[U]:x[U]=x[q],N[U]=!0,T.options.alias||delete x[q]}}}return!0},E.unknown=function(S,x,M,j,B,N){if(S.$_terms.patterns){let T=!1;const D=S.$_terms.patterns.map(V=>{if(V.matches)return T=!0,[]}),O=[x,...B.ancestors];for(const V of M){const q=x[V],U=[...B.path,V];for(let he=0;he<S.$_terms.patterns.length;++he){const fe=S.$_terms.patterns[he];if(fe.regex){const de=fe.regex.test(V);if(B.mainstay.tracer.debug(B,"rule",`pattern.${he}`,de?"pass":"error"),!de)continue}else if(!fe.schema.$_match(V,B.nest(fe.schema,`pattern.${he}`),N))continue;M.delete(V);const X=B.localize(U,O,{schema:fe.rule,key:V}),se=fe.rule.$_validate(q,X,N);if(se.errors){if(N.abortEarly)return{value:x,errors:se.errors};j.push(...se.errors)}if(fe.matches&&D[he].push(V),x[V]=se.value,!fe.fallthrough)break}}if(T)for(let V=0;V<D.length;++V){const q=D[V];if(!q)continue;const U=S.$_terms.patterns[V].matches,he=B.localize(B.path,O,U),fe=U.$_validate(q,he,N);if(fe.errors){const X=g.details(fe.errors,{override:!1});X.matches=q;const se=S.$_createError("object.pattern.match",x,X,B,N);if(N.abortEarly)return{value:x,errors:se};j.push(se)}}}if(M.size&&(S.$_terms.keys||S.$_terms.patterns)){if(N.stripUnknown&&S._flags.unknown===void 0||N.skipFunctions){const T=!(!N.stripUnknown||N.stripUnknown!==!0&&!N.stripUnknown.objects);for(const D of M)T?(delete x[D],M.delete(D)):typeof x[D]=="function"&&M.delete(D)}if(!p.default(S._flags.unknown,N.allowUnknown))for(const T of M){const D=B.localize([...B.path,T],[]),O=S.$_createError("object.unknown",x[T],{child:T},D,N,{flags:!1});if(N.abortEarly)return{value:x,errors:O};j.push(O)}}},E.Dependency=class{constructor(S,x,M,j,B){this.rel=S,this.key=x,this.peers=M,this.paths=j,this.options=B}describe(){const S={rel:this.rel,peers:this.paths};return this.key!==null&&(S.key=this.key.key),this.peers[0].separator!=="."&&(S.options={...S.options,separator:this.peers[0].separator}),this.options.isPresent&&(S.options={...S.options,isPresent:this.options.isPresent}),S}},E.Keys=class extends Array{concat(S){const x=this.slice(),M=new Map;for(let j=0;j<x.length;++j)M.set(x[j].key,j);for(const j of S){const B=j.key,N=M.get(B);N!==void 0?x[N]={key:B,schema:x[N].schema.concat(j.schema)}:x.push(j)}return x}}},8785:(o,u,f)=>{const c=f(375),_=f(8068),v=f(8160),w=f(3292),m=f(6354),p={};o.exports=_.extend({type:"link",properties:{schemaChain:!0},terms:{link:{init:null,manifest:"single",register:!1}},args:(b,g)=>b.ref(g),validate(b,{schema:g,state:y,prefs:R}){c(g.$_terms.link,"Uninitialized link schema");const E=p.generate(g,b,y,R),S=g.$_terms.link[0].ref;return E.$_validate(b,y.nest(E,`link:${S.display}:${E.type}`),R)},generate:(b,g,y,R)=>p.generate(b,g,y,R),rules:{ref:{method(b){c(!this.$_terms.link,"Cannot reinitialize schema"),b=w.ref(b),c(b.type==="value"||b.type==="local","Invalid reference type:",b.type),c(b.type==="local"||b.ancestor==="root"||b.ancestor>0,"Link cannot reference itself");const g=this.clone();return g.$_terms.link=[{ref:b}],g}},relative:{method(b=!0){return this.$_setFlag("relative",b)}}},overrides:{concat(b){c(this.$_terms.link,"Uninitialized link schema"),c(v.isSchema(b),"Invalid schema object"),c(b.type!=="link","Cannot merge type link with another link");const g=this.clone();return g.$_terms.whens||(g.$_terms.whens=[]),g.$_terms.whens.push({concat:b}),g.$_mutateRebuild()}},manifest:{build:(b,g)=>(c(g.link,"Invalid link description missing link"),b.ref(g.link))}}),p.generate=function(b,g,y,R){let E=y.mainstay.links.get(b);if(E)return E._generate(g,y,R).schema;const S=b.$_terms.link[0].ref,{perspective:x,path:M}=p.perspective(S,y);p.assert(x,"which is outside of schema boundaries",S,b,y,R);try{E=M.length?x.$_reach(M):x}catch{p.assert(!1,"to non-existing schema",S,b,y,R)}return p.assert(E.type!=="link","which is another link",S,b,y,R),b._flags.relative||y.mainstay.links.set(b,E),E._generate(g,y,R).schema},p.perspective=function(b,g){if(b.type==="local"){for(const{schema:y,key:R}of g.schemas){if((y._flags.id||R)===b.path[0])return{perspective:y,path:b.path.slice(1)};if(y.$_terms.shared){for(const E of y.$_terms.shared)if(E._flags.id===b.path[0])return{perspective:E,path:b.path.slice(1)}}}return{perspective:null,path:null}}return b.ancestor==="root"?{perspective:g.schemas[g.schemas.length-1].schema,path:b.path}:{perspective:g.schemas[b.ancestor]&&g.schemas[b.ancestor].schema,path:b.path}},p.assert=function(b,g,y,R,E,S){b||c(!1,`"${m.label(R._flags,E,S)}" contains link reference "${y.display}" ${g}`)}},3832:(o,u,f)=>{const c=f(375),_=f(8068),v=f(8160),w={numberRx:/^\s*[+-]?(?:(?:\d+(?:\.\d*)?)|(?:\.\d+))(?:e([+-]?\d+))?\s*$/i,precisionRx:/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/,exponentialPartRegex:/[eE][+-]?\d+$/,leadingSignAndZerosRegex:/^[+-]?(0*)?/,dotRegex:/\./,trailingZerosRegex:/0+$/,decimalPlaces(m){const p=m.toString(),b=p.indexOf("."),g=p.indexOf("e");return(b<0?0:(g<0?p.length:g)-b-1)+(g<0?0:Math.max(0,-parseInt(p.slice(g+1))))}};o.exports=_.extend({type:"number",flags:{unsafe:{default:!1}},coerce:{from:"string",method(m,{schema:p,error:b}){if(!m.match(w.numberRx))return;m=m.trim();const g={value:parseFloat(m)};if(g.value===0&&(g.value=0),!p._flags.unsafe)if(m.match(/e/i)){if(w.extractSignificantDigits(m)!==w.extractSignificantDigits(String(g.value)))return g.errors=b("number.unsafe"),g}else{const y=g.value.toString();if(y.match(/e/i))return g;if(y!==w.normalizeDecimal(m))return g.errors=b("number.unsafe"),g}return g}},validate(m,{schema:p,error:b,prefs:g}){if(m===1/0||m===-1/0)return{value:m,errors:b("number.infinity")};if(!v.isNumber(m))return{value:m,errors:b("number.base")};const y={value:m};if(g.convert){const R=p.$_getRule("precision");if(R){const E=Math.pow(10,R.args.limit);y.value=Math.round(y.value*E)/E}}return y.value===0&&(y.value=0),!p._flags.unsafe&&(m>Number.MAX_SAFE_INTEGER||m<Number.MIN_SAFE_INTEGER)&&(y.errors=b("number.unsafe")),y},rules:{compare:{method:!1,validate:(m,p,{limit:b},{name:g,operator:y,args:R})=>v.compare(m,b,y)?m:p.error("number."+g,{limit:R.limit,value:m}),args:[{name:"limit",ref:!0,assert:v.isNumber,message:"must be a number"}]},greater:{method(m){return this.$_addRule({name:"greater",method:"compare",args:{limit:m},operator:">"})}},integer:{method(){return this.$_addRule("integer")},validate:(m,p)=>Math.trunc(m)-m==0?m:p.error("number.integer")},less:{method(m){return this.$_addRule({name:"less",method:"compare",args:{limit:m},operator:"<"})}},max:{method(m){return this.$_addRule({name:"max",method:"compare",args:{limit:m},operator:"<="})}},min:{method(m){return this.$_addRule({name:"min",method:"compare",args:{limit:m},operator:">="})}},multiple:{method(m){const p=typeof m=="number"?w.decimalPlaces(m):null,b=Math.pow(10,p);return this.$_addRule({name:"multiple",args:{base:m,baseDecimalPlace:p,pfactor:b}})},validate:(m,p,{base:b,baseDecimalPlace:g,pfactor:y},R)=>w.decimalPlaces(m)>g?p.error("number.multiple",{multiple:R.args.base,value:m}):Math.round(y*m)%Math.round(y*b)==0?m:p.error("number.multiple",{multiple:R.args.base,value:m}),args:[{name:"base",ref:!0,assert:m=>typeof m=="number"&&isFinite(m)&&m>0,message:"must be a positive number"},"baseDecimalPlace","pfactor"],multi:!0},negative:{method(){return this.sign("negative")}},port:{method(){return this.$_addRule("port")},validate:(m,p)=>Number.isSafeInteger(m)&&m>=0&&m<=65535?m:p.error("number.port")},positive:{method(){return this.sign("positive")}},precision:{method(m){return c(Number.isSafeInteger(m),"limit must be an integer"),this.$_addRule({name:"precision",args:{limit:m}})},validate(m,p,{limit:b}){const g=m.toString().match(w.precisionRx);return Math.max((g[1]?g[1].length:0)-(g[2]?parseInt(g[2],10):0),0)<=b?m:p.error("number.precision",{limit:b,value:m})},convert:!0},sign:{method(m){return c(["negative","positive"].includes(m),"Invalid sign",m),this.$_addRule({name:"sign",args:{sign:m}})},validate:(m,p,{sign:b})=>b==="negative"&&m<0||b==="positive"&&m>0?m:p.error(`number.${b}`)},unsafe:{method(m=!0){return c(typeof m=="boolean","enabled must be a boolean"),this.$_setFlag("unsafe",m)}}},cast:{string:{from:m=>typeof m=="number",to:(m,p)=>m.toString()}},messages:{"number.base":"{{#label}} must be a number","number.greater":"{{#label}} must be greater than {{#limit}}","number.infinity":"{{#label}} cannot be infinity","number.integer":"{{#label}} must be an integer","number.less":"{{#label}} must be less than {{#limit}}","number.max":"{{#label}} must be less than or equal to {{#limit}}","number.min":"{{#label}} must be greater than or equal to {{#limit}}","number.multiple":"{{#label}} must be a multiple of {{#multiple}}","number.negative":"{{#label}} must be a negative number","number.port":"{{#label}} must be a valid port","number.positive":"{{#label}} must be a positive number","number.precision":"{{#label}} must have no more than {{#limit}} decimal places","number.unsafe":"{{#label}} must be a safe number"}}),w.extractSignificantDigits=function(m){return m.replace(w.exponentialPartRegex,"").replace(w.dotRegex,"").replace(w.trailingZerosRegex,"").replace(w.leadingSignAndZerosRegex,"")},w.normalizeDecimal=function(m){return(m=m.replace(/^\+/,"").replace(/\.0*$/,"").replace(/^(-?)\.([^\.]*)$/,"$10.$2").replace(/^(-?)0+([0-9])/,"$1$2")).includes(".")&&m.endsWith("0")&&(m=m.replace(/0+$/,"")),m==="-0"?"0":m}},8966:(o,u,f)=>{const c=f(7824);o.exports=c.extend({type:"object",cast:{map:{from:_=>_&&typeof _=="object",to:(_,v)=>new Map(Object.entries(_))}}})},7417:(o,u,f)=>{const c=f(375),_=f(5380),v=f(1745),w=f(9959),m=f(6064),p=f(9926),b=f(5752),g=f(8068),y=f(8160),R={tlds:p instanceof Set&&{tlds:{allow:p,deny:null}},base64Regex:{true:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}==|[\w\-]{3}=)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/},false:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}(==)?|[\w\-]{3}=?)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}(==)?|[A-Za-z0-9+\/]{3}=?)?$/}},dataUriRegex:/^data:[\w+.-]+\/[\w+.-]+;((charset=[\w-]+|base64),)?(.*)$/,hexRegex:{withPrefix:/^0x[0-9a-f]+$/i,withOptionalPrefix:/^(?:0x)?[0-9a-f]+$/i,withoutPrefix:/^[0-9a-f]+$/i},ipRegex:w.regex({cidr:"forbidden"}).regex,isoDurationRegex:/^P(?!$)(\d+Y)?(\d+M)?(\d+W)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?$/,guidBrackets:{"{":"}","[":"]","(":")","":""},guidVersions:{uuidv1:"1",uuidv2:"2",uuidv3:"3",uuidv4:"4",uuidv5:"5",uuidv6:"6",uuidv7:"7",uuidv8:"8"},guidSeparators:new Set([void 0,!0,!1,"-",":"]),normalizationForms:["NFC","NFD","NFKC","NFKD"]};o.exports=g.extend({type:"string",flags:{insensitive:{default:!1},truncate:{default:!1}},terms:{replacements:{init:null}},coerce:{from:"string",method(E,{schema:S,state:x,prefs:M}){const j=S.$_getRule("normalize");j&&(E=E.normalize(j.args.form));const B=S.$_getRule("case");B&&(E=B.args.direction==="upper"?E.toLocaleUpperCase():E.toLocaleLowerCase());const N=S.$_getRule("trim");if(N&&N.args.enabled&&(E=E.trim()),S.$_terms.replacements)for(const D of S.$_terms.replacements)E=E.replace(D.pattern,D.replacement);const T=S.$_getRule("hex");if(T&&T.args.options.byteAligned&&E.length%2!=0&&(E=`0${E}`),S.$_getRule("isoDate")){const D=R.isoDate(E);D&&(E=D)}if(S._flags.truncate){const D=S.$_getRule("max");if(D){let O=D.args.limit;if(y.isResolvable(O)&&(O=O.resolve(E,x,M),!y.limit(O)))return{value:E,errors:S.$_createError("any.ref",O,{ref:D.args.limit,arg:"limit",reason:"must be a positive integer"},x,M)};E=E.slice(0,O)}}return{value:E}}},validate(E,{schema:S,error:x}){if(typeof E!="string")return{value:E,errors:x("string.base")};if(E===""){const M=S.$_getRule("min");return M&&M.args.limit===0?void 0:{value:E,errors:x("string.empty")}}},rules:{alphanum:{method(){return this.$_addRule("alphanum")},validate:(E,S)=>/^[a-zA-Z0-9]+$/.test(E)?E:S.error("string.alphanum")},base64:{method(E={}){return y.assertOptions(E,["paddingRequired","urlSafe"]),E={urlSafe:!1,paddingRequired:!0,...E},c(typeof E.paddingRequired=="boolean","paddingRequired must be boolean"),c(typeof E.urlSafe=="boolean","urlSafe must be boolean"),this.$_addRule({name:"base64",args:{options:E}})},validate:(E,S,{options:x})=>R.base64Regex[x.paddingRequired][x.urlSafe].test(E)?E:S.error("string.base64")},case:{method(E){return c(["lower","upper"].includes(E),"Invalid case:",E),this.$_addRule({name:"case",args:{direction:E}})},validate:(E,S,{direction:x})=>x==="lower"&&E===E.toLocaleLowerCase()||x==="upper"&&E===E.toLocaleUpperCase()?E:S.error(`string.${x}case`),convert:!0},creditCard:{method(){return this.$_addRule("creditCard")},validate(E,S){let x=E.length,M=0,j=1;for(;x--;){const B=E.charAt(x)*j;M+=B-9*(B>9),j^=3}return M>0&&M%10==0?E:S.error("string.creditCard")}},dataUri:{method(E={}){return y.assertOptions(E,["paddingRequired"]),E={paddingRequired:!0,...E},c(typeof E.paddingRequired=="boolean","paddingRequired must be boolean"),this.$_addRule({name:"dataUri",args:{options:E}})},validate(E,S,{options:x}){const M=E.match(R.dataUriRegex);return M&&(!M[2]||M[2]!=="base64"||R.base64Regex[x.paddingRequired].false.test(M[3]))?E:S.error("string.dataUri")}},domain:{method(E){E&&y.assertOptions(E,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);const S=R.addressOptions(E);return this.$_addRule({name:"domain",args:{options:E},address:S})},validate:(E,S,x,{address:M})=>_.isValid(E,M)?E:S.error("string.domain")},email:{method(E={}){y.assertOptions(E,["allowFullyQualified","allowUnicode","ignoreLength","maxDomainSegments","minDomainSegments","multiple","separator","tlds"]),c(E.multiple===void 0||typeof E.multiple=="boolean","multiple option must be an boolean");const S=R.addressOptions(E),x=new RegExp(`\\s*[${E.separator?m(E.separator):","}]\\s*`);return this.$_addRule({name:"email",args:{options:E},regex:x,address:S})},validate(E,S,{options:x},{regex:M,address:j}){const B=x.multiple?E.split(M):[E],N=[];for(const T of B)v.isValid(T,j)||N.push(T);return N.length?S.error("string.email",{value:E,invalids:N}):E}},guid:{alias:"uuid",method(E={}){y.assertOptions(E,["version","separator"]);let S="";if(E.version){const j=[].concat(E.version);c(j.length>=1,"version must have at least 1 valid version specified");const B=new Set;for(let N=0;N<j.length;++N){const T=j[N];c(typeof T=="string","version at position "+N+" must be a string");const D=R.guidVersions[T.toLowerCase()];c(D,"version at position "+N+" must be one of "+Object.keys(R.guidVersions).join(", ")),c(!B.has(D),"version at position "+N+" must not be a duplicate"),S+=D,B.add(D)}}c(R.guidSeparators.has(E.separator),'separator must be one of true, false, "-", or ":"');const x=E.separator===void 0?"[:-]?":E.separator===!0?"[:-]":E.separator===!1?"[]?":`\\${E.separator}`,M=new RegExp(`^([\\[{\\(]?)[0-9A-F]{8}(${x})[0-9A-F]{4}\\2?[${S||"0-9A-F"}][0-9A-F]{3}\\2?[${S?"89AB":"0-9A-F"}][0-9A-F]{3}\\2?[0-9A-F]{12}([\\]}\\)]?)$`,"i");return this.$_addRule({name:"guid",args:{options:E},regex:M})},validate(E,S,x,{regex:M}){const j=M.exec(E);return j?R.guidBrackets[j[1]]!==j[j.length-1]?S.error("string.guid"):E:S.error("string.guid")}},hex:{method(E={}){return y.assertOptions(E,["byteAligned","prefix"]),E={byteAligned:!1,prefix:!1,...E},c(typeof E.byteAligned=="boolean","byteAligned must be boolean"),c(typeof E.prefix=="boolean"||E.prefix==="optional",'prefix must be boolean or "optional"'),this.$_addRule({name:"hex",args:{options:E}})},validate:(E,S,{options:x})=>(x.prefix==="optional"?R.hexRegex.withOptionalPrefix:x.prefix===!0?R.hexRegex.withPrefix:R.hexRegex.withoutPrefix).test(E)?x.byteAligned&&E.length%2!=0?S.error("string.hexAlign"):E:S.error("string.hex")},hostname:{method(){return this.$_addRule("hostname")},validate:(E,S)=>_.isValid(E,{minDomainSegments:1})||R.ipRegex.test(E)?E:S.error("string.hostname")},insensitive:{method(){return this.$_setFlag("insensitive",!0)}},ip:{method(E={}){y.assertOptions(E,["cidr","version"]);const{cidr:S,versions:x,regex:M}=w.regex(E),j=E.version?x:void 0;return this.$_addRule({name:"ip",args:{options:{cidr:S,version:j}},regex:M})},validate:(E,S,{options:x},{regex:M})=>M.test(E)?E:x.version?S.error("string.ipVersion",{value:E,cidr:x.cidr,version:x.version}):S.error("string.ip",{value:E,cidr:x.cidr})},isoDate:{method(){return this.$_addRule("isoDate")},validate:(E,{error:S})=>R.isoDate(E)?E:S("string.isoDate")},isoDuration:{method(){return this.$_addRule("isoDuration")},validate:(E,S)=>R.isoDurationRegex.test(E)?E:S.error("string.isoDuration")},length:{method(E,S){return R.length(this,"length",E,"=",S)},validate(E,S,{limit:x,encoding:M},{name:j,operator:B,args:N}){const T=!M&&E.length;return y.compare(T,x,B)?E:S.error("string."+j,{limit:N.limit,value:E,encoding:M})},args:[{name:"limit",ref:!0,assert:y.limit,message:"must be a positive integer"},"encoding"]},lowercase:{method(){return this.case("lower")}},max:{method(E,S){return R.length(this,"max",E,"<=",S)},args:["limit","encoding"]},min:{method(E,S){return R.length(this,"min",E,">=",S)},args:["limit","encoding"]},normalize:{method(E="NFC"){return c(R.normalizationForms.includes(E),"normalization form must be one of "+R.normalizationForms.join(", ")),this.$_addRule({name:"normalize",args:{form:E}})},validate:(E,{error:S},{form:x})=>E===E.normalize(x)?E:S("string.normalize",{value:E,form:x}),convert:!0},pattern:{alias:"regex",method(E,S={}){c(E instanceof RegExp,"regex must be a RegExp"),c(!E.flags.includes("g")&&!E.flags.includes("y"),"regex should not use global or sticky mode"),typeof S=="string"&&(S={name:S}),y.assertOptions(S,["invert","name"]);const x=["string.pattern",S.invert?".invert":"",S.name?".name":".base"].join("");return this.$_addRule({name:"pattern",args:{regex:E,options:S},errorCode:x})},validate:(E,S,{regex:x,options:M},{errorCode:j})=>x.test(E)^M.invert?E:S.error(j,{name:M.name,regex:x,value:E}),args:["regex","options"],multi:!0},replace:{method(E,S){typeof E=="string"&&(E=new RegExp(m(E),"g")),c(E instanceof RegExp,"pattern must be a RegExp"),c(typeof S=="string","replacement must be a String");const x=this.clone();return x.$_terms.replacements||(x.$_terms.replacements=[]),x.$_terms.replacements.push({pattern:E,replacement:S}),x}},token:{method(){return this.$_addRule("token")},validate:(E,S)=>/^\w+$/.test(E)?E:S.error("string.token")},trim:{method(E=!0){return c(typeof E=="boolean","enabled must be a boolean"),this.$_addRule({name:"trim",args:{enabled:E}})},validate:(E,S,{enabled:x})=>x&&E!==E.trim()?S.error("string.trim"):E,convert:!0},truncate:{method(E=!0){return c(typeof E=="boolean","enabled must be a boolean"),this.$_setFlag("truncate",E)}},uppercase:{method(){return this.case("upper")}},uri:{method(E={}){y.assertOptions(E,["allowRelative","allowQuerySquareBrackets","domain","relativeOnly","scheme","encodeUri"]),E.domain&&y.assertOptions(E.domain,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);const{regex:S,scheme:x}=b.regex(E),M=E.domain?R.addressOptions(E.domain):null;return this.$_addRule({name:"uri",args:{options:E},regex:S,domain:M,scheme:x})},validate(E,S,{options:x},{regex:M,domain:j,scheme:B}){if(["http:/","https:/"].includes(E))return S.error("string.uri");let N=M.exec(E);if(!N&&S.prefs.convert&&x.encodeUri){const T=encodeURI(E);N=M.exec(T),N&&(E=T)}if(N){const T=N[1]||N[2];return!j||x.allowRelative&&!T||_.isValid(T,j)?E:S.error("string.domain",{value:T})}return x.relativeOnly?S.error("string.uriRelativeOnly"):x.scheme?S.error("string.uriCustomScheme",{scheme:B,value:E}):S.error("string.uri")}}},manifest:{build(E,S){if(S.replacements)for(const{pattern:x,replacement:M}of S.replacements)E=E.replace(x,M);return E}},messages:{"string.alphanum":"{{#label}} must only contain alpha-numeric characters","string.base":"{{#label}} must be a string","string.base64":"{{#label}} must be a valid base64 string","string.creditCard":"{{#label}} must be a credit card","string.dataUri":"{{#label}} must be a valid dataUri string","string.domain":"{{#label}} must contain a valid domain name","string.email":"{{#label}} must be a valid email","string.empty":"{{#label}} is not allowed to be empty","string.guid":"{{#label}} must be a valid GUID","string.hex":"{{#label}} must only contain hexadecimal characters","string.hexAlign":"{{#label}} hex decoded representation must be byte aligned","string.hostname":"{{#label}} must be a valid hostname","string.ip":"{{#label}} must be a valid ip address with a {{#cidr}} CIDR","string.ipVersion":"{{#label}} must be a valid ip address of one of the following versions {{#version}} with a {{#cidr}} CIDR","string.isoDate":"{{#label}} must be in iso format","string.isoDuration":"{{#label}} must be a valid ISO 8601 duration","string.length":"{{#label}} length must be {{#limit}} characters long","string.lowercase":"{{#label}} must only contain lowercase characters","string.max":"{{#label}} length must be less than or equal to {{#limit}} characters long","string.min":"{{#label}} length must be at least {{#limit}} characters long","string.normalize":"{{#label}} must be unicode normalized in the {{#form}} form","string.token":"{{#label}} must only contain alpha-numeric and underscore characters","string.pattern.base":"{{#label}} with value {:[.]} fails to match the required pattern: {{#regex}}","string.pattern.name":"{{#label}} with value {:[.]} fails to match the {{#name}} pattern","string.pattern.invert.base":"{{#label}} with value {:[.]} matches the inverted pattern: {{#regex}}","string.pattern.invert.name":"{{#label}} with value {:[.]} matches the inverted {{#name}} pattern","string.trim":"{{#label}} must not have leading or trailing whitespace","string.uri":"{{#label}} must be a valid uri","string.uriCustomScheme":"{{#label}} must be a valid uri with a scheme matching the {{#scheme}} pattern","string.uriRelativeOnly":"{{#label}} must be a valid relative uri","string.uppercase":"{{#label}} must only contain uppercase characters"}}),R.addressOptions=function(E){if(!E)return R.tlds||E;if(c(E.minDomainSegments===void 0||Number.isSafeInteger(E.minDomainSegments)&&E.minDomainSegments>0,"minDomainSegments must be a positive integer"),c(E.maxDomainSegments===void 0||Number.isSafeInteger(E.maxDomainSegments)&&E.maxDomainSegments>0,"maxDomainSegments must be a positive integer"),E.tlds===!1)return E;if(E.tlds===!0||E.tlds===void 0)return c(R.tlds,"Built-in TLD list disabled"),Object.assign({},E,R.tlds);c(typeof E.tlds=="object","tlds must be true, false, or an object");const S=E.tlds.deny;if(S)return Array.isArray(S)&&(E=Object.assign({},E,{tlds:{deny:new Set(S)}})),c(E.tlds.deny instanceof Set,"tlds.deny must be an array, Set, or boolean"),c(!E.tlds.allow,"Cannot specify both tlds.allow and tlds.deny lists"),R.validateTlds(E.tlds.deny,"tlds.deny"),E;const x=E.tlds.allow;return x?x===!0?(c(R.tlds,"Built-in TLD list disabled"),Object.assign({},E,R.tlds)):(Array.isArray(x)&&(E=Object.assign({},E,{tlds:{allow:new Set(x)}})),c(E.tlds.allow instanceof Set,"tlds.allow must be an array, Set, or boolean"),R.validateTlds(E.tlds.allow,"tlds.allow"),E):E},R.validateTlds=function(E,S){for(const x of E)c(_.isValid(x,{minDomainSegments:1,maxDomainSegments:1}),`${S} must contain valid top level domain names`)},R.isoDate=function(E){if(!y.isIsoDate(E))return null;/.*T.*[+-]\d\d$/.test(E)&&(E+="00");const S=new Date(E);return isNaN(S.getTime())?null:S.toISOString()},R.length=function(E,S,x,M,j){return c(!j||!1,"Invalid encoding:",j),E.$_addRule({name:S,method:"length",args:{limit:x,encoding:j},operator:M})}},8826:(o,u,f)=>{const c=f(375),_=f(8068),v={};v.Map=class extends Map{slice(){return new v.Map(this)}},o.exports=_.extend({type:"symbol",terms:{map:{init:new v.Map}},coerce:{method(w,{schema:m,error:p}){const b=m.$_terms.map.get(w);return b&&(w=b),m._flags.only&&typeof w!="symbol"?{value:w,errors:p("symbol.map",{map:m.$_terms.map})}:{value:w}}},validate(w,{error:m}){if(typeof w!="symbol")return{value:w,errors:m("symbol.base")}},rules:{map:{method(w){w&&!w[Symbol.iterator]&&typeof w=="object"&&(w=Object.entries(w)),c(w&&w[Symbol.iterator],"Iterable must be an iterable or object");const m=this.clone(),p=[];for(const b of w){c(b&&b[Symbol.iterator],"Entry must be an iterable");const[g,y]=b;c(typeof g!="object"&&typeof g!="function"&&typeof g!="symbol","Key must not be of type object, function, or Symbol"),c(typeof y=="symbol","Value must be a Symbol"),m.$_terms.map.set(g,y),p.push(y)}return m.valid(...p)}}},manifest:{build:(w,m)=>(m.map&&(w=w.map(m.map)),w)},messages:{"symbol.base":"{{#label}} must be a symbol","symbol.map":"{{#label}} must be one of {{#map}}"}})},8863:(o,u,f)=>{const c=f(375),_=f(8571),v=f(738),w=f(9621),m=f(8160),p=f(6354),b=f(493),g={result:Symbol("result")};u.entry=function(y,R,E){let S=m.defaults;E&&(c(E.warnings===void 0,"Cannot override warnings preference in synchronous validation"),c(E.artifacts===void 0,"Cannot override artifacts preference in synchronous validation"),S=m.preferences(m.defaults,E));const x=g.entry(y,R,S);c(!x.mainstay.externals.length,"Schema with external rules must use validateAsync()");const M={value:x.value};return x.error&&(M.error=x.error),x.mainstay.warnings.length&&(M.warning=p.details(x.mainstay.warnings)),x.mainstay.debug&&(M.debug=x.mainstay.debug),x.mainstay.artifacts&&(M.artifacts=x.mainstay.artifacts),M},u.entryAsync=async function(y,R,E){let S=m.defaults;E&&(S=m.preferences(m.defaults,E));const x=g.entry(y,R,S),M=x.mainstay;if(x.error)throw M.debug&&(x.error.debug=M.debug),x.error;if(M.externals.length){let B=x.value;const N=[];for(const T of M.externals){const D=T.state.path,O=T.schema.type==="link"?M.links.get(T.schema):null;let V,q,U=B;const he=D.length?[B]:[],fe=D.length?w(y,D):y;if(D.length){V=D[D.length-1];let X=B;for(const se of D.slice(0,-1))X=X[se],he.unshift(X);q=he[0],U=q[V]}try{const X=(de,Se)=>(O||T.schema).$_createError(de,U,Se,T.state,S),se=await T.method(U,{schema:T.schema,linked:O,state:T.state,prefs:E,original:fe,error:X,errorsArray:g.errorsArray,warn:(de,Se)=>M.warnings.push((O||T.schema).$_createError(de,U,Se,T.state,S)),message:(de,Se)=>(O||T.schema).$_createError("external",U,Se,T.state,S,{messages:de})});if(se===void 0||se===U)continue;if(se instanceof p.Report){if(M.tracer.log(T.schema,T.state,"rule","external","error"),N.push(se),S.abortEarly)break;continue}if(Array.isArray(se)&&se[m.symbols.errors]){if(M.tracer.log(T.schema,T.state,"rule","external","error"),N.push(...se),S.abortEarly)break;continue}q?(M.tracer.value(T.state,"rule",U,se,"external"),q[V]=se):(M.tracer.value(T.state,"rule",B,se,"external"),B=se)}catch(X){throw S.errors.label&&(X.message+=` (${T.label})`),X}}if(x.value=B,N.length)throw x.error=p.process(N,y,S),M.debug&&(x.error.debug=M.debug),x.error}if(!S.warnings&&!S.debug&&!S.artifacts)return x.value;const j={value:x.value};return M.warnings.length&&(j.warning=p.details(M.warnings)),M.debug&&(j.debug=M.debug),M.artifacts&&(j.artifacts=M.artifacts),j},g.Mainstay=class{constructor(y,R,E){this.externals=[],this.warnings=[],this.tracer=y,this.debug=R,this.links=E,this.shadow=null,this.artifacts=null,this._snapshots=[]}snapshot(){this._snapshots.push({externals:this.externals.slice(),warnings:this.warnings.slice()})}restore(){const y=this._snapshots.pop();this.externals=y.externals,this.warnings=y.warnings}commit(){this._snapshots.pop()}},g.entry=function(y,R,E){const{tracer:S,cleanup:x}=g.tracer(R,E),M=E.debug?[]:null,j=R._ids._schemaChain?new Map:null,B=new g.Mainstay(S,M,j),N=R._ids._schemaChain?[{schema:R}]:null,T=new b([],[],{mainstay:B,schemas:N}),D=u.validate(y,R,T,E);x&&R.$_root.untrace();const O=p.process(D.errors,y,E);return{value:D.value,error:O,mainstay:B}},g.tracer=function(y,R){return y.$_root._tracer?{tracer:y.$_root._tracer._register(y)}:R.debug?(c(y.$_root.trace,"Debug mode not supported"),{tracer:y.$_root.trace()._register(y),cleanup:!0}):{tracer:g.ignore}},u.validate=function(y,R,E,S,x={}){if(R.$_terms.whens&&(R=R._generate(y,E,S).schema),R._preferences&&(S=g.prefs(R,S)),R._cache&&S.cache){const O=R._cache.get(y);if(E.mainstay.tracer.debug(E,"validate","cached",!!O),O)return O}const M=(O,V,q)=>R.$_createError(O,y,V,q||E,S),j={original:y,prefs:S,schema:R,state:E,error:M,errorsArray:g.errorsArray,warn:(O,V,q)=>E.mainstay.warnings.push(M(O,V,q)),message:(O,V)=>R.$_createError("custom",y,V,E,S,{messages:O})};E.mainstay.tracer.entry(R,E);const B=R._definition;if(B.prepare&&y!==void 0&&S.convert){const O=B.prepare(y,j);if(O){if(E.mainstay.tracer.value(E,"prepare",y,O.value),O.errors)return g.finalize(O.value,[].concat(O.errors),j);y=O.value}}if(B.coerce&&y!==void 0&&S.convert&&(!B.coerce.from||B.coerce.from.includes(typeof y))){const O=B.coerce.method(y,j);if(O){if(E.mainstay.tracer.value(E,"coerced",y,O.value),O.errors)return g.finalize(O.value,[].concat(O.errors),j);y=O.value}}const N=R._flags.empty;N&&N.$_match(g.trim(y,R),E.nest(N),m.defaults)&&(E.mainstay.tracer.value(E,"empty",y,void 0),y=void 0);const T=x.presence||R._flags.presence||(R._flags._endedSwitch?null:S.presence);if(y===void 0){if(T==="forbidden")return g.finalize(y,null,j);if(T==="required")return g.finalize(y,[R.$_createError("any.required",y,null,E,S)],j);if(T==="optional"){if(R._flags.default!==m.symbols.deepDefault)return g.finalize(y,null,j);E.mainstay.tracer.value(E,"default",y,{}),y={}}}else if(T==="forbidden")return g.finalize(y,[R.$_createError("any.unknown",y,null,E,S)],j);const D=[];if(R._valids){const O=R._valids.get(y,E,S,R._flags.insensitive);if(O)return S.convert&&(E.mainstay.tracer.value(E,"valids",y,O.value),y=O.value),E.mainstay.tracer.filter(R,E,"valid",O),g.finalize(y,null,j);if(R._flags.only){const V=R.$_createError("any.only",y,{valids:R._valids.values({display:!0})},E,S);if(S.abortEarly)return g.finalize(y,[V],j);D.push(V)}}if(R._invalids){const O=R._invalids.get(y,E,S,R._flags.insensitive);if(O){E.mainstay.tracer.filter(R,E,"invalid",O);const V=R.$_createError("any.invalid",y,{invalids:R._invalids.values({display:!0})},E,S);if(S.abortEarly)return g.finalize(y,[V],j);D.push(V)}}if(B.validate){const O=B.validate(y,j);if(O&&(E.mainstay.tracer.value(E,"base",y,O.value),y=O.value,O.errors)){if(!Array.isArray(O.errors))return D.push(O.errors),g.finalize(y,D,j);if(O.errors.length)return D.push(...O.errors),g.finalize(y,D,j)}}return R._rules.length?g.rules(y,D,j):g.finalize(y,D,j)},g.rules=function(y,R,E){const{schema:S,state:x,prefs:M}=E;for(const j of S._rules){const B=S._definition.rules[j.method];if(B.convert&&M.convert){x.mainstay.tracer.log(S,x,"rule",j.name,"full");continue}let N,T=j.args;if(j._resolve.length){T=Object.assign({},T);for(const O of j._resolve){const V=B.argsByName.get(O),q=T[O].resolve(y,x,M),U=V.normalize?V.normalize(q):q,he=m.validateArg(U,null,V);if(he){N=S.$_createError("any.ref",q,{arg:O,ref:T[O],reason:he},x,M);break}T[O]=U}}N=N||B.validate(y,E,T,j);const D=g.rule(N,j);if(D.errors){if(x.mainstay.tracer.log(S,x,"rule",j.name,"error"),j.warn){x.mainstay.warnings.push(...D.errors);continue}if(M.abortEarly)return g.finalize(y,D.errors,E);R.push(...D.errors)}else x.mainstay.tracer.log(S,x,"rule",j.name,"pass"),x.mainstay.tracer.value(x,"rule",y,D.value,j.name),y=D.value}return g.finalize(y,R,E)},g.rule=function(y,R){return y instanceof p.Report?(g.error(y,R),{errors:[y],value:null}):Array.isArray(y)&&y[m.symbols.errors]?(y.forEach(E=>g.error(E,R)),{errors:y,value:null}):{errors:null,value:y}},g.error=function(y,R){return R.message&&y._setTemplate(R.message),y},g.finalize=function(y,R,E){R=R||[];const{schema:S,state:x,prefs:M}=E;if(R.length){const B=g.default("failover",void 0,R,E);B!==void 0&&(x.mainstay.tracer.value(x,"failover",y,B),y=B,R=[])}if(R.length&&S._flags.error)if(typeof S._flags.error=="function"){R=S._flags.error(R),Array.isArray(R)||(R=[R]);for(const B of R)c(B instanceof Error||B instanceof p.Report,"error() must return an Error object")}else R=[S._flags.error];if(y===void 0){const B=g.default("default",y,R,E);x.mainstay.tracer.value(x,"default",y,B),y=B}if(S._flags.cast&&y!==void 0){const B=S._definition.cast[S._flags.cast];if(B.from(y)){const N=B.to(y,E);x.mainstay.tracer.value(x,"cast",y,N,S._flags.cast),y=N}}if(S.$_terms.externals&&M.externals&&M._externals!==!1)for(const{method:B}of S.$_terms.externals)x.mainstay.externals.push({method:B,schema:S,state:x,label:p.label(S._flags,x,M)});const j={value:y,errors:R.length?R:null};return S._flags.result&&(j.value=S._flags.result==="strip"?void 0:E.original,x.mainstay.tracer.value(x,S._flags.result,y,j.value),x.shadow(y,S._flags.result)),S._cache&&M.cache!==!1&&!S._refs.length&&S._cache.set(E.original,j),y===void 0||j.errors||S._flags.artifact===void 0||(x.mainstay.artifacts=x.mainstay.artifacts||new Map,x.mainstay.artifacts.has(S._flags.artifact)||x.mainstay.artifacts.set(S._flags.artifact,[]),x.mainstay.artifacts.get(S._flags.artifact).push(x.path)),j},g.prefs=function(y,R){const E=R===m.defaults;return E&&y._preferences[m.symbols.prefs]?y._preferences[m.symbols.prefs]:(R=m.preferences(R,y._preferences),E&&(y._preferences[m.symbols.prefs]=R),R)},g.default=function(y,R,E,S){const{schema:x,state:M,prefs:j}=S,B=x._flags[y];if(j.noDefaults||B===void 0)return R;if(M.mainstay.tracer.log(x,M,"rule",y,"full"),!B)return B;if(typeof B=="function"){const N=B.length?[_(M.ancestors[0]),S]:[];try{return B(...N)}catch(T){return void E.push(x.$_createError(`any.${y}`,null,{error:T},M,j))}}return typeof B!="object"?B:B[m.symbols.literal]?B.literal:m.isResolvable(B)?B.resolve(R,M,j):_(B)},g.trim=function(y,R){if(typeof y!="string")return y;const E=R.$_getRule("trim");return E&&E.args.enabled?y.trim():y},g.ignore={active:!1,debug:v,entry:v,filter:v,log:v,resolve:v,value:v},g.errorsArray=function(){const y=[];return y[m.symbols.errors]=!0,y}},2036:(o,u,f)=>{const c=f(375),_=f(9474),v=f(8160),w={};o.exports=w.Values=class{constructor(m,p){this._values=new Set(m),this._refs=new Set(p),this._lowercase=w.lowercases(m),this._override=!1}get length(){return this._values.size+this._refs.size}add(m,p){v.isResolvable(m)?this._refs.has(m)||(this._refs.add(m),p&&p.register(m)):this.has(m,null,null,!1)||(this._values.add(m),typeof m=="string"&&this._lowercase.set(m.toLowerCase(),m))}static merge(m,p,b){if(m=m||new w.Values,p){if(p._override)return p.clone();for(const g of[...p._values,...p._refs])m.add(g)}if(b)for(const g of[...b._values,...b._refs])m.remove(g);return m.length?m:null}remove(m){v.isResolvable(m)?this._refs.delete(m):(this._values.delete(m),typeof m=="string"&&this._lowercase.delete(m.toLowerCase()))}has(m,p,b,g){return!!this.get(m,p,b,g)}get(m,p,b,g){if(!this.length)return!1;if(this._values.has(m))return{value:m};if(typeof m=="string"&&m&&g){const y=this._lowercase.get(m.toLowerCase());if(y)return{value:y}}if(!this._refs.size&&typeof m!="object")return!1;if(typeof m=="object"){for(const y of this._values)if(_(y,m))return{value:y}}if(p)for(const y of this._refs){const R=y.resolve(m,p,b,null,{in:!0});if(R===void 0)continue;const E=y.in&&typeof R=="object"?Array.isArray(R)?R:Object.keys(R):[R];for(const S of E)if(typeof S==typeof m){if(g&&m&&typeof m=="string"){if(S.toLowerCase()===m.toLowerCase())return{value:S,ref:y}}else if(_(S,m))return{value:S,ref:y}}}return!1}override(){this._override=!0}values(m){if(m&&m.display){const p=[];for(const b of[...this._values,...this._refs])b!==void 0&&p.push(b);return p}return Array.from([...this._values,...this._refs])}clone(){const m=new w.Values(this._values,this._refs);return m._override=this._override,m}concat(m){c(!m._override,"Cannot concat override set of values");const p=new w.Values([...this._values,...m._values],[...this._refs,...m._refs]);return p._override=this._override,p}describe(){const m=[];this._override&&m.push({override:!0});for(const p of this._values.values())m.push(p&&typeof p=="object"?{value:p}:p);for(const p of this._refs.values())m.push(p.describe());return m}},w.Values.prototype[v.symbols.values]=!0,w.Values.prototype.slice=w.Values.prototype.clone,w.lowercases=function(m){const p=new Map;if(m)for(const b of m)typeof b=="string"&&p.set(b.toLowerCase(),b);return p}},978:(o,u,f)=>{const c=f(375),_=f(8571),v=f(1687),w=f(9621),m={};o.exports=function(p,b,g={}){if(c(p&&typeof p=="object","Invalid defaults value: must be an object"),c(!b||b===!0||typeof b=="object","Invalid source value: must be true, falsy or an object"),c(typeof g=="object","Invalid options: must be an object"),!b)return null;if(g.shallow)return m.applyToDefaultsWithShallow(p,b,g);const y=_(p);if(b===!0)return y;const R=g.nullOverride!==void 0&&g.nullOverride;return v(y,b,{nullOverride:R,mergeArrays:!1})},m.applyToDefaultsWithShallow=function(p,b,g){const y=g.shallow;c(Array.isArray(y),"Invalid keys");const R=new Map,E=b===!0?null:new Set;for(let M of y){M=Array.isArray(M)?M:M.split(".");const j=w(p,M);j&&typeof j=="object"?R.set(j,E&&w(b,M)||j):E&&E.add(M)}const S=_(p,{},R);if(!E)return S;for(const M of E)m.reachCopy(S,b,M);const x=g.nullOverride!==void 0&&g.nullOverride;return v(S,b,{nullOverride:x,mergeArrays:!1})},m.reachCopy=function(p,b,g){for(const E of g){if(!(E in b))return;const S=b[E];if(typeof S!="object"||S===null)return;b=S}const y=b;let R=p;for(let E=0;E<g.length-1;++E){const S=g[E];typeof R[S]!="object"&&(R[S]={}),R=R[S]}R[g[g.length-1]]=y}},375:(o,u,f)=>{const c=f(7916);o.exports=function(_,...v){if(!_)throw v.length===1&&v[0]instanceof Error?v[0]:new c(v)}},8571:(o,u,f)=>{const c=f(9621),_=f(4277),v=f(7043),w={needsProtoHack:new Set([_.set,_.map,_.weakSet,_.weakMap])};o.exports=w.clone=function(m,p={},b=null){if(typeof m!="object"||m===null)return m;let g=w.clone,y=b;if(p.shallow){if(p.shallow!==!0)return w.cloneWithShallow(m,p);g=x=>x}else if(y){const x=y.get(m);if(x)return x}else y=new Map;const R=_.getInternalProto(m);if(R===_.buffer)return!1;if(R===_.date)return new Date(m.getTime());if(R===_.regex)return new RegExp(m);const E=w.base(m,R,p);if(E===m)return m;if(y&&y.set(m,E),R===_.set)for(const x of m)E.add(g(x,p,y));else if(R===_.map)for(const[x,M]of m)E.set(x,g(M,p,y));const S=v.keys(m,p);for(const x of S){if(x==="__proto__")continue;if(R===_.array&&x==="length"){E.length=m.length;continue}const M=Object.getOwnPropertyDescriptor(m,x);M?M.get||M.set?Object.defineProperty(E,x,M):M.enumerable?E[x]=g(m[x],p,y):Object.defineProperty(E,x,{enumerable:!1,writable:!0,configurable:!0,value:g(m[x],p,y)}):Object.defineProperty(E,x,{enumerable:!0,writable:!0,configurable:!0,value:g(m[x],p,y)})}return E},w.cloneWithShallow=function(m,p){const b=p.shallow;(p=Object.assign({},p)).shallow=!1;const g=new Map;for(const y of b){const R=c(m,y);typeof R!="object"&&typeof R!="function"||g.set(R,R)}return w.clone(m,p,g)},w.base=function(m,p,b){if(b.prototype===!1)return w.needsProtoHack.has(p)?new p.constructor:p===_.array?[]:{};const g=Object.getPrototypeOf(m);if(g&&g.isImmutable)return m;if(p===_.array){const y=[];return g!==p&&Object.setPrototypeOf(y,g),y}if(w.needsProtoHack.has(p)){const y=new g.constructor;return g!==p&&Object.setPrototypeOf(y,g),y}return Object.create(g)}},9474:(o,u,f)=>{const c=f(4277),_={mismatched:null};o.exports=function(v,w,m){return m=Object.assign({prototype:!0},m),!!_.isDeepEqual(v,w,m,[])},_.isDeepEqual=function(v,w,m,p){if(v===w)return v!==0||1/v==1/w;const b=typeof v;if(b!==typeof w||v===null||w===null)return!1;if(b==="function"){if(!m.deepFunction||v.toString()!==w.toString())return!1}else if(b!=="object")return v!=v&&w!=w;const g=_.getSharedType(v,w,!!m.prototype);switch(g){case c.buffer:return!1;case c.promise:return v===w;case c.regex:return v.toString()===w.toString();case _.mismatched:return!1}for(let y=p.length-1;y>=0;--y)if(p[y].isSame(v,w))return!0;p.push(new _.SeenEntry(v,w));try{return!!_.isDeepEqualObj(g,v,w,m,p)}finally{p.pop()}},_.getSharedType=function(v,w,m){if(m)return Object.getPrototypeOf(v)!==Object.getPrototypeOf(w)?_.mismatched:c.getInternalProto(v);const p=c.getInternalProto(v);return p!==c.getInternalProto(w)?_.mismatched:p},_.valueOf=function(v){const w=v.valueOf;if(w===void 0)return v;try{return w.call(v)}catch(m){return m}},_.hasOwnEnumerableProperty=function(v,w){return Object.prototype.propertyIsEnumerable.call(v,w)},_.isSetSimpleEqual=function(v,w){for(const m of Set.prototype.values.call(v))if(!Set.prototype.has.call(w,m))return!1;return!0},_.isDeepEqualObj=function(v,w,m,p,b){const{isDeepEqual:g,valueOf:y,hasOwnEnumerableProperty:R}=_,{keys:E,getOwnPropertySymbols:S}=Object;if(v===c.array){if(!p.part){if(w.length!==m.length)return!1;for(let N=0;N<w.length;++N)if(!g(w[N],m[N],p,b))return!1;return!0}for(const N of w)for(const T of m)if(g(N,T,p,b))return!0}else if(v===c.set){if(w.size!==m.size)return!1;if(!_.isSetSimpleEqual(w,m)){const N=new Set(Set.prototype.values.call(m));for(const T of Set.prototype.values.call(w)){if(N.delete(T))continue;let D=!1;for(const O of N)if(g(T,O,p,b)){N.delete(O),D=!0;break}if(!D)return!1}}}else if(v===c.map){if(w.size!==m.size)return!1;for(const[N,T]of Map.prototype.entries.call(w))if(T===void 0&&!Map.prototype.has.call(m,N)||!g(T,Map.prototype.get.call(m,N),p,b))return!1}else if(v===c.error&&(w.name!==m.name||w.message!==m.message))return!1;const x=y(w),M=y(m);if((w!==x||m!==M)&&!g(x,M,p,b))return!1;const j=E(w);if(!p.part&&j.length!==E(m).length&&!p.skip)return!1;let B=0;for(const N of j)if(p.skip&&p.skip.includes(N))m[N]===void 0&&++B;else if(!R(m,N)||!g(w[N],m[N],p,b))return!1;if(!p.part&&j.length-B!==E(m).length)return!1;if(p.symbols!==!1){const N=S(w),T=new Set(S(m));for(const D of N){if(!p.skip||!p.skip.includes(D)){if(R(w,D)){if(!R(m,D)||!g(w[D],m[D],p,b))return!1}else if(R(m,D))return!1}T.delete(D)}for(const D of T)if(R(m,D))return!1}return!0},_.SeenEntry=class{constructor(v,w){this.obj=v,this.ref=w}isSame(v,w){return this.obj===v&&this.ref===w}}},7916:(o,u,f)=>{const c=f(8761);o.exports=class extends Error{constructor(_){super(_.filter(v=>v!=="").map(v=>typeof v=="string"?v:v instanceof Error?v.message:c(v)).join(" ")||"Unknown error"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,u.assert)}}},5277:o=>{const u={};o.exports=function(f){if(!f)return"";let c="";for(let _=0;_<f.length;++_){const v=f.charCodeAt(_);u.isSafe(v)?c+=f[_]:c+=u.escapeHtmlChar(v)}return c},u.escapeHtmlChar=function(f){return u.namedHtml.get(f)||(f>=256?"&#"+f+";":`&#x${f.toString(16).padStart(2,"0")};`)},u.isSafe=function(f){return u.safeCharCodes.has(f)},u.namedHtml=new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[34,"&quot;"],[160,"&nbsp;"],[162,"&cent;"],[163,"&pound;"],[164,"&curren;"],[169,"&copy;"],[174,"&reg;"]]),u.safeCharCodes=function(){const f=new Set;for(let c=32;c<123;++c)(c>=97||c>=65&&c<=90||c>=48&&c<=57||c===32||c===46||c===44||c===45||c===58||c===95)&&f.add(c);return f}()},6064:o=>{o.exports=function(u){return u.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")}},738:o=>{o.exports=function(){}},1687:(o,u,f)=>{const c=f(375),_=f(8571),v=f(7043),w={};o.exports=w.merge=function(m,p,b){if(c(m&&typeof m=="object","Invalid target value: must be an object"),c(p==null||typeof p=="object","Invalid source value: must be null, undefined, or an object"),!p)return m;if(b=Object.assign({nullOverride:!0,mergeArrays:!0},b),Array.isArray(p)){c(Array.isArray(m),"Cannot merge array onto an object"),b.mergeArrays||(m.length=0);for(let y=0;y<p.length;++y)m.push(_(p[y],{symbols:b.symbols}));return m}const g=v.keys(p,b);for(let y=0;y<g.length;++y){const R=g[y];if(R==="__proto__"||!Object.prototype.propertyIsEnumerable.call(p,R))continue;const E=p[R];if(E&&typeof E=="object"){if(m[R]===E)continue;!m[R]||typeof m[R]!="object"||Array.isArray(m[R])!==Array.isArray(E)||E instanceof Date||E instanceof RegExp?m[R]=_(E,{symbols:b.symbols}):w.merge(m[R],E,b)}else(E!=null||b.nullOverride)&&(m[R]=E)}return m}},9621:(o,u,f)=>{const c=f(375),_={};o.exports=function(v,w,m){if(w===!1||w==null)return v;typeof(m=m||{})=="string"&&(m={separator:m});const p=Array.isArray(w);c(!p||!m.separator,"Separator option is not valid for array-based chain");const b=p?w:w.split(m.separator||".");let g=v;for(let y=0;y<b.length;++y){let R=b[y];const E=m.iterables&&_.iterables(g);if(Array.isArray(g)||E==="set"){const S=Number(R);Number.isInteger(S)&&(R=S<0?g.length+S:S)}if(!g||typeof g=="function"&&m.functions===!1||!E&&g[R]===void 0){c(!m.strict||y+1===b.length,"Missing segment",R,"in reach path ",w),c(typeof g=="object"||m.functions===!0||typeof g!="function","Invalid segment",R,"in reach path ",w),g=m.default;break}g=E?E==="set"?[...g][R]:g.get(R):g[R]}return g},_.iterables=function(v){return v instanceof Set?"set":v instanceof Map?"map":void 0}},8761:o=>{o.exports=function(...u){try{return JSON.stringify(...u)}catch(f){return"[Cannot display object: "+f.message+"]"}}},4277:(o,u)=>{const f={};u=o.exports={array:Array.prototype,buffer:!1,date:Date.prototype,error:Error.prototype,generic:Object.prototype,map:Map.prototype,promise:Promise.prototype,regex:RegExp.prototype,set:Set.prototype,weakMap:WeakMap.prototype,weakSet:WeakSet.prototype},f.typeMap=new Map([["[object Error]",u.error],["[object Map]",u.map],["[object Promise]",u.promise],["[object Set]",u.set],["[object WeakMap]",u.weakMap],["[object WeakSet]",u.weakSet]]),u.getInternalProto=function(c){if(Array.isArray(c))return u.array;if(c instanceof Date)return u.date;if(c instanceof RegExp)return u.regex;if(c instanceof Error)return u.error;const _=Object.prototype.toString.call(c);return f.typeMap.get(_)||u.generic}},7043:(o,u)=>{u.keys=function(f,c={}){return c.symbols!==!1?Reflect.ownKeys(f):Object.getOwnPropertyNames(f)}},3652:(o,u,f)=>{const c=f(375),_={};u.Sorter=class{constructor(){this._items=[],this.nodes=[]}add(v,w){const m=[].concat((w=w||{}).before||[]),p=[].concat(w.after||[]),b=w.group||"?",g=w.sort||0;c(!m.includes(b),`Item cannot come before itself: ${b}`),c(!m.includes("?"),"Item cannot come before unassociated items"),c(!p.includes(b),`Item cannot come after itself: ${b}`),c(!p.includes("?"),"Item cannot come after unassociated items"),Array.isArray(v)||(v=[v]);for(const y of v){const R={seq:this._items.length,sort:g,before:m,after:p,group:b,node:y};this._items.push(R)}if(!w.manual){const y=this._sort();c(y,"item",b!=="?"?`added into group ${b}`:"","created a dependencies error")}return this.nodes}merge(v){Array.isArray(v)||(v=[v]);for(const m of v)if(m)for(const p of m._items)this._items.push(Object.assign({},p));this._items.sort(_.mergeSort);for(let m=0;m<this._items.length;++m)this._items[m].seq=m;const w=this._sort();return c(w,"merge created a dependencies error"),this.nodes}sort(){const v=this._sort();return c(v,"sort created a dependencies error"),this.nodes}_sort(){const v={},w=Object.create(null),m=Object.create(null);for(const R of this._items){const E=R.seq,S=R.group;m[S]=m[S]||[],m[S].push(E),v[E]=R.before;for(const x of R.after)w[x]=w[x]||[],w[x].push(E)}for(const R in v){const E=[];for(const S in v[R]){const x=v[R][S];m[x]=m[x]||[],E.push(...m[x])}v[R]=E}for(const R in w)if(m[R])for(const E of m[R])v[E].push(...w[R]);const p={};for(const R in v){const E=v[R];for(const S of E)p[S]=p[S]||[],p[S].push(R)}const b={},g=[];for(let R=0;R<this._items.length;++R){let E=R;if(p[R]){E=null;for(let S=0;S<this._items.length;++S){if(b[S]===!0)continue;p[S]||(p[S]=[]);const x=p[S].length;let M=0;for(let j=0;j<x;++j)b[p[S][j]]&&++M;if(M===x){E=S;break}}}E!==null&&(b[E]=!0,g.push(E))}if(g.length!==this._items.length)return!1;const y={};for(const R of this._items)y[R.seq]=R;this._items=[],this.nodes=[];for(const R of g){const E=y[R];this.nodes.push(E.node),this._items.push(E)}return!0}},_.mergeSort=(v,w)=>v.sort===w.sort?0:v.sort<w.sort?-1:1},5380:(o,u,f)=>{const c=f(443),_=f(2178),v={minDomainSegments:2,nonAsciiRx:/[^\x00-\x7f]/,domainControlRx:/[\x00-\x20@\:\/\\#!\$&\'\(\)\*\+,;=\?]/,tldSegmentRx:/^[a-zA-Z](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,domainSegmentRx:/^[a-zA-Z0-9](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,URL:c.URL||URL};u.analyze=function(w,m={}){if(!w)return _.code("DOMAIN_NON_EMPTY_STRING");if(typeof w!="string")throw new Error("Invalid input: domain must be a string");if(w.length>256)return _.code("DOMAIN_TOO_LONG");if(v.nonAsciiRx.test(w)){if(m.allowUnicode===!1)return _.code("DOMAIN_INVALID_UNICODE_CHARS");w=w.normalize("NFC")}if(v.domainControlRx.test(w))return _.code("DOMAIN_INVALID_CHARS");w=v.punycode(w),m.allowFullyQualified&&w[w.length-1]==="."&&(w=w.slice(0,-1));const p=m.minDomainSegments||v.minDomainSegments,b=w.split(".");if(b.length<p)return _.code("DOMAIN_SEGMENTS_COUNT");if(m.maxDomainSegments&&b.length>m.maxDomainSegments)return _.code("DOMAIN_SEGMENTS_COUNT_MAX");const g=m.tlds;if(g){const y=b[b.length-1].toLowerCase();if(g.deny&&g.deny.has(y)||g.allow&&!g.allow.has(y))return _.code("DOMAIN_FORBIDDEN_TLDS")}for(let y=0;y<b.length;++y){const R=b[y];if(!R.length)return _.code("DOMAIN_EMPTY_SEGMENT");if(R.length>63)return _.code("DOMAIN_LONG_SEGMENT");if(y<b.length-1){if(!v.domainSegmentRx.test(R))return _.code("DOMAIN_INVALID_CHARS")}else if(!v.tldSegmentRx.test(R))return _.code("DOMAIN_INVALID_TLDS_CHARS")}return null},u.isValid=function(w,m){return!u.analyze(w,m)},v.punycode=function(w){w.includes("%")&&(w=w.replace(/%/g,"%25"));try{return new v.URL(`http://${w}`).host}catch{return w}}},1745:(o,u,f)=>{const c=f(9848),_=f(5380),v=f(2178),w={nonAsciiRx:/[^\x00-\x7f]/,encoder:new(c.TextEncoder||TextEncoder)};u.analyze=function(m,p){return w.email(m,p)},u.isValid=function(m,p){return!w.email(m,p)},w.email=function(m,p={}){if(typeof m!="string")throw new Error("Invalid input: email must be a string");if(!m)return v.code("EMPTY_STRING");const b=!w.nonAsciiRx.test(m);if(!b){if(p.allowUnicode===!1)return v.code("FORBIDDEN_UNICODE");m=m.normalize("NFC")}const g=m.split("@");if(g.length!==2)return g.length>2?v.code("MULTIPLE_AT_CHAR"):v.code("MISSING_AT_CHAR");const[y,R]=g;if(!y)return v.code("EMPTY_LOCAL");if(!p.ignoreLength){if(m.length>254)return v.code("ADDRESS_TOO_LONG");if(w.encoder.encode(y).length>64)return v.code("LOCAL_TOO_LONG")}return w.local(y,b)||_.analyze(R,p)},w.local=function(m,p){const b=m.split(".");for(const g of b){if(!g.length)return v.code("EMPTY_LOCAL_SEGMENT");if(p){if(!w.atextRx.test(g))return v.code("INVALID_LOCAL_CHARS")}else for(const y of g){if(w.atextRx.test(y))continue;const R=w.binary(y);if(!w.atomRx.test(R))return v.code("INVALID_LOCAL_CHARS")}}},w.binary=function(m){return Array.from(w.encoder.encode(m)).map(p=>String.fromCharCode(p)).join("")},w.atextRx=/^[\w!#\$%&'\*\+\-/=\?\^`\{\|\}~]+$/,w.atomRx=new RegExp(["(?:[\\xc2-\\xdf][\\x80-\\xbf])","(?:\\xe0[\\xa0-\\xbf][\\x80-\\xbf])|(?:[\\xe1-\\xec][\\x80-\\xbf]{2})|(?:\\xed[\\x80-\\x9f][\\x80-\\xbf])|(?:[\\xee-\\xef][\\x80-\\xbf]{2})","(?:\\xf0[\\x90-\\xbf][\\x80-\\xbf]{2})|(?:[\\xf1-\\xf3][\\x80-\\xbf]{3})|(?:\\xf4[\\x80-\\x8f][\\x80-\\xbf]{2})"].join("|"))},2178:(o,u)=>{u.codes={EMPTY_STRING:"Address must be a non-empty string",FORBIDDEN_UNICODE:"Address contains forbidden Unicode characters",MULTIPLE_AT_CHAR:"Address cannot contain more than one @ character",MISSING_AT_CHAR:"Address must contain one @ character",EMPTY_LOCAL:"Address local part cannot be empty",ADDRESS_TOO_LONG:"Address too long",LOCAL_TOO_LONG:"Address local part too long",EMPTY_LOCAL_SEGMENT:"Address local part contains empty dot-separated segment",INVALID_LOCAL_CHARS:"Address local part contains invalid character",DOMAIN_NON_EMPTY_STRING:"Domain must be a non-empty string",DOMAIN_TOO_LONG:"Domain too long",DOMAIN_INVALID_UNICODE_CHARS:"Domain contains forbidden Unicode characters",DOMAIN_INVALID_CHARS:"Domain contains invalid character",DOMAIN_INVALID_TLDS_CHARS:"Domain contains invalid tld character",DOMAIN_SEGMENTS_COUNT:"Domain lacks the minimum required number of segments",DOMAIN_SEGMENTS_COUNT_MAX:"Domain contains too many segments",DOMAIN_FORBIDDEN_TLDS:"Domain uses forbidden TLD",DOMAIN_EMPTY_SEGMENT:"Domain contains empty dot-separated segment",DOMAIN_LONG_SEGMENT:"Domain contains dot-separated segment that is too long"},u.code=function(f){return{code:f,error:u.codes[f]}}},9959:(o,u,f)=>{const c=f(375),_=f(5752);u.regex=function(v={}){c(v.cidr===void 0||typeof v.cidr=="string","options.cidr must be a string");const w=v.cidr?v.cidr.toLowerCase():"optional";c(["required","optional","forbidden"].includes(w),"options.cidr must be one of required, optional, forbidden"),c(v.version===void 0||typeof v.version=="string"||Array.isArray(v.version),"options.version must be a string or an array of string");let m=v.version||["ipv4","ipv6","ipvfuture"];Array.isArray(m)||(m=[m]),c(m.length>=1,"options.version must have at least 1 version specified");for(let g=0;g<m.length;++g)c(typeof m[g]=="string","options.version must only contain strings"),m[g]=m[g].toLowerCase(),c(["ipv4","ipv6","ipvfuture"].includes(m[g]),"options.version contains unknown version "+m[g]+" - must be one of ipv4, ipv6, ipvfuture");m=Array.from(new Set(m));const p=`(?:${m.map(g=>{if(w==="forbidden")return _.ip[g];const y=`\\/${g==="ipv4"?_.ip.v4Cidr:_.ip.v6Cidr}`;return w==="required"?`${_.ip[g]}${y}`:`${_.ip[g]}(?:${y})?`}).join("|")})`,b=new RegExp(`^${p}$`);return{cidr:w,versions:m,regex:b,raw:p}}},5752:(o,u,f)=>{const c=f(375),_=f(6064),v={generate:function(){const w={},m="\\dA-Fa-f",p="["+m+"]",b="\\w-\\.~",g="!\\$&'\\(\\)\\*\\+,;=",y="%"+m,R=b+y+g+":@",E="["+R+"]",S="(?:0{0,2}\\d|0?[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])";w.ipv4address="(?:"+S+"\\.){3}"+S;const x=p+"{1,4}",M="(?:"+x+":"+x+"|"+w.ipv4address+")",j="(?:"+x+":){6}"+M,B="::(?:"+x+":){5}"+M,N="(?:"+x+")?::(?:"+x+":){4}"+M,T="(?:(?:"+x+":){0,1}"+x+")?::(?:"+x+":){3}"+M,D="(?:(?:"+x+":){0,2}"+x+")?::(?:"+x+":){2}"+M,O="(?:(?:"+x+":){0,3}"+x+")?::"+x+":"+M,V="(?:(?:"+x+":){0,4}"+x+")?::"+M,q="(?:(?:"+x+":){0,5}"+x+")?::"+x,U="(?:(?:"+x+":){0,6}"+x+")?::";w.ipv4Cidr="(?:\\d|[1-2]\\d|3[0-2])",w.ipv6Cidr="(?:0{0,2}\\d|0?[1-9]\\d|1[01]\\d|12[0-8])",w.ipv6address="(?:"+j+"|"+B+"|"+N+"|"+T+"|"+D+"|"+O+"|"+V+"|"+q+"|"+U+")",w.ipvFuture="v"+p+"+\\.["+b+g+":]+",w.scheme="[a-zA-Z][a-zA-Z\\d+-\\.]*",w.schemeRegex=new RegExp(w.scheme);const he="["+b+y+g+":]*",fe="["+b+y+g+"]{1,255}",X="(?:\\[(?:"+w.ipv6address+"|"+w.ipvFuture+")\\]|"+w.ipv4address+"|"+fe+")",se="(?:"+he+"@)?"+X+"(?::\\d*)?",de="(?:"+he+"@)?("+X+")(?::\\d*)?",Se=E+"*",$=E+"+",te="(?:\\/"+Se+")*",ue="\\/(?:"+$+te+")?",oe=$+te,ge="["+b+y+g+"@]+"+te,xe="(?:\\/\\/\\/"+Se+te+")";return w.hierPart="(?:(?:\\/\\/"+se+te+")|"+ue+"|"+oe+"|"+xe+")",w.hierPartCapture="(?:(?:\\/\\/"+de+te+")|"+ue+"|"+oe+")",w.relativeRef="(?:(?:\\/\\/"+se+te+")|"+ue+"|"+ge+"|)",w.relativeRefCapture="(?:(?:\\/\\/"+de+te+")|"+ue+"|"+ge+"|)",w.query="["+R+"\\/\\?]*(?=#|$)",w.queryWithSquareBrackets="["+R+"\\[\\]\\/\\?]*(?=#|$)",w.fragment="["+R+"\\/\\?]*",w}};v.rfc3986=v.generate(),u.ip={v4Cidr:v.rfc3986.ipv4Cidr,v6Cidr:v.rfc3986.ipv6Cidr,ipv4:v.rfc3986.ipv4address,ipv6:v.rfc3986.ipv6address,ipvfuture:v.rfc3986.ipvFuture},v.createRegex=function(w){const m=v.rfc3986,p="(?:\\?"+(w.allowQuerySquareBrackets?m.queryWithSquareBrackets:m.query)+")?(?:#"+m.fragment+")?",b=w.domain?m.relativeRefCapture:m.relativeRef;if(w.relativeOnly)return v.wrap(b+p);let g="";if(w.scheme){c(w.scheme instanceof RegExp||typeof w.scheme=="string"||Array.isArray(w.scheme),"scheme must be a RegExp, String, or Array");const E=[].concat(w.scheme);c(E.length>=1,"scheme must have at least 1 scheme specified");const S=[];for(let x=0;x<E.length;++x){const M=E[x];c(M instanceof RegExp||typeof M=="string","scheme at position "+x+" must be a RegExp or String"),M instanceof RegExp?S.push(M.source.toString()):(c(m.schemeRegex.test(M),"scheme at position "+x+" must be a valid scheme"),S.push(_(M)))}g=S.join("|")}const y="(?:"+(g?"(?:"+g+")":m.scheme)+":"+(w.domain?m.hierPartCapture:m.hierPart)+")",R=w.allowRelative?"(?:"+y+"|"+b+")":y;return v.wrap(R+p,g)},v.wrap=function(w,m){return{raw:w=`(?=.)(?!https?:/(?:$|[^/]))(?!https?:///)(?!https?:[^/])${w}`,regex:new RegExp(`^${w}$`),scheme:m}},v.uriRegex=v.createRegex({}),u.regex=function(w={}){return w.scheme||w.allowRelative||w.relativeOnly||w.allowQuerySquareBrackets||w.domain?v.createRegex(w):v.uriRegex}},1447:(o,u)=>{const f={operators:["!","^","*","/","%","+","-","<","<=",">",">=","==","!=","&&","||","??"],operatorCharacters:["!","^","*","/","%","+","-","<","=",">","&","|","?"],operatorsOrder:[["^"],["*","/","%"],["+","-"],["<","<=",">",">="],["==","!="],["&&"],["||","??"]],operatorsPrefix:["!","n"],literals:{'"':'"',"`":"`","'":"'","[":"]"},numberRx:/^(?:[0-9]*(\.[0-9]*)?){1}$/,tokenRx:/^[\w\$\#\.\@\:\{\}]+$/,symbol:Symbol("formula"),settings:Symbol("settings")};u.Parser=class{constructor(c,_={}){if(!_[f.settings]&&_.constants)for(const v in _.constants){const w=_.constants[v];if(w!==null&&!["boolean","number","string"].includes(typeof w))throw new Error(`Formula constant ${v} contains invalid ${typeof w} value type`)}this.settings=_[f.settings]?_:Object.assign({[f.settings]:!0,constants:{},functions:{}},_),this.single=null,this._parts=null,this._parse(c)}_parse(c){let _=[],v="",w=0,m=!1;const p=g=>{if(w)throw new Error("Formula missing closing parenthesis");const y=_.length?_[_.length-1]:null;if(m||v||g){if(y&&y.type==="reference"&&g===")")return y.type="function",y.value=this._subFormula(v,y.value),void(v="");if(g===")"){const R=new u.Parser(v,this.settings);_.push({type:"segment",value:R})}else if(m){if(m==="]")return _.push({type:"reference",value:v}),void(v="");_.push({type:"literal",value:v})}else if(f.operatorCharacters.includes(v))y&&y.type==="operator"&&f.operators.includes(y.value+v)?y.value+=v:_.push({type:"operator",value:v});else if(v.match(f.numberRx))_.push({type:"constant",value:parseFloat(v)});else if(this.settings.constants[v]!==void 0)_.push({type:"constant",value:this.settings.constants[v]});else{if(!v.match(f.tokenRx))throw new Error(`Formula contains invalid token: ${v}`);_.push({type:"reference",value:v})}v=""}};for(const g of c)m?g===m?(p(),m=!1):v+=g:w?g==="("?(v+=g,++w):g===")"?(--w,w?v+=g:p(g)):v+=g:g in f.literals?m=f.literals[g]:g==="("?(p(),++w):f.operatorCharacters.includes(g)?(p(),v=g,p()):g!==" "?v+=g:p();p(),_=_.map((g,y)=>g.type!=="operator"||g.value!=="-"||y&&_[y-1].type!=="operator"?g:{type:"operator",value:"n"});let b=!1;for(const g of _){if(g.type==="operator"){if(f.operatorsPrefix.includes(g.value))continue;if(!b)throw new Error("Formula contains an operator in invalid position");if(!f.operators.includes(g.value))throw new Error(`Formula contains an unknown operator ${g.value}`)}else if(b)throw new Error("Formula missing expected operator");b=!b}if(!b)throw new Error("Formula contains invalid trailing operator");_.length===1&&["reference","literal","constant"].includes(_[0].type)&&(this.single={type:_[0].type==="reference"?"reference":"value",value:_[0].value}),this._parts=_.map(g=>{if(g.type==="operator")return f.operatorsPrefix.includes(g.value)?g:g.value;if(g.type!=="reference")return g.value;if(this.settings.tokenRx&&!this.settings.tokenRx.test(g.value))throw new Error(`Formula contains invalid reference ${g.value}`);return this.settings.reference?this.settings.reference(g.value):f.reference(g.value)})}_subFormula(c,_){const v=this.settings.functions[_];if(typeof v!="function")throw new Error(`Formula contains unknown function ${_}`);let w=[];if(c){let m="",p=0,b=!1;const g=()=>{if(!m)throw new Error(`Formula contains function ${_} with invalid arguments ${c}`);w.push(m),m=""};for(let y=0;y<c.length;++y){const R=c[y];b?(m+=R,R===b&&(b=!1)):R in f.literals&&!p?(m+=R,b=f.literals[R]):R!==","||p?(m+=R,R==="("?++p:R===")"&&--p):g()}g()}return w=w.map(m=>new u.Parser(m,this.settings)),function(m){const p=[];for(const b of w)p.push(b.evaluate(m));return v.call(m,...p)}}evaluate(c){const _=this._parts.slice();for(let v=_.length-2;v>=0;--v){const w=_[v];if(w&&w.type==="operator"){const m=_[v+1];_.splice(v+1,1);const p=f.evaluate(m,c);_[v]=f.single(w.value,p)}}return f.operatorsOrder.forEach(v=>{for(let w=1;w<_.length-1;)if(v.includes(_[w])){const m=_[w],p=f.evaluate(_[w-1],c),b=f.evaluate(_[w+1],c);_.splice(w,2);const g=f.calculate(m,p,b);_[w-1]=g===0?0:g}else w+=2}),f.evaluate(_[0],c)}},u.Parser.prototype[f.symbol]=!0,f.reference=function(c){return function(_){return _&&_[c]!==void 0?_[c]:null}},f.evaluate=function(c,_){return c===null?null:typeof c=="function"?c(_):c[f.symbol]?c.evaluate(_):c},f.single=function(c,_){if(c==="!")return!_;const v=-_;return v===0?0:v},f.calculate=function(c,_,v){if(c==="??")return f.exists(_)?_:v;if(typeof _=="string"||typeof v=="string"){if(c==="+")return(_=f.exists(_)?_:"")+(f.exists(v)?v:"")}else switch(c){case"^":return Math.pow(_,v);case"*":return _*v;case"/":return _/v;case"%":return _%v;case"+":return _+v;case"-":return _-v}switch(c){case"<":return _<v;case"<=":return _<=v;case">":return _>v;case">=":return _>=v;case"==":return _===v;case"!=":return _!==v;case"&&":return _&&v;case"||":return _||v}return null},f.exists=function(c){return c!=null}},9926:()=>{},5688:()=>{},9708:()=>{},1152:()=>{},443:()=>{},9848:()=>{},5934:o=>{o.exports=JSON.parse('{"version":"17.13.3"}')}},i={},function o(u){var f=i[u];if(f!==void 0)return f.exports;var c=i[u]={exports:{}};return r[u](c,c.exports,o),c.exports}(5107);var r,i})}(vd)),vd.exports}var iD=aD();const As=O_(iD),sD=()=>{const{products:a,addProduct:e,updateProduct:r,deleteProduct:i,fetchProducts:o}=Zc(),{logout:u}=eh(),f=Ri(),[c,_]=J.useState({name:"",price:"",category:"",stock:"",imageURL:""}),[v,w]=J.useState(!1),[m,p]=J.useState(null),[b,g]=J.useState({text:"",type:""}),y=["TV-Spel","Leksaker","Dockor","Pyssel"];J.useEffect(()=>{o()},[o]);const R=T=>{if(!T)return!0;try{return new URL(T),T.match(/\.(jpeg|jpg|gif|png|webp)$/i)!==null}catch{return!1}},E=T=>{const{name:D,value:O}=T.target;_(D==="price"||D==="stock"?{...c,[D]:O.replace(/[^0-9]/g,"")}:{...c,[D]:O})},S=As.object({name:As.string().required().min(2).max(100).messages({"string.empty":"Produktnamn är obligatoriskt","string.min":"Produktnamn måste vara minst {#limit} tecken","string.max":"Produktnamn får max vara {#limit} tecken"}),price:As.number().required().min(1).max(1e5).messages({"number.base":"Pris måste vara ett nummer","number.empty":"Pris är obligatoriskt","number.min":"Pris måste vara minst {#limit} kr","number.max":"Pris får inte överstiga {#limit} kr"}),category:As.string().required().valid(...y).messages({"string.empty":"Kategori är obligatoriskt","any.only":"Välj en giltig kategori"}),stock:As.number().required().min(0).max(1e4).messages({"number.base":"Lagersaldo måste vara ett nummer","number.empty":"Lagersaldo är obligatoriskt","number.min":"Lagersaldo kan inte vara negativt","number.max":"Lagersaldo får inte överstiga {#limit}"}),imageURL:As.string().allow("").uri().messages({"string.uri":"Ogiltig URL-format för bild"})}),x=async T=>{T.preventDefault();const D={...c,price:c.price?Number(c.price):"",stock:c.stock?Number(c.stock):""},{error:O}=S.validate(D,{abortEarly:!1});if(O){const V=O.details.map(q=>q.message).join(`
`);g({text:V,type:"error"});return}if(c.imageURL&&!R(c.imageURL)){g({text:"Ogiltig bild URL. Använd en länk till en jpg, png, gif eller webp-fil",type:"error"});return}try{g({text:"Sparar...",type:"info"});const V={name:c.name,price:Number(c.price),category:c.category,stock:Number(c.stock),imageURL:c.imageURL||"https://via.placeholder.com/150"};v&&m?(await r({...V,id:m}),g({text:"Produkt uppdaterad i databasen!",type:"success"})):(await e(V),g({text:"Produkt tillagd i databasen!",type:"success"})),M()}catch(V){console.error("Error saving product:",V),g({text:`Ett fel uppstod: ${V.message}`,type:"error"})}},M=()=>{_({name:"",price:"",category:"",stock:"",imageURL:""}),w(!1),p(null),setTimeout(()=>{g({text:"",type:""})},3e3)},j=T=>{var D,O;_({name:T.name||"",price:((D=T.price)==null?void 0:D.toString())||"",category:T.category||"",stock:((O=T.stock)==null?void 0:O.toString())||"",imageURL:T.imageURL||""}),w(!0),p(T.id),requestAnimationFrame(()=>{const V=document.querySelector(".product-form");if(V){const he=V.getBoundingClientRect().top+window.pageYOffset-100;window.scrollTo({top:he,behavior:"smooth"}),V.classList.add("highlight-form"),setTimeout(()=>{V.classList.remove("highlight-form")},1500)}})},B=async T=>{if(window.confirm("Är du säker på att du vill ta bort denna produkt? Den kommer tas bort från databasen."))try{g({text:"Tar bort produkt...",type:"info"}),await i(T),g({text:"Produkt borttagen från databasen!",type:"success"}),setTimeout(()=>{g({text:"",type:""})},3e3)}catch(D){g({text:`Ett fel uppstod vid borttagning: ${D.message}`,type:"error"})}},N=()=>{u(),f("/login")};return L.jsxs("div",{className:"admin-panel",children:[L.jsxs("div",{className:"admin-header",children:[L.jsx("h2",{className:"admin-panel-title",children:v?"Redigera produkt":"Lägg till ny produkt"}),L.jsx("button",{onClick:N,className:"logout-btn",children:"Logga ut"})]}),b.text&&L.jsx("div",{className:`message ${b.type}`,children:b.text}),L.jsxs("form",{className:"product-form",onSubmit:x,children:[L.jsxs("div",{className:"form-row",children:[L.jsxs("div",{className:"form-group",children:[L.jsx("label",{htmlFor:"name",children:"Produktnamn *"}),L.jsx("input",{type:"text",id:"name",name:"name",value:c.name,onChange:E,required:!0})]}),L.jsxs("div",{className:"form-group",children:[L.jsx("label",{htmlFor:"price",children:"Pris (kr) *"}),L.jsx("input",{type:"text",id:"price",name:"price",value:c.price,onChange:E,required:!0})]})]}),L.jsxs("div",{className:"form-row",children:[L.jsxs("div",{className:"form-group",children:[L.jsx("label",{htmlFor:"category",children:"Kategori *"}),L.jsxs("select",{id:"category",name:"category",value:c.category,onChange:E,required:!0,children:[L.jsx("option",{value:"",disabled:!0,children:"Välj kategori"}),y.map(T=>L.jsx("option",{value:T,children:T},T))]})]}),L.jsxs("div",{className:"form-group",children:[L.jsx("label",{htmlFor:"stock",children:"Lagersaldo *"}),L.jsx("input",{type:"text",id:"stock",name:"stock",value:c.stock,onChange:E,required:!0})]})]}),L.jsx("div",{className:"form-row",children:L.jsxs("div",{className:"form-group",children:[L.jsx("label",{htmlFor:"imageURL",children:"Bild URL"}),L.jsx("input",{type:"text",id:"imageURL",name:"imageURL",value:c.imageURL,onChange:E,placeholder:"https://example.com/image.jpg"})]})}),L.jsxs("div",{className:"form-buttons",children:[L.jsx("button",{type:"submit",className:"btn-primary",children:v?"Uppdatera produkt":"Lägg till produkt"}),v&&L.jsx("button",{type:"button",className:"btn-secondary",onClick:M,children:"Avbryt redigering"})]})]}),L.jsxs("div",{className:"products-management",children:[L.jsx("h3",{children:"Befintliga produkter"}),L.jsxs("table",{className:"products-table",children:[L.jsx("thead",{children:L.jsxs("tr",{children:[L.jsx("th",{children:"Bild"}),L.jsx("th",{children:"Namn"}),L.jsx("th",{children:"Kategori"}),L.jsx("th",{children:"Pris"}),L.jsx("th",{children:"Lagersaldo"}),L.jsx("th",{children:"Åtgärder"})]})}),L.jsx("tbody",{children:a.map(T=>L.jsxs("tr",{children:[L.jsx("td",{className:"product-image-cell",children:T.imageURL?L.jsx("img",{src:T.imageURL,alt:T.name,className:"product-thumbnail",onError:D=>{D.target.onerror=null,D.target.src="https://via.placeholder.com/50?text=No+Image"}}):L.jsx("div",{className:"no-image-placeholder",children:"No Image"})}),L.jsx("td",{children:T.name}),L.jsx("td",{children:T.category}),L.jsxs("td",{children:[T.price," kr"]}),L.jsx("td",{children:T.stock}),L.jsxs("td",{className:"action-buttons",children:[L.jsx("button",{className:"edit-btn",onClick:()=>j(T),children:"Redigera"}),L.jsx("button",{className:"delete-btn",onClick:()=>B(T.id),children:"Ta bort"})]})]},T.id))})]})]})]})},oD=({children:a})=>{const{isLoggedIn:e}=eh(),r=zn();return e?a:L.jsx(iA,{to:"/login",state:{from:r},replace:!0})},lD=()=>L.jsxs("div",{className:"app-container",children:[L.jsx(JC,{}),L.jsx("main",{children:L.jsxs(oA,{children:[L.jsx(ir,{path:"/",element:L.jsx(i2,{})}),L.jsx(ir,{path:"/collection",element:L.jsx(s2,{})}),L.jsx(ir,{path:"/cart",element:L.jsx(o2,{})}),L.jsx(ir,{path:"/product/:productId",element:L.jsx(l2,{})}),L.jsx(ir,{path:"/placeorder",element:L.jsx($C,{})}),L.jsx(ir,{path:"/orders",element:L.jsx(FC,{})}),L.jsx(ir,{path:"/login",element:L.jsx(KC,{})}),L.jsx(ir,{path:"/admin",element:L.jsx(oD,{children:L.jsx(sD,{})})}),L.jsx(ir,{path:"*",element:L.jsx("div",{className:"not-found",children:"Sidan kunde inte hittas"})})]})}),L.jsx(rD,{})]});p1.createRoot(document.getElementById("root")).render(L.jsx(NA,{children:L.jsx(lD,{})}));
